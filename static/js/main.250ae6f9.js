/*! For license information please see main.250ae6f9.js.LICENSE.txt */
(()=>{var __webpack_modules__={2580:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,_:()=>o});var r=n(5043),i=n(579);const a=(0,r.createContext)(),s=()=>(0,r.useContext)(a),o=e=>{let{children:t}=e;const[n,s]=(0,r.useState)(null),[o,l]=(0,r.useState)(!1);return(0,i.jsx)(a.Provider,{value:{isPopUpVisible:o,showPopUp:e=>{s(e),l(!0)},hidePopUp:()=>{l(!1)},popUpContent:n},children:t})}},7032:(e,t,n)=>{"use strict";n.d(t,{A:()=>pe});var r=n(5043),i=n(2580),a=n(5173),s=n.n(a),o=n(6326),l=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function c(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=l.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var d=[".DS_Store","Thumbs.db"];function u(e){return"object"===typeof e&&null!==e}function h(e){return m(e.target.files).map((function(e){return c(e)}))}function f(e){return(0,o.sH)(this,void 0,void 0,(function(){return(0,o.YH)(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return c(e)}))]}}))}))}function p(e,t){return(0,o.sH)(this,void 0,void 0,(function(){var n;return(0,o.YH)(this,(function(r){switch(r.label){case 0:return e.items?(n=m(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(v))]):[3,2];case 1:return[2,g(b(r.sent()))];case 2:return[2,g(m(e.files).map((function(e){return c(e)})))]}}))}))}function g(e){return e.filter((function(e){return-1===d.indexOf(e.name)}))}function m(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function v(e){if("function"!==typeof e.webkitGetAsEntry)return y(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?w(t):y(e)}function b(e){return e.reduce((function(e,t){return(0,o.fX)((0,o.fX)([],(0,o.zs)(e),!1),(0,o.zs)(Array.isArray(t)?b(t):[t]),!1)}),[])}function y(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=c(t);return Promise.resolve(n)}function x(e){return(0,o.sH)(this,void 0,void 0,(function(){return(0,o.YH)(this,(function(t){return[2,e.isDirectory?w(e):k(e)]}))}))}function w(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var a=this;t.readEntries((function(t){return(0,o.sH)(a,void 0,void 0,(function(){var a,s,l;return(0,o.YH)(this,(function(o){switch(o.label){case 0:if(t.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=o.sent(),e(a),[3,4];case 3:return s=o.sent(),n(s),[3,4];case 4:return[3,6];case 5:l=Promise.all(t.map(x)),r.push(l),i(),o.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function k(e){return(0,o.sH)(this,void 0,void 0,(function(){return(0,o.YH)(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=c(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var _=n(8628);function S(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I="file-invalid-type",M="file-too-large",F="file-too-small",R="too-many-files",j=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:I,message:"File type must be ".concat(t)}},L=function(e){return{code:M,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},D=function(e){return{code:F,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},O={code:R,message:"Too many files"};function z(e,t){var n="application/x-moz-file"===e.type||(0,_.A)(e,t);return[n,n?null:j(t)]}function G(e,t,n){if(B(e.size))if(B(t)&&B(n)){if(e.size>n)return[!1,L(n)];if(e.size<t)return[!1,D(t)]}else{if(B(t)&&e.size<t)return[!1,D(t)];if(B(n)&&e.size>n)return[!1,L(n)]}return[!0,null]}function B(e){return void 0!==e&&null!==e}function U(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function W(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function H(e){e.preventDefault()}function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!U(e)&&t&&t.apply(void 0,[e].concat(r)),U(e)}))}}function Y(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function X(e){return/^.*\.[\w]+$/.test(e)}var q=["children"],K=["open"],Q=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],J=["refKey","onChange","onClick"];function $(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){if(e){if("string"===typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var se=(0,r.forwardRef)((function(e,t){var n=e.children,i=ce(ae(e,q)),a=i.open,s=ae(i,K);return(0,r.useImperativeHandle)(t,(function(){return{open:a}}),[a]),r.createElement(r.Fragment,null,n(re(re({},s),{},{open:a})))}));se.displayName="Dropzone";var oe={disabled:!1,getFilesFromEvent:function(e){return(0,o.sH)(this,void 0,void 0,(function(){return(0,o.YH)(this,(function(t){return u(e)&&u(e.dataTransfer)?[2,p(e.dataTransfer,e.type)]:function(e){return u(e)&&u(e.target)}(e)?[2,h(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,f(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};se.defaultProps=oe,se.propTypes={children:s().func,accept:s().objectOf(s().arrayOf(s().string)),multiple:s().bool,preventDropOnDocument:s().bool,noClick:s().bool,noKeyboard:s().bool,noDrag:s().bool,noDragEventsBubbling:s().bool,minSize:s().number,maxSize:s().number,maxFiles:s().number,disabled:s().bool,getFilesFromEvent:s().func,onFileDialogCancel:s().func,onFileDialogOpen:s().func,useFsAccessApi:s().bool,autoFocus:s().bool,onDragEnter:s().func,onDragLeave:s().func,onDragOver:s().func,onDrop:s().func,onDropAccepted:s().func,onDropRejected:s().func,onError:s().func,validator:s().func};var le={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=re(re({},oe),e),n=t.accept,i=t.disabled,a=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,u=t.onDragLeave,h=t.onDragOver,f=t.onDrop,p=t.onDropAccepted,g=t.onDropRejected,m=t.onFileDialogCancel,v=t.onFileDialogOpen,b=t.useFsAccessApi,y=t.autoFocus,x=t.preventDropOnDocument,w=t.noClick,k=t.noKeyboard,_=t.noDrag,C=t.noDragEventsBubbling,T=t.onError,N=t.validator,I=(0,r.useMemo)((function(){return function(e){if(B(e))return Object.entries(e).reduce((function(e,t){var n=E(t,2),r=n[0],i=n[1];return[].concat(S(e),[r],S(i))}),[]).filter((function(e){return Y(e)||X(e)})).join(",")}(n)}),[n]),M=(0,r.useMemo)((function(){return function(e){return B(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var t=E(e,2),n=t[0],r=t[1],i=!0;return Y(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),Array.isArray(r)&&r.every(X)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),i=!1),i})).reduce((function(e,t){var n=E(t,2),r=n[0],i=n[1];return A(A({},e),{},P({},r,i))}),{})}]:e}(n)}),[n]),F=(0,r.useMemo)((function(){return"function"===typeof v?v:ue}),[v]),R=(0,r.useMemo)((function(){return"function"===typeof m?m:ue}),[m]),j=(0,r.useRef)(null),L=(0,r.useRef)(null),D=Z((0,r.useReducer)(de,le),2),q=D[0],K=D[1],ee=q.isFocused,te=q.isFileDialogActive,ne=(0,r.useRef)("undefined"!==typeof window&&window.isSecureContext&&b&&"showOpenFilePicker"in window),se=function(){!ne.current&&te&&setTimeout((function(){L.current&&(L.current.files.length||(K({type:"closeDialog"}),R()))}),300)};(0,r.useEffect)((function(){return window.addEventListener("focus",se,!1),function(){window.removeEventListener("focus",se,!1)}}),[L,te,R,ne]);var ce=(0,r.useRef)([]),he=function(e){j.current&&j.current.contains(e.target)||(e.preventDefault(),ce.current=[])};(0,r.useEffect)((function(){return x&&(document.addEventListener("dragover",H,!1),document.addEventListener("drop",he,!1)),function(){x&&(document.removeEventListener("dragover",H),document.removeEventListener("drop",he))}}),[j,x]),(0,r.useEffect)((function(){return!i&&y&&j.current&&j.current.focus(),function(){}}),[j,y,i]);var fe=(0,r.useCallback)((function(e){T?T(e):console.error(e)}),[T]),pe=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),Pe(e),ce.current=[].concat($(ce.current),[e.target]),W(e)&&Promise.resolve(a(e)).then((function(t){if(!U(e)||C){var n=t.length,r=n>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,s=e.maxFiles,o=e.validator;return!(!a&&t.length>1||a&&s>=1&&t.length>s)&&t.every((function(e){var t=E(z(e,n),1)[0],a=E(G(e,r,i),1)[0],s=o?o(e):null;return t&&a&&!s}))}({files:t,accept:I,minSize:o,maxSize:s,multiple:l,maxFiles:c,validator:N});K({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),d&&d(e)}})).catch((function(e){return fe(e)}))}),[a,d,fe,C,I,o,s,l,c,N]),ge=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),Pe(e);var t=W(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&h&&h(e),!1}),[h,C]),me=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),Pe(e);var t=ce.current.filter((function(e){return j.current&&j.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),ce.current=t,t.length>0||(K({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),W(e)&&u&&u(e))}),[j,u,C]),ve=(0,r.useCallback)((function(e,t){var n=[],r=[];e.forEach((function(e){var t=Z(z(e,I),2),i=t[0],a=t[1],l=Z(G(e,o,s),2),c=l[0],d=l[1],u=N?N(e):null;if(i&&c&&!u)n.push(e);else{var h=[a,d];u&&(h=h.concat(u)),r.push({file:e,errors:h.filter((function(e){return e}))})}})),(!l&&n.length>1||l&&c>=1&&n.length>c)&&(n.forEach((function(e){r.push({file:e,errors:[O]})})),n.splice(0)),K({acceptedFiles:n,fileRejections:r,type:"setFiles"}),f&&f(n,r,t),r.length>0&&g&&g(r,t),n.length>0&&p&&p(n,t)}),[K,l,I,o,s,c,f,p,g,N]),be=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),Pe(e),ce.current=[],W(e)&&Promise.resolve(a(e)).then((function(t){U(e)&&!C||ve(t,e)})).catch((function(e){return fe(e)})),K({type:"reset"})}),[a,ve,fe,C]),ye=(0,r.useCallback)((function(){if(ne.current){K({type:"openDialog"}),F();var e={multiple:l,types:M};window.showOpenFilePicker(e).then((function(e){return a(e)})).then((function(e){ve(e,null),K({type:"closeDialog"})})).catch((function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(R(e),K({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?fe(e):(ne.current=!1,L.current?(L.current.value=null,L.current.click()):fe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))}))}else L.current&&(K({type:"openDialog"}),F(),L.current.value=null,L.current.click())}),[K,F,R,b,ve,fe,M,l]),xe=(0,r.useCallback)((function(e){j.current&&j.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),ye()))}),[j,ye]),we=(0,r.useCallback)((function(){K({type:"focus"})}),[]),ke=(0,r.useCallback)((function(){K({type:"blur"})}),[]),_e=(0,r.useCallback)((function(){w||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?ye():setTimeout(ye,0))}),[w,ye]),Se=function(e){return i?null:e},Ce=function(e){return k?null:Se(e)},Ae=function(e){return _?null:Se(e)},Pe=function(e){C&&e.stopPropagation()},Ee=(0,r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,a=e.onKeyDown,s=e.onFocus,o=e.onBlur,l=e.onClick,c=e.onDragEnter,d=e.onDragOver,u=e.onDragLeave,h=e.onDrop,f=ae(e,Q);return re(re(ie({onKeyDown:Ce(V(a,xe)),onFocus:Ce(V(s,we)),onBlur:Ce(V(o,ke)),onClick:Se(V(l,_e)),onDragEnter:Ae(V(c,pe)),onDragOver:Ae(V(d,ge)),onDragLeave:Ae(V(u,me)),onDrop:Ae(V(h,be)),role:"string"===typeof r&&""!==r?r:"presentation"},n,j),i||k?{}:{tabIndex:0}),f)}}),[j,xe,we,ke,_e,pe,ge,me,be,k,_,i]),Te=(0,r.useCallback)((function(e){e.stopPropagation()}),[]),Ne=(0,r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,i=e.onClick,a=ae(e,J);return re(re({},ie({accept:I,multiple:l,type:"file",style:{display:"none"},onChange:Se(V(r,be)),onClick:Se(V(i,Te)),tabIndex:-1},n,L)),a)}}),[L,n,l,be,i]);return re(re({},q),{},{isFocused:ee&&!i,getRootProps:Ee,getInputProps:Ne,rootRef:j,inputRef:L,open:Se(ye)})}function de(e,t){switch(t.type){case"focus":return re(re({},e),{},{isFocused:!0});case"blur":return re(re({},e),{},{isFocused:!1});case"openDialog":return re(re({},le),{},{isFileDialogActive:!0});case"closeDialog":return re(re({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return re(re({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return re(re({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return re({},le);default:return e}}function ue(){}var he=n(3751),fe=n(579);function pe(t){let{handleUploadFiles:n}=t;const{showPopUp:a}=(0,i.G)(),[s,o]=(0,r.useState)([]),l=(0,r.useCallback)((e=>{o((t=>[...t,...e]))}),[]),{getRootProps:c,getInputProps:d,isDragActive:u}=ce({onDrop:l});return e||a(null),(0,fe.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center",children:(0,fe.jsx)("div",{className:"flex items-center justify-center min-h-screen relative p-4 w-full max-w-2xl h-full md:h-auto",children:(0,fe.jsxs)("div",{className:"relative p-4 w-full max-w-2xl h-full md:h-auto bg-white rounded-lg shadow dark:bg-gray-800",children:[(0,fe.jsxs)("div",{className:"flex justify-between items-center pb-4 mb-4 border-b dark:border-gray-600",children:[(0,fe.jsxs)("div",{children:[(0,fe.jsx)("h3",{class:"mb-1 text-xl font-medium text-gray-900 dark:text-white",children:"Upload Document"}),(0,fe.jsx)("p",{class:"mb-4 text-base leading-relaxed text-gray-500 dark:text-gray-400",children:"Select or drag a file"})]}),(0,fe.jsx)("button",{onClick:()=>a(null),"data-collapse-toggle":"newsletter-pop-up",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",id:"close-modal",children:(0,fe.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,fe.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),(0,fe.jsxs)("div",{...c(),children:[(0,fe.jsx)("input",{...d()}),(0,fe.jsx)("div",{class:"flex items-center justify-center w-full",children:(0,fe.jsx)("label",{for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:(0,fe.jsxs)("div",{class:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,fe.jsx)("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,fe.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),u?(0,fe.jsx)("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:(0,fe.jsx)("span",{class:"font-semibold",children:"Drop here"})}):(0,fe.jsxs)("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,fe.jsx)("span",{class:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,fe.jsx)("p",{class:"text-xs text-gray-500 dark:text-gray-400",children:"PDF (Max. 150MB)"})]})})})]}),(0,fe.jsx)("div",{className:"m-4",children:null===s||void 0===s?void 0:s.map((e=>(0,fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fe.jsxs)("div",{className:"flex items-center",children:[(0,fe.jsx)(he.gpD,{className:"mr-2"}),(0,fe.jsx)("p",{children:e.name})]}),(0,fe.jsx)("button",{onClick:t=>{o(s.filter((t=>t.name!==e.name)))},children:"X"})]})))}),(0,fe.jsx)("button",{onClick:()=>{a(null),n(s)},className:"p-5 mt-5 w-full justify-center text-white bg-blue-500 rounded-md hover:bg-blue-700",children:"Upload"})]})})})}e=n.hmd(e)},3606:(e,t,n)=>{"use strict";var r;function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,n)}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(e){o=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(){function e(){o(this,e)}return c(e,[{key:"shadeRGBColor",value:function(e,t){var n=t.split(","),r=e<0?0:255,i=e<0?-1*e:e,a=parseInt(n[0].slice(4),10),s=parseInt(n[1],10),o=parseInt(n[2],10);return"rgb("+(Math.round((r-a)*i)+a)+","+(Math.round((r-s)*i)+s)+","+(Math.round((r-o)*i)+o)+")"}},{key:"shadeHexColor",value:function(e,t){var n=parseInt(t.slice(1),16),r=e<0?0:255,i=e<0?-1*e:e,a=n>>16,s=n>>8&255,o=255&n;return"#"+(16777216+65536*(Math.round((r-a)*i)+a)+256*(Math.round((r-s)*i)+s)+(Math.round((r-o)*i)+o)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,n){return e.isColorHex(n)?this.shadeHexColor(t,n):this.shadeRGBColor(t,n)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&"object"===s(e)&&!Array.isArray(e)&&null!=e}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n}},{key:"extend",value:function(e,t){var n=this;"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t});var r=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(i){n.isObject(t[i])&&i in e?r[i]=n.extend(e[i],t[i]):Object.assign(r,d({},i,t[i]))})),r}},{key:"extendArray",value:function(t,n){var r=[];return t.map((function(t){r.push(e.extend(n,t))})),r}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(t){if(e.is("Array",t)){for(var n=[],r=0;r<t.length;r++)n[r]=this.clone(t[r]);return n}if(e.is("Null",t))return null;if(e.is("Date",t))return t;if("object"===s(t)){var i={};for(var a in t)t.hasOwnProperty(a)&&(i[a]=this.clone(t[a]));return i}return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return null===e?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){var t=String(e).split(/[eE]/);if(1===t.length)return t[0];var n="",r=e<0?"-":"",i=t[0].replace(".",""),a=Number(t[1])+1;if(a<0){for(n=r+"0.";a++;)n+="0";return n+i.replace(/^-/,"")}for(a-=i.length;a--;)n+="0";return i+n}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),n=e.clientHeight,r=e.clientWidth;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[r-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce((function(e,t){return Array.isArray(t)&&(t=t.reduce((function(e,t){return e.length>t.length?e:t}))),e.length>t.length?e:t}),0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==e.substring(0,1)&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var r=0;r<n.length;r++)n[r]=parseInt(1===n[r].length?n[r]+n[r]:n[r],16);return void 0!==t&&n.push(t),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var n=[],r=2*Math.PI/t,i=0;i<t;i++){var a={};a.x=e*Math.sin(i*r),a.y=-e*Math.cos(i*r),n.push(a)}return n}},{key:"polarToCartesian",value:function(e,t,n,r){var i=(r-90)*Math.PI/180;return{x:e+n*Math.cos(i),y:t+n*Math.sin(i)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=e.toString().slice();return n.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,n){if(n>=e.length)for(var r=n-e.length+1;r--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style.key=t[n])}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}},{key:"getGCD",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,r=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*r),t=Math.round(Math.abs(t)*r);t;){var i=t;t=e%t,e=i}return e/r}},{key:"getPrimeFactors",value:function(e){for(var t=[],n=2;e>=2;)e%n==0?(t.push(n),e/=n):n++;return t}},{key:"mod",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,r=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*r))%(t=Math.round(Math.abs(t)*r))/r}}]),e}(),w=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.setEasingFunctions()}return c(e,[{key:"setEasingFunctions",value:function(){var e;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":e="-";break;case"easein":e="<";break;case"easeout":e=">";break;case"easeinout":default:e="<>";break;case"swing":e=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1};break;case"bounce":e=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375};break;case"elastic":e=function(e){return e===!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=e}}},{key:"animateLine",value:function(e,t,n,r){e.attr(t).animate(r).attr(n)}},{key:"animateMarker",value:function(e,t,n,r,i,a){t||(t=0),e.attr({r:t,width:t,height:t}).animate(r,i).attr({r:n,width:n.width,height:n.height}).afterAll((function(){a()}))}},{key:"animateCircle",value:function(e,t,n,r,i){e.attr({r:t.r,cx:t.cx,cy:t.cy}).animate(r,i).attr({r:n.r,cx:n.cx,cy:n.cy})}},{key:"animateRect",value:function(e,t,n,r,i){e.attr(t).animate(r).attr(n).afterAll((function(){return i()}))}},{key:"animatePathsGradually",value:function(e){var t=e.el,n=e.realIndex,r=e.j,i=e.fill,a=e.pathFrom,s=e.pathTo,o=e.speed,l=e.delay,c=this.w,d=0;c.config.chart.animations.animateGradually.enabled&&(d=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(d=0),this.morphSVG(t,n,r,"line"!==c.config.chart.type||c.globals.comboCharts?i:"stroke",a,s,o,l*d)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")}))}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof t.config.chart.events.animationEnd&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,n,r,i,a,s,o){var l=this,c=this.w;i||(i=e.attr("pathFrom")),a||(a=e.attr("pathTo"));var d=function(e){return"radar"===c.config.chart.type&&(s=1),"M 0 ".concat(c.globals.gridHeight)};(!i||i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i=d()),(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=d()),c.globals.shouldAnimate||(s=1),e.plot(i).animate(1,c.globals.easing,o).plot(i).animate(s,c.globals.easing,o).plot(a).afterAll((function(){x.isNumber(n)?n===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(e):"none"!==r&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&t===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(e),l.showDelayedElements()}))}}]),e}(),k=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"getDefaultFilter",value:function(e,t){var n=this.w;e.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==n.config.states.normal.filter?this.applyFilter(e,t,n.config.states.normal.filter.type,n.config.states.normal.filter.value):n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"addNormalFilter",value:function(e,t){var n=this.w;n.config.chart.dropShadow.enabled&&!e.node.classList.contains("apexcharts-marker")&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"addLightenFilter",value:function(e,t,n){var r=this,i=this.w,a=n.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter((function(e){var n=i.config.chart.dropShadow;(n.enabled?r.addShadow(e,t,n):e).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:a}})})),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"addDarkenFilter",value:function(e,t,n){var r=this,i=this.w,a=n.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter((function(e){var n=i.config.chart.dropShadow;(n.enabled?r.addShadow(e,t,n):e).componentTransfer({rgb:{type:"linear",slope:a}})})),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"applyFilter",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(n){case"none":this.addNormalFilter(e,t);break;case"lighten":this.addLightenFilter(e,t,{intensity:r});break;case"darken":this.addDarkenFilter(e,t,{intensity:r})}}},{key:"addShadow",value:function(e,t,n){var r,i=this.w,a=n.blur,s=n.top,o=n.left,l=n.color,c=n.opacity;if((null===(r=i.config.chart.dropShadow.enabledOnSeries)||void 0===r?void 0:r.length)>0&&-1===i.config.chart.dropShadow.enabledOnSeries.indexOf(t))return e;var d=e.flood(Array.isArray(l)?l[t]:l,c).composite(e.sourceAlpha,"in").offset(o,s).gaussianBlur(a).merge(e.source);return e.blend(e.source,d)}},{key:"dropShadow",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t.top,s=t.left,o=t.blur,l=t.color,c=t.opacity,d=t.noUserSpaceOnUse,u=this.w;return e.unfilter(!0),x.isIE()&&"radialBar"===u.config.chart.type||(null===(n=u.config.chart.dropShadow.enabledOnSeries)||void 0===n?void 0:n.length)>0&&-1===(null===(r=u.config.chart.dropShadow.enabledOnSeries)||void 0===r?void 0:r.indexOf(i))||(l=Array.isArray(l)?l[i]:l,e.filter((function(e){var t;t=x.isSafari()||x.isFirefox()||x.isIE()?e.flood(l,c).composite(e.sourceAlpha,"in").offset(s,a).gaussianBlur(o):e.flood(l,c).composite(e.sourceAlpha,"in").offset(s,a).gaussianBlur(o).merge(e.source),e.blend(e.source,t)})),d||e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)),e}},{key:"setSelectionFilter",value:function(e,t,n){var r=this.w;if(void 0!==r.globals.selectedDataPoints[t]&&r.globals.selectedDataPoints[t].indexOf(n)>-1){e.node.setAttribute("selected",!0);var i=r.config.states.active.filter;"none"!==i&&this.applyFilter(e,t,i.type,i.value)}}},{key:"_scaleFilterSize",value:function(e){!function(t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),e}(),_=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"roundPathCorners",value:function(e,t){function n(e,t,n){var i=t.x-e.x,a=t.y-e.y,s=Math.sqrt(i*i+a*a);return r(e,t,Math.min(1,n/s))}function r(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}function i(e,t){e.length>2&&(e[e.length-2]=t.x,e[e.length-1]=t.y)}function a(e){return{x:parseFloat(e[e.length-2]),y:parseFloat(e[e.length-1])}}e.indexOf("NaN")>-1&&(e="");var s=e.split(/[,\s]/).reduce((function(e,t){var n=t.match("([a-zA-Z])(.+)");return n?(e.push(n[1]),e.push(n[2])):e.push(t),e}),[]).reduce((function(e,t){return parseFloat(t)==t&&e.length?e[e.length-1].push(t):e.push([t]),e}),[]),o=[];if(s.length>1){var l=a(s[0]),c=null;"Z"==s[s.length-1][0]&&s[0].length>2&&(c=["L",l.x,l.y],s[s.length-1]=c),o.push(s[0]);for(var d=1;d<s.length;d++){var u=o[o.length-1],h=s[d],f=h==c?s[1]:s[d+1];if(f&&u&&u.length>2&&"L"==h[0]&&f.length>2&&"L"==f[0]){var p,g,m=a(u),v=a(h),b=a(f);p=n(v,m,t),g=n(v,b,t),i(h,p),h.origPoint=v,o.push(h);var y=r(p,v,.5),x=r(v,g,.5),w=["C",y.x,y.y,x.x,x.y,g.x,g.y];w.origPoint=v,o.push(w)}else o.push(h)}if(c){var k=a(o[o.length-1]);o.push(["Z"]),i(o[0],k)}}else o=s;return o.reduce((function(e,t){return e+t.join(" ")+" "}),"")}},{key:"drawLine",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:n,y2:r,stroke:i,"stroke-dasharray":a,"stroke-width":s,"stroke-linecap":o})}},{key:"drawRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=this.w.globals.dom.Paper.rect();return d.attr({x:e,y:t,width:n>0?n:0,height:r>0?r:0,rx:i,ry:i,opacity:s,"stroke-width":null!==o?o:0,stroke:null!==l?l:"none","stroke-dasharray":c}),d.node.setAttribute("fill",a),d}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:r,stroke:t,"stroke-width":n})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e<0&&(e=0);var n=this.w.globals.dom.Paper.circle(2*e);return null!==t&&n.attr(t),n}},{key:"drawPath",value:function(e){var t=e.d,n=void 0===t?"":t,r=e.stroke,i=void 0===r?"#a8a8a8":r,a=e.strokeWidth,s=void 0===a?1:a,o=e.fill,l=e.fillOpacity,c=void 0===l?1:l,d=e.strokeOpacity,u=void 0===d?1:d,h=e.classes,f=e.strokeLinecap,p=void 0===f?null:f,g=e.strokeDashArray,m=void 0===g?0:g,v=this.w;return null===p&&(p=v.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(n).attr({fill:o,"fill-opacity":c,stroke:i,"stroke-opacity":u,"stroke-linecap":p,"stroke-width":s,"stroke-dasharray":m,class:h})}},{key:"group",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w.globals.dom.Paper.group();return null!==e&&t.attr(e),t}},{key:"move",value:function(e,t){return["M",e,t].join(" ")}},{key:"line",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null;return null===n?r=[" L",e,t].join(" "):"H"===n?r=[" H",e].join(" "):"V"===n&&(r=[" V",t].join(" ")),r}},{key:"curve",value:function(e,t,n,r,i,a){return["C",e,t,n,r,i,a].join(" ")}},{key:"quadraticCurve",value:function(e,t,n,r){return["Q",e,t,n,r].join(" ")}},{key:"arc",value:function(e,t,n,r,i,a,s){var o="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(o="a"),[o,e,t,n,r,i,a,s].join(" ")}},{key:"renderPaths",value:function(e){var t,n=e.j,r=e.realIndex,i=e.pathFrom,s=e.pathTo,o=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,d=e.fill,u=e.animationDelay,h=e.initialSpeed,f=e.dataChangeSpeed,p=e.className,g=e.shouldClipToGrid,m=void 0===g||g,v=e.bindEventsOnPaths,b=void 0===v||v,y=e.drawShadow,x=void 0===y||y,_=this.w,S=new k(this.ctx),C=new w(this.ctx),A=this.w.config.chart.animations.enabled,P=A&&this.w.config.chart.animations.dynamicAnimation.enabled,E=!!(A&&!_.globals.resized||P&&_.globals.dataChanged&&_.globals.shouldAnimate);E?t=i:(t=s,_.globals.animationEnded=!0);var T,N=_.config.stroke.dashArray;T=Array.isArray(N)?N[r]:_.config.stroke.dashArray;var I=this.drawPath({d:t,stroke:o,strokeWidth:l,fill:d,fillOpacity:1,classes:p,strokeLinecap:c,strokeDashArray:T});if(I.attr("index",r),m&&I.attr({"clip-path":"url(#gridRectMask".concat(_.globals.cuid,")")}),"none"!==_.config.states.normal.filter.type)S.getDefaultFilter(I,r);else if(_.config.chart.dropShadow.enabled&&x){var M=_.config.chart.dropShadow;S.dropShadow(I,M,r)}b&&(I.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,I)),I.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,I)),I.node.addEventListener("mousedown",this.pathMouseDown.bind(this,I))),I.attr({pathTo:s,pathFrom:i});var F={el:I,j:n,realIndex:r,pathFrom:i,pathTo:s,fill:d,strokeWidth:l,delay:u};return!A||_.globals.resized||_.globals.dataChanged?!_.globals.resized&&_.globals.dataChanged||C.showDelayedElements():C.animatePathsGradually(a(a({},F),{},{speed:h})),_.globals.dataChanged&&P&&E&&C.animatePathsGradually(a(a({},F),{},{speed:f})),I}},{key:"drawPattern",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,n,(function(a){"horizontalLines"===e?a.line(0,0,n,0).stroke({color:r,width:i+1}):"verticalLines"===e?a.line(0,0,0,t).stroke({color:r,width:i+1}):"slantedLines"===e?a.line(0,0,t,n).stroke({color:r,width:i}):"squares"===e?a.rect(t,n).fill("none").stroke({color:r,width:i}):"circles"===e&&a.circle(t).fill("none").stroke({color:r,width:i})}))}},{key:"drawGradient",value:function(e,t,n,r,i){var a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=this.w;t.length<9&&0===t.indexOf("#")&&(t=x.hexToRgba(t,r)),n.length<9&&0===n.indexOf("#")&&(n=x.hexToRgba(n,i));var u=0,h=1,f=1,p=null;null!==o&&(u=void 0!==o[0]?o[0]/100:0,h=void 0!==o[1]?o[1]/100:1,f=void 0!==o[2]?o[2]/100:1,p=void 0!==o[3]?o[3]/100:null);var g=!("donut"!==d.config.chart.type&&"pie"!==d.config.chart.type&&"polarArea"!==d.config.chart.type&&"bubble"!==d.config.chart.type);if(a=null===l||0===l.length?d.globals.dom.Paper.gradient(g?"radial":"linear",(function(e){e.at(u,t,r),e.at(h,n,i),e.at(f,n,i),null!==p&&e.at(p,t,r)})):d.globals.dom.Paper.gradient(g?"radial":"linear",(function(e){(Array.isArray(l[c])?l[c]:l).forEach((function(t){e.at(t.offset/100,t.color,t.opacity)}))})),g){var m=d.globals.gridWidth/2,v=d.globals.gridHeight/2;"bubble"!==d.config.chart.type?a.attr({gradientUnits:"userSpaceOnUse",cx:m,cy:v,r:s}):a.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===e?a.from(0,0).to(0,1):"diagonal"===e?a.from(0,0).to(1,1):"horizontal"===e?a.from(0,1).to(1,1):"diagonal2"===e&&a.from(1,0).to(0,1);return a}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,n=e.maxWidth,r=e.fontSize,i=e.fontFamily,a=this.getTextRects(t,r,i),s=a.width/t.length,o=Math.floor(n/s);return n<a.width?t.slice(0,o-3)+"...":t}},{key:"drawText",value:function(e){var t=this,n=e.x,r=e.y,i=e.text,s=e.textAnchor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,d=e.foreColor,u=e.opacity,h=e.maxWidth,f=e.cssClass,p=void 0===f?"":f,g=e.isPlainText,m=void 0===g||g,v=e.dominantBaseline,b=void 0===v?"auto":v,y=this.w;void 0===i&&(i="");var x=i;s||(s="start"),d&&d.length||(d=y.config.chart.foreColor),l=l||y.config.chart.fontFamily,c=c||"regular";var w,k={maxWidth:h,fontSize:o=o||"11px",fontFamily:l};return Array.isArray(i)?w=y.globals.dom.Paper.text((function(e){for(var n=0;n<i.length;n++)x=i[n],h&&(x=t.getTextBasedOnMaxWidth(a({text:i[n]},k))),0===n?e.tspan(x):e.tspan(x).newLine()})):(h&&(x=this.getTextBasedOnMaxWidth(a({text:i},k))),w=m?y.globals.dom.Paper.plain(i):y.globals.dom.Paper.text((function(e){return e.tspan(x)}))),w.attr({x:n,y:r,"text-anchor":s,"dominant-baseline":b,"font-size":o,"font-family":l,"font-weight":c,fill:d,class:"apexcharts-text "+p}),w.node.style.fontFamily=l,w.node.style.opacity=u,w}},{key:"createGroupWithAttributes",value:function(e,t,n,r){var i=this.group();return n.forEach((function(e){return i.add(e)})),i.attr({class:r.class?r.class:"",cy:t,cx:e}),i}},{key:"drawPlus",value:function(e,t,n,r){var i=n/2,a=this.drawLine(e,t-i,e,t+i,r.pointStrokeColor,r.pointStrokeDashArray,r.pointStrokeWidth,r.pointStrokeLineCap),s=this.drawLine(e-i,t,e+i,t,r.pointStrokeColor,r.pointStrokeDashArray,r.pointStrokeWidth,r.pointStrokeLineCap);return this.createGroupWithAttributes(e,t,[a,s],r)}},{key:"drawX",value:function(e,t,n,r){var i=n/2,a=this.drawLine(e-i,t-i,e+i,t+i,r.pointStrokeColor,r.pointStrokeDashArray,r.pointStrokeWidth,r.pointStrokeLineCap),s=this.drawLine(e-i,t+i,e+i,t-i,r.pointStrokeColor,r.pointStrokeDashArray,r.pointStrokeWidth,r.pointStrokeLineCap);return this.createGroupWithAttributes(e,t,[a,s],r)}},{key:"drawMarker",value:function(e,t,n){e=e||0;var r=n.pSize||0,i=null;if("X"===(null==n?void 0:n.shape)||"x"===(null==n?void 0:n.shape))i=this.drawX(e,t,r,n);else if("plus"===(null==n?void 0:n.shape)||"+"===(null==n?void 0:n.shape))i=this.drawPlus(e,t,r,n);else if("square"===n.shape||"rect"===n.shape){var a=void 0===n.pRadius?r/2:n.pRadius;null!==t&&r||(r=0,a=0);var s=1.2*r+a,o=this.drawRect(s,s,s,s,a);o.attr({x:e-s/2,y:t-s/2,cx:e,cy:t,class:n.class?n.class:"",fill:n.pointFillColor,"fill-opacity":n.pointFillOpacity?n.pointFillOpacity:1,stroke:n.pointStrokeColor,"stroke-width":n.pointStrokeWidth?n.pointStrokeWidth:0,"stroke-opacity":n.pointStrokeOpacity?n.pointStrokeOpacity:1}),i=o}else"circle"!==n.shape&&n.shape||(x.isNumber(t)||(r=0,t=0),i=this.drawCircle(r,{cx:e,cy:t,class:n.class?n.class:"",stroke:n.pointStrokeColor,fill:n.pointFillColor,"fill-opacity":n.pointFillOpacity?n.pointFillOpacity:1,"stroke-width":n.pointStrokeWidth?n.pointStrokeWidth:0,"stroke-opacity":n.pointStrokeOpacity?n.pointStrokeOpacity:1}));return i}},{key:"pathMouseEnter",value:function(e,t){var n=this.w,r=new k(this.ctx),i=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);if("function"==typeof n.config.chart.events.dataPointMouseEnter&&n.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:i,dataPointIndex:a,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:i,dataPointIndex:a,w:n}]),("none"===n.config.states.active.filter.type||"true"!==e.node.getAttribute("selected"))&&"none"!==n.config.states.hover.filter.type&&!n.globals.isTouchDevice){var s=n.config.states.hover.filter;r.applyFilter(e,i,s.type,s.value)}}},{key:"pathMouseLeave",value:function(e,t){var n=this.w,r=new k(this.ctx),i=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);"function"==typeof n.config.chart.events.dataPointMouseLeave&&n.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:i,dataPointIndex:a,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:i,dataPointIndex:a,w:n}]),"none"!==n.config.states.active.filter.type&&"true"===e.node.getAttribute("selected")||"none"!==n.config.states.hover.filter.type&&r.getDefaultFilter(e,i)}},{key:"pathMouseDown",value:function(e,t){var n=this.w,r=new k(this.ctx),i=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10),s="false";if("true"===e.node.getAttribute("selected")){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[i].indexOf(a)>-1){var o=n.globals.selectedDataPoints[i].indexOf(a);n.globals.selectedDataPoints[i].splice(o,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var l=n.globals.dom.Paper.select(".apexcharts-series path").members,c=n.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,d=function(e){Array.prototype.forEach.call(e,(function(e){e.node.setAttribute("selected","false"),r.getDefaultFilter(e,i)}))};d(l),d(c)}e.node.setAttribute("selected","true"),s="true",void 0===n.globals.selectedDataPoints[i]&&(n.globals.selectedDataPoints[i]=[]),n.globals.selectedDataPoints[i].push(a)}if("true"===s){var u=n.config.states.active.filter;if("none"!==u)r.applyFilter(e,i,u.type,u.value);else if("none"!==n.config.states.hover.filter&&!n.globals.isTouchDevice){var h=n.config.states.hover.filter;r.applyFilter(e,i,h.type,h.value)}}else"none"!==n.config.states.active.filter.type&&("none"===n.config.states.hover.filter.type||n.globals.isTouchDevice?r.getDefaultFilter(e,i):(h=n.config.states.hover.filter,r.applyFilter(e,i,h.type,h.value)));"function"==typeof n.config.chart.events.dataPointSelection&&n.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:i,dataPointIndex:a,w:n}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:i,dataPointIndex:a,w:n}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&"function"==typeof e.getBBox&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.w,s=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:n,foreColor:"#fff",opacity:0});r&&s.attr("transform",r),a.globals.dom.Paper.add(s);var o=s.bbox();return i||(o=s.node.getBoundingClientRect()),s.remove(),{width:o.width,height:o.height}}},{key:"placeTextWithEllipsis",value:function(e,t,n){if("function"==typeof e.getComputedTextLength&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=n/1.1)){for(var r=t.length-3;r>0;r-=3)if(e.getSubStringLength(0,r)<=n/1.1)return void(e.textContent=t.substring(0,r)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}}]),e}(),S=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.w,n=[];if(0===t.globals.series.length)return n;for(var r=0;r<t.globals.series[t.globals.maxValsInArrayIndex].length;r++){for(var i=0,a=0;a<t.globals.series.length;a++)void 0!==t.globals.series[a][r]&&-1===e.indexOf(a)&&(i+=t.globals.series[a][r]);n.push(i)}return n}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?this.w.config.series.reduce((function(e,t){return e+t}),0):this.w.globals.series[e].reduce((function(e,t){return e+t}),0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,n=[];return t.globals.seriesGroups.forEach((function(r){var i=[];t.config.series.forEach((function(e,t){r.indexOf(e.name)>-1&&i.push(t)}));var a=t.globals.series.map((function(e,t){return-1===i.indexOf(t)?t:-1})).filter((function(e){return-1!==e}));n.push(e.getStackedSeriesTotals(a))})),n}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===e?this.w.config.series.filter((function(e){return null!==e})):this.w.config.series[e].data.filter((function(e){return null!==e}))).length}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every((function(e,t,n){return e===n[0]}))}},{key:"getCategoryLabels",value:function(e){var t=this.w,n=e.slice();return t.config.xaxis.convertedCatToNumeric&&(n=e.map((function(e,n){return t.config.xaxis.labels.formatter(e-t.globals.minX+1)}))),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map((function(e){return e.length})).indexOf(Math.max.apply(Math,e.globals.series.map((function(e){return e.length}))))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach((function(e){t=Math.max(t,e)})),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach((function(e){t=Math.max(t,e.size)})),t>0&&(t+=e.config.markers.hover.sizeOffset+1),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map((function(e,t){var n=0;if(Array.isArray(e))for(var r=0;r<e.length;r++)n+=e[r];else n+=e;return n}))}},{key:"getSeriesTotalsXRange",value:function(e,t){var n=this.w;return n.globals.series.map((function(r,i){for(var a=0,s=0;s<r.length;s++)n.globals.seriesX[i][s]>e&&n.globals.seriesX[i][s]<t&&(a+=r[s]);return a}))}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map((function(t,n){var r=[];if(Array.isArray(t))for(var i=0;i<t.length;i++){var a=e.globals.stackedSeriesTotals[i],s=0;a&&(s=100*t[i]/a),r.push(s)}else{var o=100*t/e.globals.seriesTotals.reduce((function(e,t){return e+t}),0);r.push(o)}return r}))}},{key:"getCalculatedRatios",value:function(){var e,t,n,r=this.w.globals,i=[],a=0,s=[],o=.1,l=0;if(r.yRange=[],r.isMultipleYAxis)for(var c=0;c<r.minYArr.length;c++)r.yRange.push(Math.abs(r.minYArr[c]-r.maxYArr[c])),s.push(0);else r.yRange.push(Math.abs(r.minY-r.maxY));r.xRange=Math.abs(r.maxX-r.minX),r.zRange=Math.abs(r.maxZ-r.minZ);for(var d=0;d<r.yRange.length;d++)i.push(r.yRange[d]/r.gridHeight);if(t=r.xRange/r.gridWidth,e=r.yRange/r.gridWidth,n=r.xRange/r.gridHeight,(a=r.zRange/r.gridHeight*16)||(a=1),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(r.hasNegs=!0),r.isMultipleYAxis){s=[];for(var u=0;u<i.length;u++)s.push(-r.minYArr[u]/i[u])}else s.push(-r.minY/i[0]),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(o=-r.minY/e,l=r.minX/t);return{yRatio:i,invertedYRatio:e,zRatio:a,xRatio:t,invertedXRatio:n,baseLineInvertedY:o,baseLineY:s,baseLineX:l}}},{key:"getLogSeries",value:function(e){var t=this,n=this.w;return n.globals.seriesLog=e.map((function(e,r){return n.config.yaxis[r]&&n.config.yaxis[r].logarithmic?e.map((function(e){return null===e?null:t.getLogVal(n.config.yaxis[r].logBase,e,r)})):e})),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,n){if(0===t)return 0;var r=this.w,i=0===r.globals.minYArr[n]?-1:this.getBaseLog(e,r.globals.minYArr[n]),a=(0===r.globals.maxYArr[n]?0:this.getBaseLog(e,r.globals.maxYArr[n]))-i;return t<1?t/a:(this.getBaseLog(e,t)-i)/a}},{key:"getLogYRatios",value:function(e){var t=this,n=this.w,r=this.w.globals;return r.yLogRatio=e.slice(),r.logYRange=r.yRange.map((function(e,i){if(n.config.yaxis[i]&&t.w.config.yaxis[i].logarithmic){var a,s=-Number.MAX_VALUE,o=Number.MIN_VALUE;return r.seriesLog.forEach((function(e,t){e.forEach((function(e){n.config.yaxis[t]&&n.config.yaxis[t].logarithmic&&(s=Math.max(e,s),o=Math.min(e,o))}))})),a=Math.pow(r.yRange[i],Math.abs(o-s)/r.yRange[i]),r.yLogRatio[i]=a/r.gridHeight,a}})),r.invalidLogScale?e.slice():r.yLogRatio}}],[{key:"checkComboSeries",value:function(e){var t=!1,n=0,r=0;return e.length&&void 0!==e[0].type&&e.forEach((function(e){"bar"!==e.type&&"column"!==e.type&&"candlestick"!==e.type&&"boxPlot"!==e.type||n++,void 0!==e.type&&r++})),r>0&&(t=!0),{comboBarCount:n,comboCharts:t}}},{key:"extendArrayProps",value:function(e,t,n){return t.yaxis&&(t=e.extendYAxis(t,n)),t.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),t.annotations.xaxis&&(t=e.extendXAxisAnnotations(t)),t.annotations.points&&(t=e.extendPointAnnotations(t))),t}}]),e}(),C=function(){function e(t){o(this,e),this.w=t.w,this.annoCtx=t}return c(e,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.w;if("vertical"===e.label.orientation){var r=null!==t?t:0,i=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(r,"']"));if(null!==i){var a=i.getBoundingClientRect();i.setAttribute("x",parseFloat(i.getAttribute("x"))-a.height+4),"top"===e.label.position?i.setAttribute("y",parseFloat(i.getAttribute("y"))+a.width):i.setAttribute("y",parseFloat(i.getAttribute("y"))-a.width);var s=this.annoCtx.graphics.rotateAroundCenter(i),o=s.x,l=s.y;i.setAttribute("transform","rotate(-90 ".concat(o," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var n=this.w;if(!e||void 0===t.label.text||void 0!==t.label.text&&!String(t.label.text).trim())return null;var r=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),i=e.getBoundingClientRect(),a=t.label.style.padding.left,s=t.label.style.padding.right,o=t.label.style.padding.top,l=t.label.style.padding.bottom;"vertical"===t.label.orientation&&(o=t.label.style.padding.left,l=t.label.style.padding.right,a=t.label.style.padding.top,s=t.label.style.padding.bottom);var c=i.left-r.left-a,d=i.top-r.top-o,u=this.annoCtx.graphics.drawRect(c-n.globals.barPadForNumericAxis,d,i.width+a+s,i.height+o+l,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&u.node.classList.add(t.id),u}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,n=function(n,r,i){var a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations .apexcharts-").concat(i,"-annotation-label[rel='").concat(r,"']"));if(a){var s=a.parentNode,o=e.addBackgroundToAnno(a,n);o&&(s.insertBefore(o.node,a),n.label.mouseEnter&&o.node.addEventListener("mouseenter",n.label.mouseEnter.bind(e,n)),n.label.mouseLeave&&o.node.addEventListener("mouseleave",n.label.mouseLeave.bind(e,n)),n.label.click&&o.node.addEventListener("click",n.label.click.bind(e,n)))}};t.config.annotations.xaxis.map((function(e,t){n(e,t,"xaxis")})),t.config.annotations.yaxis.map((function(e,t){n(e,t,"yaxis")})),t.config.annotations.points.map((function(e,t){n(e,t,"point")}))}},{key:"getY1Y2",value:function(e,t){var n,r="y1"===e?t.y:t.y2,i=this.w;if(this.annoCtx.invertAxis){var a=i.globals.labels.indexOf(r);i.config.xaxis.convertedCatToNumeric&&(a=i.globals.categoryLabels.indexOf(r));var s=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(a+1)+")");s&&(n=parseFloat(s.getAttribute("y"))),void 0!==t.seriesIndex&&i.globals.barHeight&&(n=n-i.globals.barHeight/2*(i.globals.series.length-1)+i.globals.barHeight*t.seriesIndex)}else{var o;o=i.config.yaxis[t.yAxisIndex].logarithmic?(r=new S(this.annoCtx.ctx).getLogVal(r,t.yAxisIndex))/i.globals.yLogRatio[t.yAxisIndex]:(r-i.globals.minYArr[t.yAxisIndex])/(i.globals.yRange[t.yAxisIndex]/i.globals.gridHeight),n=i.globals.gridHeight-o,!t.marker||void 0!==t.y&&null!==t.y||(n=0),i.config.yaxis[t.yAxisIndex]&&i.config.yaxis[t.yAxisIndex].reversed&&(n=o)}return"string"==typeof r&&r.indexOf("px")>-1&&(n=parseFloat(r)),n}},{key:"getX1X2",value:function(e,t){var n=this.w,r=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,i=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,a=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,s=(t.x-r)/(a/n.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(s=(i-t.x)/(a/n.globals.gridWidth)),"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||(s=this.getStringX(t.x));var o=(t.x2-r)/(a/n.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(o=(i-t.x2)/(a/n.globals.gridWidth)),"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||(o=this.getStringX(t.x2)),void 0!==t.x&&null!==t.x||!t.marker||(s=n.globals.gridWidth),"x1"===e&&"string"==typeof t.x&&t.x.indexOf("px")>-1&&(s=parseFloat(t.x)),"x2"===e&&"string"==typeof t.x2&&t.x2.indexOf("px")>-1&&(o=parseFloat(t.x2)),void 0!==t.seriesIndex&&n.globals.barWidth&&!this.annoCtx.invertAxis&&(s=s-n.globals.barWidth/2*(n.globals.series.length-1)+n.globals.barWidth*t.seriesIndex),"x1"===e?s:o}},{key:"getStringX",value:function(e){var t=this.w,n=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var r=t.globals.labels.indexOf(e),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(r+1)+")");return i&&(n=parseFloat(i.getAttribute("x"))),n}}]),e}(),A=function(){function e(t){o(this,e),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new C(this.annoCtx)}return c(e,[{key:"addXaxisAnnotation",value:function(e,t,n){var r,i=this.w,a=this.helpers.getX1X2("x1",e),s=e.label.text,o=e.strokeDashArray;if(x.isNumber(a)){if(null===e.x2||void 0===e.x2){var l=this.annoCtx.graphics.drawLine(a+e.offsetX,0+e.offsetY,a+e.offsetX,i.globals.gridHeight+e.offsetY,e.borderColor,o,e.borderWidth);t.appendChild(l.node),e.id&&l.node.classList.add(e.id)}else{if((r=this.helpers.getX1X2("x2",e))<a){var c=a;a=r,r=c}var d=this.annoCtx.graphics.drawRect(a+e.offsetX,0+e.offsetY,r-a,i.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,o);d.node.classList.add("apexcharts-annotation-rect"),d.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),t.appendChild(d.node),e.id&&d.node.classList.add(e.id)}var u=this.annoCtx.graphics.getTextRects(s,parseFloat(e.label.style.fontSize)),h="top"===e.label.position?4:"center"===e.label.position?i.globals.gridHeight/2+("vertical"===e.label.orientation?u.width/2:0):i.globals.gridHeight,f=this.annoCtx.graphics.drawText({x:a+e.label.offsetX,y:h+e.label.offsetY-("vertical"===e.label.orientation?"top"===e.label.position?u.width/2-12:-u.width/2:0),text:s,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});f.attr({rel:n}),t.appendChild(f.node),this.annoCtx.helpers.setOrientations(e,n)}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map((function(t,r){e.addXaxisAnnotation(t,n.node,r)})),n}}]),e}(),P=function(){function e(t){o(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new C(this.annoCtx)}return c(e,[{key:"addYaxisAnnotation",value:function(e,t,n){var r,i=this.w,a=e.strokeDashArray,s=this.helpers.getY1Y2("y1",e),o=e.label.text;if(null===e.y2||void 0===e.y2){var l=this.annoCtx.graphics.drawLine(0+e.offsetX,s+e.offsetY,this._getYAxisAnnotationWidth(e),s+e.offsetY,e.borderColor,a,e.borderWidth);t.appendChild(l.node),e.id&&l.node.classList.add(e.id)}else{if((r=this.helpers.getY1Y2("y2",e))>s){var c=s;s=r,r=c}var d=this.annoCtx.graphics.drawRect(0+e.offsetX,r+e.offsetY,this._getYAxisAnnotationWidth(e),s-r,0,e.fillColor,e.opacity,1,e.borderColor,a);d.node.classList.add("apexcharts-annotation-rect"),d.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),t.appendChild(d.node),e.id&&d.node.classList.add(e.id)}var u="right"===e.label.position?i.globals.gridWidth:"center"===e.label.position?i.globals.gridWidth/2:0,h=this.annoCtx.graphics.drawText({x:u+e.label.offsetX,y:(null!=r?r:s)+e.label.offsetY-3,text:o,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});h.attr({rel:n}),t.appendChild(h.node)}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.map((function(t,r){e.addYaxisAnnotation(t,n.node,r)})),n}}]),e}(),E=function(){function e(t){o(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new C(this.annoCtx)}return c(e,[{key:"addPointAnnotation",value:function(e,t,n){this.w;var r=this.helpers.getX1X2("x1",e),i=this.helpers.getY1Y2("y1",e);if(x.isNumber(r)){var a={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},s=this.annoCtx.graphics.drawMarker(r+e.marker.offsetX,i+e.marker.offsetY,a);t.appendChild(s.node);var o=e.label.text?e.label.text:"",l=this.annoCtx.graphics.drawText({x:r+e.label.offsetX,y:i+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:o,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(l.attr({rel:n}),t.appendChild(l.node),e.customSVG.SVG){var c=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});c.attr({transform:"translate(".concat(r+e.customSVG.offsetX,", ").concat(i+e.customSVG.offsetY,")")}),c.node.innerHTML=e.customSVG.SVG,t.appendChild(c.node)}if(e.image.path){var d=e.image.width?e.image.width:20,u=e.image.height?e.image.height:20;s=this.annoCtx.addImage({x:r+e.image.offsetX-d/2,y:i+e.image.offsetY-u/2,width:d,height:u,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&s.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&s.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&s.node.addEventListener("click",e.click.bind(this,e))}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map((function(t,r){e.addPointAnnotation(t,n.node,r)})),n}}]),e}(),T={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},N=function(){function e(){o(this,e),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return c(e,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[T],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(e){return new Date(e).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,margin:5,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return null!==e?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),e}(),I=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.graphics=new _(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new C(this),this.xAxisAnnotations=new A(this),this.yAxisAnnotations=new P(this),this.pointsAnnotations=new E(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return c(e,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),r=this.pointsAnnotations.drawPointAnnotations(),i=e.config.chart.animations.enabled,a=[t,n,r],s=[n.node,t.node,r.node],o=0;o<3;o++)e.globals.dom.elGraphical.add(a[o]),!i||e.globals.resized||e.globals.dataChanged||"scatter"!==e.config.chart.type&&"bubble"!==e.config.chart.type&&e.globals.dataPoints>1&&s[o].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:s[o],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map((function(t,n){e.addImage(t,n)}))}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map((function(t,n){e.addText(t,n)}))}},{key:"addXaxisAnnotation",value:function(e,t,n){this.xAxisAnnotations.addXaxisAnnotation(e,t,n)}},{key:"addYaxisAnnotation",value:function(e,t,n){this.yAxisAnnotations.addYaxisAnnotation(e,t,n)}},{key:"addPointAnnotation",value:function(e,t,n){this.pointsAnnotations.addPointAnnotation(e,t,n)}},{key:"addText",value:function(e,t){var n=e.x,r=e.y,i=e.text,a=e.textAnchor,s=e.foreColor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,d=e.cssClass,u=e.backgroundColor,h=e.borderWidth,f=e.strokeDashArray,p=e.borderRadius,g=e.borderColor,m=e.appendTo,v=void 0===m?".apexcharts-svg":m,b=e.paddingLeft,y=void 0===b?4:b,x=e.paddingRight,w=void 0===x?4:x,k=e.paddingBottom,_=void 0===k?2:k,S=e.paddingTop,C=void 0===S?2:S,A=this.w,P=this.graphics.drawText({x:n,y:r,text:i,textAnchor:a||"start",fontSize:o||"12px",fontWeight:c||"regular",fontFamily:l||A.config.chart.fontFamily,foreColor:s||A.config.chart.foreColor,cssClass:d}),E=A.globals.dom.baseEl.querySelector(v);E&&E.appendChild(P.node);var T=P.bbox();if(i){var N=this.graphics.drawRect(T.x-y,T.y-C,T.width+y+w,T.height+_+C,p,u||"transparent",1,h,g,f);E.insertBefore(N.node,P.node)}}},{key:"addImage",value:function(e,t){var n=this.w,r=e.path,i=e.x,a=void 0===i?0:i,s=e.y,o=void 0===s?0:s,l=e.width,c=void 0===l?20:l,d=e.height,u=void 0===d?20:d,h=e.appendTo,f=void 0===h?".apexcharts-svg":h,p=n.globals.dom.Paper.image(r);p.size(c,u).move(a,o);var g=n.globals.dom.baseEl.querySelector(f);return g&&g.appendChild(p.node),p}},{key:"addXaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,t,n){return void 0===this.invertAxis&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var t=e.params,n=e.pushToMemory,r=e.context,i=e.type,a=e.contextMethod,s=r,o=s.w,l=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations")),c=l.childNodes.length+1,d=new N,u=Object.assign({},"xaxis"===i?d.xAxisAnnotation:"yaxis"===i?d.yAxisAnnotation:d.pointAnnotation),h=x.extend(u,t);switch(i){case"xaxis":this.addXaxisAnnotation(h,l,c);break;case"yaxis":this.addYaxisAnnotation(h,l,c);break;case"point":this.addPointAnnotation(h,l,c)}var f=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations .apexcharts-").concat(i,"-annotation-label[rel='").concat(c,"']")),p=this.helpers.addBackgroundToAnno(f,h);return p&&l.insertBefore(p.node,f),n&&o.globals.memory.methodsToExec.push({context:s,id:h.id?h.id:x.randomId(),method:a,label:"addAnnotation",params:t}),r}},{key:"clearAnnotations",value:function(e){var t=e.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");t.globals.memory.methodsToExec.map((function(e,n){"addText"!==e.label&&"addAnnotation"!==e.label||t.globals.memory.methodsToExec.splice(n,1)})),n=x.listToArray(n),Array.prototype.forEach.call(n,(function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}))}},{key:"removeAnnotation",value:function(e,t){var n=e.w,r=n.globals.dom.baseEl.querySelectorAll(".".concat(t));r&&(n.globals.memory.methodsToExec.map((function(e,r){e.id===t&&n.globals.memory.methodsToExec.splice(r,1)})),Array.prototype.forEach.call(r,(function(e){e.parentElement.removeChild(e)})))}}]),e}(),M=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return c(e,[{key:"isValidDate",value:function(e){return"number"!=typeof e&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var n=this.w.globals.locale,r=this.w.config.xaxis.labels.datetimeUTC,i=["\0"].concat(v(n.months)),a=["\x01"].concat(v(n.shortMonths)),s=["\x02"].concat(v(n.days)),o=["\x03"].concat(v(n.shortDays));function l(e,t){var n=e+"";for(t=t||2;n.length<t;)n="0"+n;return n}var c=r?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var d=(r?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+i[0])).replace(/(^|[^\\])MMM/g,"$1"+a[0])).replace(/(^|[^\\])MM/g,"$1"+l(d))).replace(/(^|[^\\])M/g,"$1"+d);var u=r?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+s[0])).replace(/(^|[^\\])ddd/g,"$1"+o[0])).replace(/(^|[^\\])dd/g,"$1"+l(u))).replace(/(^|[^\\])d/g,"$1"+u);var h=r?e.getUTCHours():e.getHours(),f=h>12?h-12:0===h?12:h;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+l(h))).replace(/(^|[^\\])H/g,"$1"+h)).replace(/(^|[^\\])hh+/g,"$1"+l(f))).replace(/(^|[^\\])h/g,"$1"+f);var p=r?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+l(p))).replace(/(^|[^\\])m/g,"$1"+p);var g=r?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+l(g))).replace(/(^|[^\\])s/g,"$1"+g);var m=r?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+l(m,3)),m=Math.round(m/10),t=t.replace(/(^|[^\\])ff/g,"$1"+l(m)),m=Math.round(m/10);var b=h<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+m)).replace(/(^|[^\\])TT+/g,"$1"+b)).replace(/(^|[^\\])T/g,"$1"+b.charAt(0));var y=b.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+y)).replace(/(^|[^\\])t/g,"$1"+y.charAt(0));var x=-e.getTimezoneOffset(),w=r||!x?"Z":x>0?"+":"-";if(!r){var k=(x=Math.abs(x))%60;w+=l(Math.floor(x/60))+":"+l(k)}t=t.replace(/(^|[^\\])K/g,"$1"+w);var _=(r?e.getUTCDay():e.getDay())+1;return(t=(t=(t=(t=t.replace(new RegExp(s[0],"g"),s[_])).replace(new RegExp(o[0],"g"),o[_])).replace(new RegExp(i[0],"g"),i[d])).replace(new RegExp(a[0],"g"),a[d])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,n){var r=this.w;void 0!==r.config.xaxis.min&&(e=r.config.xaxis.min),void 0!==r.config.xaxis.max&&(t=r.config.xaxis.max);var i=this.getDate(e),a=this.getDate(t),s=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" "),o=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(s[6],10),maxMillisecond:parseInt(o[6],10),minSecond:parseInt(s[5],10),maxSecond:parseInt(o[5],10),minMinute:parseInt(s[4],10),maxMinute:parseInt(o[4],10),minHour:parseInt(s[3],10),maxHour:parseInt(o[3],10),minDate:parseInt(s[2],10),maxDate:parseInt(o[2],10),minMonth:parseInt(s[1],10)-1,maxMonth:parseInt(o[1],10)-1,minYear:parseInt(s[0],10),maxYear:parseInt(o[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,n){return this.determineDaysOfMonths(e,t)-n}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,n){var r=this.daysCntOfYear[t]+n;return t>1&&this.isLeapYear()&&r++,r}},{key:"determineDaysOfMonths",value:function(e,t){var n=30;switch(e=x.monthMod(e),!0){case this.months30.indexOf(e)>-1:2===e&&(n=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),e}(),F=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return c(e,[{key:"xLabelFormat",value:function(e,t,n,r){var i=this.w;if("datetime"===i.config.xaxis.type&&void 0===i.config.xaxis.labels.formatter&&void 0===i.config.tooltip.x.formatter){var a=new M(this.ctx);return a.formatDate(a.getDate(t),i.config.tooltip.x.format)}return e(t,n,r)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map((function(e){return e})):e}},{key:"defaultYFormatter",value:function(e,t,n){var r=this.w;return x.isNumber(e)&&(e=0!==r.globals.yValueDecimal?e.toFixed(void 0!==t.decimalsInFloat?t.decimalsInFloat:r.globals.yValueDecimal):r.globals.maxYArr[n]-r.globals.minYArr[n]<5?e.toFixed(1):e.toFixed(0)),e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttKeyFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttZFormatter=function(e){return e},t.globals.legendFormatter=function(t){return e.defaultGeneralFormatter(t)},void 0!==t.config.xaxis.labels.formatter?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(e){if(x.isNumber(e)){if(!t.config.xaxis.convertedCatToNumeric&&"numeric"===t.config.xaxis.type){if(x.isNumber(t.config.xaxis.decimalsInFloat))return e.toFixed(t.config.xaxis.decimalsInFloat);var n=t.globals.maxX-t.globals.minX;return n>0&&n<100?e.toFixed(1):e.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?e.toFixed(1):e.toFixed(0)}return e},"function"==typeof t.config.tooltip.x.formatter?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,"function"==typeof t.config.xaxis.tooltip.formatter&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||void 0!==t.config.tooltip.y.formatter)&&(t.globals.ttVal=t.config.tooltip.y),void 0!==t.config.tooltip.z.formatter&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),void 0!==t.config.legend.formatter&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach((function(n,r){void 0!==n.labels.formatter?t.globals.yLabelFormatters[r]=n.labels.formatter:t.globals.yLabelFormatters[r]=function(i){return t.globals.xyCharts?Array.isArray(i)?i.map((function(t){return e.defaultYFormatter(t,n,r)})):e.defaultYFormatter(i,n,r):i}})),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if("heatmap"===e.config.chart.type){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce((function(e,t){return e.length>t.length?e:t}),0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),e}(),R=function(e){var t,n=e.isTimeline,r=e.ctx,i=e.seriesIndex,a=e.dataPointIndex,s=e.y1,o=e.y2,l=e.w,c=l.globals.seriesRangeStart[i][a],d=l.globals.seriesRangeEnd[i][a],u=l.globals.labels[a],h=l.config.series[i].name?l.config.series[i].name:"",f=l.globals.ttKeyFormatter,p=l.config.tooltip.y.title.formatter,g={w:l,seriesIndex:i,dataPointIndex:a,start:c,end:d};"function"==typeof p&&(h=p(h,g)),null!==(t=l.config.series[i].data[a])&&void 0!==t&&t.x&&(u=l.config.series[i].data[a].x),n||"datetime"===l.config.xaxis.type&&(u=new F(r).xLabelFormat(l.globals.ttKeyFormatter,u,u,{i:void 0,dateFormatter:new M(r).formatDate,w:l})),"function"==typeof f&&(u=f(u,g)),Number.isFinite(s)&&Number.isFinite(o)&&(c=s,d=o);var m="",v="",b=l.globals.colors[i];if(void 0===l.config.tooltip.x.formatter)if("datetime"===l.config.xaxis.type){var y=new M(r);m=y.formatDate(y.getDate(c),l.config.tooltip.x.format),v=y.formatDate(y.getDate(d),l.config.tooltip.x.format)}else m=c,v=d;else m=l.config.tooltip.x.formatter(c),v=l.config.tooltip.x.formatter(d);return{start:c,end:d,startVal:m,endVal:v,ylabel:u,color:b,seriesName:h}},j=function(e){var t=e.color,n=e.seriesName,r=e.ylabel,i=e.start,a=e.end,s=e.seriesIndex,o=e.dataPointIndex,l=e.ctx.tooltip.tooltipLabels.getFormatters(s);i=l.yLbFormatter(i),a=l.yLbFormatter(a);var c=l.yLbFormatter(e.w.globals.series[s][o]),d='<span class="value start-value">\n  '.concat(i,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(a,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t+'">'+(n||"")+'</span></div><div> <span class="category">'+r+": </span> "+(e.w.globals.comboCharts?"rangeArea"===e.w.config.series[s].type||"rangeBar"===e.w.config.series[s].type?d:"<span>".concat(c,"</span>"):d)+" </div></div>"},L=function(){function e(t){o(this,e),this.opts=t}return c(e,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),x.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),a(a({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,r=t.dataPointIndex,i=t.w;return e._getBoxTooltip(i,n,r,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,r=t.dataPointIndex,i=t.w;return e._getBoxTooltip(i,n,r,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var n=t.seriesIndex,r=t.dataPointIndex,i=t.w,a=function(){var e=i.globals.seriesRangeStart[n][r];return i.globals.seriesRangeEnd[n][r]-e};return i.globals.comboCharts?"rangeBar"===i.config.series[n].type||"rangeArea"===i.config.series[n].type?a():e:a()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(e){var t=R(a(a({},e),{},{isTimeline:!0})),n=t.color,r=t.seriesName,i=t.ylabel,s=t.startVal,o=t.endVal;return j(a(a({},e),{},{color:n,seriesName:r,ylabel:i,start:s,end:o}))}(e):function(e){var t=R(e),n=t.color,r=t.seriesName,i=t.ylabel,s=t.start,o=t.end;return j(a(a({},e),{},{color:n,seriesName:r,ylabel:i,start:s,end:o}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,n;return null!==(t=e.plotOptions.bar)&&void 0!==t&&t.barHeight||(e.plotOptions.bar.barHeight=2),null!==(n=e.plotOptions.bar)&&void 0!==n&&n.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(e){var t=R(e),n=t.color,r=t.seriesName,i=t.ylabel,s=t.start,o=t.end;return j(a(a({},e),{},{color:n,seriesName:r,ylabel:i,start:s,end:o}))}(e)}}}}},{key:"brush",value:function(e){return x.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach((function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100})),"bar"===e.chart.type&&(e.dataLabels.formatter=t||function(e){return"number"==typeof e&&e?e.toFixed(0)+"%":e}),e}},{key:"stackedBars",value:function(){var e=this.bar();return a(a({},e),{},{plotOptions:a(a({},e.plotOptions),{},{bar:a(a({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(e){return x.isNumber(e)?Math.floor(e):e};var r=e.xaxis.labels.formatter,i=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(i=n.map((function(e){return Array.isArray(e)?e:String(e)}))),i&&i.length&&(e.xaxis.labels.formatter=function(e){return x.isNumber(e)?r(i[Math.floor(e)-1]):r(e)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(e,t,n,r,i){var a=e.globals.seriesCandleO[t][n],s=e.globals.seriesCandleH[t][n],o=e.globals.seriesCandleM[t][n],l=e.globals.seriesCandleL[t][n],c=e.globals.seriesCandleC[t][n];return e.config.series[t].type&&e.config.series[t].type!==i?'<div class="apexcharts-custom-tooltip">\n          '.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][n],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(r[0],': <span class="value">')+a+"</span></div>"+"<div>".concat(r[1],': <span class="value">')+s+"</span></div>"+(o?"<div>".concat(r[2],': <span class="value">')+o+"</span></div>":"")+"<div>".concat(r[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(r[4],': <span class="value">')+c+"</span></div></div>"}}]),e}(),D=function(){function e(t){o(this,e),this.opts=t}return c(e,[{key:"init",value:function(e){var t=e.responsiveOverride,n=this.opts,r=new N,i=new L(n);this.chartType=n.chart.type,n=this.extendYAxis(n),n=this.extendAnnotations(n);var a=r.init(),o={};if(n&&"object"===s(n)){var l,c,d,u,h,f,p,g,m={};m=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)?i[n.chart.type]():i.line(),null!==(l=n.plotOptions)&&void 0!==l&&null!==(c=l.bar)&&void 0!==c&&c.isFunnel&&(m=i.funnel()),n.chart.stacked&&"bar"===n.chart.type&&(m=i.stackedBars()),null!==(d=n.chart.brush)&&void 0!==d&&d.enabled&&(m=i.brush(m)),n.chart.stacked&&"100%"===n.chart.stackType&&(n=i.stacked100(n)),null!==(u=n.plotOptions)&&void 0!==u&&null!==(h=u.bar)&&void 0!==h&&h.isDumbbell&&(n=i.dumbbell(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},t||(n.xaxis.convertedCatToNumeric=!1),(null!==(f=(n=this.checkForCatToNumericXAxis(this.chartType,m,n)).chart.sparkline)&&void 0!==f&&f.enabled||null!==(p=window.Apex.chart)&&void 0!==p&&null!==(g=p.sparkline)&&void 0!==g&&g.enabled)&&(m=i.sparkline(m)),o=x.extend(a,m)}var v=x.extend(o,window.Apex);return a=x.extend(v,n),this.handleUserInputErrors(a)}},{key:"checkForCatToNumericXAxis",value:function(e,t,n){var r,i,a=new L(n),s=("bar"===e||"boxPlot"===e)&&(null===(r=n.plotOptions)||void 0===r||null===(i=r.bar)||void 0===i?void 0:i.horizontal),o="pie"===e||"polarArea"===e||"donut"===e||"radar"===e||"radialBar"===e||"heatmap"===e,l="datetime"!==n.xaxis.type&&"numeric"!==n.xaxis.type,c=n.xaxis.tickPlacement?n.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return s||o||!l||"between"===c||(n=a.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,t){var n=new N;(void 0===e.yaxis||!e.yaxis||Array.isArray(e.yaxis)&&0===e.yaxis.length)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=x.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[x.extend(n.yAxis,e.yaxis)]:e.yaxis=x.extendArray(e.yaxis,n.yAxis);var r=!1;e.yaxis.forEach((function(e){e.logarithmic&&(r=!0)}));var i=e.series;return t&&!i&&(i=t.config.series),r&&i.length!==e.yaxis.length&&i.length&&(e.yaxis=i.map((function(t,r){if(t.name||(i[r].name="series-".concat(r+1)),e.yaxis[r])return e.yaxis[r].seriesName=i[r].name,e.yaxis[r];var a=x.extend(n.yAxis,e.yaxis[0]);return a.show=!1,a}))),r&&i.length>1&&i.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return void 0===e.annotations&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new N;return e.annotations.yaxis=x.extendArray(void 0!==e.annotations.yaxis?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new N;return e.annotations.xaxis=x.extendArray(void 0!==e.annotations.xaxis?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new N;return e.annotations.points=x.extendArray(void 0!==e.annotations.points?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&"dark"===e.theme.mode&&(e.tooltip||(e.tooltip={}),"light"!==e.tooltip.theme&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.chart.background||(e.chart.background="#424242"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),e}(),O=function(){function e(){o(this,e)}return c(e,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:"pan"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.pan,selectionEnabled:"selection"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=x.extend({},e),t.initialSeries=x.clone(e.series),t.lastXAxis=x.clone(t.initialConfig.xaxis),t.lastYAxis=x.clone(t.initialConfig.yaxis),t}}]),e}(),z=function(){function e(t){o(this,e),this.opts=t}return c(e,[{key:"init",value:function(){var e=new D(this.opts).init({responsiveOverride:!1});return{config:e,globals:(new O).init(e)}}}]),e}(),G=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0}return c(e,[{key:"clippedImgArea",value:function(e){var t=this.w,n=t.config,r=parseInt(t.globals.gridWidth,10),i=parseInt(t.globals.gridHeight,10),a=r>i?r:i,s=e.image,o=0,l=0;void 0===e.width&&void 0===e.height?void 0!==n.fill.image.width&&void 0!==n.fill.image.height?(o=n.fill.image.width+1,l=n.fill.image.height):(o=a+1,l=a):(o=e.width,l=e.height);var c=document.createElementNS(t.globals.SVGNS,"pattern");_.setAttrs(c,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:o+"px",height:l+"px"});var d=document.createElementNS(t.globals.SVGNS,"image");c.appendChild(d),d.setAttributeNS(window.SVG.xlink,"href",s),_.setAttrs(d,{x:0,y:0,preserveAspectRatio:"none",width:o+"px",height:l+"px"}),d.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(e){var t=this.w,n=t.config.chart.type;return("bar"===n||"rangeBar"===n)&&t.config.plotOptions.bar.distributed||"heatmap"===n||"treemap"===n?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(e){var t=this.w;this.opts=e;var n,r,i,a=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var s=this.getFillColors()[this.seriesIndex];void 0!==t.globals.seriesColors[this.seriesIndex]&&(s=t.globals.seriesColors[this.seriesIndex]),"function"==typeof s&&(s=s({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:t}));var o=e.fillType?e.fillType:this.getFillType(this.seriesIndex),l=Array.isArray(a.fill.opacity)?a.fill.opacity[this.seriesIndex]:a.fill.opacity;e.color&&(s=e.color),s||(s="#fff",console.warn("undefined color - ApexCharts"));var c=s;if(-1===s.indexOf("rgb")?s.length<9&&(c=x.hexToRgba(s,l)):s.indexOf("rgba")>-1&&(l=x.getOpacityFromRGBA(s)),e.opacity&&(l=e.opacity),"pattern"===o&&(r=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:r,fillColor:s,fillOpacity:l,defaultColor:c})),"gradient"===o&&(i=this.handleGradientFill({fillConfig:e.fillConfig,fillColor:s,fillOpacity:l,i:this.seriesIndex})),"image"===o){var d=a.fill.image.src,u=e.patternID?e.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(d)?e.seriesNumber<d.length?d[e.seriesNumber]:d[0]:d,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:"pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(u)}),n="url(#pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(u,")")}else n="gradient"===o?i:"pattern"===o?r:c;return e.solid&&(n=c),n}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,n=this.opts,r=[];return e.globals.comboCharts?"line"===e.config.series[this.seriesIndex].type?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors):"line"===t.chart.type?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors),void 0!==n.fillColors&&(r=[],Array.isArray(n.fillColors)?r=n.fillColors.slice():r.push(n.fillColors)),r}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,n=(e.patternFill,e.fillColor),r=e.fillOpacity,i=e.defaultColor,a=this.w.config.fill;t&&(a=t);var s=this.opts,o=new _(this.ctx),l=Array.isArray(a.pattern.strokeWidth)?a.pattern.strokeWidth[this.seriesIndex]:a.pattern.strokeWidth,c=n;return Array.isArray(a.pattern.style)?void 0!==a.pattern.style[s.seriesNumber]?o.drawPattern(a.pattern.style[s.seriesNumber],a.pattern.width,a.pattern.height,c,l,r):i:o.drawPattern(a.pattern.style,a.pattern.width,a.pattern.height,c,l,r)}},{key:"handleGradientFill",value:function(e){var t=e.fillColor,n=e.fillOpacity,r=e.fillConfig,i=e.i,s=this.w.config.fill;r&&(s=a(a({},s),r));var o,l=this.opts,c=new _(this.ctx),d=new x,u=s.gradient.type,h=t,f=void 0===s.gradient.opacityFrom?n:Array.isArray(s.gradient.opacityFrom)?s.gradient.opacityFrom[i]:s.gradient.opacityFrom;h.indexOf("rgba")>-1&&(f=x.getOpacityFromRGBA(h));var p=void 0===s.gradient.opacityTo?n:Array.isArray(s.gradient.opacityTo)?s.gradient.opacityTo[i]:s.gradient.opacityTo;if(void 0===s.gradient.gradientToColors||0===s.gradient.gradientToColors.length)o="dark"===s.gradient.shade?d.shadeColor(-1*parseFloat(s.gradient.shadeIntensity),t.indexOf("rgb")>-1?x.rgb2hex(t):t):d.shadeColor(parseFloat(s.gradient.shadeIntensity),t.indexOf("rgb")>-1?x.rgb2hex(t):t);else if(s.gradient.gradientToColors[l.seriesNumber]){var g=s.gradient.gradientToColors[l.seriesNumber];o=g,g.indexOf("rgba")>-1&&(p=x.getOpacityFromRGBA(g))}else o=t;if(s.gradient.gradientFrom&&(h=s.gradient.gradientFrom),s.gradient.gradientTo&&(o=s.gradient.gradientTo),s.gradient.inverseColors){var m=h;h=o,o=m}return h.indexOf("rgb")>-1&&(h=x.rgb2hex(h)),o.indexOf("rgb")>-1&&(o=x.rgb2hex(o)),c.drawGradient(u,h,o,f,p,l.size,s.gradient.stops,s.gradient.colorStops,i)}}]),e}(),B=function(){function e(t,n){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)void 0===e.globals.markers.size[t]&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map((function(t){return e.config.markers.size}))}},{key:"plotChartMarkers",value:function(e,t,n,r){var i,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this.w,o=t,l=e,c=null,d=new _(this.ctx),u=s.config.markers.discrete&&s.config.markers.discrete.length;if((s.globals.markers.size[t]>0||a||u)&&(c=d.group({class:a||u?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(l.x))for(var h=0;h<l.x.length;h++){var f=n;1===n&&0===h&&(f=0),1===n&&1===h&&(f=1);var p="apexcharts-marker";if("line"!==s.config.chart.type&&"area"!==s.config.chart.type||s.globals.comboCharts||s.config.tooltip.intersect||(p+=" no-pointer-events"),(Array.isArray(s.config.markers.size)?s.globals.markers.size[t]>0:s.config.markers.size>0)||a||u){x.isNumber(l.y[h])?p+=" w".concat(x.randomId()):p="apexcharts-nullpoint";var g=this.getMarkerConfig({cssClass:p,seriesIndex:t,dataPointIndex:f});s.config.series[o].data[f]&&(s.config.series[o].data[f].fillColor&&(g.pointFillColor=s.config.series[o].data[f].fillColor),s.config.series[o].data[f].strokeColor&&(g.pointStrokeColor=s.config.series[o].data[f].strokeColor)),r&&(g.pSize=r),(l.x[h]<0||l.x[h]>s.globals.gridWidth||l.y[h]<-s.globals.markers.largestSize||l.y[h]>s.globals.gridHeight+s.globals.markers.largestSize)&&(g.pSize=0),(i=d.drawMarker(l.x[h],l.y[h],g)).attr("rel",f),i.attr("j",f),i.attr("index",t),i.node.setAttribute("default-marker-size",g.pSize),new k(this.ctx).setSelectionFilter(i,t,f),this.addEvents(i),c&&c.add(i)}else void 0===s.globals.pointsArray[t]&&(s.globals.pointsArray[t]=[]),s.globals.pointsArray[t].push([l.x[h],l.y[h]])}return c}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,n=e.seriesIndex,r=e.dataPointIndex,i=void 0===r?null:r,a=e.finishRadius,s=void 0===a?null:a,o=this.w,l=this.getMarkerStyle(n),c=o.globals.markers.size[n],d=o.config.markers;return null!==i&&d.discrete.length&&d.discrete.map((function(e){e.seriesIndex===n&&e.dataPointIndex===i&&(l.pointStrokeColor=e.strokeColor,l.pointFillColor=e.fillColor,c=e.size,l.pointShape=e.shape)})),{pSize:null===s?c:s,pRadius:d.radius,width:Array.isArray(d.width)?d.width[n]:d.width,height:Array.isArray(d.height)?d.height[n]:d.height,pointStrokeWidth:Array.isArray(d.strokeWidth)?d.strokeWidth[n]:d.strokeWidth,pointStrokeColor:l.pointStrokeColor,pointFillColor:l.pointFillColor,shape:l.pointShape||(Array.isArray(d.shape)?d.shape[n]:d.shape),class:t,pointStrokeOpacity:Array.isArray(d.strokeOpacity)?d.strokeOpacity[n]:d.strokeOpacity,pointStrokeDashArray:Array.isArray(d.strokeDashArray)?d.strokeDashArray[n]:d.strokeDashArray,pointFillOpacity:Array.isArray(d.fillOpacity)?d.fillOpacity[n]:d.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var t=this.w,n=new _(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,n=t.globals.markers.colors,r=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(r)?r[e]:r,pointFillColor:Array.isArray(n)?n[e]:n}}}]),e}(),U=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return c(e,[{key:"draw",value:function(e,t,n){var r=this.w,i=new _(this.ctx),a=n.realIndex,s=n.pointsPos,o=n.zRatio,l=n.elParent,c=i.group({class:"apexcharts-series-markers apexcharts-series-".concat(r.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(s.x))for(var d=0;d<s.x.length;d++){var u=t+1,h=!0;0===t&&0===d&&(u=0),0===t&&1===d&&(u=1);var f=0,p=r.globals.markers.size[a];if(o!==1/0){var g=r.config.plotOptions.bubble;p=r.globals.seriesZ[a][u],g.zScaling&&(p/=o),g.minBubbleRadius&&p<g.minBubbleRadius&&(p=g.minBubbleRadius),g.maxBubbleRadius&&p>g.maxBubbleRadius&&(p=g.maxBubbleRadius)}r.config.chart.animations.enabled||(f=p);var m=s.x[d],v=s.y[d];if(f=f||0,null!==v&&void 0!==r.globals.series[a][u]||(h=!1),h){var b=this.drawPoint(m,v,f,p,a,u,t);c.add(b)}l.add(c)}}},{key:"drawPoint",value:function(e,t,n,r,i,a,s){var o=this.w,l=i,c=new w(this.ctx),d=new k(this.ctx),u=new G(this.ctx),h=new B(this.ctx),f=new _(this.ctx),p=h.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:a,finishRadius:"bubble"===o.config.chart.type||o.globals.comboCharts&&o.config.series[i]&&"bubble"===o.config.series[i].type?r:null});r=p.pSize;var g,m=u.fillPath({seriesNumber:i,dataPointIndex:a,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[i][s]});if("circle"===p.shape?g=f.drawCircle(n):"square"!==p.shape&&"rect"!==p.shape||(g=f.drawRect(0,0,p.width-p.pointStrokeWidth/2,p.height-p.pointStrokeWidth/2,p.pRadius)),o.config.series[l].data[a]&&o.config.series[l].data[a].fillColor&&(m=o.config.series[l].data[a].fillColor),g.attr({x:e-p.width/2-p.pointStrokeWidth/2,y:t-p.height/2-p.pointStrokeWidth/2,cx:e,cy:t,fill:m,"fill-opacity":p.pointFillOpacity,stroke:p.pointStrokeColor,r:r,"stroke-width":p.pointStrokeWidth,"stroke-dasharray":p.pointStrokeDashArray,"stroke-opacity":p.pointStrokeOpacity}),o.config.chart.dropShadow.enabled){var v=o.config.chart.dropShadow;d.dropShadow(g,v,i)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var b=o.config.chart.animations.speed;c.animateMarker(g,0,"circle"===p.shape?r:{width:p.width,height:p.height},b,o.globals.easing,(function(){window.setTimeout((function(){c.animationCompleted(g)}),100)}))}if(o.globals.dataChanged&&"circle"===p.shape)if(this.dynamicAnim){var y,x,S,C,A=o.config.chart.animations.dynamicAnimation.speed;null!=(C=o.globals.previousPaths[i]&&o.globals.previousPaths[i][s])&&(y=C.x,x=C.y,S=void 0!==C.r?C.r:r);for(var P=0;P<o.globals.collapsedSeries.length;P++)o.globals.collapsedSeries[P].index===i&&(A=1,r=0);0===e&&0===t&&(r=0),c.animateCircle(g,{cx:y,cy:x,r:S},{cx:e,cy:t,r:r},A,o.globals.easing)}else g.attr({r:r});return g.attr({rel:a,j:a,index:i,"default-marker-size":r}),d.setSelectionFilter(g,i,a),h.addEvents(g),g.node.classList.add("apexcharts-marker"),g}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),e}(),W=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"dataLabelsCorrection",value:function(e,t,n,r,i,a,s){var o=this.w,l=!1,c=new _(this.ctx).getTextRects(n,s),d=c.width,u=c.height;t<0&&(t=0),t>o.globals.gridHeight+u&&(t=o.globals.gridHeight+u/2),void 0===o.globals.dataLabelsRects[r]&&(o.globals.dataLabelsRects[r]=[]),o.globals.dataLabelsRects[r].push({x:e,y:t,width:d,height:u});var h=o.globals.dataLabelsRects[r].length-2,f=void 0!==o.globals.lastDrawnDataLabelsIndexes[r]?o.globals.lastDrawnDataLabelsIndexes[r][o.globals.lastDrawnDataLabelsIndexes[r].length-1]:0;if(void 0!==o.globals.dataLabelsRects[r][h]){var p=o.globals.dataLabelsRects[r][f];(e>p.x+p.width||t>p.y+p.height||t+u<p.y||e+d<p.x)&&(l=!0)}return(0===i||a)&&(l=!0),{x:e,y:t,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(e){var t=this,n=e.type,r=e.pos,i=e.i,a=e.j,s=e.isRangeStart,o=e.strokeWidth,l=void 0===o?2:o,c=this.w,d=new _(this.ctx),u=c.config.dataLabels,h=0,f=0,p=a,g=null;if(!u.enabled||!Array.isArray(r.x))return g;g=d.group({class:"apexcharts-data-labels"});for(var m=0;m<r.x.length;m++)if(h=r.x[m]+u.offsetX,f=r.y[m]+u.offsetY+l,!isNaN(h)){1===a&&0===m&&(p=0),1===a&&1===m&&(p=1);var v=c.globals.series[i][p];"rangeArea"===n&&(v=s?c.globals.seriesRangeStart[i][p]:c.globals.seriesRangeEnd[i][p]);var b="",y=function(e){return c.config.dataLabels.formatter(e,{ctx:t.ctx,seriesIndex:i,dataPointIndex:p,w:c})};"bubble"===c.config.chart.type?(b=y(v=c.globals.seriesZ[i][p]),f=r.y[m],f=new U(this.ctx).centerTextInBubble(f,i,p).y):void 0!==v&&(b=y(v)),this.plotDataLabelsText({x:h,y:f,text:b,i:i,j:p,parent:g,offsetCorrection:!0,dataLabelsConfig:c.config.dataLabels})}return g}},{key:"plotDataLabelsText",value:function(e){var t=this.w,n=new _(this.ctx),r=e.x,i=e.y,a=e.i,s=e.j,o=e.text,l=e.textAnchor,c=e.fontSize,d=e.parent,u=e.dataLabelsConfig,h=e.color,f=e.alwaysDrawDataLabel,p=e.offsetCorrection;if(!(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(a)<0)){var g={x:r,y:i,drawnextLabel:!0,textRects:null};p&&(g=this.dataLabelsCorrection(r,i,o,a,s,f,parseInt(u.style.fontSize,10))),t.globals.zoomed||(r=g.x,i=g.y),g.textRects&&(r<-20-g.textRects.width||r>t.globals.gridWidth+g.textRects.width+30)&&(o="");var m=t.globals.dataLabels.style.colors[a];(("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(m=t.globals.dataLabels.style.colors[s]),"function"==typeof m&&(m=m({series:t.globals.series,seriesIndex:a,dataPointIndex:s,w:t})),h&&(m=h);var v=u.offsetX,b=u.offsetY;if("bar"!==t.config.chart.type&&"rangeBar"!==t.config.chart.type||(v=0,b=0),g.drawnextLabel){var y=n.drawText({width:100,height:parseInt(u.style.fontSize,10),x:r+v,y:i+b,foreColor:m,textAnchor:l||u.textAnchor,text:o,fontSize:c||u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight||"normal"});if(y.attr({class:"apexcharts-datalabel",cx:r,cy:i}),u.dropShadow.enabled){var x=u.dropShadow;new k(this.ctx).dropShadow(y,x)}d.add(y),void 0===t.globals.lastDrawnDataLabelsIndexes[a]&&(t.globals.lastDrawnDataLabelsIndexes[a]=[]),t.globals.lastDrawnDataLabelsIndexes[a].push(s)}}}},{key:"addBackgroundToDataLabel",value:function(e,t){var n=this.w,r=n.config.dataLabels.background,i=r.padding,a=r.padding/2,s=t.width,o=t.height,l=new _(this.ctx).drawRect(t.x-i,t.y-a/2,s+2*i,o+a,r.borderRadius,"transparent"===n.config.chart.background?"#fff":n.config.chart.background,r.opacity,r.borderWidth,r.borderColor);return r.dropShadow.enabled&&new k(this.ctx).dropShadow(l,r.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var e=this.w;if("bubble"!==e.config.chart.type)for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<t.length;n++){var r=t[n],i=r.getBBox(),a=null;if(i.width&&i.height&&(a=this.addBackgroundToDataLabel(r,i)),a){r.parentNode.insertBefore(a.node,r);var s=r.getAttribute("fill");!e.config.chart.animations.enabled||e.globals.resized||e.globals.dataChanged?a.attr({fill:s}):a.animate().attr({fill:s}),r.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),r=0;r<t.length;r++)n&&n.insertBefore(t[r],n.nextSibling)}}]),e}(),H=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return c(e,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(x.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),n=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,t){var n=this.w;function r(n){for(var r=0;r<n.length;r++)n[r].index===t&&e.node.classList.add("apexcharts-series-collapsed")}r(n.globals.collapsedSeries),r(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.w,i=x.clone(r.globals.initialSeries);r.globals.previousPaths=[],n?(r.globals.collapsedSeries=[],r.globals.ancillaryCollapsedSeries=[],r.globals.collapsedSeriesIndices=[],r.globals.ancillaryCollapsedSeriesIndices=[]):i=this.emptyCollapsedSeries(i),r.config.series=i,e&&(t&&(r.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(i,r.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,n=0;n<e.length;n++)t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"toggleSeriesOnHover",value:function(e,t){var n=this.w;t||(t=e.target);var r=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===e.type){var i=parseInt(t.getAttribute("rel"),10)-1,a=null,s=null;n.globals.axisCharts||"radialBar"===n.config.chart.type?n.globals.axisCharts?(a=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"']")),s=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(i,"']"))):a=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"']")):a=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"'] path"));for(var o=0;o<r.length;o++)r[o].classList.add(this.legendInactiveClass);null!==a&&(n.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),null!==s&&s.classList.remove(this.legendInactiveClass))}else if("mouseout"===e.type)for(var l=0;l<r.length;l++)r[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var n=this,r=this.w,i=r.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(e){for(var t=0;t<i.length;t++)i[t].classList[e](n.legendInactiveClass)};if("mousemove"===e.type){var s=parseInt(t.getAttribute("rel"),10)-1;a("add"),function(e){for(var t=0;t<i.length;t++){var r=parseInt(i[t].getAttribute("val"),10);r>=e.from&&r<=e.to&&i[t].classList.remove(n.legendInactiveClass)}}(r.config.plotOptions.heatmap.colorScale.ranges[s])}else"mouseout"===e.type&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.w,r=0;if(n.config.series.length>1)for(var i=n.config.series.map((function(e,r){return e.data&&e.data.length>0&&-1===n.globals.collapsedSeriesIndices.indexOf(r)&&(!n.globals.comboCharts||0===t.length||t.length&&t.indexOf(n.config.series[r].type)>-1)?r:-1})),a="asc"===e?0:i.length-1;"asc"===e?a<i.length:a>=0;"asc"===e?a++:a--)if(-1!==i[a]){r=i[a];break}return r}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(e,t){return"bar"===e.type||"column"===e.type?t:-1})).filter((function(e){return-1!==e})):this.w.config.series.map((function(e,t){return t}))}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(t,n,r){for(var i=t[n].childNodes,a={type:r,paths:[],realIndex:t[n].getAttribute("data:realIndex")},s=0;s<i.length;s++)if(i[s].hasAttribute("pathTo")){var o=i[s].getAttribute("pathTo");a.paths.push({d:o})}e.globals.previousPaths.push(a)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(n){for(var r,i=(r=n,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(r,"-series .apexcharts-series"))),a=0;a<i.length;a++)t(i,a,n)})),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var r=function(t){for(var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(t,"'] rect")),r=[],i=function(e){var t=function(t){return n[e].getAttribute(t)},i={x:parseFloat(t("x")),y:parseFloat(t("y")),width:parseFloat(t("width")),height:parseFloat(t("height"))};r.push({rect:i,color:n[e].getAttribute("color")})},a=0;a<n.length;a++)i(a);e.globals.previousPaths.push(r)},i=0;i<n.length;i++)r(i);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(e){var t=this.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series"));if(n.length>0)for(var r=0;r<n.length;r++){for(var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series[data\\:realIndex='").concat(r,"'] circle")),a=[],s=0;s<i.length;s++)a.push({x:i[s].getAttribute("cx"),y:i[s].getAttribute("cy"),r:i[s].getAttribute("r")});t.globals.previousPaths.push(a)}}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,n=new _(this.ctx),r=e.globals.svgWidth/2,i=e.globals.svgHeight/2,a="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,"left"===t.align?(r=10,a="start"):"right"===t.align&&(r=e.globals.svgWidth-10,a="end"),"top"===t.verticalAlign?i=50:"bottom"===t.verticalAlign&&(i=e.globals.svgHeight-50),r+=t.offsetX,i=i+parseInt(t.style.fontSize,10)+2+t.offsetY,void 0!==t.text&&""!==t.text){var s=n.drawText({x:r,y:i,text:t.text,textAnchor:a,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(s)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,n=0;n<e.length;n++)if(0===e[n].length)for(var r=0;r<e[t.globals.maxValsInArrayIndex].length;r++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,n=this.filteredSeriesX(),r=0;r<n.length-1;r++)if(n[r][0]!==n[r+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map((function(e){return e.length>0?e:[]}))}}]),e}(),V=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new S(this.ctx)}return c(e,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new H(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!==e[this.activeSeriesIndex].data[0]&&void 0!==e[this.activeSeriesIndex].data[0].x&&null!==e[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new H(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&void 0!==e[this.activeSeriesIndex].data[0]&&null!==e[this.activeSeriesIndex].data[0]&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var n=this.w.config,r=this.w.globals,i="boxPlot"===n.chart.type||"boxPlot"===n.series[t].type,a=0;a<e[t].data.length;a++)if(void 0!==e[t].data[a][1]&&(Array.isArray(e[t].data[a][1])&&4===e[t].data[a][1].length&&!i?this.twoDSeries.push(x.parseNumber(e[t].data[a][1][3])):e[t].data[a].length>=5?this.twoDSeries.push(x.parseNumber(e[t].data[a][4])):this.twoDSeries.push(x.parseNumber(e[t].data[a][1])),r.dataFormatXNumeric=!0),"datetime"===n.xaxis.type){var s=new Date(e[t].data[a][0]);s=new Date(s).getTime(),this.twoDSeriesX.push(s)}else this.twoDSeriesX.push(e[t].data[a][0]);for(var o=0;o<e[t].data.length;o++)void 0!==e[t].data[o][2]&&(this.threeDSeries.push(e[t].data[o][2]),r.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var n=this.w.config,r=this.w.globals,i=new M(this.ctx),a=t;r.collapsedSeriesIndices.indexOf(t)>-1&&(a=this.activeSeriesIndex);for(var s=0;s<e[t].data.length;s++)void 0!==e[t].data[s].y&&(Array.isArray(e[t].data[s].y)?this.twoDSeries.push(x.parseNumber(e[t].data[s].y[e[t].data[s].y.length-1])):this.twoDSeries.push(x.parseNumber(e[t].data[s].y))),void 0!==e[t].data[s].goals&&Array.isArray(e[t].data[s].goals)?(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[s].goals)):(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var o=0;o<e[a].data.length;o++){var l="string"==typeof e[a].data[o].x,c=Array.isArray(e[a].data[o].x),d=!c&&!!i.isValidDate(e[a].data[o].x);if(l||d)if(l||n.xaxis.convertedCatToNumeric){var u=r.isBarHorizontal&&r.isRangeData;"datetime"!==n.xaxis.type||u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[o].x),isNaN(e[a].data[o].x)||"category"===this.w.config.xaxis.type||"string"==typeof e[a].data[o].x||(r.isXNumeric=!0)):this.twoDSeriesX.push(i.parseDate(e[a].data[o].x))}else"datetime"===n.xaxis.type?this.twoDSeriesX.push(i.parseDate(e[a].data[o].x.toString())):(r.dataFormatXNumeric=!0,r.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[a].data[o].x)));else c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[o].x)):(r.isXNumeric=!0,r.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[a].data[o].x))}if(e[t].data[0]&&void 0!==e[t].data[0].z){for(var h=0;h<e[t].data.length;h++)this.threeDSeries.push(e[t].data[h].z);r.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var n=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",e,t)),n.seriesRangeStart.push(r.start),n.seriesRangeEnd.push(r.end),n.seriesRange.push(r.rangeUniques),n.seriesRange.forEach((function(e,t){e&&e.forEach((function(e,t){e.y.forEach((function(t,n){for(var r=0;r<e.y.length;r++)if(n!==r){var i=t.y1,a=t.y2,s=e.y[r].y1;i<=e.y[r].y2&&s<=a&&(e.overlaps.indexOf(t.rangeName)<0&&e.overlaps.push(t.rangeName),e.overlaps.indexOf(e.y[r].rangeName)<0&&e.overlaps.push(e.y[r].rangeName))}}))}))})),r}},{key:"handleCandleStickBoxData",value:function(e,t){var n=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleCandleStickBoxDataFormat("xy",e,t)),n.seriesCandleO[t]=r.o,n.seriesCandleH[t]=r.h,n.seriesCandleM[t]=r.m,n.seriesCandleL[t]=r.l,n.seriesCandleC[t]=r.c,r}},{key:"handleRangeDataFormat",value:function(e,t,n){var r=[],i=[],a=t[n].data.filter((function(e,t,n){return t===n.findIndex((function(t){return t.x===e.x}))})).map((function(e,t){return{x:e.x,overlaps:[],y:[]}}));if("array"===e)for(var s=0;s<t[n].data.length;s++)Array.isArray(t[n].data[s])?(r.push(t[n].data[s][1][0]),i.push(t[n].data[s][1][1])):(r.push(t[n].data[s]),i.push(t[n].data[s]));else if("xy"===e)for(var o=function(e){var s=Array.isArray(t[n].data[e].y),o=x.randomId(),l=t[n].data[e].x,c={y1:s?t[n].data[e].y[0]:t[n].data[e].y,y2:s?t[n].data[e].y[1]:t[n].data[e].y,rangeName:o};t[n].data[e].rangeName=o;var d=a.findIndex((function(e){return e.x===l}));a[d].y.push(c),r.push(c.y1),i.push(c.y2)},l=0;l<t[n].data.length;l++)o(l);return{start:r,end:i,rangeUniques:a}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,n){var r=this.w,i="boxPlot"===r.config.chart.type||"boxPlot"===r.config.series[n].type,a=[],s=[],o=[],l=[],c=[];if("array"===e)if(i&&6===t[n].data[0].length||!i&&5===t[n].data[0].length)for(var d=0;d<t[n].data.length;d++)a.push(t[n].data[d][1]),s.push(t[n].data[d][2]),i?(o.push(t[n].data[d][3]),l.push(t[n].data[d][4]),c.push(t[n].data[d][5])):(l.push(t[n].data[d][3]),c.push(t[n].data[d][4]));else for(var u=0;u<t[n].data.length;u++)Array.isArray(t[n].data[u][1])&&(a.push(t[n].data[u][1][0]),s.push(t[n].data[u][1][1]),i?(o.push(t[n].data[u][1][2]),l.push(t[n].data[u][1][3]),c.push(t[n].data[u][1][4])):(l.push(t[n].data[u][1][2]),c.push(t[n].data[u][1][3])));else if("xy"===e)for(var h=0;h<t[n].data.length;h++)Array.isArray(t[n].data[h].y)&&(a.push(t[n].data[h].y[0]),s.push(t[n].data[h].y[1]),i?(o.push(t[n].data[h].y[2]),l.push(t[n].data[h].y[3]),c.push(t[n].data[h].y[4])):(l.push(t[n].data[h].y[2]),c.push(t[n].data[h].y[3])));return{o:a,h:s,m:o,l:l,c:c}}},{key:"parseDataAxisCharts",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,i=this.w.config,a=this.w.globals,s=new M(r),o=i.labels.length>0?i.labels.slice():i.xaxis.categories.slice();if(a.isRangeBar="rangeBar"===i.chart.type&&a.isBarHorizontal,a.hasXaxisGroups="category"===i.xaxis.type&&i.xaxis.group.groups.length>0,a.hasXaxisGroups&&(a.groups=i.xaxis.group.groups),a.hasSeriesGroups=null===(t=e[0])||void 0===t?void 0:t.group,a.hasSeriesGroups){var l=[],c=v(new Set(e.map((function(e){return e.group}))));e.forEach((function(e,t){var n=c.indexOf(e.group);l[n]||(l[n]=[]),l[n].push(e.name)})),a.seriesGroups=l}for(var d=function(){for(var e=0;e<o.length;e++)if("string"==typeof o[e]){if(!s.isValidDate(o[e]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");n.twoDSeriesX.push(s.parseDate(o[e]))}else n.twoDSeriesX.push(o[e])},u=0;u<e.length;u++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===e[u].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==i.chart.type&&"rangeArea"!==i.chart.type&&"rangeBar"!==e[u].type&&"rangeArea"!==e[u].type||(a.isRangeData=!0,"rangeBar"!==i.chart.type&&"rangeArea"!==i.chart.type||this.handleRangeData(e,u)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,u):this.isFormatXY()&&this.handleFormatXY(e,u),"candlestick"!==i.chart.type&&"candlestick"!==e[u].type&&"boxPlot"!==i.chart.type&&"boxPlot"!==e[u].type||this.handleCandleStickBoxData(e,u),a.series.push(this.twoDSeries),a.labels.push(this.twoDSeriesX),a.seriesX.push(this.twoDSeriesX),a.seriesGoals=this.seriesGoals,u!==this.activeSeriesIndex||this.fallbackToCategory||(a.isXNumeric=!0);else{"datetime"===i.xaxis.type?(a.isXNumeric=!0,d(),a.seriesX.push(this.twoDSeriesX)):"numeric"===i.xaxis.type&&(a.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,a.seriesX.push(this.twoDSeriesX))),a.labels.push(this.twoDSeriesX);var h=e[u].data.map((function(e){return x.parseNumber(e)}));a.series.push(h)}a.seriesZ.push(this.threeDSeries),void 0!==e[u].name?a.seriesNames.push(e[u].name):a.seriesNames.push("series-"+parseInt(u+1,10)),void 0!==e[u].color?a.seriesColors.push(e[u].color):a.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,n=this.w.config;t.series=e.slice(),t.seriesNames=n.labels.slice();for(var r=0;r<t.series.length;r++)void 0===t.seriesNames[r]&&t.seriesNames.push("series-"+(r+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,n=this.w.globals;t.xaxis.categories.length>0?n.labels=t.xaxis.categories:t.labels.length>0?n.labels=t.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRange.length&&(n.seriesRange.map((function(e){e.forEach((function(e){n.labels.indexOf(e.x)<0&&e.x&&n.labels.push(e.x)}))})),n.labels=Array.from(new Set(n.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new L(t).convertCatToNumericXaxis(t,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,n=this.w.config,r=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var i=n.series.map((function(e,t){return e.data.filter((function(e,t,n){return n.findIndex((function(t){return t.x===e.x}))===t}))})),a=i.reduce((function(e,t,n,r){return r[e].length>t.length?e:n}),0),s=0;s<i[a].length;s++)r.push(s+1);else for(var o=0;o<t.series[t.maxValsInArrayIndex].length;o++)r.push(o+1);t.seriesX=[];for(var l=0;l<e.length;l++)t.seriesX.push(r);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(0===r.length){r=t.axisCharts?[]:t.series.map((function(e,t){return t+1}));for(var c=0;c<e.length;c++)t.seriesX.push(r)}t.labels=r,n.xaxis.convertedCatToNumeric&&(t.categoryLabels=r.map((function(e){return n.xaxis.labels.formatter(e)}))),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,n=t.config,r=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),r.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),n.chart.stacked){var i=new H(this.ctx);r.series=i.setNullSeriesToZeroValues(r.series)}this.coreUtils.getSeriesTotals(),r.axisCharts&&(r.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),r.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),r.dataFormatXNumeric||r.isXNumeric&&("numeric"!==n.xaxis.type||0!==n.labels.length||0!==n.xaxis.categories.length)||this.handleExternalLabelsData(e);for(var a=this.coreUtils.getCategoryLabels(r.labels),s=0;s<a.length;s++)if(Array.isArray(a[s])){r.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this,t=this.w;t.globals.ignoreYAxisIndexes=t.globals.collapsedSeries.map((function(n,r){if(e.w.globals.isMultipleYAxis&&!t.config.chart.stacked)return n.index}))}}]),e}(),Y=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"getLabel",value:function(e,t,n,r){var i,a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=this.w,d=void 0===e[r]?"":e[r],u=d,h=c.globals.xLabelFormatter,f=c.config.xaxis.labels.formatter,p=!1,g=new F(this.ctx),m=d;l&&(u=g.xLabelFormat(h,d,m,{i:r,dateFormatter:new M(this.ctx).formatDate,w:c}),void 0!==f&&(u=f(d,e[r],{i:r,dateFormatter:new M(this.ctx).formatDate,w:c}))),t.length>0?(i=t[r].unit,a=null,t.forEach((function(e){"month"===e.unit?a="year":"day"===e.unit?a="month":"hour"===e.unit?a="day":"minute"===e.unit&&(a="hour")})),p=a===i,n=t[r].position,u=t[r].value):"datetime"===c.config.xaxis.type&&void 0===f&&(u=""),void 0===u&&(u=""),u=Array.isArray(u)?u:u.toString();var v,b=new _(this.ctx);v=c.globals.rotateXLabels&&l?b.getTextRects(u,parseInt(o,10),null,"rotate(".concat(c.config.xaxis.labels.rotate," 0 0)"),!1):b.getTextRects(u,parseInt(o,10));var y=!c.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&("NaN"===String(u)||s.indexOf(u)>=0&&y)&&(u=""),{x:n,text:u,textRect:v,isBold:p}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,n){var r=this.w,i=r.config.xaxis.tickAmount;return"dataPoints"===i&&(i=Math.round(r.globals.gridWidth/120)),i>n||e%Math.round(n/(i+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,n,r,i){var a=this.w;if(0===e&&a.globals.skipFirstTimelinelabel&&(t.text=""),e===n-1&&a.globals.skipLastTimelinelabel&&(t.text=""),a.config.xaxis.labels.hideOverlappingLabels&&r.length>0){var s=i[i.length-1];t.x<s.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+s.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&t.reverse(),t}},{key:"isYAxisHidden",value:function(e){var t=this.w,n=new S(this.ctx);return!t.config.yaxis[e].show||!t.config.yaxis[e].showForNullSeries&&n.isSeriesNull(e)&&-1===t.globals.collapsedSeriesIndices.indexOf(e)}},{key:"getYAxisForeColor",value:function(e,t){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,n,r,i,a,s){var o=this.w,l=new _(this.ctx),c=o.globals.translateY;if(r.show&&t>0){!0===o.config.yaxis[i].opposite&&(e+=r.width);for(var d=t;d>=0;d--){var u=c+t/10+o.config.yaxis[i].labels.offsetY-1;o.globals.isBarHorizontal&&(u=a*d),"heatmap"===o.config.chart.type&&(u+=a/2);var h=l.drawLine(e+n.offsetX-r.width+r.offsetX,u+r.offsetY,e+n.offsetX+r.offsetX,u+r.offsetY,r.color);s.add(h),c+=a}}}}]),e}(),X=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"scaleSvgNode",value:function(e,t){var n=parseFloat(e.getAttributeNS(null,"width")),r=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*t),e.setAttributeNS(null,"height",r*t),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+r)}},{key:"fixSvgStringForIe11",value:function(e){if(!x.isIE11())return e.replace(/&nbsp;/g,"&#160;");var t=0,n=e.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,(function(e){return 2===++t?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':e}));return(n=n.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(e){null==e&&(e=1);var t=this.w.globals.dom.Paper.svg();if(1!==e){var n=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(n,e),t=(new XMLSerializer).serializeToString(n)}return this.fixSvgStringForIe11(t)}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),n=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(r,(function(e){e.setAttribute("width",0)})),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),n&&n[0]&&(n[0].setAttribute("y",-100),n[0].setAttribute("y1",-100),n[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var e=this.getSvgString(),t=new Blob([e],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)}},{key:"dataURI",value:function(e){var t=this;return new Promise((function(n){var r=t.w,i=e?e.scale||e.width/r.globals.svgWidth:1;t.cleanup();var a=document.createElement("canvas");a.width=r.globals.svgWidth*i,a.height=parseInt(r.globals.dom.elWrap.style.height,10)*i;var s="transparent"===r.config.chart.background?"#fff":r.config.chart.background,o=a.getContext("2d");o.fillStyle=s,o.fillRect(0,0,a.width*i,a.height*i);var l=t.getSvgString(i);if(window.canvg&&x.isIE11()){var c=window.canvg.Canvg.fromString(o,l,{ignoreClear:!0,ignoreDimensions:!0});c.start();var d=a.msToBlob();c.stop(),n({blob:d})}else{var u="data:image/svg+xml,"+encodeURIComponent(l),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(o.drawImage(h,0,0),a.msToBlob){var e=a.msToBlob();n({blob:e})}else{var t=a.toDataURL("image/png");n({imgURI:t})}},h.src=u}}))}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var e=this;this.dataURI().then((function(t){var n=t.imgURI,r=t.blob;r?navigator.msSaveOrOpenBlob(r,e.w.globals.chartID+".png"):e.triggerDownload(n,e.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(e){var t=this,n=e.series,r=e.fileName,i=e.columnDelimiter,a=void 0===i?",":i,s=e.lineDelimiter,o=void 0===s?"\n":s,l=this.w;n||(n=l.config.series);var c,d,u=[],h=[],f="",p=l.globals.series.map((function(e,t){return-1===l.globals.collapsedSeriesIndices.indexOf(t)?e:[]})),g=function(e){return"datetime"===l.config.xaxis.type&&String(e).length>=10},m=Math.max.apply(Math,v(n.map((function(e){return e.data?e.data.length:0})))),b=new V(this.ctx),y=new Y(this.ctx),w=function(e){var n="";if(l.globals.axisCharts){if("category"===l.config.xaxis.type||l.config.xaxis.convertedCatToNumeric)if(l.globals.isBarHorizontal){var r=l.globals.yLabelFormatters[0],i=new H(t.ctx).getActiveConfigSeriesIndex();n=r(l.globals.labels[e],{seriesIndex:i,dataPointIndex:e,w:l})}else n=y.getLabel(l.globals.labels,l.globals.timescaleLabels,0,e).text;"datetime"===l.config.xaxis.type&&(l.config.xaxis.categories.length?n=l.config.xaxis.categories[e]:l.config.labels.length&&(n=l.config.labels[e]))}else n=l.config.labels[e];return Array.isArray(n)&&(n=n.join(" ")),x.isNumber(n)?n:n.split(a).join("")};u.push(l.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===l.config.chart.type?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):"candlestick"===l.config.chart.type?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):"rangeBar"===l.config.chart.type?(u.push("minimum"),u.push("maximum")):n.map((function(e,t){var n=(e.name?e.name:"series-".concat(t))+"";l.globals.axisCharts&&u.push(n.split(a).join("")?n.split(a).join(""):"series-".concat(t))})),l.globals.axisCharts||(u.push(l.config.chart.toolbar.export.csv.headerValue),h.push(u.join(a))),l.globals.allSeriesHasEqualX||!l.globals.axisCharts||l.config.xaxis.categories.length||l.config.labels.length?n.map((function(e,t){l.globals.axisCharts?function(e,t){if(u.length&&0===t&&h.push(u.join(a)),e.data){e.data=e.data.length&&e.data||v(Array(m)).map((function(){return""}));for(var r=0;r<e.data.length;r++){u=[];var i=w(r);if(i||(b.isFormatXY()?i=n[t].data[r].x:b.isFormat2DArray()&&(i=n[t].data[r]?n[t].data[r][0]:"")),0===t){u.push(g(i)?l.config.chart.toolbar.export.csv.dateFormatter(i):x.isNumber(i)?i:i.split(a).join(""));for(var s=0;s<l.globals.series.length;s++){var o;b.isFormatXY()?u.push(null===(o=n[s].data[r])||void 0===o?void 0:o.y):u.push(p[s][r])}}("candlestick"===l.config.chart.type||e.type&&"candlestick"===e.type)&&(u.pop(),u.push(l.globals.seriesCandleO[t][r]),u.push(l.globals.seriesCandleH[t][r]),u.push(l.globals.seriesCandleL[t][r]),u.push(l.globals.seriesCandleC[t][r])),("boxPlot"===l.config.chart.type||e.type&&"boxPlot"===e.type)&&(u.pop(),u.push(l.globals.seriesCandleO[t][r]),u.push(l.globals.seriesCandleH[t][r]),u.push(l.globals.seriesCandleM[t][r]),u.push(l.globals.seriesCandleL[t][r]),u.push(l.globals.seriesCandleC[t][r])),"rangeBar"===l.config.chart.type&&(u.pop(),u.push(l.globals.seriesRangeStart[t][r]),u.push(l.globals.seriesRangeEnd[t][r])),u.length&&h.push(u.join(a))}}}(e,t):((u=[]).push(l.globals.labels[t].split(a).join("")),u.push(p[t]),h.push(u.join(a)))})):(c=new Set,d={},n.forEach((function(e,t){null==e||e.data.forEach((function(e){var r,i;if(b.isFormatXY())r=e.x,i=e.y;else{if(!b.isFormat2DArray())return;r=e[0],i=e[1]}d[r]||(d[r]=Array(n.length).fill("")),d[r][t]=i,c.add(r)}))})),u.length&&h.push(u.join(a)),Array.from(c).sort().forEach((function(e){h.push([g(e)&&"datetime"===l.config.xaxis.type?l.config.chart.toolbar.export.csv.dateFormatter(e):x.isNumber(e)?e:e.split(a).join(""),d[e].join(a)])}))),f+=h.join(o),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+f),r||l.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,n){var r=document.createElement("a");r.href=e,r.download=(t||this.w.globals.chartID)+n,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}]),e}(),q=function(){function e(t,n){o(this,e),this.ctx=t,this.elgrid=n,this.w=t.w;var r=this.w;this.axesUtils=new Y(t),this.xaxisLabels=r.globals.labels.slice(),r.globals.timescaleLabels.length>0&&!r.globals.isBarHorizontal&&(this.xaxisLabels=r.globals.timescaleLabels.slice()),r.config.xaxis.overwriteCategories&&(this.xaxisLabels=r.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===r.config.xaxis.position?this.offY=0:this.offY=r.globals.gridHeight+1,this.offY=this.offY+r.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===r.config.chart.type&&r.config.plotOptions.bar.horizontal,this.xaxisFontSize=r.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=r.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=r.config.xaxis.labels.style.colors,this.xaxisBorderWidth=r.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=r.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=r.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=r.config.xaxis.axisBorder.height,this.yaxis=r.config.yaxis[0]}return c(e,[{key:"drawXaxis",value:function(){var e=this.w,t=new _(this.ctx),n=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),r=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(r);for(var i=[],a=0;a<this.xaxisLabels.length;a++)i.push(this.xaxisLabels[a]);if(this.drawXAxisLabelAndGroup(!0,t,r,i,e.globals.isXNumeric,(function(e,t){return t})),e.globals.hasXaxisGroups){var s=e.globals.groups;i=[];for(var o=0;o<s.length;o++)i.push(s[o].title);var l={};e.config.xaxis.group.style&&(l.xaxisFontSize=e.config.xaxis.group.style.fontSize,l.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,l.xaxisForeColors=e.config.xaxis.group.style.colors,l.fontWeight=e.config.xaxis.group.style.fontWeight,l.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,r,i,!1,(function(e,t){return s[e].cols*t}),l)}if(void 0!==e.config.xaxis.title.text){var c=t.group({class:"apexcharts-xaxis-title"}),d=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===e.config.xaxis.position?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});c.add(d),n.add(c)}if(e.config.xaxis.axisBorder.show){var u=e.globals.barPadForNumericAxis,h=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-u,this.offY,this.xaxisBorderWidth+u,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(h):n.add(h)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,t,n,r,i,a){var s,o=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=[],d=[],u=this.w,h=l.xaxisFontSize||this.xaxisFontSize,f=l.xaxisFontFamily||this.xaxisFontFamily,p=l.xaxisForeColors||this.xaxisForeColors,g=l.fontWeight||u.config.xaxis.labels.style.fontWeight,m=l.cssClass||u.config.xaxis.labels.style.cssClass,v=u.globals.padHorizontal,b=r.length,y="category"===u.config.xaxis.type?u.globals.dataPoints:b;if(0===y&&b>y&&(y=b),i){var x=y>1?y-1:y;s=u.globals.gridWidth/Math.min(x,b-1),v=v+a(0,s)/2+u.config.xaxis.labels.offsetX}else s=u.globals.gridWidth/y,v=v+a(0,s)+u.config.xaxis.labels.offsetX;for(var w=function(i){var l=v-a(i,s)/2+u.config.xaxis.labels.offsetX;0===i&&1===b&&s/2===v&&1===y&&(l=u.globals.gridWidth/2);var x=o.axesUtils.getLabel(r,u.globals.timescaleLabels,l,i,c,h,e),w=28;if(u.globals.rotateXLabels&&e&&(w=22),u.config.xaxis.title.text&&"top"===u.config.xaxis.position&&(w+=parseFloat(u.config.xaxis.title.style.fontSize)+2),e||(w=w+parseFloat(h)+(u.globals.xAxisLabelsHeight-u.globals.xAxisGroupLabelsHeight)+(u.globals.rotateXLabels?10:0)),x=void 0!==u.config.xaxis.tickAmount&&"dataPoints"!==u.config.xaxis.tickAmount&&"datetime"!==u.config.xaxis.type?o.axesUtils.checkLabelBasedOnTickamount(i,x,b):o.axesUtils.checkForOverflowingLabels(i,x,b,c,d),u.config.xaxis.labels.show){var k=t.drawText({x:x.x,y:o.offY+u.config.xaxis.labels.offsetY+w-("top"===u.config.xaxis.position?u.globals.xAxisHeight+u.config.xaxis.axisTicks.height-2:0),text:x.text,textAnchor:"middle",fontWeight:x.isBold?600:g,fontSize:h,fontFamily:f,foreColor:Array.isArray(p)?e&&u.config.xaxis.convertedCatToNumeric?p[u.globals.minX+i-1]:p[i]:p,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+m});if(n.add(k),k.on("click",(function(e){if("function"==typeof u.config.chart.events.xAxisLabelClick){var t=Object.assign({},u,{labelIndex:i});u.config.chart.events.xAxisLabelClick(e,o.ctx,t)}})),e){var _=document.createElementNS(u.globals.SVGNS,"title");_.textContent=Array.isArray(x.text)?x.text.join(" "):x.text,k.node.appendChild(_),""!==x.text&&(c.push(x.text),d.push(x))}}i<b-1&&(v+=a(i+1,s))},k=0;k<=b-1;k++)w(k)}},{key:"drawXaxisInversed",value:function(e){var t,n,r=this,i=this.w,a=new _(this.ctx),s=i.config.yaxis[0].opposite?i.globals.translateYAxisX[e]:0,o=a.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),l=a.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+s+", 0)"});o.add(l);var c=[];if(i.config.yaxis[e].show)for(var d=0;d<this.xaxisLabels.length;d++)c.push(this.xaxisLabels[d]);t=i.globals.gridHeight/c.length,n=-t/2.2;var u=i.globals.yLabelFormatters[0],h=i.config.yaxis[0].labels;if(h.show)for(var f=function(s){var o=void 0===c[s]?"":c[s];o=u(o,{seriesIndex:e,dataPointIndex:s,w:i});var d=r.axesUtils.getYAxisForeColor(h.style.colors,e),f=0;Array.isArray(o)&&(f=o.length/2*parseInt(h.style.fontSize,10));var p=h.offsetX-15,g="end";r.yaxis.opposite&&(g="start"),"left"===i.config.yaxis[0].labels.align?(p=h.offsetX,g="start"):"center"===i.config.yaxis[0].labels.align?(p=h.offsetX,g="middle"):"right"===i.config.yaxis[0].labels.align&&(g="end");var m=a.drawText({x:p,y:n+t+h.offsetY-f,text:o,textAnchor:g,foreColor:Array.isArray(d)?d[s]:d,fontSize:h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+h.style.cssClass,maxWidth:h.maxWidth});l.add(m),m.on("click",(function(e){if("function"==typeof i.config.chart.events.xAxisLabelClick){var t=Object.assign({},i,{labelIndex:s});i.config.chart.events.xAxisLabelClick(e,r.ctx,t)}}));var v=document.createElementNS(i.globals.SVGNS,"title");if(v.textContent=Array.isArray(o)?o.join(" "):o,m.node.appendChild(v),0!==i.config.yaxis[e].labels.rotate){var b=a.rotateAroundCenter(m.node);m.node.setAttribute("transform","rotate(".concat(i.config.yaxis[e].labels.rotate," 0 ").concat(b.y,")"))}n+=t},p=0;p<=c.length-1;p++)f(p);if(void 0!==i.config.yaxis[0].title.text){var g=a.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+s+", 0)"}),m=a.drawText({x:i.config.yaxis[0].title.offsetX,y:i.globals.gridHeight/2+i.config.yaxis[0].title.offsetY,text:i.config.yaxis[0].title.text,textAnchor:"middle",foreColor:i.config.yaxis[0].title.style.color,fontSize:i.config.yaxis[0].title.style.fontSize,fontWeight:i.config.yaxis[0].title.style.fontWeight,fontFamily:i.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[0].title.style.cssClass});g.add(m),o.add(g)}var v=0;this.isCategoryBarHorizontal&&i.config.yaxis[0].opposite&&(v=i.globals.gridWidth);var b=i.config.xaxis.axisBorder;if(b.show){var y=a.drawLine(i.globals.padHorizontal+b.offsetX+v,1+b.offsetY,i.globals.padHorizontal+b.offsetX+v,i.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders.add(y):o.add(y)}return i.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(v,c.length,i.config.yaxis[0].axisBorder,i.config.yaxis[0].axisTicks,0,t,o),o}},{key:"drawXaxisTicks",value:function(e,t,n){var r=this.w,i=e;if(!(e<0||e-2>r.globals.gridWidth)){var a=this.offY+r.config.xaxis.axisTicks.offsetY;if(t=t+a+r.config.xaxis.axisTicks.height,"top"===r.config.xaxis.position&&(t=a-r.config.xaxis.axisTicks.height),r.config.xaxis.axisTicks.show){var s=new _(this.ctx).drawLine(e+r.config.xaxis.axisTicks.offsetX,a+r.config.xaxis.offsetY,i+r.config.xaxis.axisTicks.offsetX,t+r.config.xaxis.offsetY,r.config.xaxis.axisTicks.color);n.add(s),s.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],n=this.xaxisLabels.length,r=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var i=0;i<n;i++)r=this.xaxisLabels[i].position,t.push(r);else for(var a=n,s=0;s<a;s++){var o=a;e.globals.isXNumeric&&"bar"!==e.config.chart.type&&(o-=1),r+=e.globals.gridWidth/o,t.push(r)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new _(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var s=0;s<r.length;s++){var o=t.rotateAroundCenter(r[s]);o.y=o.y-1,o.x=o.x+1,r[s].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(o.x," ").concat(o.y,")")),r[s].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var l=r[s].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,(function(n){t.placeTextWithEllipsis(n,n.textContent,e.globals.xAxisLabelsHeight-("bottom"===e.config.legend.position?20:10))}))}else!function(){for(var n=e.globals.gridWidth/(e.globals.labels.length+1),i=0;i<r.length;i++){var a=r[i].childNodes;e.config.xaxis.labels.trim&&"datetime"!==e.config.xaxis.type&&Array.prototype.forEach.call(a,(function(e){t.placeTextWithEllipsis(e,e.textContent,n)}))}}();if(i.length>0){var c=i[i.length-1].getBBox(),d=i[0].getBBox();c.x<-20&&i[i.length-1].parentNode.removeChild(i[i.length-1]),d.x+d.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&i[0].parentNode.removeChild(i[0]);for(var u=0;u<a.length;u++)t.placeTextWithEllipsis(a[u],a[u].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),e}(),K=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.xaxisLabels=n.globals.labels.slice(),this.axesUtils=new Y(t),this.isRangeBar=n.globals.seriesRange.length&&n.globals.isBarHorizontal,n.globals.timescaleLabels.length>0&&(this.xaxisLabels=n.globals.timescaleLabels.slice())}return c(e,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,n=new _(this.ctx);null===e&&(e=n.group({class:"apexcharts-grid"}));var r=n.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),i=n.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(i),e.add(r),e}},{key:"drawGrid",value:function(){var e=null;return this.w.globals.axisCharts&&(e=this.renderGrid(),this.drawGridArea(e.el)),e}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,n=new _(this.ctx),r=Array.isArray(e.config.stroke.width)?0:e.config.stroke.width;if(Array.isArray(e.config.stroke.width)){var i=0;e.config.stroke.width.forEach((function(e){i=Math.max(i,e)})),r=i}t.dom.elGridRectMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elForecastMask.setAttribute("id","forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(t.cuid));var a=e.config.chart.type,s=0,o=0;("bar"===a||"rangeBar"===a||"candlestick"===a||"boxPlot"===a||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(s=e.config.grid.padding.left,o=e.config.grid.padding.right,t.barPadForNumericAxis>s&&(s=t.barPadForNumericAxis,o=t.barPadForNumericAxis)),t.dom.elGridRect=n.drawRect(-r-s-2,2*-r-2,t.gridWidth+r+o+s+4,t.gridHeight+4*r+4,0,"#fff");var l=e.globals.markers.largestSize+1;t.dom.elGridRectMarker=n.drawRect(2*-l,2*-l,t.gridWidth+4*l,t.gridHeight+4*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var c=t.dom.baseEl.querySelector("defs");c.appendChild(t.dom.elGridRectMask),c.appendChild(t.dom.elForecastMask),c.appendChild(t.dom.elNonForecastMask),c.appendChild(t.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,n=e.x1,r=e.y1,i=e.x2,a=e.y2,s=e.xCount,o=e.parent,l=this.w;if(!(0===t&&l.globals.skipFirstTimelinelabel||t===s-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type)){l.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:n,y1:r,x2:i,y2:a,xCount:s,parent:o});var c=0;if(l.globals.hasXaxisGroups&&"between"===l.config.xaxis.tickPlacement){var d=l.globals.groups;if(d){for(var u=0,h=0;u<t&&h<d.length;h++)u+=d[h].cols;u===t&&(c=.6*l.globals.xAxisLabelsHeight)}}new q(this.ctx).drawXaxisTicks(n,c,l.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,n=e.x1,r=e.y1,i=e.x2,a=e.y2,s=e.xCount,o=e.parent,l=this.w,c=!1,d=o.node.classList.contains("apexcharts-gridlines-horizontal"),u=l.config.grid.strokeDashArray,h=l.globals.barPadForNumericAxis;(0===r&&0===a||0===n&&0===i)&&(c=!0),r===l.globals.gridHeight&&a===l.globals.gridHeight&&(c=!0),!l.globals.isBarHorizontal||0!==t&&t!==s-1||(c=!0);var f=new _(this).drawLine(n-(d?h:0),r,i+(d?h:0),a,l.config.grid.borderColor,u);f.node.classList.add("apexcharts-gridline"),c&&l.config.grid.show?this.elGridBorders.add(f):o.add(f)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,n=e.x1,r=e.y1,i=e.x2,a=e.y2,s=e.type,o=this.w,l=new _(this.ctx),c=o.globals.barPadForNumericAxis;if("column"!==s||"datetime"!==o.config.xaxis.type){var d=o.config.grid[s].colors[t],u=l.drawRect(n-("row"===s?c:0),r,i+("row"===s?2*c:0),a,0,d,o.config.grid[s].opacity);this.elg.add(u),u.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),u.node.classList.add("apexcharts-grid-".concat(s))}}},{key:"_drawXYLines",value:function(e){var t=this,n=e.xCount,r=e.tickAmount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show){var a,s=i.globals.padHorizontal,o=i.globals.gridHeight;i.globals.timescaleLabels.length?function(e){for(var r=e.xC,i=e.x1,a=e.y1,s=e.x2,o=e.y2,l=0;l<r;l++)i=t.xaxisLabels[l].position,s=t.xaxisLabels[l].position,t._drawGridLines({i:l,x1:i,y1:a,x2:s,y2:o,xCount:n,parent:t.elgridLinesV})}({xC:n,x1:s,y1:0,x2:a,y2:o}):(i.globals.isXNumeric&&(n=i.globals.xAxisScale.result.length),function(e){for(var r=e.xC,a=e.x1,s=e.y1,o=e.x2,l=e.y2,c=0;c<r+(i.globals.isXNumeric?0:1);c++)0===c&&1===r&&1===i.globals.dataPoints&&(o=a=i.globals.gridWidth/2),t._drawGridLines({i:c,x1:a,y1:s,x2:o,y2:l,xCount:n,parent:t.elgridLinesV}),o=a+=i.globals.gridWidth/(i.globals.isXNumeric?r-1:r)}({xC:n,x1:s,y1:0,x2:a,y2:o}))}if(i.config.grid.yaxis.lines.show){var l=0,c=0,d=i.globals.gridWidth,u=r+1;this.isRangeBar&&(u=i.globals.labels.length);for(var h=0;h<u+(this.isRangeBar?1:0);h++)this._drawGridLine({i:h,xCount:u+(this.isRangeBar?1:0),x1:0,y1:l,x2:d,y2:c,parent:this.elgridLinesH}),c=l+=i.globals.gridHeight/(this.isRangeBar?u:r)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var r,i=n.globals.padHorizontal,a=n.globals.gridHeight,s=0;s<t+1;s++)n.config.grid.xaxis.lines.show&&this._drawGridLine({i:s,xCount:t+1,x1:i,y1:0,x2:r,y2:a,parent:this.elgridLinesV}),new q(this.ctx).drawXaxisTicks(i,0,n.globals.dom.elGraphical),r=i=i+n.globals.gridWidth/t+.3;if(n.config.grid.yaxis.lines.show)for(var o=0,l=0,c=n.globals.gridWidth,d=0;d<n.globals.dataPoints+1;d++)this._drawGridLine({i:d,xCount:n.globals.dataPoints+1,x1:0,y1:o,x2:c,y2:l,parent:this.elgridLinesH}),l=o+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e,t,n,r=this.w,i=new _(this.ctx);this.elg=i.group({class:"apexcharts-grid"}),this.elgridLinesH=i.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=i.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=i.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),r.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a,s=r.globals.yAxisScale.length?r.globals.yAxisScale[0].result.length-1:5,o=0;o<r.globals.series.length&&(void 0!==r.globals.yAxisScale[o]&&(s=r.globals.yAxisScale[o].result.length-1),!(s>2));o++);!r.globals.isBarHorizontal||this.isRangeBar?(a=this.xaxisLabels.length,this.isRangeBar&&(a--,s=r.globals.labels.length,r.config.xaxis.tickAmount&&r.config.xaxis.labels.formatter&&(a=r.config.xaxis.tickAmount),(null===(e=r.globals.yAxisScale)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.result)||void 0===n?void 0:n.length)>0&&"datetime"!==r.config.xaxis.type&&(a=r.globals.yAxisScale[0].result.length-1)),this._drawXYLines({xCount:a,tickAmount:s})):(a=s,s=r.globals.xTickAmount,this._drawInvertedXYLines({xCount:a,tickAmount:s}));return this.drawGridBands(a,s),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:r.globals.gridWidth/a}}},{key:"drawGridBands",value:function(e,t){var n=this.w;if(void 0!==n.config.grid.row.colors&&n.config.grid.row.colors.length>0)for(var r=0,i=n.globals.gridHeight/t,a=n.globals.gridWidth,s=0,o=0;s<t;s++,o++)o>=n.config.grid.row.colors.length&&(o=0),this._drawGridBandRect({c:o,x1:0,y1:r,x2:a,y2:i,type:"row"}),r+=n.globals.gridHeight/t;if(void 0!==n.config.grid.column.colors&&n.config.grid.column.colors.length>0)for(var l=n.globals.isBarHorizontal||"on"!==n.config.xaxis.tickPlacement||"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric?e:e-1,c=n.globals.padHorizontal,d=n.globals.padHorizontal+n.globals.gridWidth/l,u=n.globals.gridHeight,h=0,f=0;h<e;h++,f++)f>=n.config.grid.column.colors.length&&(f=0),this._drawGridBandRect({c:f,x1:c,y1:0,x2:d,y2:u,type:"column"}),c+=n.globals.gridWidth/l}}]),e}(),Q=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"niceScale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=1e-11,i=this.w,a=i.globals,s=i.config.xaxis,o=i.config.yaxis[n],l=void 0!==o.min&&null!==o.min,c=void 0!==o.max&&null!==o.min,d=void 0!==o.stepSize&&null!==o.stepSize,u=void 0!==o.tickAmount&&null!==o.tickAmount,h=((a.isBarHorizontal?a.svgWidth:a.svgHeight)-100)/15,f=u?o.tickAmount:10;if(a.isMultipleYAxis&&!u&&a.multiAxisTickAmount>0&&(f=a.multiAxisTickAmount,u=!0),f="dataPoints"===f?a.dataPoints-1:Math.abs(Math.round(f)),(e===Number.MIN_VALUE&&0===t||!x.isNumber(e)&&!x.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=0,t=f,a.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var p=t;t=e,e=p}else e===t&&(e=0===e?0:e-1,t=0===t?2:t+1);var g=[];f<1&&(f=1);var m=f,v=Math.abs(t-e);o.forceNiceScale&&(!l&&e>0&&e/v<.15&&(e=0,l=!0),!c&&t<0&&-t/v<.15&&(t=0,c=!0),v=Math.abs(t-e));var b=v/m,y=b,w=Math.floor(Math.log10(y)),k=Math.pow(10,w),_=Math.ceil(y/k);if(b=y=(_=a.niceScaleAllowedMagMsd[0===a.yValueDecimal?0:1][_])*k,a.isBarHorizontal&&s.stepSize&&"datetime"!==s.type?(b=s.stepSize,d=!0):d&&(b=o.stepSize),d&&o.forceNiceScale&&Math.round(Math.log10(b))!=w){for(var S=v/f;b<S;)b*=10;for(;b>S;)b/=10}if(l&&c){var C=v/m;if(u)if(d)if(0!=x.mod(v,b)){var A=x.getGCD(b,C);b=C/A<10?A:C}else 0==x.mod(b,C)?b=C:(C=b,u=!1);else b=C;else if(d)0==x.mod(v,b)?C=b:b=C;else if(C=v/(m=Math.round(v/y)),0!=x.mod(v,b)){var P=x.getGCD(v,y);y/P<10&&(C=P),b=C}else C=b;m=Math.round(v/b)}else{if(l||c)c?e=u?t-b*m:b*Math.floor(e/b):l&&(t=u?e+b*m:b*Math.ceil(t/b));else if(u){var E=b/(t-e>t?1:2);t=(e=E*Math.floor(e/E))+b*m}else e=b*Math.floor(e/b),t=b*Math.ceil(t/b);v=Math.abs(t-e),b=x.getGCD(v,b),m=Math.round(v/b)}if(u||l||c||(m=Math.ceil((v-r)/(b+r)))>16&&x.getPrimeFactors(m).length<2&&m++,a.isMultipleYAxis&&0==a.multiAxisTickAmount&&(a.multiAxisTickAmount=m),m>h&&(!u&&!d||o.forceNiceScale)){var T=x.getPrimeFactors(m),N=T.length-1,I=m;e:for(var M=0;M<N;M++)for(var F=0;F<=N-M;F++){for(var R=Math.min(F+M,N),j=I,L=1,D=F;D<=R;D++)L*=T[D];if((j/=L)<h){I=j;break e}}b=I===m&&o.forceNiceScale?v:v/I}var O=e-b,z=b*r;do{O+=b,g.push(x.stripNumber(O,7))}while(t-O>z);return{result:g,niceMin:g[0],niceMax:g[g.length-1]}}},{key:"linearScale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=Math.abs(t-e);"dataPoints"===(n=this._adjustTicksForSmallRange(n,r,a))&&(n=this.w.globals.dataPoints-1),i||(i=a/n),n===Number.MAX_VALUE&&(n=5,i=1);for(var s=[],o=e;n>=0;)s.push(o),o+=i,n-=1;return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var r=[],i=Math.ceil(Math.log(t)/Math.log(n)+1),a=Math.floor(Math.log(e)/Math.log(n));a<i;a++)r.push(Math.pow(n,a));return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScale",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var r=[],i=Math.log(t)/Math.log(n),a=Math.log(e)/Math.log(n),s=i-a,o=Math.round(s),l=s/o,c=0,d=a;c<o;c++,d+=l)r.push(Math.pow(n,d));return r.push(Math.pow(n,i)),{result:r,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,n){var r=e;if(void 0!==t&&this.w.config.yaxis[t].labels.formatter&&void 0===this.w.config.yaxis[t].tickAmount){var i=Number(this.w.config.yaxis[t].labels.formatter(1));x.isNumber(i)&&0===this.w.globals.yValueDecimal&&(r=Math.ceil(n))}return r<e?r:e}},{key:"setYScaleForIndex",value:function(e,t,n){var r=this.w.globals,i=this.w.config,a=r.isBarHorizontal?i.xaxis:i.yaxis[e];void 0===r.yAxisScale[e]&&(r.yAxisScale[e]=[]);var s=Math.abs(n-t);a.logarithmic&&s<=5&&(r.invalidLogScale=!0),a.logarithmic&&s>5?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=a.forceNiceScale?this.logarithmicScaleNice(t,n,a.logBase):this.logarithmicScale(t,n,a.logBase)):n!==-Number.MAX_VALUE&&x.isNumber(n)?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=this.niceScale(t,n,e)):r.yAxisScale[e]=this.linearScale(0,10,10,e,i.yaxis[e].stepSize)}},{key:"setXScale",value:function(e,t){var n=this.w,r=n.globals,i=Math.abs(t-e);return t!==-Number.MAX_VALUE&&x.isNumber(t)?r.xAxisScale=this.linearScale(e,t,n.config.xaxis.tickAmount?n.config.xaxis.tickAmount:i<10&&i>1?i+1:10,0,n.config.xaxis.stepSize):r.xAxisScale=this.linearScale(0,10,10),r.xAxisScale}},{key:"setMultipleYScales",value:function(){var e=this,t=this.w.globals,n=this.w.config,r=t.minYArr.concat([]),i=t.maxYArr.concat([]),a=[];n.yaxis.forEach((function(t,s){var o=s;n.series.forEach((function(e,n){e.name===t.seriesName&&(o=n,s!==n?a.push({index:n,similarIndex:s,alreadyExists:!0}):a.push({index:n}))}));var l=r[o],c=i[o];e.setYScaleForIndex(s,l,c)})),this.sameScaleInMultipleAxes(r,i,a)}},{key:"sameScaleInMultipleAxes",value:function(e,t,n){var r=this,i=this.w.config,a=this.w.globals,s=[];n.forEach((function(e){e.alreadyExists&&(void 0===s[e.index]&&(s[e.index]=[]),s[e.index].push(e.index),s[e.index].push(e.similarIndex))})),a.yAxisSameScaleIndices=s,s.forEach((function(e,t){s.forEach((function(n,r){var i,a;t!==r&&(i=e,a=n,i.filter((function(e){return-1!==a.indexOf(e)}))).length>0&&(s[t]=s[t].concat(s[r]))}))}));var o=s.map((function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))})).map((function(e){return e.sort()}));s=s.filter((function(e){return!!e}));var l=o.slice(),c=l.map((function(e){return JSON.stringify(e)}));l=l.filter((function(e,t){return c.indexOf(JSON.stringify(e))===t}));var d=[],u=[];e.forEach((function(e,n){l.forEach((function(r,i){r.indexOf(n)>-1&&(void 0===d[i]&&(d[i]=[],u[i]=[]),d[i].push({key:n,value:e}),u[i].push({key:n,value:t[n]}))}))}));var h=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),f=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);d.forEach((function(e,t){e.forEach((function(e,n){h[t]=Math.min(e.value,h[t])}))})),u.forEach((function(e,t){e.forEach((function(e,n){f[t]=Math.max(e.value,f[t])}))})),e.forEach((function(e,t){u.forEach((function(e,n){var s=h[n],o=f[n];i.chart.stacked&&(o=0,e.forEach((function(e,t){e.value!==-Number.MAX_VALUE&&(o+=e.value),s!==Number.MIN_VALUE&&(s+=d[n][t].value)}))),e.forEach((function(n,l){e[l].key===t&&(void 0!==i.yaxis[t].min&&(s="function"==typeof i.yaxis[t].min?i.yaxis[t].min(a.minY):i.yaxis[t].min),void 0!==i.yaxis[t].max&&(o="function"==typeof i.yaxis[t].max?i.yaxis[t].max(a.maxY):i.yaxis[t].max),r.setYScaleForIndex(t,s,o))}))}))}))}},{key:"autoScaleY",value:function(e,t,n){e||(e=this);var r=e.w;if(r.globals.isMultipleYAxis||r.globals.collapsedSeries.length)return console.warn("autoScaleYaxis not supported in a multi-yaxis chart."),t;var i=r.globals.seriesX[0],a=r.config.chart.stacked;return t.forEach((function(e,s){for(var o=0,l=0;l<i.length;l++)if(i[l]>=n.xaxis.min){o=l;break}var c,d,u=r.globals.minYArr[s],h=r.globals.maxYArr[s],f=r.globals.stackedSeriesTotals;r.globals.series.forEach((function(s,l){var p=s[o];a?(p=f[o],c=d=p,f.forEach((function(e,t){i[t]<=n.xaxis.max&&i[t]>=n.xaxis.min&&(e>d&&null!==e&&(d=e),s[t]<c&&null!==s[t]&&(c=s[t]))}))):(c=d=p,s.forEach((function(e,t){if(i[t]<=n.xaxis.max&&i[t]>=n.xaxis.min){var a=e,s=e;r.globals.series.forEach((function(n,r){null!==e&&(a=Math.min(n[t],a),s=Math.max(n[t],s))})),s>d&&null!==s&&(d=s),a<c&&null!==a&&(c=a)}}))),void 0===c&&void 0===d&&(c=u,d=h),d*=d<0?.9:1.1,0===(c*=c<0?1.1:.9)&&0===d&&(c=-1,d=1),d<0&&d<h&&(d=h),c<0&&c>u&&(c=u),t.length>1?(t[l].min=void 0===e.min?c:e.min,t[l].max=void 0===e.max?d:e.max):(t[0].min=void 0===e.min?c:e.min,t[0].max=void 0===e.max?d:e.max)}))})),t}}]),e}(),J=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.scales=new Q(t)}return c(e,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=this.w.config,a=this.w.globals,s=-Number.MAX_VALUE,o=Number.MIN_VALUE;null===r&&(r=e+1);var l=0,c=0,d=void 0;if(a.seriesX.length>=r){var u;if(l=0,c=(d=v(new Set((u=[]).concat.apply(u,v(a.seriesX.slice(e,r)))))).length-1,i.xaxis.min)for(l=0;l<c&&d[l]<=i.xaxis.min;l++);if(i.xaxis.max)for(;c>l&&d[c]>=i.xaxis.max;c--);}var h=a.series,f=h,p=h;"candlestick"===i.chart.type?(f=a.seriesCandleL,p=a.seriesCandleH):"boxPlot"===i.chart.type?(f=a.seriesCandleO,p=a.seriesCandleC):a.isRangeData&&(f=a.seriesRangeStart,p=a.seriesRangeEnd);for(var g=e;g<r;g++){a.dataPoints=Math.max(a.dataPoints,h[g].length),a.categoryLabels.length&&(a.dataPoints=a.categoryLabels.filter((function(e){return void 0!==e})).length),a.labels.length&&"datetime"!==i.xaxis.type&&0!==a.series.reduce((function(e,t){return e+t.length}),0)&&(a.dataPoints=Math.max(a.dataPoints,a.labels.length)),d||(l=0,c=a.series[g].length);for(var m=l;m<=c;m++){var b=h[g][m];if(null!==b&&x.isNumber(b)){switch(void 0!==p[g][m]&&(s=Math.max(s,p[g][m]),t=Math.min(t,p[g][m])),void 0!==f[g][m]&&(t=Math.min(t,f[g][m]),n=Math.max(n,f[g][m])),i.series[g].type){case"candlestick":void 0!==a.seriesCandleC[g][m]&&(s=Math.max(s,a.seriesCandleH[g][m]),t=Math.min(t,a.seriesCandleL[g][m]));case"boxPlot":void 0!==a.seriesCandleC[g][m]&&(s=Math.max(s,a.seriesCandleC[g][m]),t=Math.min(t,a.seriesCandleO[g][m]))}i.series[g].type&&"candlestick"!==i.series[g].type&&"boxPlot"!==i.series[g].type&&"rangeArea"!==i.series[g].type&&"rangeBar"!==i.series[g].type&&(s=Math.max(s,a.series[g][m]),t=Math.min(t,a.series[g][m])),n=s,a.seriesGoals[g]&&a.seriesGoals[g][m]&&Array.isArray(a.seriesGoals[g][m])&&a.seriesGoals[g][m].forEach((function(e){o!==Number.MIN_VALUE&&(o=Math.min(o,e.value),t=o),s=Math.max(s,e.value),n=s})),x.isFloat(b)&&(b=x.noExponents(b),a.yValueDecimal=Math.max(a.yValueDecimal,b.toString().split(".")[1].length)),o>f[g][m]&&f[g][m]<0&&(o=f[g][m])}else a.hasNullValues=!0}}return"rangeBar"===i.chart.type&&a.seriesRangeStart.length&&a.isBarHorizontal&&(o=t),"bar"===i.chart.type&&(o<0&&s<0&&(s=0),o===Number.MIN_VALUE&&(o=0)),{minY:o,maxY:s,lowestY:t,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n=Number.MAX_VALUE;if(e.isMultipleYAxis){n=Number.MAX_VALUE;for(var r=0;r<e.series.length;r++){var i=this.getMinYMaxY(r);e.minYArr[r]=i.lowestY,e.maxYArr[r]=i.highestY,n=Math.min(n,i.lowestY)}}var a=this.getMinYMaxY(0,n,null,e.series.length);return e.minY=a.lowestY,e.maxY=a.highestY,n=a.lowestY,t.chart.stacked&&this._setStackedMinMax(),"line"===t.chart.type||"area"===t.chart.type||"scatter"===t.chart.type||"candlestick"===t.chart.type||"boxPlot"===t.chart.type||"rangeBar"===t.chart.type&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&n!==-Number.MAX_VALUE&&n!==e.maxY&&(e.minY=n):e.minY=a.minY,t.yaxis.forEach((function(t,n){void 0!==t.max&&("number"==typeof t.max?e.maxYArr[n]=t.max:"function"==typeof t.max&&(e.maxYArr[n]=t.max(e.isMultipleYAxis?e.maxYArr[n]:e.maxY)),e.maxY=e.maxYArr[n]),void 0!==t.min&&("number"==typeof t.min?e.minYArr[n]=t.min:"function"==typeof t.min&&(e.minYArr[n]=t.min(e.isMultipleYAxis?e.minYArr[n]===Number.MIN_VALUE?0:e.minYArr[n]:e.minY)),e.minY=e.minYArr[n])})),e.isBarHorizontal&&["min","max"].forEach((function(n){void 0!==t.xaxis[n]&&"number"==typeof t.xaxis[n]&&("min"===n?e.minY=t.xaxis[n]:e.maxY=t.xaxis[n])})),e.isMultipleYAxis?(this.scales.setMultipleYScales(),e.minY=n,e.yAxisScale.forEach((function(t,n){e.minYArr[n]=t.niceMin,e.maxYArr[n]=t.niceMax}))):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.yAxisScale[0].niceMin,e.maxYArr[0]=e.yAxisScale[0].niceMax),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,n="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var t=0;t<e.series.length;t++)if(e.labels[t])for(var n=0;n<e.labels[t].length;n++)null!==e.labels[t][n]&&x.isNumber(e.labels[t][n])&&(e.maxX=Math.max(e.maxX,e.labels[t][n]),e.initialMaxX=Math.max(e.maxX,e.labels[t][n]),e.minX=Math.min(e.minX,e.labels[t][n]),e.initialMinX=Math.min(e.minX,e.labels[t][n]))}(),e.noLabelsProvided&&0===t.xaxis.categories.length&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var r;if(void 0===t.xaxis.tickAmount?(r=Math.round(e.svgWidth/150),"numeric"===t.xaxis.type&&e.dataPoints<30&&(r=e.dataPoints-1),r>e.dataPoints&&0!==e.dataPoints&&(r=e.dataPoints-1)):"dataPoints"===t.xaxis.tickAmount?(e.series.length>1&&(r=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric&&(r=e.maxX-e.minX-1)):r=t.xaxis.tickAmount,e.xTickAmount=r,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(e.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(e.minX=t.xaxis.min),void 0!==t.xaxis.range&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var i=[],a=e.minX-1;a<e.maxX;a++)i.push(a+1);e.xAxisScale={result:i,niceMin:i[0],niceMax:i[i.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,r,r,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,r-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ)for(var t=0;t<e.series.length;t++)if(void 0!==e.seriesZ[t])for(var n=0;n<e.seriesZ[t].length;n++)null!==e.seriesZ[t][n]&&x.isNumber(e.seriesZ[t][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][n]),e.minZ=Math.min(e.minZ,e.seriesZ[t][n]))}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var n=new M(this.ctx);if("datetime"===t.xaxis.type){var r=n.getDate(e.minX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()-2):r.setDate(r.getDate()-2),e.minX=new Date(r).getTime();var i=n.getDate(e.maxX);t.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()+2):i.setDate(i.getDate()+2),e.maxX=new Date(i).getTime()}else("numeric"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach((function(t,n){1===t.length&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var r=t.slice();r.sort((function(e,t){return e-t})),r.forEach((function(t,n){if(n>0){var i=t-r[n-1];i>0&&(e.minXDiff=Math.min(i,e.minXDiff))}})),1!==e.dataPoints&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}))}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var n=t.seriesGroups;n.length||(n=[this.w.config.series.map((function(e){return e.name}))]);var r={},i={};n.forEach((function(n){r[n]=[],i[n]=[],e.w.config.series.map((function(e,t){return n.indexOf(e.name)>-1?t:null})).filter((function(e){return null!==e})).forEach((function(a){for(var s=0;s<t.series[t.maxValsInArrayIndex].length;s++){var o,l;void 0===r[n][s]&&(r[n][s]=0,i[n][s]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||"bar"===(null===(o=e.w.config.series)||void 0===o||null===(l=o[a])||void 0===l?void 0:l.type)))&&null!==t.series[a][s]&&x.isNumber(t.series[a][s])&&(t.series[a][s]>0?r[n][s]+=parseFloat(t.series[a][s])+1e-4:i[n][s]+=parseFloat(t.series[a][s]))}}))})),Object.entries(r).forEach((function(e){var n=m(e,1)[0];r[n].forEach((function(e,a){t.maxY=Math.max(t.maxY,r[n][a]),t.minY=Math.min(t.minY,i[n][a])}))}))}}}]),e}(),$=function(){function e(t,n){o(this,e),this.ctx=t,this.elgrid=n,this.w=t.w;var r=this.w;this.xaxisFontSize=r.config.xaxis.labels.style.fontSize,this.axisFontFamily=r.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=r.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===r.config.chart.type&&r.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===r.config.xaxis.position&&(this.xAxisoffX=r.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Y(t)}return c(e,[{key:"drawYaxis",value:function(e){var t=this,n=this.w,r=new _(this.ctx),i=n.config.yaxis[e].labels.style,a=i.fontSize,s=i.fontFamily,o=i.fontWeight,l=r.group({class:"apexcharts-yaxis",rel:e,transform:"translate("+n.globals.translateYAxisX[e]+", 0)"});if(this.axesUtils.isYAxisHidden(e))return l;var c=r.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var d=n.globals.yAxisScale[e].result.length-1,u=n.globals.gridHeight/d,h=n.globals.translateY,f=n.globals.yLabelFormatters[e],p=n.globals.yAxisScale[e].result.slice();p=this.axesUtils.checkForReversedLabels(e,p);var g="";if(n.config.yaxis[e].labels.show)for(var m=function(l){var m=p[l];m=f(m,l,n);var v=n.config.yaxis[e].labels.padding;n.config.yaxis[e].opposite&&0!==n.config.yaxis.length&&(v*=-1);var b="end";n.config.yaxis[e].opposite&&(b="start"),"left"===n.config.yaxis[e].labels.align?b="start":"center"===n.config.yaxis[e].labels.align?b="middle":"right"===n.config.yaxis[e].labels.align&&(b="end");var y=t.axesUtils.getYAxisForeColor(i.colors,e),x=n.config.yaxis[e].labels.offsetY;"heatmap"===n.config.chart.type&&(x-=(n.globals.gridHeight/n.globals.series.length-1)/2);var w=r.drawText({x:v,y:h+d/10+x+1,text:m,textAnchor:b,fontSize:a,fontFamily:s,fontWeight:o,maxWidth:n.config.yaxis[e].labels.maxWidth,foreColor:Array.isArray(y)?y[l]:y,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+i.cssClass});l===d&&(g=w),c.add(w);var k=document.createElementNS(n.globals.SVGNS,"title");if(k.textContent=Array.isArray(m)?m.join(" "):m,w.node.appendChild(k),0!==n.config.yaxis[e].labels.rotate){var _=r.rotateAroundCenter(g.node),S=r.rotateAroundCenter(w.node);w.node.setAttribute("transform","rotate(".concat(n.config.yaxis[e].labels.rotate," ").concat(_.x," ").concat(S.y,")"))}h+=u},v=d;v>=0;v--)m(v);if(void 0!==n.config.yaxis[e].title.text){var b=r.group({class:"apexcharts-yaxis-title"}),y=0;n.config.yaxis[e].opposite&&(y=n.globals.translateYAxisX[e]);var x=r.drawText({x:y,y:n.globals.gridHeight/2+n.globals.translateY+n.config.yaxis[e].title.offsetY,text:n.config.yaxis[e].title.text,textAnchor:"end",foreColor:n.config.yaxis[e].title.style.color,fontSize:n.config.yaxis[e].title.style.fontSize,fontWeight:n.config.yaxis[e].title.style.fontWeight,fontFamily:n.config.yaxis[e].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+n.config.yaxis[e].title.style.cssClass});b.add(x),l.add(b)}var w=n.config.yaxis[e].axisBorder,k=31+w.offsetX;if(n.config.yaxis[e].opposite&&(k=-31-w.offsetX),w.show){var S=r.drawLine(k,n.globals.translateY+w.offsetY-2,k,n.globals.gridHeight+n.globals.translateY+w.offsetY+2,w.color,0,w.width);l.add(S)}return n.config.yaxis[e].axisTicks.show&&this.axesUtils.drawYAxisTicks(k,d,w,n.config.yaxis[e].axisTicks,e,u,l),l}},{key:"drawYaxisInversed",value:function(e){var t=this.w,n=new _(this.ctx),r=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),i=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});r.add(i);var a=t.globals.yAxisScale[e].result.length-1,s=t.globals.gridWidth/a+.1,o=s+t.config.xaxis.labels.offsetX,l=t.globals.xLabelFormatter,c=t.globals.yAxisScale[e].result.slice(),d=t.globals.timescaleLabels;d.length>0&&(this.xaxisLabels=d.slice(),a=(c=d.slice()).length),c=this.axesUtils.checkForReversedLabels(e,c);var u=d.length;if(t.config.xaxis.labels.show)for(var h=u?0:a;u?h<u:h>=0;u?h++:h--){var f=c[h];f=l(f,h,t);var p=t.globals.gridWidth+t.globals.padHorizontal-(o-s+t.config.xaxis.labels.offsetX);if(d.length){var g=this.axesUtils.getLabel(c,d,p,h,this.drawnLabels,this.xaxisFontSize);p=g.x,f=g.text,this.drawnLabels.push(g.text),0===h&&t.globals.skipFirstTimelinelabel&&(f=""),h===c.length-1&&t.globals.skipLastTimelinelabel&&(f="")}var m=n.drawText({x:p,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-("top"===t.config.xaxis.position?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:f,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+t.config.xaxis.labels.style.cssClass});i.add(m),m.tspan(f);var v=document.createElementNS(t.globals.SVGNS,"title");v.textContent=f,m.node.appendChild(v),o+=s}return this.inversedYAxisTitleText(r),this.inversedYAxisBorder(r),r}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,n=new _(this.ctx),r=t.config.xaxis.axisBorder;if(r.show){var i=0;"bar"===t.config.chart.type&&t.globals.isXNumeric&&(i-=15);var a=n.drawLine(t.globals.padHorizontal+i+r.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,r.color,0,r.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(a):e.add(a)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,n=new _(this.ctx);if(void 0!==t.config.xaxis.title.text){var r=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),i=n.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});r.add(i),e.add(r)}}},{key:"yAxisTitleRotate",value:function(e,t){var n=this.w,r=new _(this.ctx),i={width:0,height:0},a={width:0,height:0},s=n.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g"));null!==s&&(i=s.getBoundingClientRect());var o=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text"));if(null!==o&&(a=o.getBoundingClientRect()),null!==o){var l=this.xPaddingForYAxisTitle(e,i,a,t);o.setAttribute("x",l.xPos-(t?10:0))}if(null!==o){var c=r.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(t?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,n,r){var i=this.w,a=0,s=0,o=10;return void 0===i.config.yaxis[e].title.text||e<0?{xPos:s,padd:0}:(r?(s=t.width+i.config.yaxis[e].title.offsetX+n.width/2+o/2,0===(a+=1)&&(s-=o/2)):(s=-1*t.width+i.config.yaxis[e].title.offsetX+o/2+n.width/2,i.globals.isBarHorizontal&&(o=25,s=-1*t.width-i.config.yaxis[e].title.offsetX-o)),{xPos:s,padd:o})}},{key:"setYAxisXPosition",value:function(e,t){var n=this.w,r=0,i=0,a=18,s=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.map((function(o,l){var c=n.globals.ignoreYAxisIndexes.indexOf(l)>-1||!o.show||o.floating||0===e[l].width,d=e[l].width+t[l].width;o.opposite?n.globals.isBarHorizontal?(i=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[l]=i-o.labels.offsetX):(i=n.globals.gridWidth+n.globals.translateX+s,c||(s=s+d+20),n.globals.translateYAxisX[l]=i-o.labels.offsetX+20):(r=n.globals.translateX-a,c||(a=a+d+20),n.globals.translateYAxisX[l]=r+o.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(t=x.listToArray(t)).forEach((function(t,n){var r=e.config.yaxis[n];if(r&&!r.floating&&void 0!==r.labels.align){var i=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"));a=x.listToArray(a);var s=i.getBoundingClientRect();"left"===r.labels.align?(a.forEach((function(e,t){e.setAttribute("text-anchor","start")})),r.opposite||i.setAttribute("transform","translate(-".concat(s.width,", 0)"))):"center"===r.labels.align?(a.forEach((function(e,t){e.setAttribute("text-anchor","middle")})),i.setAttribute("transform","translate(".concat(s.width/2*(r.opposite?1:-1),", 0)"))):"right"===r.labels.align&&(a.forEach((function(e,t){e.setAttribute("text-anchor","end")})),r.opposite&&i.setAttribute("transform","translate(".concat(s.width,", 0)")))}}))}}]),e}(),Z=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.documentEvent=x.bind(this.documentEvent,this)}return c(e,[{key:"addEventListener",value:function(e,t){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(t):n.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var r=n.globals.events[e].indexOf(t);-1!==r&&n.globals.events[e].splice(r,1)}}},{key:"fireEvent",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var r=n.globals.events[e],i=r.length,a=0;a<i;a++)r[a].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,n=this.ctx,r=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach((function(e){r.addEventListener(e,(function(e){var r=Object.assign({},t,{seriesIndex:t.globals.capturedSeriesIndex,dataPointIndex:t.globals.capturedDataPointIndex});"mousemove"===e.type||"touchmove"===e.type?"function"==typeof t.config.chart.events.mouseMove&&t.config.chart.events.mouseMove(e,n,r):"mouseleave"===e.type||"touchleave"===e.type?"function"==typeof t.config.chart.events.mouseLeave&&t.config.chart.events.mouseLeave(e,n,r):("mouseup"===e.type&&1===e.which||"touchend"===e.type)&&("function"==typeof t.config.chart.events.click&&t.config.chart.events.click(e,n,r),n.ctx.events.fireEvent("click",[e,n,r]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(n){t.globals.dom.baseEl.addEventListener(n,e.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,n=e.target.className;if("click"===e.type){var r=t.globals.dom.baseEl.querySelector(".apexcharts-menu");r&&r.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==n&&r.classList.remove("apexcharts-menu-open")}t.globals.clientX="touchmove"===e.type?e.touches[0].clientX:e.clientX,t.globals.clientY="touchmove"===e.type?e.touches[0].clientY:e.clientY}}]),e}(),ee=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=t.filter((function(t){return t.name===e}))[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var r=x.extend(T,n);this.w.globals.locale=r.options}}]),e}(),te=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"drawAxis",value:function(e,t){var n,r,i=this,a=this.w.globals,s=this.w.config,o=new q(this.ctx,t),l=new $(this.ctx,t);a.axisCharts&&"radar"!==e&&(a.isBarHorizontal?(r=l.drawYaxisInversed(0),n=o.drawXaxisInversed(0),a.dom.elGraphical.add(n),a.dom.elGraphical.add(r)):(n=o.drawXaxis(),a.dom.elGraphical.add(n),s.yaxis.map((function(e,t){if(-1===a.ignoreYAxisIndexes.indexOf(t)&&(r=l.drawYaxis(t),a.dom.Paper.add(r),"back"===i.w.config.grid.position)){var n=a.dom.Paper.children()[1];n.remove(),a.dom.Paper.add(n)}}))))}}]),e}(),ne=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new _(this.ctx),n=new k(this.ctx),r=e.config.xaxis.crosshairs.fill.gradient,i=e.config.xaxis.crosshairs.dropShadow,a=e.config.xaxis.crosshairs.fill.type,s=r.colorFrom,o=r.colorTo,l=r.opacityFrom,c=r.opacityTo,d=r.stops,u=i.enabled,h=i.left,f=i.top,p=i.blur,g=i.color,m=i.opacity,v=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){"gradient"===a&&(v=t.drawGradient("vertical",s,o,l,c,null,d,null));var b=t.drawRect();1===e.config.xaxis.crosshairs.width&&(b=t.drawLine());var y=e.globals.gridHeight;(!x.isNumber(y)||y<0)&&(y=0);var w=e.config.xaxis.crosshairs.width;(!x.isNumber(w)||w<0)&&(w=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:y,width:w,height:y,fill:v,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),u&&(b=n.dropShadow(b,{left:h,top:f,blur:p,color:g,opacity:m})),e.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new _(this.ctx),n=e.config.yaxis[0].crosshairs,r=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var i=t.drawLine(-r,0,e.globals.gridWidth+r,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);i.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(i)}var a=t.drawLine(-r,0,e.globals.gridWidth+r,0,n.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(a)}}]),e}(),re=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"checkResponsiveConfig",value:function(e){var t=this,n=this.w,r=n.config;if(0!==r.responsive.length){var i=r.responsive.slice();i.sort((function(e,t){return e.breakpoint>t.breakpoint?1:t.breakpoint>e.breakpoint?-1:0})).reverse();var a=new D({}),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i[0].breakpoint,s=window.innerWidth>0?window.innerWidth:screen.width;if(s>r){var o=S.extendArrayProps(a,n.globals.initialConfig,n);e=x.extend(o,e),e=x.extend(n.config,e),t.overrideResponsiveOptions(e)}else for(var l=0;l<i.length;l++)s<i[l].breakpoint&&(e=S.extendArrayProps(a,i[l].options,n),e=x.extend(n.config,e),t.overrideResponsiveOptions(e))};if(e){var o=S.extendArrayProps(a,e,n);o=x.extend(n.config,o),s(o=x.extend(o,e))}else s({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new D(e).init({responsiveOverride:!0});this.w.config=t}}]),e}(),ie=function(){function e(t){o(this,e),this.ctx=t,this.colors=[],this.w=t.w;var n=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===n.config.chart.type&&n.config.plotOptions.treemap.distributed||"heatmap"===n.config.chart.type&&n.config.plotOptions.heatmap.distributed,this.isBarDistributed=n.config.plotOptions.bar.distributed&&("bar"===n.config.chart.type||"rangeBar"===n.config.chart.type)}return c(e,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e,t=this,n=this.w,r=new x;if(n.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(n.config.theme.mode)),void 0===n.config.colors||0===(null===(e=n.config.colors)||void 0===e?void 0:e.length)?n.globals.colors=this.predefined():(n.globals.colors=n.config.colors,Array.isArray(n.config.colors)&&n.config.colors.length>0&&"function"==typeof n.config.colors[0]&&(n.globals.colors=n.config.series.map((function(e,r){var i=n.config.colors[r];return i||(i=n.config.colors[0]),"function"==typeof i?(t.isColorFn=!0,i({value:n.globals.axisCharts?n.globals.series[r][0]?n.globals.series[r][0]:0:n.globals.series[r],seriesIndex:r,dataPointIndex:r,w:n})):i})))),n.globals.seriesColors.map((function(e,t){e&&(n.globals.colors[t]=e)})),n.config.theme.monochrome.enabled){var i=[],a=n.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(a=n.globals.series[0].length*n.globals.series.length);for(var s=n.config.theme.monochrome.color,o=1/(a/n.config.theme.monochrome.shadeIntensity),l=n.config.theme.monochrome.shadeTo,c=0,d=0;d<a;d++){var u=void 0;"dark"===l?(u=r.shadeColor(-1*c,s),c+=o):(u=r.shadeColor(c,s),c+=o),i.push(u)}n.globals.colors=i.slice()}var h=n.globals.colors.slice();this.pushExtraColors(n.globals.colors),["fill","stroke"].forEach((function(e){void 0===n.config[e].colors?n.globals[e].colors=t.isColorFn?n.config.colors:h:n.globals[e].colors=n.config[e].colors.slice(),t.pushExtraColors(n.globals[e].colors)})),void 0===n.config.dataLabels.style.colors?n.globals.dataLabels.style.colors=h:n.globals.dataLabels.style.colors=n.config.dataLabels.style.colors.slice(),this.pushExtraColors(n.globals.dataLabels.style.colors,50),void 0===n.config.plotOptions.radar.polygons.fill.colors?n.globals.radarPolygons.fill.colors=["dark"===n.config.theme.mode?"#424242":"none"]:n.globals.radarPolygons.fill.colors=n.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(n.globals.radarPolygons.fill.colors,20),void 0===n.config.markers.colors?n.globals.markers.colors=h:n.globals.markers.colors=n.config.markers.colors.slice(),this.pushExtraColors(n.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.w,i=t||r.globals.series.length;if(null===n&&(n=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===r.config.chart.type&&r.config.plotOptions.heatmap.colorScale.inverse),n&&r.globals.series.length&&(i=r.globals.series[r.globals.maxValsInArrayIndex].length*r.globals.series.length),e.length<i)for(var a=i-e.length,s=0;s<a;s++)e.push(e[s])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode||"light",n=e.theme.palette?e.theme.palette:"dark"===t?"palette4":"palette1",r=e.chart.foreColor?e.chart.foreColor:"dark"===t?"#f6f7f8":"#373d3f";return e.tooltip.theme=t,e.chart.foreColor=r,e.theme.palette=n,e}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),e}(),ae=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,n="title"===e?t.config.title:t.config.subtitle,r=t.globals.svgWidth/2,i=n.offsetY,a="middle";if("left"===n.align?(r=10,a="start"):"right"===n.align&&(r=t.globals.svgWidth-10,a="end"),r+=n.offsetX,i=i+parseInt(n.style.fontSize,10)+n.margin/2,void 0!==n.text){var s=new _(this.ctx).drawText({x:r,y:i,text:n.text,textAnchor:a,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});s.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(s)}}}]),e}(),se=function(){function e(t){o(this,e),this.w=t.w,this.dCtx=t}return c(e,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,n=0,r=0,i="title"===e?t.config.title.floating:t.config.subtitle.floating,a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(null!==a&&!i){var s=a.getBoundingClientRect();n=s.width,r=t.globals.axisCharts?s.height+5:s.height}return{width:n,height:r}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||(t.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},x.getBoundingClientRect(t));return null!==t&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:0===n.height?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==e.config.legend.position&&"right"!==e.config.legend.position||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(e,t){var n=e;if(this.w.globals.isMultiLineX){var r=t.map((function(e,t){return Array.isArray(e)?e.length:1})),i=Math.max.apply(Math,v(r));n=t[r.indexOf(i)]}return n}}]),e}(),oe=function(){function e(t){o(this,e),this.w=t.w,this.dCtx=t}return c(e,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,n=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&0===n.length&&(n=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var r=this.getxAxisTimeScaleLabelsCoords();e={width:r.width,height:r.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==t.config.legend.position&&"right"!==t.config.legend.position||t.config.legend.floating?0:this.dCtx.lgRect.width;var i=t.globals.xLabelFormatter,a=x.getLargestStringFromArr(n),s=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,n);t.globals.isBarHorizontal&&(s=a=t.globals.yAxisScale[0].result.reduce((function(e,t){return e.length>t.length?e:t}),0));var o=new F(this.dCtx.ctx),l=a;a=o.xLabelFormat(i,a,l,{i:void 0,dateFormatter:new M(this.dCtx.ctx).formatDate,w:t}),s=o.xLabelFormat(i,s,l,{i:void 0,dateFormatter:new M(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&void 0===a||""===String(a).trim())&&(s=a="1");var c=new _(this.dCtx.ctx),d=c.getTextRects(a,t.config.xaxis.labels.style.fontSize),u=d;if(a!==s&&(u=c.getTextRects(s,t.config.xaxis.labels.style.fontSize)),(e={width:d.width>=u.width?d.width:u.width,height:d.height>=u.height?d.height:u.height}).width*n.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==t.config.xaxis.labels.rotate||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var h=function(e){return c.getTextRects(e,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};d=h(a),a!==s&&(u=h(s)),e.height=(d.height>u.height?d.height:u.height)/1.5,e.width=d.width>u.width?d.width:u.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var n,r=(null===(e=t.config.xaxis.group.style)||void 0===e?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,i=t.globals.groups.map((function(e){return e.title})),a=x.getLargestStringFromArr(i),s=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,i),o=new _(this.dCtx.ctx),l=o.getTextRects(a,r),c=l;return a!==s&&(c=o.getTextRects(s,r)),n={width:l.width>=c.width?l.width:c.width,height:l.height>=c.height?l.height:c.height},t.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,n=0;if(void 0!==e.config.xaxis.title.text){var r=new _(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=r.width,n=r.height}return{width:t,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map((function(e){return e.value})),r=n.reduce((function(e,t){return void 0===e?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):e.length>t.length?e:t}),0);return 1.05*(e=new _(this.dCtx.ctx).getTextRects(r,t.config.xaxis.labels.style.fontSize)).width*n.length>t.globals.gridWidth&&0!==t.config.xaxis.labels.rotate&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,n=this.w,r=n.globals,i=n.config,a=i.xaxis.type,s=e.width;r.skipLastTimelinelabel=!1,r.skipFirstTimelinelabel=!1;var o=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,l=function(e,o){i.yaxis.length>1&&function(e){return-1!==r.collapsedSeriesIndices.indexOf(e)}(o)||function(e){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var o=t.dCtx.timescaleLabels[0],l=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+s/1.75-t.dCtx.yAxisWidthRight,c=o.position-s/1.75+t.dCtx.yAxisWidthLeft,d="right"===n.config.legend.position&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;l>r.svgWidth-r.translateX-d&&(r.skipLastTimelinelabel=!0),c<-(e.show&&!e.floating||"bar"!==i.chart.type&&"candlestick"!==i.chart.type&&"rangeBar"!==i.chart.type&&"boxPlot"!==i.chart.type?10:s/1.75)&&(r.skipFirstTimelinelabel=!0)}else"datetime"===a?t.dCtx.gridPad.right<s&&!r.rotateXLabels&&(r.skipLastTimelinelabel=!0):"datetime"!==a&&t.dCtx.gridPad.right<s/2-t.dCtx.yAxisWidthRight&&!r.rotateXLabels&&!n.config.xaxis.labels.trim&&("between"!==n.config.xaxis.tickPlacement||n.globals.isBarHorizontal)&&(t.dCtx.xPadRight=s/2+1)}(e)};i.yaxis.forEach((function(e,n){o?(t.dCtx.gridPad.left<s&&(t.dCtx.xPadLeft=s/2+1),t.dCtx.xPadRight=s/2+1):l(e,n)}))}}]),e}(),le=function(){function e(t){o(this,e),this.w=t.w,this.dCtx=t}return c(e,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,n=[],r=10,i=new Y(this.dCtx.ctx);return t.config.yaxis.map((function(a,s){var o={seriesIndex:s,dataPointIndex:-1,w:t},l=t.globals.yAxisScale[s],c=0;if(!i.isYAxisHidden(s)&&a.labels.show&&void 0!==a.labels.minWidth&&(c=a.labels.minWidth),!i.isYAxisHidden(s)&&a.labels.show&&l.result.length){var d=t.globals.yLabelFormatters[s],u=l.niceMin===Number.MIN_VALUE?0:l.niceMin,h=l.result.reduce((function(e,t){var n,r;return(null===(n=String(d(e,o)))||void 0===n?void 0:n.length)>(null===(r=String(d(t,o)))||void 0===r?void 0:r.length)?e:t}),u),f=h=d(h,o);if(void 0!==h&&0!==h.length||(h=l.niceMax),t.globals.isBarHorizontal){r=0;var p=t.globals.labels.slice();h=x.getLargestStringFromArr(p),h=d(h,{seriesIndex:s,dataPointIndex:-1,w:t}),f=e.dCtx.dimHelpers.getLargestStringFromMultiArr(h,p)}var g=new _(e.dCtx.ctx),m="rotate(".concat(a.labels.rotate," 0 0)"),v=g.getTextRects(h,a.labels.style.fontSize,a.labels.style.fontFamily,m,!1),b=v;h!==f&&(b=g.getTextRects(f,a.labels.style.fontSize,a.labels.style.fontFamily,m,!1)),n.push({width:(c>b.width||c>v.width?c:b.width>v.width?b.width:v.width)+r,height:b.height>v.height?b.height:v.height})}else n.push({width:0,height:0})})),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,n=[];return t.config.yaxis.map((function(t,r){if(t.show&&void 0!==t.title.text){var i=new _(e.dCtx.ctx),a="rotate(".concat(t.title.rotate," 0 0)"),s=i.getTextRects(t.title.text,t.title.style.fontSize,t.title.style.fontFamily,a,!1);n.push({width:s.width,height:s.height})}else n.push({width:0,height:0})})),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,n=0,r=0,i=e.globals.yAxisScale.length>1?10:0,a=new Y(this.dCtx.ctx),s=function(s,o){var l=e.config.yaxis[o].floating,c=0;s.width>0&&!l?(c=s.width+i,function(t){return e.globals.ignoreYAxisIndexes.indexOf(t)>-1}(o)&&(c=c-s.width-i)):c=l||a.isYAxisHidden(o)?0:5,e.config.yaxis[o].opposite?r+=c:n+=c,t+=c};return e.globals.yLabelsCoords.map((function(e,t){s(e,t)})),e.globals.yTitleCoords.map((function(e,t){s(e,t)})),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=r,t}}]),e}(),ce=function(){function e(t){o(this,e),this.w=t.w,this.dCtx=t}return c(e,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w;if(t.globals.noData||t.globals.allSeriesCollapsed)return 0;var n=function(e){return"bar"===e||"rangeBar"===e||"candlestick"===e||"boxPlot"===e},r=t.config.chart.type,i=0,a=n(r)?t.config.series.length:1;if(t.globals.comboBarCount>0&&(a=t.globals.comboBarCount),t.globals.collapsedSeries.forEach((function(e){n(e.type)&&(a-=1)})),t.config.chart.stacked&&(a=1),(n(r)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&a>0){var s,o,l=Math.abs(t.globals.initialMaxX-t.globals.initialMinX);l<=3&&(l=t.globals.dataPoints),s=l/e,t.globals.minXDiff&&t.globals.minXDiff/s>0&&(o=t.globals.minXDiff/s),o>e/2&&(o/=2),(i=o*parseInt(t.config.plotOptions.bar.columnWidth,10)/100)<1&&(i=1),t.globals.barPadForNumericAxis=i}return i}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,n=t.globals,r=this.dCtx.isSparkline||!t.globals.axisCharts?0:10;["title","subtitle"].forEach((function(n){void 0!==t.config[n].text?r+=t.config[n].margin:r+=e.dCtx.isSparkline||!t.globals.axisCharts?0:5})),!t.config.legend.show||"bottom"!==t.config.legend.position||t.config.legend.floating||t.globals.axisCharts||(r+=10);var i=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight=n.gridHeight-i.height-a.height-r,n.translateY=n.translateY+i.height+a.height+r}},{key:"setGridXPosForDualYAxis",value:function(e,t){var n=this.w,r=new Y(this.dCtx.ctx);n.config.yaxis.map((function(i,a){-1!==n.globals.ignoreYAxisIndexes.indexOf(a)||i.floating||r.isYAxisHidden(a)||(i.opposite&&(n.globals.translateX=n.globals.translateX-(t[a].width+e[a].width)-parseInt(n.config.yaxis[a].labels.style.fontSize,10)/1.2-12),n.globals.translateX<2&&(n.globals.translateX=2))}))}}]),e}(),de=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new se(this),this.dimYAxis=new le(this),this.dimXAxis=new oe(this),this.dimGrid=new ce(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return c(e,[{key:"plotCoords",value:function(){var e=this,t=this.w,n=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(t){var n=m(t,2),r=n[0],i=n[1];e.gridPad[r]=Math.max(i,e.w.globals.markers.largestSize/1.5)})),this.gridPad.top=Math.max(t.config.stroke.width/2,this.gridPad.top),this.gridPad.bottom=Math.max(t.config.stroke.width/2,this.gridPad.bottom)),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var r=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*r,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(r>0?r+4:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,n=t.globals,r=this.dimYAxis.getyAxisLabelsCoords(),i=this.dimYAxis.getyAxisTitleCoords();t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map((function(e,n){t.globals.yLabelsCoords.push({width:r[n].width,index:n}),t.globals.yTitleCoords.push({width:i[n].width,index:n})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),s=this.dimXAxis.getxAxisGroupLabelsCoords(),o=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,o,s),n.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+t.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+t.config.xaxis.labels.offsetX;var l=this.yAxisWidth,c=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-o.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-a.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var d=10;("radar"===t.config.chart.type||this.isSparkline)&&(l=0,c=n.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===t.config.chart.type)&&(l=0,c=0,d=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(a);var u=function(){n.translateX=l,n.gridHeight=n.svgHeight-e.lgRect.height-c-(e.isSparkline||"treemap"===t.config.chart.type?0:t.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-l};switch("top"===t.config.xaxis.position&&(d=n.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":n.translateY=d,u();break;case"top":n.translateY=this.lgRect.height+d,u();break;case"left":n.translateY=d,n.translateX=this.lgRect.width+l,n.gridHeight=n.svgHeight-c-12,n.gridWidth=n.svgWidth-this.lgRect.width-l;break;case"right":n.translateY=d,n.translateX=l,n.gridHeight=n.svgHeight-c-12,n.gridWidth=n.svgWidth-this.lgRect.width-l-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(i,r),new $(this.ctx).setYAxisXPosition(r,i)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=e.config,r=0;e.config.legend.show&&!e.config.legend.floating&&(r=20);var i="pie"===n.chart.type||"polarArea"===n.chart.type||"donut"===n.chart.type?"pie":"radialBar",a=n.plotOptions[i].offsetY,s=n.plotOptions[i].offsetX;if(!n.legend.show||n.legend.floating)return t.gridHeight=t.svgHeight-n.grid.padding.left+n.grid.padding.right,t.gridWidth=t.gridHeight,t.translateY=a,void(t.translateX=s+(t.svgWidth-t.gridWidth)/2);switch(n.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=a-10,t.translateX=s+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+a+10,t.translateX=s+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-r,t.gridHeight="auto"!==n.chart.height?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=s+this.lgRect.width+r;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-r-5,t.gridHeight="auto"!==n.chart.height?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=s+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,n){var r=this.w,i=r.globals.hasXaxisGroups?2:1,a=n.height+e.height+t.height,s=r.globals.isMultiLineX?1.2:r.globals.LINE_HEIGHT_RATIO,o=r.globals.rotateXLabels?22:10,l=r.globals.rotateXLabels&&"bottom"===r.config.legend.position?10:0;this.xAxisHeight=a*s+i*o+l,this.xAxisWidth=e.width,this.xAxisHeight-t.height>r.config.xaxis.labels.maxHeight&&(this.xAxisHeight=r.config.xaxis.labels.maxHeight),r.config.xaxis.labels.minHeight&&this.xAxisHeight<r.config.xaxis.labels.minHeight&&(this.xAxisHeight=r.config.xaxis.labels.minHeight),r.config.xaxis.floating&&(this.xAxisHeight=0);var c=0,d=0;r.config.yaxis.forEach((function(e){c+=e.labels.minWidth,d+=e.labels.maxWidth})),this.yAxisWidth<c&&(this.yAxisWidth=c),this.yAxisWidth>d&&(this.yAxisWidth=d)}}]),e}(),ue=function(){function e(t){o(this,e),this.w=t.w,this.lgCtx=t}return c(e,[{key:"getLegendStyles",value:function(){var e,t,n,r=document.createElement("style");r.setAttribute("type","text/css");var i=(null===(e=this.lgCtx.ctx)||void 0===e||null===(t=e.opts)||void 0===t||null===(n=t.chart)||void 0===n?void 0:n.nonce)||this.w.config.chart.nonce;i&&r.setAttribute("nonce",i);var a=document.createTextNode("\n      .apexcharts-legend {\n        display: flex;\n        overflow: auto;\n        padding: 0 10px;\n      }\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\n        flex-wrap: wrap\n      }\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n        flex-direction: column;\n        bottom: 0;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n        justify-content: flex-start;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\n        justify-content: center;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\n        justify-content: flex-end;\n      }\n      .apexcharts-legend-series {\n        cursor: pointer;\n        line-height: normal;\n      }\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\n        display: flex;\n        align-items: center;\n      }\n      .apexcharts-legend-text {\n        position: relative;\n        font-size: 14px;\n      }\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\n        pointer-events: none;\n      }\n      .apexcharts-legend-marker {\n        position: relative;\n        display: inline-block;\n        cursor: pointer;\n        margin-right: 3px;\n        border-style: solid;\n      }\n\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\n        display: inline-block;\n      }\n      .apexcharts-legend-series.apexcharts-no-click {\n        cursor: auto;\n      }\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\n        display: none !important;\n      }\n      .apexcharts-inactive-legend {\n        opacity: 0.45;\n      }");return r.appendChild(a),r}},{key:"getLegendBBox",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var n=this,r=this.w;if(r.globals.axisCharts||"radialBar"===r.config.chart.type){r.globals.resized=!0;var i=null,a=null;r.globals.risingSeries=[],r.globals.axisCharts?(i=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),a=parseInt(i.getAttribute("data:realIndex"),10)):(i=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),a=parseInt(i.getAttribute("rel"),10)-1),t?[{cs:r.globals.collapsedSeries,csi:r.globals.collapsedSeriesIndices},{cs:r.globals.ancillaryCollapsedSeries,csi:r.globals.ancillaryCollapsedSeriesIndices}].forEach((function(e){n.riseCollapsedSeries(e.cs,e.csi,a)})):this.hideSeries({seriesEl:i,realIndex:a})}else{var s=r.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(e+1,"'] path")),o=r.config.chart.type;if("pie"===o||"polarArea"===o||"donut"===o){var l=r.config.plotOptions.pie.donut.labels;new _(this.lgCtx.ctx).pathMouseDown(s.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(s.members[0].node,l)}s.fire("click")}}},{key:"hideSeries",value:function(e){var t=e.seriesEl,n=e.realIndex,r=this.w,i=x.clone(r.config.series);if(r.globals.axisCharts){var a=!1;if(r.config.yaxis[n]&&r.config.yaxis[n].show&&r.config.yaxis[n].showAlways&&(a=!0,r.globals.ancillaryCollapsedSeriesIndices.indexOf(n)<0&&(r.globals.ancillaryCollapsedSeries.push({index:n,data:i[n].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),r.globals.ancillaryCollapsedSeriesIndices.push(n))),!a){r.globals.collapsedSeries.push({index:n,data:i[n].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),r.globals.collapsedSeriesIndices.push(n);var s=r.globals.risingSeries.indexOf(n);r.globals.risingSeries.splice(s,1)}}else r.globals.collapsedSeries.push({index:n,data:i[n]}),r.globals.collapsedSeriesIndices.push(n);for(var o=t.childNodes,l=0;l<o.length;l++)o[l].classList.contains("apexcharts-series-markers-wrap")&&(o[l].classList.contains("apexcharts-hide")?o[l].classList.remove("apexcharts-hide"):o[l].classList.add("apexcharts-hide"));r.globals.allSeriesCollapsed=r.globals.collapsedSeries.length===r.config.series.length,i=this._getSeriesBasedOnCollapsedState(i),this.lgCtx.ctx.updateHelpers._updateSeries(i,r.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,n){var r=this.w,i=x.clone(r.config.series);if(e.length>0){for(var a=0;a<e.length;a++)e[a].index===n&&(r.globals.axisCharts?(i[n].data=e[a].data.slice(),e.splice(a,1),t.splice(a,1),r.globals.risingSeries.push(n)):(i[n]=e[a].data,e.splice(a,1),t.splice(a,1),r.globals.risingSeries.push(n)));i=this._getSeriesBasedOnCollapsedState(i),this.lgCtx.ctx.updateHelpers._updateSeries(i,r.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w;return t.globals.axisCharts?e.forEach((function(n,r){t.globals.collapsedSeriesIndices.indexOf(r)>-1&&(e[r].data=[])})):e.forEach((function(n,r){t.globals.collapsedSeriesIndices.indexOf(r)>-1&&(e[r]=0)})),e}}]),e}(),he=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new ue(this)}return c(e,[{key:"init",value:function(){var e=this.w,t=e.globals,n=e.config;if((n.legend.showForSingleSeries&&1===t.series.length||this.isBarsDistributed||t.series.length>1||!t.axisCharts)&&n.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),x.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===n.legend.position||"top"===n.legend.position?this.legendAlignHorizontal():"right"!==n.legend.position&&"left"!==n.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var e=this,t=this.w,n=t.config.legend.fontFamily,r=t.globals.seriesNames,i=t.globals.colors.slice();if("heatmap"===t.config.chart.type){var a=t.config.plotOptions.heatmap.colorScale.ranges;r=a.map((function(e){return e.name?e.name:e.from+" - "+e.to})),i=a.map((function(e){return e.color}))}else this.isBarsDistributed&&(r=t.globals.labels.slice());t.config.legend.customLegendItems.length&&(r=t.config.legend.customLegendItems);for(var s=t.globals.legendFormatter,o=t.config.legend.inverseOrder,l=o?r.length-1:0;o?l>=0:l<=r.length-1;o?l--:l++){var c,d=s(r[l],{seriesIndex:l,w:t}),u=!1,h=!1;if(t.globals.collapsedSeries.length>0)for(var f=0;f<t.globals.collapsedSeries.length;f++)t.globals.collapsedSeries[f].index===l&&(u=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var p=0;p<t.globals.ancillaryCollapsedSeriesIndices.length;p++)t.globals.ancillaryCollapsedSeriesIndices[p]===l&&(h=!0);var g=document.createElement("span");g.classList.add("apexcharts-legend-marker");var m=t.config.legend.markers.offsetX,v=t.config.legend.markers.offsetY,b=t.config.legend.markers.height,y=t.config.legend.markers.width,w=t.config.legend.markers.strokeWidth,k=t.config.legend.markers.strokeColor,C=t.config.legend.markers.radius,A=g.style;A.background=i[l],A.color=i[l],A.setProperty("background",i[l],"important"),t.config.legend.markers.fillColors&&t.config.legend.markers.fillColors[l]&&(A.background=t.config.legend.markers.fillColors[l]),void 0!==t.globals.seriesColors[l]&&(A.background=t.globals.seriesColors[l],A.color=t.globals.seriesColors[l]),A.height=Array.isArray(b)?parseFloat(b[l])+"px":parseFloat(b)+"px",A.width=Array.isArray(y)?parseFloat(y[l])+"px":parseFloat(y)+"px",A.left=(Array.isArray(m)?parseFloat(m[l]):parseFloat(m))+"px",A.top=(Array.isArray(v)?parseFloat(v[l]):parseFloat(v))+"px",A.borderWidth=Array.isArray(w)?w[l]:w,A.borderColor=Array.isArray(k)?k[l]:k,A.borderRadius=Array.isArray(C)?parseFloat(C[l])+"px":parseFloat(C)+"px",t.config.legend.markers.customHTML&&(Array.isArray(t.config.legend.markers.customHTML)?t.config.legend.markers.customHTML[l]&&(g.innerHTML=t.config.legend.markers.customHTML[l]()):g.innerHTML=t.config.legend.markers.customHTML()),_.setAttrs(g,{rel:l+1,"data:collapsed":u||h}),(u||h)&&g.classList.add("apexcharts-inactive-legend");var P=document.createElement("div"),E=document.createElement("span");E.classList.add("apexcharts-legend-text"),E.innerHTML=Array.isArray(d)?d.join(" "):d;var T=t.config.legend.labels.useSeriesColors?t.globals.colors[l]:Array.isArray(t.config.legend.labels.colors)?null===(c=t.config.legend.labels.colors)||void 0===c?void 0:c[l]:t.config.legend.labels.colors;T||(T=t.config.chart.foreColor),E.style.color=T,E.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",E.style.fontWeight=t.config.legend.fontWeight,E.style.fontFamily=n||t.config.chart.fontFamily,_.setAttrs(E,{rel:l+1,i:l,"data:default-text":encodeURIComponent(d),"data:collapsed":u||h}),P.appendChild(g),P.appendChild(E);var N=new S(this.ctx);t.config.legend.showForZeroSeries||0===N.getSeriesTotalByIndex(l)&&N.seriesHaveSameValues(l)&&!N.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&P.classList.add("apexcharts-hidden-zero-series"),t.config.legend.showForNullSeries||N.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&P.classList.add("apexcharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(P),t.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(t.config.legend.horizontalAlign)),t.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+t.config.legend.position),P.classList.add("apexcharts-legend-series"),P.style.margin="".concat(t.config.legend.itemMargin.vertical,"px ").concat(t.config.legend.itemMargin.horizontal,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",_.setAttrs(P,{rel:l+1,seriesName:x.escapeString(r[l]),"data:collapsed":u||h}),(u||h)&&P.classList.add("apexcharts-inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||P.classList.add("apexcharts-no-click")}t.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&0===t.config.legend.customLegendItems.length&&(t.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var n=this.w,r=n.globals.dom.elLegendWrap,i=r.getBoundingClientRect(),a=0,s=0;if("bottom"===n.config.legend.position)s+=n.globals.svgHeight-i.height/2;else if("top"===n.config.legend.position){var o=new de(this.ctx),l=o.dimHelpers.getTitleSubtitleCoords("title").height,c=o.dimHelpers.getTitleSubtitleCoords("subtitle").height;s=s+(l>0?l-10:0)+(c>0?c-10:0)}r.style.position="absolute",a=a+e+n.config.legend.offsetX,s=s+t+n.config.legend.offsetY,r.style.left=a+"px",r.style.top=s+"px","bottom"===n.config.legend.position?(r.style.top="auto",r.style.bottom=5-n.config.legend.offsetY+"px"):"right"===n.config.legend.position&&(r.style.left="auto",r.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach((function(e){r.style[e]&&(r.style[e]=parseInt(n.config.legend[e],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=this.legendHelpers.getLegendBBox(),n=new de(this.ctx),r=n.dimHelpers.getTitleSubtitleCoords("title"),i=n.dimHelpers.getTitleSubtitleCoords("subtitle"),a=0;"bottom"===e.config.legend.position?a=-t.clwh/1.8:"top"===e.config.legend.position&&(a=r.height+i.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,a)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendBBox(),n=0;"left"===e.config.legend.position&&(n=20),"right"===e.config.legend.position&&(n=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,n=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if("heatmap"===t.config.chart.type||this.isBarsDistributed){if(n){var r=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,r,this.w]),new H(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new H(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,r="true"===e.target.getAttribute("data:collapsed"),i=this.w.config.chart.events.legendClick;"function"==typeof i&&i(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var a=this.w.config.legend.markers.onClick;"function"==typeof a&&e.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),"treemap"!==t.config.chart.type&&"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,r)}}}]),e}(),fe=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=n.globals.minX,this.maxX=n.globals.maxX}return c(e,[{key:"createToolbar",value:function(){var e=this,t=this.w,n=function(){return document.createElement("div")},r=n();if(r.setAttribute("class","apexcharts-toolbar"),r.style.top=t.config.chart.toolbar.offsetY+"px",r.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(r),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var i=0;i<this.t.customIcons.length;i++)this.elCustomIcons.push(n());var a=[],s=function(n,r,i){var s=n.toLowerCase();e.t[s]&&t.config.chart.zoom.enabled&&a.push({el:r,icon:"string"==typeof e.t[s]?e.t[s]:i,title:e.localeValues[n],class:"apexcharts-".concat(s,"-icon")})};s("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),s("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var o=function(n){e.t[n]&&t.config.chart[n].enabled&&a.push({el:"zoom"===n?e.elZoom:e.elSelection,icon:"string"==typeof e.t[n]?e.t[n]:"zoom"===n?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:e.localeValues["zoom"===n?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(n,"-icon")})};o("zoom"),o("selection"),this.t.pan&&t.config.chart.zoom.enabled&&a.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),s("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&a.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)a.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});a.forEach((function(e,t){e.index&&x.moveIndexInArray(a,t,e.index)}));for(var c=0;c<a.length;c++)_.setAttrs(a[c].el,{class:a[c].class,title:a[c].title}),a[c].el.innerHTML=a[c].icon,r.appendChild(a[c].el);this._createHamburgerMenu(r),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),_.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],n=0;n<t.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=t[n].title,_.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(t[n].name),title:t[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(t){t.classList.contains("exportSVG")?t.addEventListener("click",e.handleDownload.bind(e,"svg")):t.classList.contains("exportPNG")?t.addEventListener("click",e.handleDownload.bind(e,"png")):t.classList.contains("exportCSV")&&t.addEventListener("click",e.handleDownload.bind(e,"csv"))}));for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls();var n="selection"===e?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,r="selection"===e?"selectionEnabled":"zoomEnabled";t.w.globals[r]=!t.w.globals[r],n.classList.contains(t.ctx.toolbar.selectedClass)?n.classList.remove(t.ctx.toolbar.selectedClass):n.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),"pan"===e?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t="pan"===e?this.elPan:this.elZoom,n="pan"===e?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(t){t&&t.classList.remove(e.selectedClass)}))}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,n=(this.minX+t)/2,r=(this.maxX+t)/2,i=this._getNewMinXMaxX(n,r);e.globals.disableZoomIn||this.zoomUpdateOptions(i.minX,i.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!("datetime"===e.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,n=this.minX-(t-this.minX),r=this.maxX-(t-this.maxX),i=this._getNewMinXMaxX(n,r);e.globals.disableZoomOut||this.zoomUpdateOptions(i.minX,i.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var n=this.w;if(void 0!==e||void 0!==t){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=n.globals.dataPoints),t-e<2))){var r={min:e,max:t},i=this.getBeforeZoomRange(r);i&&(r=i.xaxis);var a={xaxis:r},s=x.clone(n.globals.initialConfig.yaxis);n.config.chart.zoom.autoScaleYaxis&&(s=new Q(this.ctx).autoScaleY(this.ctx,s,{xaxis:r})),n.config.chart.group||(a.yaxis=s),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(r,s)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var n=null;return"function"==typeof this.ev.beforeZoom&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout((function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(e){var t=this.w,n=new X(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach((function(e){var t=e.w;if(t.globals.lastXAxis.min=t.globals.initialConfig.xaxis.min,t.globals.lastXAxis.max=t.globals.initialConfig.xaxis.max,e.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof t.config.chart.events.beforeResetZoom){var n=t.config.chart.events.beforeResetZoom(e,t);n&&e.updateHelpers.revertDefaultAxisMinMax(n)}"function"==typeof t.config.chart.events.zoomed&&e.ctx.toolbar.zoomCallback({min:t.config.xaxis.min,max:t.config.xaxis.max}),t.globals.zoomed=!1;var r=e.ctx.series.emptyCollapsedSeries(x.clone(t.globals.initialSeries));e.updateHelpers._updateSeries(r,t.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),e}(),pe=function(e){u(n,fe);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).ctx=e,r.w=e.w,r.dragged=!1,r.graphics=new _(r.ctx),r.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],r.clientX=0,r.clientY=0,r.startX=0,r.endX=0,r.dragX=0,r.startY=0,r.endY=0,r.dragY=0,r.moveDirection="none",r}return c(n,[{key:"init",value:function(e){var t=this,n=e.xyRatios,r=this.w,i=this;this.xyRatios=n,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=r.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),r.globals.dom.elGraphical.add(this.zoomRect),r.globals.dom.elGraphical.add(this.selectionRect),"x"===r.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:r.globals.gridWidth,maxY:r.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===r.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:r.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=r.globals.dom.baseEl.querySelector("".concat(r.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(e){t.hoverArea.addEventListener(e,i.svgMouseEvents.bind(i,n),{capture:!1,passive:!0})}))}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(e,t){var n=this.w,r=this,i=this.ctx.toolbar,a=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type,s=n.config.chart.toolbar.autoSelected;if(t.shiftKey?(this.shiftWasPressed=!0,i.enableZoomPanFromToolbar("pan"===s?"zoom":"pan")):this.shiftWasPressed&&(i.enableZoomPanFromToolbar(s),this.shiftWasPressed=!1),t.target){var o,l=t.target.classList;if(t.target.parentNode&&null!==t.target.parentNode&&(o=t.target.parentNode.classList),!(l.contains("apexcharts-selection-rect")||l.contains("apexcharts-legend-marker")||l.contains("apexcharts-legend-text")||o&&o.contains("apexcharts-toolbar"))){if(r.clientX="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientX:"touchend"===t.type?t.changedTouches[0].clientX:t.clientX,r.clientY="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientY:"touchend"===t.type?t.changedTouches[0].clientY:t.clientY,"mousedown"===t.type&&1===t.which){var c=r.gridRect.getBoundingClientRect();r.startX=r.clientX-c.left,r.startY=r.clientY-c.top,r.dragged=!1,r.w.globals.mousedown=!0}if(("mousemove"===t.type&&1===t.which||"touchmove"===t.type)&&(r.dragged=!0,n.globals.panEnabled?(n.globals.selection=null,r.w.globals.mousedown&&r.panDragging({context:r,zoomtype:a,xyRatios:e})):(r.w.globals.mousedown&&n.globals.zoomEnabled||r.w.globals.mousedown&&n.globals.selectionEnabled)&&(r.selection=r.selectionDrawing({context:r,zoomtype:a}))),"mouseup"===t.type||"touchend"===t.type||"mouseleave"===t.type){var d=r.gridRect.getBoundingClientRect();r.w.globals.mousedown&&(r.endX=r.clientX-d.left,r.endY=r.clientY-d.top,r.dragX=Math.abs(r.endX-r.startX),r.dragY=Math.abs(r.endY-r.startY),(n.globals.zoomEnabled||n.globals.selectionEnabled)&&r.selectionDrawn({context:r,zoomtype:a}),n.globals.panEnabled&&n.config.xaxis.convertedCatToNumeric&&r.delayedPanScrolled()),n.globals.zoomEnabled&&r.hideSelectionRect(this.selectionRect),r.dragged=!1,r.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var e=this.w;if(this.selectionRect){var t=this.selectionRect.node.getBoundingClientRect();t.width>0&&t.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:e.globals.gridWidth,maxY:e.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var e=this.w,t=this.xyRatios;if(!e.globals.zoomEnabled)if(void 0!==e.globals.selection&&null!==e.globals.selection)this.drawSelectionRect(e.globals.selection);else if(void 0!==e.config.chart.selection.xaxis.min&&void 0!==e.config.chart.selection.xaxis.max){var n=(e.config.chart.selection.xaxis.min-e.globals.minX)/t.xRatio,r=e.globals.gridWidth-(e.globals.maxX-e.config.chart.selection.xaxis.max)/t.xRatio-n;e.globals.isRangeBar&&(n=(e.config.chart.selection.xaxis.min-e.globals.yAxisScale[0].niceMin)/t.invertedYRatio,r=(e.config.chart.selection.xaxis.max-e.config.chart.selection.xaxis.min)/t.invertedYRatio);var i={x:n,y:0,width:r,height:e.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(i),this.makeSelectionRectDraggable(),"function"==typeof e.config.chart.events.selection&&e.config.chart.events.selection(this.ctx,{xaxis:{min:e.config.chart.selection.xaxis.min,max:e.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=e.translateX,s=void 0===a?0:a,o=e.translateY,l=void 0===o?0:o,c=this.w,d=this.zoomRect,u=this.selectionRect;if(this.dragged||null!==c.globals.selection){var h={transform:"translate("+s+", "+l+")"};c.globals.zoomEnabled&&this.dragged&&(r<0&&(r=1),d.attr({x:t,y:n,width:r,height:i,fill:c.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":c.config.chart.zoom.zoomedArea.fill.opacity,stroke:c.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":c.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":c.config.chart.zoom.zoomedArea.stroke.opacity}),_.setAttrs(d.node,h)),c.globals.selectionEnabled&&(u.attr({x:t,y:n,width:r>0?r:0,height:i>0?i:0,fill:c.config.chart.selection.fill.color,"fill-opacity":c.config.chart.selection.fill.opacity,stroke:c.config.chart.selection.stroke.color,"stroke-width":c.config.chart.selection.stroke.width,"stroke-dasharray":c.config.chart.selection.stroke.dashArray,"stroke-opacity":c.config.chart.selection.stroke.opacity}),_.setAttrs(u.node,h))}}},{key:"hideSelectionRect",value:function(e){e&&e.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(e){var t,n=e.context,r=e.zoomtype,i=this.w,a=n,s=this.gridRect.getBoundingClientRect(),o=a.startX-1,l=a.startY,c=!1,d=!1,u=a.clientX-s.left-o,h=a.clientY-s.top-l;return Math.abs(u+o)>i.globals.gridWidth?u=i.globals.gridWidth-o:a.clientX-s.left<0&&(u=o),o>a.clientX-s.left&&(c=!0,u=Math.abs(u)),l>a.clientY-s.top&&(d=!0,h=Math.abs(h)),t="x"===r?{x:c?o-u:o,y:0,width:u,height:i.globals.gridHeight}:"y"===r?{x:0,y:d?l-h:l,width:i.globals.gridWidth,height:h}:{x:c?o-u:o,y:d?l-h:l,width:u,height:h},a.drawSelectionRect(t),a.selectionDragging("resizing"),t}},{key:"selectionDragging",value:function(e,t){var n=this,r=this.w,i=this.xyRatios,a=this.selectionRect,s=0;"resizing"===e&&(s=30);var o=function(e){return parseFloat(a.node.getAttribute(e))},l={x:o("x"),y:o("y"),width:o("width"),height:o("height")};r.globals.selection=l,"function"==typeof r.config.chart.events.selection&&r.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var e,t,s,o,l=n.gridRect.getBoundingClientRect(),c=a.node.getBoundingClientRect();r.globals.isRangeBar?(e=r.globals.yAxisScale[0].niceMin+(c.left-l.left)*i.invertedYRatio,t=r.globals.yAxisScale[0].niceMin+(c.right-l.left)*i.invertedYRatio,s=0,o=1):(e=r.globals.xAxisScale.niceMin+(c.left-l.left)*i.xRatio,t=r.globals.xAxisScale.niceMin+(c.right-l.left)*i.xRatio,s=r.globals.yAxisScale[0].niceMin+(l.bottom-c.bottom)*i.yRatio[0],o=r.globals.yAxisScale[0].niceMax-(c.top-l.top)*i.yRatio[0]);var d={xaxis:{min:e,max:t},yaxis:{min:s,max:o}};r.config.chart.events.selection(n.ctx,d),r.config.chart.brush.enabled&&void 0!==r.config.chart.events.brushScrolled&&r.config.chart.events.brushScrolled(n.ctx,d)}),s))}},{key:"selectionDrawn",value:function(e){var t=e.context,n=e.zoomtype,r=this.w,i=t,a=this.xyRatios,s=this.ctx.toolbar;if(i.startX>i.endX){var o=i.startX;i.startX=i.endX,i.endX=o}if(i.startY>i.endY){var l=i.startY;i.startY=i.endY,i.endY=l}var c=void 0,d=void 0;r.globals.isRangeBar?(c=r.globals.yAxisScale[0].niceMin+i.startX*a.invertedYRatio,d=r.globals.yAxisScale[0].niceMin+i.endX*a.invertedYRatio):(c=r.globals.xAxisScale.niceMin+i.startX*a.xRatio,d=r.globals.xAxisScale.niceMin+i.endX*a.xRatio);var u=[],h=[];if(r.config.yaxis.forEach((function(e,t){u.push(r.globals.yAxisScale[t].niceMax-a.yRatio[t]*i.startY),h.push(r.globals.yAxisScale[t].niceMax-a.yRatio[t]*i.endY)})),i.dragged&&(i.dragX>10||i.dragY>10)&&c!==d)if(r.globals.zoomEnabled){var f=x.clone(r.globals.initialConfig.yaxis),p=x.clone(r.globals.initialConfig.xaxis);if(r.globals.zoomed=!0,r.config.xaxis.convertedCatToNumeric&&(c=Math.floor(c),d=Math.floor(d),c<1&&(c=1,d=r.globals.dataPoints),d-c<2&&(d=c+1)),"xy"!==n&&"x"!==n||(p={min:c,max:d}),"xy"!==n&&"y"!==n||f.forEach((function(e,t){f[t].min=h[t],f[t].max=u[t]})),r.config.chart.zoom.autoScaleYaxis){var g=new Q(i.ctx);f=g.autoScaleY(i.ctx,f,{xaxis:p})}if(s){var m=s.getBeforeZoomRange(p,f);m&&(p=m.xaxis?m.xaxis:p,f=m.yaxis?m.yaxis:f)}var v={xaxis:p};r.config.chart.group||(v.yaxis=f),i.ctx.updateHelpers._updateOptions(v,!1,i.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof r.config.chart.events.zoomed&&s.zoomCallback(p,f)}else if(r.globals.selectionEnabled){var b,y=null;b={min:c,max:d},"xy"!==n&&"y"!==n||(y=x.clone(r.config.yaxis)).forEach((function(e,t){y[t].min=h[t],y[t].max=u[t]})),r.globals.selection=i.selection,"function"==typeof r.config.chart.events.selection&&r.config.chart.events.selection(i.ctx,{xaxis:b,yaxis:y})}}},{key:"panDragging",value:function(e){var t=e.context,n=this.w,r=t;if(void 0!==n.globals.lastClientPosition.x){var i=n.globals.lastClientPosition.x-r.clientX,a=n.globals.lastClientPosition.y-r.clientY;Math.abs(i)>Math.abs(a)&&i>0?this.moveDirection="left":Math.abs(i)>Math.abs(a)&&i<0?this.moveDirection="right":Math.abs(a)>Math.abs(i)&&a>0?this.moveDirection="up":Math.abs(a)>Math.abs(i)&&a<0&&(this.moveDirection="down")}n.globals.lastClientPosition={x:r.clientX,y:r.clientY};var s=n.globals.isRangeBar?n.globals.minY:n.globals.minX,o=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;n.config.xaxis.convertedCatToNumeric||r.panScrolled(s,o)}},{key:"delayedPanScrolled",value:function(){var e=this.w,t=e.globals.minX,n=e.globals.maxX,r=(e.globals.maxX-e.globals.minX)/2;"left"===this.moveDirection?(t=e.globals.minX+r,n=e.globals.maxX+r):"right"===this.moveDirection&&(t=e.globals.minX-r,n=e.globals.maxX-r),t=Math.floor(t),n=Math.floor(n),this.updateScrolledChart({xaxis:{min:t,max:n}},t,n)}},{key:"panScrolled",value:function(e,t){var n=this.w,r=this.xyRatios,i=x.clone(n.globals.initialConfig.yaxis),a=r.xRatio,s=n.globals.minX,o=n.globals.maxX;n.globals.isRangeBar&&(a=r.invertedYRatio,s=n.globals.minY,o=n.globals.maxY),"left"===this.moveDirection?(e=s+n.globals.gridWidth/15*a,t=o+n.globals.gridWidth/15*a):"right"===this.moveDirection&&(e=s-n.globals.gridWidth/15*a,t=o-n.globals.gridWidth/15*a),n.globals.isRangeBar||(e<n.globals.initialMinX||t>n.globals.initialMaxX)&&(e=s,t=o);var l={min:e,max:t};n.config.chart.zoom.autoScaleYaxis&&(i=new Q(this.ctx).autoScaleY(this.ctx,i,{xaxis:l}));var c={xaxis:{min:e,max:t}};n.config.chart.group||(c.yaxis=i),this.updateScrolledChart(c,e,t)}},{key:"updateScrolledChart",value:function(e,t,n){var r=this.w;this.ctx.updateHelpers._updateOptions(e,!1,!1),"function"==typeof r.config.chart.events.scrolled&&r.config.chart.events.scrolled(this.ctx,{xaxis:{min:t,max:n}})}}]),n}(),ge=function(){function e(t){o(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return c(e,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,n=e.elGrid,r=e.clientX,i=e.clientY,a=this.w,s=n.getBoundingClientRect(),o=s.width,l=s.height,c=o/(a.globals.dataPoints-1),d=l/a.globals.dataPoints,u=this.hasBars();!a.globals.comboCharts&&!u||a.config.xaxis.convertedCatToNumeric||(c=o/a.globals.dataPoints);var h=r-s.left-a.globals.barPadForNumericAxis,f=i-s.top;h<0||f<0||h>o||f>l?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):a.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):a.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var p=Math.round(h/c),g=Math.floor(f/d);u&&!a.config.xaxis.convertedCatToNumeric&&(p=Math.ceil(h/c),p-=1);var m=null,v=null,b=a.globals.seriesXvalues.map((function(e){return e.filter((function(e){return x.isNumber(e)}))})),y=a.globals.seriesYvalues.map((function(e){return e.filter((function(e){return x.isNumber(e)}))}));if(a.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),k=h*(w.width/o),_=f*(w.height/l);m=(v=this.closestInMultiArray(k,_,b,y)).index,p=v.j,null!==m&&(b=a.globals.seriesXvalues[m],p=(v=this.closestInArray(k,b)).index)}return a.globals.capturedSeriesIndex=null===m?-1:m,(!p||p<1)&&(p=0),a.globals.isBarHorizontal?a.globals.capturedDataPointIndex=g:a.globals.capturedDataPointIndex=p,{capturedSeries:m,j:a.globals.isBarHorizontal?g:p,hoverX:h,hoverY:f}}},{key:"closestInMultiArray",value:function(e,t,n,r){var i=this.w,a=0,s=null,o=-1;i.globals.series.length>1?a=this.getFirstActiveXArray(n):s=0;var l=n[a][0],c=Math.abs(e-l);if(n.forEach((function(t){t.forEach((function(t,n){var r=Math.abs(e-t);r<=c&&(c=r,o=n)}))})),-1!==o){var d=r[a][o],u=Math.abs(t-d);s=a,r.forEach((function(e,n){var r=Math.abs(t-e[o]);r<=u&&(u=r,s=n)}))}return{index:s,j:o}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,n=0,r=e.map((function(e,t){return e.length>0?t:-1})),i=0;i<r.length;i++)if(-1!==r[i]&&-1===t.globals.collapsedSeriesIndices.indexOf(i)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(i)){n=r[i];break}return n}},{key:"closestInArray",value:function(e,t){for(var n=t[0],r=null,i=Math.abs(e-n),a=0;a<t.length;a++){var s=Math.abs(e-t[a]);s<i&&(i=s,r=a)}return{index:r}}},{key:"isXoverlap",value:function(e){var t=[],n=this.w.globals.seriesX.filter((function(e){return void 0!==e[0]}));if(n.length>0)for(var r=0;r<n.length-1;r++)void 0!==n[r][e]&&void 0!==n[r+1][e]&&n[r][e]!==n[r+1][e]&&t.push("unEqual");return 0===t.length}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,n=0;n<t.length-1;n++)if(t[n].data.length!==t[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return v(e).reduce((function(e,t){return e+t.getBBox().height}),0)}},{key:"getElMarkers",value:function(e){return"number"==typeof e?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(e=v(e)).sort((function(e,t){var n=Number(e.getAttribute("data:realIndex")),r=Number(t.getAttribute("data:realIndex"));return r<n?1:r>n?-1:0}));var t=[];return e.forEach((function(e){t.push(e.querySelector(".apexcharts-marker"))})),t}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,n=t.config.markers.hover.size;return void 0===n&&(n=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,n=this.ttCtx;0===n.allTooltipSeriesGroups.length&&(n.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var r=n.allTooltipSeriesGroups,i=0;i<r.length;i++)"enable"===e?(r[i].classList.add("apexcharts-active"),r[i].style.display=t.config.tooltip.items.display):(r[i].classList.remove("apexcharts-active"),r[i].style.display="none")}}]),e}(),me=function(){function e(t){o(this,e),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new ge(t)}return c(e,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,n=void 0===t||t,r=e.ttItems,i=e.i,a=void 0===i?0:i,s=e.j,o=void 0===s?null:s,l=e.y1,c=e.y2,d=e.e,u=this.w;void 0!==u.config.tooltip.custom?this.handleCustomTooltip({i:a,j:o,y1:l,y2:c,w:u}):this.toggleActiveInactiveSeries(n);var h=this.getValuesToPrint({i:a,j:o});this.printLabels({i:a,j:o,values:h,ttItems:r,shared:n,e:d});var f=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=f.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=f.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,n=this,r=e.i,i=e.j,s=e.values,o=e.ttItems,l=e.shared,c=e.e,d=this.w,u=[],h=function(e){return d.globals.seriesGoals[e]&&d.globals.seriesGoals[e][i]&&Array.isArray(d.globals.seriesGoals[e][i])},f=s.xVal,p=s.zVal,g=s.xAxisTTVal,m="",v=d.globals.colors[r];null!==i&&d.config.plotOptions.bar.distributed&&(v=d.globals.colors[i]);for(var b=function(e,s){var b=n.getFormatters(r);m=n.getSeriesName({fn:b.yLbTitleFormatter,index:r,seriesIndex:r,j:i}),"treemap"===d.config.chart.type&&(m=b.yLbTitleFormatter(String(d.config.series[r].data[i].x),{series:d.globals.series,seriesIndex:r,dataPointIndex:i,w:d}));var y=d.config.tooltip.inverseOrder?s:e;if(d.globals.axisCharts){var x=function(e){var t,n,r,a;return d.globals.isRangeData?b.yLbFormatter(null===(t=d.globals.seriesRangeStart)||void 0===t||null===(n=t[e])||void 0===n?void 0:n[i],{series:d.globals.seriesRangeStart,seriesIndex:e,dataPointIndex:i,w:d})+" - "+b.yLbFormatter(null===(r=d.globals.seriesRangeEnd)||void 0===r||null===(a=r[e])||void 0===a?void 0:a[i],{series:d.globals.seriesRangeEnd,seriesIndex:e,dataPointIndex:i,w:d}):b.yLbFormatter(d.globals.series[e][i],{series:d.globals.series,seriesIndex:e,dataPointIndex:i,w:d})};if(l)b=n.getFormatters(y),m=n.getSeriesName({fn:b.yLbTitleFormatter,index:y,seriesIndex:r,j:i}),v=d.globals.colors[y],t=x(y),h(y)&&(u=d.globals.seriesGoals[y][i].map((function(e){return{attrs:e,val:b.yLbFormatter(e.value,{seriesIndex:y,dataPointIndex:i,w:d})}})));else{var w,k=null==c||null===(w=c.target)||void 0===w?void 0:w.getAttribute("fill");k&&(v=-1!==k.indexOf("url")?document.querySelector(k.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):k),t=x(r),h(r)&&Array.isArray(d.globals.seriesGoals[r][i])&&(u=d.globals.seriesGoals[r][i].map((function(e){return{attrs:e,val:b.yLbFormatter(e.value,{seriesIndex:r,dataPointIndex:i,w:d})}})))}}null===i&&(t=b.yLbFormatter(d.globals.series[r],a(a({},d),{},{seriesIndex:r,dataPointIndex:r}))),n.DOMHandling({i:r,t:y,j:i,ttItems:o,values:{val:t,goalVals:u,xVal:f,xAxisTTVal:g,zVal:p},seriesName:m,shared:l,pColor:v})},y=0,x=d.globals.series.length-1;y<d.globals.series.length;y++,x--)b(y,x)}},{key:"getFormatters",value:function(e){var t,n=this.w,r=n.globals.yLabelFormatters[e];return void 0!==n.globals.ttVal?Array.isArray(n.globals.ttVal)?(r=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,t=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(r=n.globals.ttVal.formatter,"function"==typeof n.globals.ttVal.title.formatter&&(t=n.globals.ttVal.title.formatter)):t=n.config.tooltip.y.title.formatter,"function"!=typeof r&&(r=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(e){return e}),"function"!=typeof t&&(t=function(e){return e}),{yLbFormatter:r,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,n=e.index,r=e.seriesIndex,i=e.j,a=this.w;return t(String(a.globals.seriesNames[n]),{series:a.globals.series,seriesIndex:r,dataPointIndex:i,w:a})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,n=e.j,r=e.ttItems,i=e.values,a=e.seriesName,s=e.shared,o=e.pColor,l=this.w,c=this.ttCtx,d=i.val,u=i.goalVals,h=i.xVal,f=i.xAxisTTVal,p=i.zVal,g=null;g=r[t].children,l.config.tooltip.fillSeriesColor&&(r[t].style.backgroundColor=o,g[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),c.tooltipTitle.innerHTML=h),c.isXAxisTooltipEnabled&&(c.xaxisTooltipText.innerHTML=""!==f?f:h);var m=r[t].querySelector(".apexcharts-tooltip-text-y-label");m&&(m.innerHTML=a||"");var v=r[t].querySelector(".apexcharts-tooltip-text-y-value");v&&(v.innerHTML=void 0!==d?d:""),g[0]&&g[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(o=l.config.tooltip.marker.fillColors[t]),g[0].style.backgroundColor=o),l.config.tooltip.marker.show||(g[0].style.display="none");var b=r[t].querySelector(".apexcharts-tooltip-text-goals-label"),y=r[t].querySelector(".apexcharts-tooltip-text-goals-value");if(u.length&&l.globals.seriesGoals[t]){var x=function(){var e="<div >",t="<div>";u.forEach((function(n,r){e+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(n.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(n.attrs.name,"</div>"),t+="<div>".concat(n.val,"</div>")})),b.innerHTML=e+"</div>",y.innerHTML=t+"</div>"};s?l.globals.seriesGoals[t][n]&&Array.isArray(l.globals.seriesGoals[t][n])?x():(b.innerHTML="",y.innerHTML=""):x()}else b.innerHTML="",y.innerHTML="";if(null!==p&&(r[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,r[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==p?p:""),s&&g[0]){if(l.config.tooltip.hideEmptySeries){var w=r[t].querySelector(".apexcharts-tooltip-marker"),k=r[t].querySelector(".apexcharts-tooltip-text");0==parseFloat(d)?(w.style.display="none",k.style.display="none"):(w.style.display="block",k.style.display="block")}null==d||l.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||l.globals.collapsedSeriesIndices.indexOf(t)>-1?g[0].parentNode.style.display="none":g[0].parentNode.style.display=l.config.tooltip.items.display}}},{key:"toggleActiveInactiveSeries",value:function(e){var t=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var n=t.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");n&&(n.classList.add("apexcharts-active"),n.style.display=t.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,n=e.j,r=this.w,i=this.ctx.series.filteredSeriesX(),a="",s="",o=null,l=null,c={series:r.globals.series,seriesIndex:t,dataPointIndex:n,w:r},d=r.globals.ttZFormatter;null===n?l=r.globals.series[t]:r.globals.isXNumeric&&"treemap"!==r.config.chart.type?(a=i[t][n],0===i[t].length&&(a=i[this.tooltipUtil.getFirstActiveXArray(i)][n])):a=void 0!==r.globals.labels[n]?r.globals.labels[n]:"";var u=a;return a=r.globals.isXNumeric&&"datetime"===r.config.xaxis.type?new F(this.ctx).xLabelFormat(r.globals.ttKeyFormatter,u,u,{i:void 0,dateFormatter:new M(this.ctx).formatDate,w:this.w}):r.globals.isBarHorizontal?r.globals.yLabelFormatters[0](u,c):r.globals.xLabelFormatter(u,c),void 0!==r.config.tooltip.x.formatter&&(a=r.globals.ttKeyFormatter(u,c)),r.globals.seriesZ.length>0&&r.globals.seriesZ[t].length>0&&(o=d(r.globals.seriesZ[t][n],r)),s="function"==typeof r.config.xaxis.tooltip.formatter?r.globals.xaxisTooltipFormatter(u,c):a,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(s)?s.join(" "):s,zVal:o}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,n=e.j,r=e.y1,i=e.y2,a=e.w,s=this.ttCtx.getElTooltip(),o=a.config.tooltip.custom;Array.isArray(o)&&o[t]&&(o=o[t]),s.innerHTML=o({ctx:this.ctx,series:a.globals.series,seriesIndex:t,dataPointIndex:n,y1:r,y2:i,w:a})}}]),e}(),ve=function(){function e(t){o(this,e),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return c(e,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.ttCtx,r=this.w,i=n.getElXCrosshairs(),a=e-n.xcrosshairsWidth/2,s=r.globals.labels.slice().length;if(null!==t&&(a=r.globals.gridWidth/s*t),null===i||r.globals.isBarHorizontal||(i.setAttribute("x",a),i.setAttribute("x1",a),i.setAttribute("x2",a),i.setAttribute("y2",r.globals.gridHeight),i.classList.add("apexcharts-active")),a<0&&(a=0),a>r.globals.gridWidth&&(a=r.globals.gridWidth),n.isXAxisTooltipEnabled){var o=a;"tickWidth"!==r.config.xaxis.crosshairs.width&&"barWidth"!==r.config.xaxis.crosshairs.width||(o=a+n.xcrosshairsWidth/2),this.moveXAxisTooltip(o)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;null!==t.ycrosshairs&&_.setAttrs(t.ycrosshairs,{y1:e,y2:e}),null!==t.ycrosshairsHidden&&_.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;if(null!==n.xaxisTooltip&&0!==n.xcrosshairsWidth){n.xaxisTooltip.classList.add("apexcharts-active");var r,i=n.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e))e+=t.globals.translateX,r=new _(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=r.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=i+"px"}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;null===n.yaxisTTEls&&(n.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var r=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),i=t.globals.translateY+r,a=n.yaxisTTEls[e].getBoundingClientRect().height,s=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(s-=26),i-=a/2,-1===t.globals.ignoreYAxisIndexes.indexOf(e)?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=i+"px",n.yaxisTTEls[e].style.left=s+t.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.w,i=this.ttCtx,a=i.getElTooltip(),s=i.tooltipRect,o=null!==n?parseFloat(n):1,l=parseFloat(e)+o+5,c=parseFloat(t)+o/2;if(l>r.globals.gridWidth/2&&(l=l-s.ttWidth-o-10),l>r.globals.gridWidth-s.ttWidth-10&&(l=r.globals.gridWidth-s.ttWidth),l<-20&&(l=-20),r.config.tooltip.followCursor){var d=i.getElGrid().getBoundingClientRect();(l=i.e.clientX-d.left)>r.globals.gridWidth/2&&(l-=i.tooltipRect.ttWidth),(c=i.e.clientY+r.globals.translateY-d.top)>r.globals.gridHeight/2&&(c-=i.tooltipRect.ttHeight)}else r.globals.isBarHorizontal||s.ttHeight/2+c>r.globals.gridHeight&&(c=r.globals.gridHeight-s.ttHeight+r.globals.translateY);isNaN(l)||(l+=r.globals.translateX,a.style.left=l+"px",a.style.top=c+"px")}},{key:"moveMarkers",value:function(e,t){var n=this.w,r=this.ttCtx;if(n.globals.markers.size[e]>0)for(var i=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),a=0;a<i.length;a++)parseInt(i[a].getAttribute("rel"),10)===t&&(r.marker.resetPointsSize(),r.marker.enlargeCurrentPoint(t,i[a]));else r.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var n,r,i=this.w,a=this.ttCtx,s=i.globals.pointsArray,o=a.tooltipUtil.getHoverMarkerSize(t),l=i.config.series[t].type;if(!l||"column"!==l&&"candlestick"!==l&&"boxPlot"!==l){n=s[t][e][0],r=s[t][e][1]?s[t][e][1]:0;var c=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers circle"));c&&r<i.globals.gridHeight&&r>0&&(c.setAttribute("r",o),c.setAttribute("cx",n),c.setAttribute("cy",r)),this.moveXCrosshairs(n),a.fixedTooltip||this.moveTooltip(n,r,o)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,n=this.ttCtx,r=n.w,i=0,a=0,s=r.globals.pointsArray;t=new H(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var o=n.tooltipUtil.getHoverMarkerSize(t);s[t]&&(i=s[t][e][0],a=s[t][e][1]);var l=n.tooltipUtil.getAllMarkers();if(null!==l)for(var c=0;c<r.globals.series.length;c++){var d=s[c];if(r.globals.comboCharts&&void 0===d&&l.splice(c,0,null),d&&d.length){var u=s[c][e][1],h=void 0;if(l[c].setAttribute("cx",i),"rangeArea"===r.config.chart.type&&!r.globals.comboCharts){var f=e+r.globals.series[c].length;h=s[c][f][1],u-=Math.abs(u-h)/2}null!==u&&!isNaN(u)&&u<r.globals.gridHeight+o&&u+o>0?(l[c]&&l[c].setAttribute("r",o),l[c]&&l[c].setAttribute("cy",u)):l[c]&&l[c].setAttribute("r",0)}}this.moveXCrosshairs(i),n.fixedTooltip||this.moveTooltip(i,a||r.globals.gridHeight,o)}},{key:"moveStickyTooltipOverBars",value:function(e,t){var n=this.w,r=this.ttCtx,i=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length,a=i>=2&&i%2==0?Math.floor(i/2):Math.floor(i/2)+1;n.globals.isBarHorizontal&&(a=new H(this.ctx).getActiveConfigSeriesIndex("desc")+1);var s=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']"));s||"number"!=typeof t||(s=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"']")));var o=s?parseFloat(s.getAttribute("cx")):0,l=s?parseFloat(s.getAttribute("cy")):0,c=s?parseFloat(s.getAttribute("barWidth")):0,d=r.getElGrid().getBoundingClientRect(),u=s&&(s.classList.contains("apexcharts-candlestick-area")||s.classList.contains("apexcharts-boxPlot-area"));n.globals.isXNumeric?(s&&!u&&(o-=i%2!=0?c/2:0),s&&u&&n.globals.comboCharts&&(o-=c/2)):n.globals.isBarHorizontal||(o=r.xAxisTicksPositions[e-1]+r.dataPointsDividedWidth/2,isNaN(o)&&(o=r.xAxisTicksPositions[e]-r.dataPointsDividedWidth/2)),n.globals.isBarHorizontal?l-=r.tooltipRect.ttHeight:n.config.tooltip.followCursor?l=r.e.clientY-d.top-r.tooltipRect.ttHeight/2:l+r.tooltipRect.ttHeight+15>n.globals.gridHeight&&(l=n.globals.gridHeight),n.globals.isBarHorizontal||this.moveXCrosshairs(o),r.fixedTooltip||this.moveTooltip(o,l||n.globals.gridHeight)}}]),e}(),be=function(){function e(t){o(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new ve(t)}return c(e,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new _(this.ctx),n=new B(this.ctx),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");r=v(r),e.config.chart.stacked&&r.sort((function(e,t){return parseFloat(e.getAttribute("data:realIndex"))-parseFloat(t.getAttribute("data:realIndex"))}));for(var i=0;i<r.length;i++){var a=r[i].querySelector(".apexcharts-series-markers-wrap");if(null!==a){var s=void 0,o="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==e.config.chart.type&&"area"!==e.config.chart.type||e.globals.comboCharts||e.config.tooltip.intersect||(o+=" no-pointer-events");var l=n.getMarkerConfig({cssClass:o,seriesIndex:Number(a.getAttribute("data:realIndex"))});(s=t.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(e.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(s.node),a.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=this.w;"bubble"!==i.config.chart.type&&this.newPointSize(e,t);var a=t.getAttribute("cx"),s=t.getAttribute("cy");if(null!==n&&null!==r&&(a=n,s=r),this.tooltipPosition.moveXCrosshairs(a),!this.fixedTooltip){if("radar"===i.config.chart.type){var o=this.ttCtx.getElGrid().getBoundingClientRect();a=this.ttCtx.e.clientX-o.left}this.tooltipPosition.moveTooltip(a,s,i.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,n=this,r=this.ttCtx,i=e,a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),s=t.config.markers.hover.size,o=0;o<a.length;o++){var l=a[o].getAttribute("rel"),c=a[o].getAttribute("index");if(void 0===s&&(s=t.globals.markers.size[c]+t.config.markers.hover.sizeOffset),i===parseInt(l,10)){n.newPointSize(i,a[o]);var d=a[o].getAttribute("cx"),u=a[o].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(d),r.fixedTooltip||n.tooltipPosition.moveTooltip(d,u,s)}else n.oldPointSize(a[o])}}},{key:"newPointSize",value:function(e,t){var n=this.w,r=n.config.markers.hover.size,i=0===e?t.parentNode.firstChild:t.parentNode.lastChild;if("0"!==i.getAttribute("default-marker-size")){var a=parseInt(i.getAttribute("index"),10);void 0===r&&(r=n.globals.markers.size[a]+n.config.markers.hover.sizeOffset),r<0&&(r=0),i.setAttribute("r",r)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size"));e.setAttribute("r",t)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var n=parseFloat(e[t].getAttribute("default-marker-size"));x.isNumber(n)&&n>=0?e[t].setAttribute("r",n):e[t].setAttribute("r",0)}}}]),e}(),ye=function(){function e(t){o(this,e),this.w=t.w;var n=this.w;this.ttCtx=t,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&"rangeBar"===n.config.chart.type&&n.config.plotOptions.bar.rangeBarGroupRows}return c(e,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,n=e.opt,r=e.x,i=e.y,a=e.type,s=this.ttCtx,o=this.w;if(t.target.classList.contains("apexcharts-".concat(a,"-rect"))){var l=this.getAttr(t,"i"),c=this.getAttr(t,"j"),d=this.getAttr(t,"cx"),u=this.getAttr(t,"cy"),h=this.getAttr(t,"width"),f=this.getAttr(t,"height");if(s.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:l,j:c,shared:!1,e:t}),o.globals.capturedSeriesIndex=l,o.globals.capturedDataPointIndex=c,r=d+s.tooltipRect.ttWidth/2+h,i=u+s.tooltipRect.ttHeight/2-f/2,s.tooltipPosition.moveXCrosshairs(d+h/2),r>o.globals.gridWidth/2&&(r=d-s.tooltipRect.ttWidth/2+h),s.w.config.tooltip.followCursor){var p=o.globals.dom.elWrap.getBoundingClientRect();r=o.globals.clientX-p.left-(r>o.globals.gridWidth/2?s.tooltipRect.ttWidth:0),i=o.globals.clientY-p.top-(i>o.globals.gridHeight/2?s.tooltipRect.ttHeight:0)}}return{x:r,y:i}}},{key:"handleMarkerTooltip",value:function(e){var t,n,r=e.e,i=e.opt,a=e.x,s=e.y,o=this.w,l=this.ttCtx;if(r.target.classList.contains("apexcharts-marker")){var c=parseInt(i.paths.getAttribute("cx"),10),d=parseInt(i.paths.getAttribute("cy"),10),u=parseFloat(i.paths.getAttribute("val"));if(n=parseInt(i.paths.getAttribute("rel"),10),t=parseInt(i.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var h=x.findAncestor(i.paths,"apexcharts-series");h&&(t=parseInt(h.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:t,j:n,shared:!l.showOnIntersect&&o.config.tooltip.shared,e:r}),"mouseup"===r.type&&l.markerClick(r,t,n),o.globals.capturedSeriesIndex=t,o.globals.capturedDataPointIndex=n,a=c,s=d+o.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var f=l.getElGrid().getBoundingClientRect();s=l.e.clientY+o.globals.translateY-f.top}u<0&&(s=d),l.marker.enlargeCurrentPoint(n,i.paths,a,s)}return{x:a,y:s}}},{key:"handleBarTooltip",value:function(e){var t,n,r=e.e,i=e.opt,a=this.w,s=this.ttCtx,o=s.getElTooltip(),l=0,c=0,d=0,u=this.getBarTooltipXY({e:r,opt:i});t=u.i;var h=u.barHeight,f=u.j;a.globals.capturedSeriesIndex=t,a.globals.capturedDataPointIndex=f,a.globals.isBarHorizontal&&s.tooltipUtil.hasBars()||!a.config.tooltip.shared?(c=u.x,d=u.y,n=Array.isArray(a.config.stroke.width)?a.config.stroke.width[t]:a.config.stroke.width,l=c):a.globals.comboCharts||a.config.tooltip.shared||(l/=2),isNaN(d)&&(d=a.globals.svgHeight-s.tooltipRect.ttHeight);var p=parseInt(i.paths.parentNode.getAttribute("data:realIndex"),10),g=a.globals.isMultipleYAxis?a.config.yaxis[p]&&a.config.yaxis[p].reversed:a.config.yaxis[0].reversed;if(c+s.tooltipRect.ttWidth>a.globals.gridWidth&&!g?c-=s.tooltipRect.ttWidth:c<0&&(c=0),s.w.config.tooltip.followCursor){var m=s.getElGrid().getBoundingClientRect();d=s.e.clientY-m.top}null===s.tooltip&&(s.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(a.globals.comboBarCount>0?s.tooltipPosition.moveXCrosshairs(l+n/2):s.tooltipPosition.moveXCrosshairs(l)),!s.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&s.tooltipUtil.hasBars())&&(g&&(c-=s.tooltipRect.ttWidth)<0&&(c=0),!g||a.globals.isBarHorizontal&&s.tooltipUtil.hasBars()||(d=d+h-2*(a.globals.series[t][f]<0?h:0)),d=d+a.globals.translateY-s.tooltipRect.ttHeight/2,o.style.left=c+a.globals.translateX+"px",o.style.top=d+"px")}},{key:"getBarTooltipXY",value:function(e){var t=this,n=e.e,r=e.opt,i=this.w,a=null,s=this.ttCtx,o=0,l=0,c=0,d=0,u=0,h=n.target.classList;if(h.contains("apexcharts-bar-area")||h.contains("apexcharts-candlestick-area")||h.contains("apexcharts-boxPlot-area")||h.contains("apexcharts-rangebar-area")){var f=n.target,p=f.getBoundingClientRect(),g=r.elGrid.getBoundingClientRect(),m=p.height;u=p.height;var v=p.width,b=parseInt(f.getAttribute("cx"),10),y=parseInt(f.getAttribute("cy"),10);d=parseFloat(f.getAttribute("barWidth"));var x="touchmove"===n.type?n.touches[0].clientX:n.clientX;a=parseInt(f.getAttribute("j"),10),o=parseInt(f.parentNode.getAttribute("rel"),10)-1;var w=f.getAttribute("data-range-y1"),k=f.getAttribute("data-range-y2");i.globals.comboCharts&&(o=parseInt(f.parentNode.getAttribute("data:realIndex"),10));var _=function(e){return i.globals.isXNumeric?b-v/2:t.isVerticalGroupedRangeBar?b+v/2:b-s.dataPointsDividedWidth+v/2},S=function(){return y-s.dataPointsDividedHeight+m/2-s.tooltipRect.ttHeight/2};s.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:o,j:a,y1:w?parseInt(w,10):null,y2:k?parseInt(k,10):null,shared:!s.showOnIntersect&&i.config.tooltip.shared,e:n}),i.config.tooltip.followCursor?i.globals.isBarHorizontal?(l=x-g.left+15,c=S()):(l=_(),c=n.clientY-g.top-s.tooltipRect.ttHeight/2-15):i.globals.isBarHorizontal?((l=b)<s.xyRatios.baseLineInvertedY&&(l=b-s.tooltipRect.ttWidth),c=S()):(l=_(),c=y)}return{x:l,y:c,barHeight:u,barWidth:d,i:o,j:a}}}]),e}(),xe=function(){function e(t){o(this,e),this.w=t.w,this.ttCtx=t}return c(e,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,n="bottom"===e.config.xaxis.position;t.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var r=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",i=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&null===e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),i.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,n=function(n){var r=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;t.yaxisOffX=r?e.globals.gridWidth+1:1;var i="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,r?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");e.globals.yAxisSameScaleIndices.map((function(t,r){t.map((function(t,r){r===n&&(i+=e.config.yaxis[r].show?" ":" apexcharts-yaxistooltip-hidden")}))}));var a=e.globals.dom.elWrap;null===e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.yaxisTooltip),0===n&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[n]=document.createElement("div"),t.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[n]))},r=0;r<e.config.yaxis.length;r++)n(r)}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,n=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var r=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==r&&"barWidth"===e.config.xaxis.crosshairs.width){var i=parseFloat(r.getAttribute("barWidth"));t.xcrosshairsWidth=i}else if("tickWidth"===e.config.xaxis.crosshairs.width){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}}else if("tickWidth"===e.config.xaxis.crosshairs.width){var s=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/s}else if("barWidth"===e.config.xaxis.crosshairs.width){var o=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==o){var l=parseFloat(o.getAttribute("barWidth"));t.xcrosshairsWidth=l}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),null!==n&&t.xcrosshairsWidth>0&&n.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,n){var r=this.ttCtx,i=this.w,a=i.globals.yLabelFormatters[e];if(r.yaxisTooltips[e]){var s=r.getElGrid().getBoundingClientRect(),o=(t-s.top)*n.yRatio[e],l=i.globals.maxYArr[e]-i.globals.minYArr[e],c=i.globals.minYArr[e]+(l-o);r.tooltipPosition.moveYCrosshairs(t-s.top),r.yaxisTooltipText[e].innerHTML=a(c),r.tooltipPosition.moveYAxisTooltip(e)}}}]),e}(),we=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.tConfig=n.config.tooltip,this.tooltipUtil=new ge(this),this.tooltipLabels=new me(this),this.tooltipPosition=new ve(this),this.marker=new be(this),this.intersect=new ye(this),this.axesTooltip=new xe(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!n.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return c(e,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map((function(e,n){return!!(e.show&&e.tooltip.enabled&&t.globals.axisCharts)})),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&n.classList.add(t.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(n),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var r=new q(this.ctx);this.xAxisTicksPositions=r.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==t.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==t.config.markers.size&&0!==t.globals.markers.largestSize||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var i=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(i=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(i),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,n=this.w,r=[],i=this.getElTooltip(),a=function(a){var s=document.createElement("div");s.classList.add("apexcharts-tooltip-series-group"),s.style.order=n.config.tooltip.inverseOrder?e-a:a+1,t.tConfig.shared&&t.tConfig.enabledOnSeries&&Array.isArray(t.tConfig.enabledOnSeries)&&t.tConfig.enabledOnSeries.indexOf(a)<0&&s.classList.add("apexcharts-tooltip-series-group-hidden");var o=document.createElement("span");o.classList.add("apexcharts-tooltip-marker"),o.style.backgroundColor=n.globals.colors[a],s.appendChild(o);var l=document.createElement("div");l.classList.add("apexcharts-tooltip-text"),l.style.fontFamily=t.tConfig.style.fontFamily||n.config.chart.fontFamily,l.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach((function(e){var t=document.createElement("div");t.classList.add("apexcharts-tooltip-".concat(e,"-group"));var n=document.createElement("span");n.classList.add("apexcharts-tooltip-text-".concat(e,"-label")),t.appendChild(n);var r=document.createElement("span");r.classList.add("apexcharts-tooltip-text-".concat(e,"-value")),t.appendChild(r),l.appendChild(t)})),s.appendChild(l),i.appendChild(s),r.push(s)},s=0;s<e;s++)a(s);return r}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,n=this.getElTooltip(),r=!("bar"!==t&&"candlestick"!==t&&"boxPlot"!==t&&"rangeBar"!==t),i="area"===t||"line"===t||"scatter"===t||"bubble"===t||"radar"===t,a=e.globals.dom.Paper.node,s=this.getElGrid();s&&(this.seriesBound=s.getBoundingClientRect());var o,l=[],c=[],d={hoverArea:a,elGrid:s,tooltipEl:n,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(e.globals.axisCharts&&(i?o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):r?o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==t&&"treemap"!==t||(o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),o&&o.length))for(var u=0;u<o.length;u++)l.push(o[u].getAttribute("cy")),c.push(o[u].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||r&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],d);else if(r&&!e.globals.comboCharts||i&&this.showOnIntersect)this.addDatapointEventsListeners(d);else if(!e.globals.axisCharts||"heatmap"===t||"treemap"===t){var h=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(h,d)}if(this.showOnIntersect){var f=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");f.length>0&&this.addPathsEventListeners(f,d),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(d)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),n=t.getBoundingClientRect(),r=n.width+10,i=n.height+10,a=this.tConfig.fixed.offsetX,s=this.tConfig.fixed.offsetY,o=this.tConfig.fixed.position.toLowerCase();return o.indexOf("right")>-1&&(a=a+e.globals.svgWidth-r+10),o.indexOf("bottom")>-1&&(s=s+e.globals.svgHeight-i-10),t.style.left=a+"px",t.style.top=s+"px",{x:a,y:s,ttWidth:r,ttHeight:i}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var n=this,r=function(r){var i={paths:e[r],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(t){return e[r].addEventListener(t,n.onSeriesHover.bind(n,i),{capture:!1,passive:!0})}))},i=0;i<e.length;i++)r(i)}},{key:"onSeriesHover",value:function(e,t){var n=this,r=Date.now()-this.lastHoverTime;r>=100?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){n.seriesHover(e,t)}),100-r))}},{key:"seriesHover",value:function(e,t){var n=this;this.lastHoverTime=Date.now();var r=[],i=this.w;i.config.chart.group&&(r=this.ctx.getGroupedCharts()),i.globals.axisCharts&&(i.globals.minX===-1/0&&i.globals.maxX===1/0||0===i.globals.dataPoints)||(r.length?r.forEach((function(r){var i=n.getElTooltip(r),a={paths:e.paths,tooltipEl:i,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:r.w.globals.tooltip.ttItems};r.w.globals.minX===n.w.globals.minX&&r.w.globals.maxX===n.w.globals.maxX&&r.w.globals.tooltip.seriesHoverByContext({chartCtx:r,ttCtx:r.w.globals.tooltip,opt:a,e:t})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,n=e.ttCtx,r=e.opt,i=e.e,a=t.w,s=this.getElTooltip();s&&(n.tooltipRect={x:0,y:0,ttWidth:s.getBoundingClientRect().width,ttHeight:s.getBoundingClientRect().height},n.e=i,!n.tooltipUtil.hasBars()||a.globals.comboCharts||n.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new H(t).toggleSeriesOnHover(i,i.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),a.globals.axisCharts?n.axisChartsTooltips({e:i,opt:r,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:i,opt:r,tooltipRect:n.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,n,r=e.e,i=e.opt,a=this.w,s=i.elGrid.getBoundingClientRect(),o="touchmove"===r.type?r.touches[0].clientX:r.clientX,l="touchmove"===r.type?r.touches[0].clientY:r.clientY;if(this.clientY=l,this.clientX=o,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,l<s.top||l>s.top+s.height)this.handleMouseOut(i);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var c=parseInt(i.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(i)}var d=this.getElTooltip(),u=this.getElXCrosshairs(),h=a.globals.xyCharts||"bar"===a.config.chart.type&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===r.type||"touchmove"===r.type||"mouseup"===r.type){if(a.globals.collapsedSeries.length+a.globals.ancillaryCollapsedSeries.length===a.globals.series.length)return;null!==u&&u.classList.add("apexcharts-active");var f=this.yaxisTooltips.filter((function(e){return!0===e}));if(null!==this.ycrosshairs&&f.length&&this.ycrosshairs.classList.add("apexcharts-active"),h&&!this.showOnIntersect)this.handleStickyTooltip(r,o,l,i);else if("heatmap"===a.config.chart.type||"treemap"===a.config.chart.type){var p=this.intersect.handleHeatTreeTooltip({e:r,opt:i,x:t,y:n,type:a.config.chart.type});t=p.x,n=p.y,d.style.left=t+"px",d.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:r,opt:i}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:r,opt:i,x:t,y:n});if(this.yaxisTooltips.length)for(var g=0;g<a.config.yaxis.length;g++)this.axesTooltip.drawYaxisTooltipText(g,l,this.xyRatios);i.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==r.type&&"touchend"!==r.type||this.handleMouseOut(i)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,n=e.opt,r=e.tooltipRect,i=this.w,a=n.paths.getAttribute("rel"),s=this.getElTooltip(),o=i.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===t.type||"touchmove"===t.type){s.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(a,10)-1,shared:!1});var l=i.globals.clientX-o.left-r.ttWidth/2,c=i.globals.clientY-o.top-r.ttHeight-10;if(s.style.left=l+"px",s.style.top=c+"px",i.config.legend.tooltipHoverFormatter){var d=a-1,u=(0,i.config.legend.tooltipHoverFormatter)(this.legendLabels[d].getAttribute("data:default-text"),{seriesIndex:d,dataPointIndex:d,w:i});this.legendLabels[d].innerHTML=u}}else"mouseout"!==t.type&&"touchend"!==t.type||(s.classList.remove("apexcharts-active"),i.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)})))}},{key:"handleStickyTooltip",value:function(e,t,n,r){var i=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:r.hoverArea,elGrid:r.elGrid,clientX:t,clientY:n}),s=a.j,o=a.capturedSeries;i.globals.collapsedSeriesIndices.includes(o)&&(o=null);var l=r.elGrid.getBoundingClientRect();if(a.hoverX<0||a.hoverX>l.width)this.handleMouseOut(r);else if(null!==o)this.handleStickyCapturedSeries(e,o,r,s);else if(this.tooltipUtil.isXoverlap(s)||i.globals.isBarHorizontal){var c=i.globals.series.findIndex((function(e,t){return!i.globals.collapsedSeriesIndices.includes(t)}));this.create(e,this,c,s,r.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,n,r){var i=this.w;if(this.tConfig.shared||null!==i.globals.series[t][r]){if(void 0!==i.globals.series[t][r])this.tConfig.shared&&this.tooltipUtil.isXoverlap(r)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,r,n.ttItems):this.create(e,this,t,r,n.ttItems,!1);else if(this.tooltipUtil.isXoverlap(r)){var a=i.globals.series.findIndex((function(e,t){return!i.globals.collapsedSeriesIndices.includes(t)}));this.create(e,this,a,r,n.ttItems)}}else this.handleMouseOut(n)}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new _(this.ctx),n=e.globals.dom.Paper.select(".apexcharts-bar-area"),r=0;r<n.length;r++)t.pathMouseLeave(n[r])}},{key:"handleMouseOut",value:function(e){var t=this.w,n=this.getElXCrosshairs();if(e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==t.config.chart.type&&this.marker.resetPointsSize(),null!==n&&n.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var r=0;r<this.yaxisTTEls.length;r++)this.yaxisTTEls[r].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}))}},{key:"markerClick",value:function(e,t,n){var r=this.w;"function"==typeof r.config.chart.events.markerClick&&r.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:r}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:r}])}},{key:"create",value:function(e,t,n,r,i){var s,o,l,c,d,u,h,f,p,g,m,v,b,y,x,w,k=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,S=this.w,C=t;"mouseup"===e.type&&this.markerClick(e,n,r),null===k&&(k=this.tConfig.shared);var A=this.tooltipUtil.hasMarkers(n),P=this.tooltipUtil.getElBars();if(S.config.legend.tooltipHoverFormatter){var E=S.config.legend.tooltipHoverFormatter,T=Array.from(this.legendLabels);T.forEach((function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}));for(var N=0;N<T.length;N++){var I=T[N],M=parseInt(I.getAttribute("i"),10),F=decodeURIComponent(I.getAttribute("data:default-text")),R=E(F,{seriesIndex:k?M:n,dataPointIndex:r,w:S});if(k)I.innerHTML=S.globals.collapsedSeriesIndices.indexOf(M)<0?R:F;else if(I.innerHTML=M===n?R:F,n===M)break}}var j=a(a({ttItems:i,i:n,j:r},void 0!==(null===(s=S.globals.seriesRange)||void 0===s||null===(o=s[n])||void 0===o||null===(l=o[r])||void 0===l||null===(c=l.y[0])||void 0===c?void 0:c.y1)&&{y1:null===(d=S.globals.seriesRange)||void 0===d||null===(u=d[n])||void 0===u||null===(h=u[r])||void 0===h||null===(f=h.y[0])||void 0===f?void 0:f.y1}),void 0!==(null===(p=S.globals.seriesRange)||void 0===p||null===(g=p[n])||void 0===g||null===(m=g[r])||void 0===m||null===(v=m.y[0])||void 0===v?void 0:v.y2)&&{y2:null===(b=S.globals.seriesRange)||void 0===b||null===(y=b[n])||void 0===y||null===(x=y[r])||void 0===x||null===(w=x.y[0])||void 0===w?void 0:w.y2});if(k){if(C.tooltipLabels.drawSeriesTexts(a(a({},j),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),A)S.globals.markers.largestSize>0?C.marker.enlargePoints(r):C.tooltipPosition.moveDynamicPointsOnHover(r);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(P),this.barSeriesHeight>0)){var L=new _(this.ctx),D=S.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(r,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(r,n);for(var O=0;O<D.length;O++)L.pathMouseEnter(D[O])}}else C.tooltipLabels.drawSeriesTexts(a({shared:!1},j)),this.tooltipUtil.hasBars()&&C.tooltipPosition.moveStickyTooltipOverBars(r,n),A&&C.tooltipPosition.moveMarkers(n,r)}}]),e}(),ke=function(){function e(t){o(this,e),this.w=t.w,this.barCtx=t,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return c(e,[{key:"handleBarDataLabels",value:function(e){var t=e.x,n=e.y,r=e.y1,i=e.y2,a=e.i,s=e.j,o=e.realIndex,l=e.groupIndex,c=e.series,d=e.barHeight,u=e.barWidth,h=e.barXPosition,f=e.barYPosition,p=e.visibleSeries,g=e.renderedPath,m=this.w,v=new _(this.barCtx.ctx),b=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[o]:this.barCtx.strokeWidth,y=t+parseFloat(u*p),x=n+parseFloat(d*p);m.globals.isXNumeric&&!m.globals.isBarHorizontal&&(y=t+parseFloat(u*(p+1)),x=n+parseFloat(d*(p+1))-b);var w,k,S=null,C=t,A=n,P=m.config.dataLabels,E=this.barCtx.barOptions.dataLabels,T=this.barCtx.barOptions.dataLabels.total;void 0!==f&&this.barCtx.isRangeBar&&(x=f,A=f),void 0!==h&&this.barCtx.isVerticalGroupedRangeBar&&(y=h,C=h);var N=P.offsetX,I=P.offsetY,M={width:0,height:0};if(m.config.dataLabels.enabled){var F=this.barCtx.series[a][s];M=v.getTextRects(m.globals.yLabelFormatters[0](F),parseFloat(P.style.fontSize))}var R={x:t,y:n,i:a,j:s,realIndex:o,groupIndex:l||-1,renderedPath:g,bcx:y,bcy:x,barHeight:d,barWidth:u,textRects:M,strokeWidth:b,dataLabelsX:C,dataLabelsY:A,dataLabelsConfig:P,barDataLabelsConfig:E,barTotalDataLabelsConfig:T,offX:N,offY:I};return k=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(R):this.calculateColumnsDataLabelsPosition(R),g.attr({cy:k.bcy,cx:k.bcx,j:s,val:c[a][s],barHeight:d,barWidth:u}),w=this.drawCalculatedDataLabels({x:k.dataLabelsX,y:k.dataLabelsY,val:this.barCtx.isRangeBar?[r,i]:c[a][s],i:o,j:s,barWidth:u,barHeight:d,textRects:M,dataLabelsConfig:P}),m.config.chart.stacked&&T.enabled&&(S=this.drawTotalDataLabels({x:k.totalDataLabelsX,y:k.totalDataLabelsY,barWidth:u,barHeight:d,realIndex:o,textAnchor:k.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:o,j:s}),dataLabelsConfig:P,barTotalDataLabelsConfig:T})),{dataLabels:w,totalDataLabels:S}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,n=e.j,r=this.w,i=this.barCtx.stackedSeriesTotals[n];return this.totalFormatter&&(i=this.totalFormatter(i,a(a({},r),{},{seriesIndex:t,dataPointIndex:n,w:r}))),i}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t,n,r=this.w,i=e.i,a=e.j,s=e.realIndex,o=e.groupIndex,l=e.y,c=e.bcx,d=e.barWidth,u=e.barHeight,h=e.textRects,f=e.dataLabelsX,p=e.dataLabelsY,g=e.dataLabelsConfig,m=e.barDataLabelsConfig,v=e.barTotalDataLabelsConfig,b=e.strokeWidth,y=e.offX,x=e.offY;u=Math.abs(u);var w="vertical"===r.config.plotOptions.bar.dataLabels.orientation,k=this.barCtx.barHelpers.getZeroValueEncounters({i:i,j:a}).zeroEncounters;c=c-b/2+(-1!==o?o*d:0);var S=r.globals.gridWidth/r.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?f+=d/2:(f=r.globals.isXNumeric?c-d/2+y:c-S+d/2+y,k>0&&r.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(f-=d*k)),w&&(f=f+h.height/2-b/2-2);var C=this.barCtx.series[i][a]<0,A=l;switch(this.barCtx.isReversed&&(A=l-u+(C?2*u:0),l-=u),m.position){case"center":p=w?C?A-u/2+x:A+u/2-x:C?A-u/2+h.height/2+x:A+u/2+h.height/2-x;break;case"bottom":p=w?C?A-u+x:A+u-x:C?A-u+h.height+b+x:A+u-h.height/2+b-x;break;case"top":p=w?C?A+x:A-x:C?A-h.height/2-x:A+h.height+x}if(this.barCtx.lastActiveBarSerieIndex===s&&v.enabled){var P=new _(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:s,j:a}),g.fontSize);t=C?A-P.height/2-x-v.offsetY+18:A+P.height+x+v.offsetY-18,n=f+v.offsetX}return r.config.chart.stacked||(p<0?p=0+b:p+h.height/3>r.globals.gridHeight&&(p=r.globals.gridHeight-b)),{bcx:c,bcy:l,dataLabelsX:f,dataLabelsY:p,totalDataLabelsX:n,totalDataLabelsY:t,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this.w,n=e.x,r=e.i,i=e.j,a=e.realIndex,s=e.groupIndex,o=e.bcy,l=e.barHeight,c=e.barWidth,d=e.textRects,u=e.dataLabelsX,h=e.strokeWidth,f=e.dataLabelsConfig,p=e.barDataLabelsConfig,g=e.barTotalDataLabelsConfig,m=e.offX,v=e.offY,b=t.globals.gridHeight/t.globals.dataPoints;c=Math.abs(c);var y,x,w=(o+=-1!==s?s*l:0)-(this.barCtx.isRangeBar?0:b)+l/2+d.height/2+v-3,k="start",S=this.barCtx.series[r][i]<0,C=n;switch(this.barCtx.isReversed&&(C=n+c-(S?2*c:0),n=t.globals.gridWidth-c),p.position){case"center":u=S?C+c/2-m:Math.max(d.width/2,C-c/2)+m;break;case"bottom":u=S?C+c-h-Math.round(d.width/2)-m:C-c+h+Math.round(d.width/2)+m;break;case"top":u=S?C-h+Math.round(d.width/2)-m:C-h-Math.round(d.width/2)+m}if(this.barCtx.lastActiveBarSerieIndex===a&&g.enabled){var A=new _(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:i}),f.fontSize);S?(y=C-h+Math.round(A.width/2)-m-g.offsetX-15,k="end"):y=C-h-Math.round(A.width/2)+m+g.offsetX+15,x=w+g.offsetY}return t.config.chart.stacked||(u<0?u=u+d.width+h:u+d.width/2>t.globals.gridWidth&&(u=t.globals.gridWidth-d.width-h)),{bcx:n,bcy:o,dataLabelsX:u,dataLabelsY:w,totalDataLabelsX:y,totalDataLabelsY:x,totalDataLabelsAnchor:k}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,n=e.y,r=e.val,i=e.i,s=e.j,o=e.textRects,l=e.barHeight,c=e.barWidth,d=e.dataLabelsConfig,u=this.w,h="rotate(0)";"vertical"===u.config.plotOptions.bar.dataLabels.orientation&&(h="rotate(-90, ".concat(t,", ").concat(n,")"));var f=new W(this.barCtx.ctx),p=new _(this.barCtx.ctx),g=d.formatter,m=null,v=u.globals.collapsedSeriesIndices.indexOf(i)>-1;if(d.enabled&&!v){m=p.group({class:"apexcharts-data-labels",transform:h});var b="";void 0!==r&&(b=g(r,a(a({},u),{},{seriesIndex:i,dataPointIndex:s,w:u}))),!r&&u.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(b="");var y=u.globals.series[i][s]<0,x=u.config.plotOptions.bar.dataLabels.position;"vertical"===u.config.plotOptions.bar.dataLabels.orientation&&("top"===x&&(d.textAnchor=y?"end":"start"),"center"===x&&(d.textAnchor="middle"),"bottom"===x&&(d.textAnchor=y?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<p.getTextRects(b,parseFloat(d.style.fontSize)).width&&(b=""),u.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(c)&&(b=""):o.height/1.6>Math.abs(l)&&(b=""));var w=a({},d);this.barCtx.isHorizontal&&r<0&&("start"===d.textAnchor?w.textAnchor="end":"end"===d.textAnchor&&(w.textAnchor="start")),f.plotDataLabelsText({x:t,y:n,text:b,i:i,j:s,parent:m,dataLabelsConfig:w,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return m}},{key:"drawTotalDataLabels",value:function(e){var t,n=e.x,r=e.y,i=e.val,a=e.barWidth,s=e.barHeight,o=e.realIndex,l=e.textAnchor,c=e.barTotalDataLabelsConfig,d=this.w,u=new _(this.barCtx.ctx);return c.enabled&&void 0!==n&&void 0!==r&&this.barCtx.lastActiveBarSerieIndex===o&&(t=u.drawText({x:n-(!d.globals.isBarHorizontal&&d.globals.seriesGroups.length?a/d.globals.seriesGroups.length:0),y:r-(d.globals.isBarHorizontal&&d.globals.seriesGroups.length?s/d.globals.seriesGroups.length:0),foreColor:c.style.color,text:i,textAnchor:l,fontFamily:c.style.fontFamily,fontSize:c.style.fontSize,fontWeight:c.style.fontWeight})),t}}]),e}(),_e=function(){function e(t){o(this,e),this.w=t.w,this.barCtx=t}return c(e,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),t.globals.isXNumeric)for(var r=0;r<e[n].length;r++)t.globals.seriesX[n][r]>t.globals.minX&&t.globals.seriesX[n][r]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(){var e,t,n,r,i,a,s,o,l=this.w,c=l.globals.dataPoints;this.barCtx.isRangeBar&&(c=l.globals.labels.length);var d=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(d=1),this.barCtx.isHorizontal)i=(n=l.globals.gridHeight/c)/d,l.globals.isXNumeric&&(i=(n=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),i=i*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(i=parseInt(this.barCtx.barOptions.barHeight,10)),o=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(o=l.globals.gridWidth/2),t=(n-i*this.barCtx.seriesLen)/2;else{if(r=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(r=l.globals.gridWidth/l.globals.dataPoints),a=r/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var u=this.barCtx.xRatio;l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/u>0&&(r=l.globals.minXDiff/u),(a=r/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(a=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(a=parseInt(this.barCtx.barOptions.columnWidth,10)),s=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),e=l.globals.padHorizontal+(r-a*this.barCtx.seriesLen)/2}return l.globals.barHeight=i,l.globals.barWidth=a,{x:e,y:t,yDivision:n,xDivision:r,barHeight:i,barWidth:a,zeroH:s,zeroW:o}}},{key:"initializeStackedPrevVars",value:function(e){var t=e.w;t.globals.hasSeriesGroups?t.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})):(e.prevY=[],e.prevX=[],e.prevYF=[],e.prevXF=[],e.prevYVal=[],e.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(e){var t=e.w;t.globals.hasSeriesGroups?t.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})):(e.xArrj=[],e.xArrjF=[],e.xArrjVal=[],e.yArrj=[],e.yArrjF=[],e.yArrjVal=[])}},{key:"getPathFillColor",value:function(e,t,n,r){var i,a,s,o,l=this.w,c=new G(this.barCtx.ctx),d=null,u=this.barCtx.barOptions.distributed?n:t;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(r){e[t][n]>=r.from&&e[t][n]<=r.to&&(d=r.color)})),l.config.series[t].data[n]&&l.config.series[t].data[n].fillColor&&(d=l.config.series[t].data[n].fillColor),c.fillPath({seriesNumber:this.barCtx.barOptions.distributed?u:r,dataPointIndex:n,color:d,value:e[t][n],fillConfig:null===(i=l.config.series[t].data[n])||void 0===i?void 0:i.fill,fillType:null!==(a=l.config.series[t].data[n])&&void 0!==a&&null!==(s=a.fill)&&void 0!==s&&s.type?null===(o=l.config.series[t].data[n])||void 0===o?void 0:o.fill.type:Array.isArray(l.config.fill.type)?l.config.fill.type[t]:l.config.fill.type})}},{key:"getStrokeWidth",value:function(e,t,n){var r=0,i=this.w;return void 0===this.barCtx.series[e][t]||null===this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,i.config.stroke.show&&(this.barCtx.isNullValue||(r=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),r}},{key:"shouldApplyRadius",value:function(e){var t=this.w,n=!1;return t.config.plotOptions.bar.borderRadius>0&&(t.config.chart.stacked&&"last"===t.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===e&&(n=!0):n=!0),n}},{key:"barBackground",value:function(e){var t=e.j,n=e.i,r=e.x1,i=e.x2,a=e.y1,s=e.y2,o=e.elSeries,l=this.w,c=new _(this.barCtx.ctx),d=new H(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&d===n){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var u=this.barCtx.barOptions.colors.backgroundBarColors[t],h=c.drawRect(void 0!==r?r:0,void 0!==a?a:0,void 0!==i?i:l.globals.gridWidth,void 0!==s?s:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,u,this.barCtx.barOptions.colors.backgroundBarOpacity);o.add(h),h.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,n=e.barWidth,r=e.barXPosition,i=e.y1,a=e.y2,s=e.strokeWidth,o=e.seriesGroup,l=e.realIndex,c=e.i,d=e.j,u=e.w,h=new _(this.barCtx.ctx);(s=Array.isArray(s)?s[l]:s)||(s=0);var f=n,p=r;null!==(t=u.config.series[l].data[d])&&void 0!==t&&t.columnWidthOffset&&(p=r-u.config.series[l].data[d].columnWidthOffset/2,f=n+u.config.series[l].data[d].columnWidthOffset);var g=p,m=p+f;i+=.001,a+=.001;var v=h.move(g,i),b=h.move(g,i),y=h.line(m-s,i);if(u.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(l,d,!1)),v=v+h.line(g,a)+h.line(m-s,a)+h.line(m-s,i)+("around"===u.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),b=b+h.line(g,i)+y+y+y+y+y+h.line(g,i)+("around"===u.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(l)&&(v=h.roundPathCorners(v,u.config.plotOptions.bar.borderRadius)),u.config.chart.stacked){var x=this.barCtx;u.globals.hasSeriesGroups&&o&&(x=this.barCtx[o]),x.yArrj.push(a),x.yArrjF.push(Math.abs(i-a)),x.yArrjVal.push(this.barCtx.series[c][d])}return{pathTo:v,pathFrom:b}}},{key:"getBarpaths",value:function(e){var t,n=e.barYPosition,r=e.barHeight,i=e.x1,a=e.x2,s=e.strokeWidth,o=e.seriesGroup,l=e.realIndex,c=e.i,d=e.j,u=e.w,h=new _(this.barCtx.ctx);(s=Array.isArray(s)?s[l]:s)||(s=0);var f=n,p=r;null!==(t=u.config.series[l].data[d])&&void 0!==t&&t.barHeightOffset&&(f=n-u.config.series[l].data[d].barHeightOffset/2,p=r+u.config.series[l].data[d].barHeightOffset);var g=f,m=f+p;i+=.001,a+=.001;var v=h.move(i,g),b=h.move(i,g);u.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(l,d,!1));var y=h.line(i,m-s);if(v=v+h.line(a,g)+h.line(a,m-s)+y+("around"===u.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),b=b+h.line(i,g)+y+y+y+y+y+h.line(i,g)+("around"===u.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(l)&&(v=h.roundPathCorners(v,u.config.plotOptions.bar.borderRadius)),u.config.chart.stacked){var x=this.barCtx;u.globals.hasSeriesGroups&&o&&(x=this.barCtx[o]),x.xArrj.push(a),x.xArrjF.push(Math.abs(i-a)),x.xArrjVal.push(this.barCtx.series[c][d])}return{pathTo:v,pathFrom:b}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,n=this.w,r=0;r<t.length;r++){for(var i=0,a=0;a<t[n.globals.maxValsInArrayIndex].length;a++)i+=t[r][a];0===i&&this.barCtx.zeroSerieses.push(r)}}},{key:"getXForValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:t;return null!=e&&(n=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:t;return null!=e&&(n=t-e/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),n}},{key:"getGoalValues",value:function(e,t,n,r,i){var s=this,o=this.w,l=[],c=function(r,i){var a;l.push((d(a={},e,"x"===e?s.getXForValue(r,t,!1):s.getYForValue(r,n,!1)),d(a,"attrs",i),a))};if(o.globals.seriesGoals[r]&&o.globals.seriesGoals[r][i]&&Array.isArray(o.globals.seriesGoals[r][i])&&o.globals.seriesGoals[r][i].forEach((function(e){c(e.value,e)})),this.barCtx.barOptions.isDumbbell&&o.globals.seriesRange.length){var u=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:o.globals.colors,h={strokeHeight:"x"===e?0:o.globals.markers.size[r],strokeWidth:"x"===e?o.globals.markers.size[r]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(u[r])?u[r][0]:u[r]};c(o.globals.seriesRangeStart[r][i],h),c(o.globals.seriesRangeEnd[r][i],a(a({},h),{},{strokeColor:Array.isArray(u[r])?u[r][1]:u[r]}))}return l}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,n=e.barYPosition,r=e.goalX,i=e.goalY,a=e.barWidth,s=e.barHeight,o=new _(this.barCtx.ctx),l=o.group({className:"apexcharts-bar-goals-groups"});l.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:l.node}),l.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var c=null;return this.barCtx.isHorizontal?Array.isArray(r)&&r.forEach((function(e){var t=void 0!==e.attrs.strokeHeight?e.attrs.strokeHeight:s/2,r=n+t+s/2;c=o.drawLine(e.x,r-2*t,e.x,r,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeWidth?e.attrs.strokeWidth:2,e.attrs.strokeLineCap),l.add(c)})):Array.isArray(i)&&i.forEach((function(e){var n=void 0!==e.attrs.strokeWidth?e.attrs.strokeWidth:a/2,r=t+n+a/2;c=o.drawLine(r-2*n,e.y,r,e.y,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeHeight?e.attrs.strokeHeight:2,e.attrs.strokeLineCap),l.add(c)})),l}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,n=e.currPaths,r=e.color,i=this.w,a=t.x,s=t.x1,o=t.barYPosition,l=n.x,c=n.x1,d=n.barYPosition,u=o+n.barHeight,h=new _(this.barCtx.ctx),f=new x,p=h.move(s,u)+h.line(a,u)+h.line(l,d)+h.line(c,d)+h.line(s,u)+("around"===i.config.plotOptions.bar.borderRadiusApplication?" Z":" z");return h.drawPath({d:p,fill:f.shadeColor(.5,x.rgb2hex(r)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(e){var t=e.i,n=e.j,r=this.w,i=0,a=0;return r.globals.seriesPercent.forEach((function(e,r){e[n]&&i++,r<t&&0===e[n]&&a++})),{nonZeroColumns:i,zeroEncounters:a}}}]),e}(),Se=function(){function e(t,n){o(this,e),this.ctx=t,this.w=t.w;var r=this.w;this.barOptions=r.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=r.config.stroke.width,this.isNullValue=!1,this.isRangeBar=r.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!r.globals.isBarHorizontal&&r.globals.seriesRange.length&&r.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=n,null!==this.xyRatios&&(this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.invertedXRatio=n.invertedXRatio,this.invertedYRatio=n.invertedYRatio,this.baseLineY=n.baseLineY,this.baseLineInvertedY=n.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var i=new H(this.ctx);this.lastActiveBarSerieIndex=i.getActiveConfigSeriesIndex("desc",["bar","column"]);var a=i.getBarSeriesIndices(),s=new S(this.ctx);this.stackedSeriesTotals=s.getStackedSeriesTotals(this.w.config.series.map((function(e,t){return-1===a.indexOf(t)?t:-1})).filter((function(e){return-1!==e}))),this.barHelpers=new _e(this)}return c(e,[{key:"draw",value:function(e,t){var n=this.w,r=new _(this.ctx),i=new S(this.ctx,n);e=i.getLogSeries(e),this.series=e,this.yRatio=i.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var s=r.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var o=0,l=0;o<e.length;o++,l++){var c,d,u,h,f=void 0,p=void 0,g=[],m=[],v=n.globals.comboCharts?t[o]:o,b=r.group({class:"apexcharts-series",rel:o+1,seriesName:x.escapeString(n.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(b,v),e[o].length>0&&(this.visibleI=this.visibleI+1);var y=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions();p=k.y,y=k.barHeight,d=k.yDivision,h=k.zeroW,f=k.x,w=k.barWidth,c=k.xDivision,u=k.zeroH,this.horizontal||m.push(f+w/2);var C=r.group({class:"apexcharts-datalabels","data:realIndex":v});n.globals.delayedElements.push({el:C.node}),C.node.classList.add("apexcharts-element-hidden");var A=r.group({class:"apexcharts-bar-goals-markers"}),P=r.group({class:"apexcharts-bar-shadows"});n.globals.delayedElements.push({el:P.node}),P.node.classList.add("apexcharts-element-hidden");for(var E=0;E<e[o].length;E++){var T=this.barHelpers.getStrokeWidth(o,E,v),N=null,I={indexes:{i:o,j:E,realIndex:v,bc:l},x:f,y:p,strokeWidth:T,elSeries:b};this.isHorizontal?(N=this.drawBarPaths(a(a({},I),{},{barHeight:y,zeroW:h,yDivision:d})),w=this.series[o][E]/this.invertedYRatio):(N=this.drawColumnPaths(a(a({},I),{},{xDivision:c,barWidth:w,zeroH:u})),y=this.series[o][E]/this.yRatio[this.yaxisIndex]);var M=this.barHelpers.getPathFillColor(e,o,E,v);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&E>0){var F=this.barHelpers.drawBarShadow({color:"string"==typeof M&&-1===(null==M?void 0:M.indexOf("url"))?M:x.hexToRgba(n.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:N});F&&P.add(F)}this.pathArr.push(N);var R=this.barHelpers.drawGoalLine({barXPosition:N.barXPosition,barYPosition:N.barYPosition,goalX:N.goalX,goalY:N.goalY,barHeight:y,barWidth:w});R&&A.add(R),p=N.y,f=N.x,E>0&&m.push(f+w/2),g.push(p),this.renderSeries({realIndex:v,pathFill:M,j:E,i:o,pathFrom:N.pathFrom,pathTo:N.pathTo,strokeWidth:T,elSeries:b,x:f,y:p,series:e,barHeight:N.barHeight?N.barHeight:y,barWidth:N.barWidth?N.barWidth:w,elDataLabelsWrap:C,elGoalsMarkers:A,elBarShadows:P,visibleSeries:this.visibleI,type:"bar"})}n.globals.seriesXvalues[v]=m,n.globals.seriesYvalues[v]=g,s.add(b)}return s}},{key:"renderSeries",value:function(e){var t=e.realIndex,n=e.pathFill,r=e.lineFill,i=e.j,a=e.i,s=e.groupIndex,o=e.pathFrom,l=e.pathTo,c=e.strokeWidth,d=e.elSeries,u=e.x,h=e.y,f=e.y1,p=e.y2,g=e.series,m=e.barHeight,v=e.barWidth,b=e.barXPosition,y=e.barYPosition,x=e.elDataLabelsWrap,w=e.elGoalsMarkers,S=e.elBarShadows,C=e.visibleSeries,A=e.type,P=this.w,E=new _(this.ctx);r||(r=this.barOptions.distributed?P.globals.stroke.colors[i]:P.globals.stroke.colors[t]),P.config.series[a].data[i]&&P.config.series[a].data[i].strokeColor&&(r=P.config.series[a].data[i].strokeColor),this.isNullValue&&(n="none");var T=i/P.config.chart.animations.animateGradually.delay*(P.config.chart.animations.speed/P.globals.dataPoints)/2.4,N=E.renderPaths({i:a,j:i,realIndex:t,pathFrom:o,pathTo:l,stroke:r,strokeWidth:c,strokeLineCap:P.config.stroke.lineCap,fill:n,animationDelay:T,initialSpeed:P.config.chart.animations.speed,dataChangeSpeed:P.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(A,"-area")});N.attr("clip-path","url(#gridRectMask".concat(P.globals.cuid,")"));var I=P.config.forecastDataPoints;I.count>0&&i>=P.globals.dataPoints-I.count&&(N.node.setAttribute("stroke-dasharray",I.dashArray),N.node.setAttribute("stroke-width",I.strokeWidth),N.node.setAttribute("fill-opacity",I.fillOpacity)),void 0!==f&&void 0!==p&&(N.attr("data-range-y1",f),N.attr("data-range-y2",p)),new k(this.ctx).setSelectionFilter(N,t,i),d.add(N);var M=new ke(this).handleBarDataLabels({x:u,y:h,y1:f,y2:p,i:a,j:i,series:g,realIndex:t,groupIndex:s,barHeight:m,barWidth:v,barXPosition:b,barYPosition:y,renderedPath:N,visibleSeries:C});return null!==M.dataLabels&&x.add(M.dataLabels),M.totalDataLabels&&x.add(M.totalDataLabels),d.add(x),w&&d.add(w),S&&d.add(S),d}},{key:"drawBarPaths",value:function(e){var t,n=e.indexes,r=e.barHeight,i=e.strokeWidth,a=e.zeroW,s=e.x,o=e.y,l=e.yDivision,c=e.elSeries,d=this.w,u=n.i,h=n.j;if(d.globals.isXNumeric)t=(o=(d.globals.seriesX[u][h]-d.globals.minX)/this.invertedXRatio-r)+r*this.visibleI;else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var f=0,p=0;d.globals.seriesPercent.forEach((function(e,t){e[h]&&f++,t<u&&0===e[h]&&p++})),f>0&&(r=this.seriesLen*r/f),t=o+r*this.visibleI,t-=r*p}else t=o+r*this.visibleI;this.isFunnel&&(a-=(this.barHelpers.getXForValue(this.series[u][h],a)-a)/2),s=this.barHelpers.getXForValue(this.series[u][h],a);var g=this.barHelpers.getBarpaths({barYPosition:t,barHeight:r,x1:a,x2:s,strokeWidth:i,series:this.series,realIndex:n.realIndex,i:u,j:h,w:d});return d.globals.isXNumeric||(o+=l),this.barHelpers.barBackground({j:h,i:u,y1:t-r*this.visibleI,y2:r*this.seriesLen,elSeries:c}),{pathTo:g.pathTo,pathFrom:g.pathFrom,x1:a,x:s,y:o,goalX:this.barHelpers.getGoalValues("x",a,null,u,h),barYPosition:t,barHeight:r}}},{key:"drawColumnPaths",value:function(e){var t,n=e.indexes,r=e.x,i=e.y,a=e.xDivision,s=e.barWidth,o=e.zeroH,l=e.strokeWidth,c=e.elSeries,d=this.w,u=n.realIndex,h=n.i,f=n.j,p=n.bc;if(d.globals.isXNumeric){var g=this.getBarXForNumericXAxis({x:r,j:f,realIndex:u,barWidth:s});r=g.x,t=g.barXPosition}else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var m=this.barHelpers.getZeroValueEncounters({i:h,j:f}),v=m.nonZeroColumns,b=m.zeroEncounters;v>0&&(s=this.seriesLen*s/v),t=r+s*this.visibleI,t-=s*b}else t=r+s*this.visibleI;i=this.barHelpers.getYForValue(this.series[h][f],o);var y=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:s,y1:o,y2:i,strokeWidth:l,series:this.series,realIndex:n.realIndex,i:h,j:f,w:d});return d.globals.isXNumeric||(r+=a),this.barHelpers.barBackground({bc:p,j:f,i:h,x1:t-l/2-s*this.visibleI,x2:s*this.seriesLen+l/2,elSeries:c}),{pathTo:y.pathTo,pathFrom:y.pathFrom,x:r,y:i,goalY:this.barHelpers.getGoalValues("y",null,o,h,f),barXPosition:t,barWidth:s}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,n=e.barWidth,r=e.realIndex,i=e.j,a=this.w,s=r;return a.globals.seriesX[r].length||(s=a.globals.maxValsInArrayIndex),a.globals.seriesX[s][i]&&(t=(a.globals.seriesX[s][i]-a.globals.minX)/this.xRatio-n*this.seriesLen/2),{barXPosition:t+n*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var n,r=this.w,i=0;i<r.globals.previousPaths.length;i++){var a=r.globals.previousPaths[i];a.paths&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&void 0!==r.globals.previousPaths[i].paths[t]&&(n=r.globals.previousPaths[i].paths[t].d)}return n}}]),e}(),Ce=function(e){u(n,Se);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"draw",value:function(e,t){var n=this,r=this.w;this.graphics=new _(this.ctx),this.bar=new Se(this.ctx,this.xyRatios);var i=new S(this.ctx,r);e=i.getLogSeries(e),this.yRatio=i.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e),"100%"===r.config.chart.stackType&&(e=r.globals.seriesPercent.slice()),this.series=e,this.barHelpers.initializeStackedPrevVars(this);for(var s=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),o=0,l=0,c=function(i,c){var d=void 0,u=void 0,h=void 0,f=void 0,p=-1;n.groupCtx=n,r.globals.seriesGroups.forEach((function(e,t){e.indexOf(r.config.series[i].name)>-1&&(p=t)})),-1!==p&&(n.groupCtx=n[r.globals.seriesGroups[p]]);var g=[],m=[],v=r.globals.comboCharts?t[i]:i;n.yRatio.length>1&&(n.yaxisIndex=v),n.isReversed=r.config.yaxis[n.yaxisIndex]&&r.config.yaxis[n.yaxisIndex].reversed;var b=n.graphics.group({class:"apexcharts-series",seriesName:x.escapeString(r.globals.seriesNames[v]),rel:i+1,"data:realIndex":v});n.ctx.series.addCollapsedClassToSeries(b,v);var y=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":v}),w=n.graphics.group({class:"apexcharts-bar-goals-markers"}),k=0,_=0,S=n.initialPositions(o,l,d,u,h,f);l=S.y,k=S.barHeight,u=S.yDivision,f=S.zeroW,o=S.x,_=S.barWidth,d=S.xDivision,h=S.zeroH,r.globals.barHeight=k,r.globals.barWidth=_,n.barHelpers.initializeStackedXYVars(n),1===n.groupCtx.prevY.length&&n.groupCtx.prevY[0].every((function(e){return isNaN(e)}))&&(n.groupCtx.prevY[0]=n.groupCtx.prevY[0].map((function(e){return h})),n.groupCtx.prevYF[0]=n.groupCtx.prevYF[0].map((function(e){return 0})));for(var C=0;C<r.globals.dataPoints;C++){var A=n.barHelpers.getStrokeWidth(i,C,v),P={indexes:{i:i,j:C,realIndex:v,bc:c},strokeWidth:A,x:o,y:l,elSeries:b,groupIndex:p,seriesGroup:r.globals.seriesGroups[p]},E=null;n.isHorizontal?(E=n.drawStackedBarPaths(a(a({},P),{},{zeroW:f,barHeight:k,yDivision:u})),_=n.series[i][C]/n.invertedYRatio):(E=n.drawStackedColumnPaths(a(a({},P),{},{xDivision:d,barWidth:_,zeroH:h})),k=n.series[i][C]/n.yRatio[n.yaxisIndex]);var T=n.barHelpers.drawGoalLine({barXPosition:E.barXPosition,barYPosition:E.barYPosition,goalX:E.goalX,goalY:E.goalY,barHeight:k,barWidth:_});T&&w.add(T),l=E.y,o=E.x,g.push(o),m.push(l);var N=n.barHelpers.getPathFillColor(e,i,C,v);b=n.renderSeries({realIndex:v,pathFill:N,j:C,i:i,groupIndex:p,pathFrom:E.pathFrom,pathTo:E.pathTo,strokeWidth:A,elSeries:b,x:o,y:l,series:e,barHeight:k,barWidth:_,elDataLabelsWrap:y,elGoalsMarkers:w,type:"bar",visibleSeries:0})}r.globals.seriesXvalues[v]=g,r.globals.seriesYvalues[v]=m,n.groupCtx.prevY.push(n.groupCtx.yArrj),n.groupCtx.prevYF.push(n.groupCtx.yArrjF),n.groupCtx.prevYVal.push(n.groupCtx.yArrjVal),n.groupCtx.prevX.push(n.groupCtx.xArrj),n.groupCtx.prevXF.push(n.groupCtx.xArrjF),n.groupCtx.prevXVal.push(n.groupCtx.xArrjVal),s.add(b)},d=0,u=0;d<e.length;d++,u++)c(d,u);return s}},{key:"initialPositions",value:function(e,t,n,r,i,a){var s,o,l,c,d=this.w;return this.isHorizontal?(l=(l=r=d.globals.gridHeight/d.globals.dataPoints)*parseInt(d.config.plotOptions.bar.barHeight,10)/100,-1===String(d.config.plotOptions.bar.barHeight).indexOf("%")&&(l=parseInt(d.config.plotOptions.bar.barHeight,10)),a=this.baseLineInvertedY+d.globals.padHorizontal+(this.isReversed?d.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),t=(r-l)/2):(c=n=d.globals.gridWidth/d.globals.dataPoints,c=d.globals.isXNumeric&&d.globals.dataPoints>1?(n=d.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:c*parseInt(d.config.plotOptions.bar.columnWidth,10)/100,-1===String(d.config.plotOptions.bar.columnWidth).indexOf("%")&&(c=parseInt(d.config.plotOptions.bar.columnWidth,10)),i=d.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?d.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),e=d.globals.padHorizontal+(n-c)/2),{x:e,y:t,yDivision:r,xDivision:n,barHeight:null!==(s=d.globals.seriesGroups)&&void 0!==s&&s.length?l/d.globals.seriesGroups.length:l,barWidth:null!==(o=d.globals.seriesGroups)&&void 0!==o&&o.length?c/d.globals.seriesGroups.length:c,zeroH:i,zeroW:a}}},{key:"drawStackedBarPaths",value:function(e){for(var t,n=e.indexes,r=e.barHeight,i=e.strokeWidth,a=e.zeroW,s=e.x,o=e.y,l=e.groupIndex,c=e.seriesGroup,d=e.yDivision,u=e.elSeries,h=this.w,f=o+(-1!==l?l*r:0),p=n.i,g=n.j,m=0,v=0;v<this.groupCtx.prevXF.length;v++)m+=this.groupCtx.prevXF[v][g];var b=p;if(c&&(b=c.indexOf(h.config.series[p].name)),b>0){var y=a;this.groupCtx.prevXVal[b-1][g]<0?y=this.series[p][g]>=0?this.groupCtx.prevX[b-1][g]+m-2*(this.isReversed?m:0):this.groupCtx.prevX[b-1][g]:this.groupCtx.prevXVal[b-1][g]>=0&&(y=this.series[p][g]>=0?this.groupCtx.prevX[b-1][g]:this.groupCtx.prevX[b-1][g]-m+2*(this.isReversed?m:0)),t=y}else t=a;s=null===this.series[p][g]?t:t+this.series[p][g]/this.invertedYRatio-2*(this.isReversed?this.series[p][g]/this.invertedYRatio:0);var x=this.barHelpers.getBarpaths({barYPosition:f,barHeight:r,x1:t,x2:s,strokeWidth:i,series:this.series,realIndex:n.realIndex,seriesGroup:c,i:p,j:g,w:h});return this.barHelpers.barBackground({j:g,i:p,y1:f,y2:r,elSeries:u}),o+=d,{pathTo:x.pathTo,pathFrom:x.pathFrom,goalX:this.barHelpers.getGoalValues("x",a,null,p,g),barYPosition:f,x:s,y:o}}},{key:"drawStackedColumnPaths",value:function(e){var t=e.indexes,n=e.x,r=e.y,i=e.xDivision,a=e.barWidth,s=e.zeroH,o=e.groupIndex,l=e.seriesGroup,c=e.elSeries,d=this.w,u=t.i,h=t.j,f=t.bc;if(d.globals.isXNumeric){var p=d.globals.seriesX[u][h];p||(p=0),n=(p-d.globals.minX)/this.xRatio-a/2,d.globals.seriesGroups.length&&(n=(p-d.globals.minX)/this.xRatio-a/2*d.globals.seriesGroups.length)}for(var g,m=n+(-1!==o?o*a:0),v=0,b=0;b<this.groupCtx.prevYF.length;b++)v+=isNaN(this.groupCtx.prevYF[b][h])?0:this.groupCtx.prevYF[b][h];var y=u;if(l&&(y=l.indexOf(d.config.series[u].name)),y>0&&!d.globals.isXNumeric||y>0&&d.globals.isXNumeric&&d.globals.seriesX[u-1][h]===d.globals.seriesX[u][h]){var x,w,k,_=Math.min(this.yRatio.length+1,u+1);if(void 0!==this.groupCtx.prevY[y-1]&&this.groupCtx.prevY[y-1].length)for(var S=1;S<_;S++){var C;if(!isNaN(null===(C=this.groupCtx.prevY[y-S])||void 0===C?void 0:C[h])){k=this.groupCtx.prevY[y-S][h];break}}for(var A=1;A<_;A++){var P,E;if((null===(P=this.groupCtx.prevYVal[y-A])||void 0===P?void 0:P[h])<0){w=this.series[u][h]>=0?k-v+2*(this.isReversed?v:0):k;break}if((null===(E=this.groupCtx.prevYVal[y-A])||void 0===E?void 0:E[h])>=0){w=this.series[u][h]>=0?k:k+v-2*(this.isReversed?v:0);break}}void 0===w&&(w=d.globals.gridHeight),g=null!==(x=this.groupCtx.prevYF[0])&&void 0!==x&&x.every((function(e){return 0===e}))&&this.groupCtx.prevYF.slice(1,y).every((function(e){return e.every((function(e){return isNaN(e)}))}))?s:w}else g=s;r=this.series[u][h]?g-this.series[u][h]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[u][h]/this.yRatio[this.yaxisIndex]:0):g;var T=this.barHelpers.getColumnPaths({barXPosition:m,barWidth:a,y1:g,y2:r,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:l,realIndex:t.realIndex,i:u,j:h,w:d});return this.barHelpers.barBackground({bc:f,j:h,i:u,x1:m,x2:a,elSeries:c}),n+=i,{pathTo:T.pathTo,pathFrom:T.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,s,u,h),barXPosition:m,x:d.globals.isXNumeric?n-i:n,y:r}}}]),n}(),Ae=function(e){u(n,Se);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"draw",value:function(e,t,n){var r=this,i=this.w,s=new _(this.ctx),o=i.globals.comboCharts?t:i.config.chart.type,l=new G(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=i.config.plotOptions.bar.horizontal;var c=new S(this.ctx,i);e=c.getLogSeries(e),this.series=e,this.yRatio=c.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);for(var d=s.group({class:"apexcharts-".concat(o,"-series apexcharts-plot-series")}),u=function(t){r.isBoxPlot="boxPlot"===i.config.chart.type||"boxPlot"===i.config.series[t].type;var o,c,u,h,f,p,g=void 0,m=void 0,v=[],b=[],y=i.globals.comboCharts?n[t]:t,w=s.group({class:"apexcharts-series",seriesName:x.escapeString(i.globals.seriesNames[y]),rel:t+1,"data:realIndex":y});r.ctx.series.addCollapsedClassToSeries(w,y),e[t].length>0&&(r.visibleI=r.visibleI+1),r.yRatio.length>1&&(r.yaxisIndex=y);var k=r.barHelpers.initialPositions();m=k.y,f=k.barHeight,c=k.yDivision,h=k.zeroW,g=k.x,p=k.barWidth,o=k.xDivision,u=k.zeroH,b.push(g+p/2);for(var _=s.group({class:"apexcharts-datalabels","data:realIndex":y}),S=function(n){var s=r.barHelpers.getStrokeWidth(t,n,y),d=null,x={indexes:{i:t,j:n,realIndex:y},x:g,y:m,strokeWidth:s,elSeries:w};d=r.isHorizontal?r.drawHorizontalBoxPaths(a(a({},x),{},{yDivision:c,barHeight:f,zeroW:h})):r.drawVerticalBoxPaths(a(a({},x),{},{xDivision:o,barWidth:p,zeroH:u})),m=d.y,g=d.x,n>0&&b.push(g+p/2),v.push(m),d.pathTo.forEach((function(a,o){var c=!r.isBoxPlot&&r.candlestickOptions.wick.useFillColor?d.color[o]:i.globals.stroke.colors[t],u=l.fillPath({seriesNumber:y,dataPointIndex:n,color:d.color[o],value:e[t][n]});r.renderSeries({realIndex:y,pathFill:u,lineFill:c,j:n,i:t,pathFrom:d.pathFrom,pathTo:a,strokeWidth:s,elSeries:w,x:g,y:m,series:e,barHeight:f,barWidth:p,elDataLabelsWrap:_,visibleSeries:r.visibleI,type:i.config.chart.type})}))},C=0;C<i.globals.dataPoints;C++)S(C);i.globals.seriesXvalues[y]=b,i.globals.seriesYvalues[y]=v,d.add(w)},h=0;h<e.length;h++)u(h);return d}},{key:"drawVerticalBoxPaths",value:function(e){var t=e.indexes,n=e.x;e.y;var r=e.xDivision,i=e.barWidth,a=e.zeroH,s=e.strokeWidth,o=this.w,l=new _(this.ctx),c=t.i,d=t.j,u=!0,h=o.config.plotOptions.candlestick.colors.upward,f=o.config.plotOptions.candlestick.colors.downward,p="";this.isBoxPlot&&(p=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var g=this.yRatio[this.yaxisIndex],m=t.realIndex,v=this.getOHLCValue(m,d),b=a,y=a;v.o>v.c&&(u=!1);var x=Math.min(v.o,v.c),w=Math.max(v.o,v.c),k=v.m;o.globals.isXNumeric&&(n=(o.globals.seriesX[m][d]-o.globals.minX)/this.xRatio-i/2);var S=n+i*this.visibleI;void 0===this.series[c][d]||null===this.series[c][d]?(x=a,w=a):(x=a-x/g,w=a-w/g,b=a-v.h/g,y=a-v.l/g,k=a-v.m/g);var C=l.move(S,a),A=l.move(S+i/2,x);return o.globals.previousPaths.length>0&&(A=this.getPreviousPath(m,d,!0)),C=this.isBoxPlot?[l.move(S,x)+l.line(S+i/2,x)+l.line(S+i/2,b)+l.line(S+i/4,b)+l.line(S+i-i/4,b)+l.line(S+i/2,b)+l.line(S+i/2,x)+l.line(S+i,x)+l.line(S+i,k)+l.line(S,k)+l.line(S,x+s/2),l.move(S,k)+l.line(S+i,k)+l.line(S+i,w)+l.line(S+i/2,w)+l.line(S+i/2,y)+l.line(S+i-i/4,y)+l.line(S+i/4,y)+l.line(S+i/2,y)+l.line(S+i/2,w)+l.line(S,w)+l.line(S,k)+"z"]:[l.move(S,w)+l.line(S+i/2,w)+l.line(S+i/2,b)+l.line(S+i/2,w)+l.line(S+i,w)+l.line(S+i,x)+l.line(S+i/2,x)+l.line(S+i/2,y)+l.line(S+i/2,x)+l.line(S,x)+l.line(S,w-s/2)],A+=l.move(S,x),o.globals.isXNumeric||(n+=r),{pathTo:C,pathFrom:A,x:n,y:w,barXPosition:S,color:this.isBoxPlot?p:u?[h]:[f]}}},{key:"drawHorizontalBoxPaths",value:function(e){var t=e.indexes;e.x;var n=e.y,r=e.yDivision,i=e.barHeight,a=e.zeroW,s=e.strokeWidth,o=this.w,l=new _(this.ctx),c=t.i,d=t.j,u=this.boxOptions.colors.lower;this.isBoxPlot&&(u=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var h=this.invertedYRatio,f=t.realIndex,p=this.getOHLCValue(f,d),g=a,m=a,v=Math.min(p.o,p.c),b=Math.max(p.o,p.c),y=p.m;o.globals.isXNumeric&&(n=(o.globals.seriesX[f][d]-o.globals.minX)/this.invertedXRatio-i/2);var x=n+i*this.visibleI;void 0===this.series[c][d]||null===this.series[c][d]?(v=a,b=a):(v=a+v/h,b=a+b/h,g=a+p.h/h,m=a+p.l/h,y=a+p.m/h);var w=l.move(a,x),k=l.move(v,x+i/2);return o.globals.previousPaths.length>0&&(k=this.getPreviousPath(f,d,!0)),w=[l.move(v,x)+l.line(v,x+i/2)+l.line(g,x+i/2)+l.line(g,x+i/2-i/4)+l.line(g,x+i/2+i/4)+l.line(g,x+i/2)+l.line(v,x+i/2)+l.line(v,x+i)+l.line(y,x+i)+l.line(y,x)+l.line(v+s/2,x),l.move(y,x)+l.line(y,x+i)+l.line(b,x+i)+l.line(b,x+i/2)+l.line(m,x+i/2)+l.line(m,x+i-i/4)+l.line(m,x+i/4)+l.line(m,x+i/2)+l.line(b,x+i/2)+l.line(b,x)+l.line(y,x)+"z"],k+=l.move(v,x),o.globals.isXNumeric||(n+=r),{pathTo:w,pathFrom:k,x:b,y:n,barYPosition:x,color:u}}},{key:"getOHLCValue",value:function(e,t){var n=this.w;return{o:this.isBoxPlot?n.globals.seriesCandleH[e][t]:n.globals.seriesCandleO[e][t],h:this.isBoxPlot?n.globals.seriesCandleO[e][t]:n.globals.seriesCandleH[e][t],m:n.globals.seriesCandleM[e][t],l:this.isBoxPlot?n.globals.seriesCandleC[e][t]:n.globals.seriesCandleL[e][t],c:this.isBoxPlot?n.globals.seriesCandleL[e][t]:n.globals.seriesCandleC[e][t]}}}]),n}(),Pe=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map((function(e,n){e.from<=0&&(t=!0)})),t}},{key:"getShadeColor",value:function(e,t,n,r){var i=this.w,a=1,s=i.config.plotOptions[e].shadeIntensity,o=this.determineColor(e,t,n);i.globals.hasNegs||r?a=i.config.plotOptions[e].reverseNegativeShade?o.percent<0?o.percent/100*(1.25*s):(1-o.percent/100)*(1.25*s):o.percent<=0?1-(1+o.percent/100)*s:(1-o.percent/100)*s:(a=1-o.percent/100,"treemap"===e&&(a=(1-o.percent/100)*(1.25*s)));var l=o.color,c=new x;return i.config.plotOptions[e].enableShades&&(l="dark"===this.w.config.theme.mode?x.hexToRgba(c.shadeColor(-1*a,o.color),i.config.fill.opacity):x.hexToRgba(c.shadeColor(a,o.color),i.config.fill.opacity)),{color:l,colorProps:o}}},{key:"determineColor",value:function(e,t,n){var r=this.w,i=r.globals.series[t][n],a=r.config.plotOptions[e],s=a.colorScale.inverse?n:t;a.distributed&&"treemap"===r.config.chart.type&&(s=n);var o=r.globals.colors[s],l=null,c=Math.min.apply(Math,v(r.globals.series[t])),d=Math.max.apply(Math,v(r.globals.series[t]));a.distributed||"heatmap"!==e||(c=r.globals.minY,d=r.globals.maxY),void 0!==a.colorScale.min&&(c=a.colorScale.min<r.globals.minY?a.colorScale.min:r.globals.minY,d=a.colorScale.max>r.globals.maxY?a.colorScale.max:r.globals.maxY);var u=Math.abs(d)+Math.abs(c),h=100*i/(0===u?u-1e-6:u);return a.colorScale.ranges.length>0&&a.colorScale.ranges.map((function(e,t){if(i>=e.from&&i<=e.to){o=e.color,l=e.foreColor?e.foreColor:null,c=e.from,d=e.to;var n=Math.abs(d)+Math.abs(c);h=100*i/(0===n?n-1e-6:n)}})),{color:o,foreColor:l,percent:h}}},{key:"calculateDataLabels",value:function(e){var t=e.text,n=e.x,r=e.y,i=e.i,a=e.j,s=e.colorProps,o=e.fontSize,l=this.w.config.dataLabels,c=new _(this.ctx),d=new W(this.ctx),u=null;if(l.enabled){u=c.group({class:"apexcharts-data-labels"});var h=l.offsetX,f=l.offsetY,p=n+h,g=r+parseFloat(l.style.fontSize)/3+f;d.plotDataLabelsText({x:p,y:g,text:t,i:i,j:a,color:s.foreColor,parent:u,fontSize:o,dataLabelsConfig:l})}return u}},{key:"addListeners",value:function(e){var t=new _(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),e}(),Ee=function(){function e(t,n){o(this,e),this.ctx=t,this.w=t.w,this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Pe(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return c(e,[{key:"draw",value:function(e){var t=this.w,n=new _(this.ctx),r=n.group({class:"apexcharts-heatmap"});r.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var i=t.globals.gridWidth/t.globals.dataPoints,a=t.globals.gridHeight/t.globals.series.length,s=0,o=!1;this.negRange=this.helpers.checkColorRange();var l=e.slice();t.config.yaxis[0].reversed&&(o=!0,l.reverse());for(var c=o?0:l.length-1;o?c<l.length:c>=0;o?c++:c--){var d=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:x.escapeString(t.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(d,c),t.config.chart.dropShadow.enabled){var u=t.config.chart.dropShadow;new k(this.ctx).dropShadow(d,u,c)}for(var h=0,f=t.config.plotOptions.heatmap.shadeIntensity,p=0;p<l[c].length;p++){var g=this.helpers.getShadeColor(t.config.chart.type,c,p,this.negRange),m=g.color,v=g.colorProps;"image"===t.config.fill.type&&(m=new G(this.ctx).fillPath({seriesNumber:c,dataPointIndex:p,opacity:t.globals.hasNegs?v.percent<0?1-(1+v.percent/100):f+v.percent/100:v.percent/100,patternID:x.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:i,height:t.config.fill.image.height?t.config.fill.image.height:a}));var b=this.rectRadius,y=n.drawRect(h,s,i,a,b);if(y.attr({cx:h,cy:s}),y.node.classList.add("apexcharts-heatmap-rect"),d.add(y),y.attr({fill:m,i:c,index:c,j:p,val:e[c][p],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?m:t.globals.stroke.colors[0],color:m}),this.helpers.addListeners(y),t.config.chart.animations.enabled&&!t.globals.dataChanged){var w=1;t.globals.resized||(w=t.config.chart.animations.speed),this.animateHeatMap(y,h,s,i,a,w)}if(t.globals.dataChanged){var S=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){S=this.dynamicAnim.speed;var C=t.globals.previousPaths[c]&&t.globals.previousPaths[c][p]&&t.globals.previousPaths[c][p].color;C||(C="rgba(255, 255, 255, 0)"),this.animateHeatColor(y,x.isColorHex(C)?C:x.rgb2hex(C),x.isColorHex(m)?m:x.rgb2hex(m),S)}}var A=(0,t.config.dataLabels.formatter)(t.globals.series[c][p],{value:t.globals.series[c][p],seriesIndex:c,dataPointIndex:p,w:t}),P=this.helpers.calculateDataLabels({text:A,x:h+i/2,y:s+a/2,i:c,j:p,colorProps:v,series:l});null!==P&&d.add(P),h+=i}s+=a,r.add(d)}var E=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?E.unshift(""):E.push(""),t.globals.yAxisScale[0].result=E,r}},{key:"animateHeatMap",value:function(e,t,n,r,i,a){var s=new w(this.ctx);s.animateRect(e,{x:t+r/2,y:n+i/2,width:0,height:0},{x:t,y:n,width:r,height:i},a,(function(){s.animationCompleted(e)}))}},{key:"animateHeatColor",value:function(e,t,n,r){e.attr({fill:t}).animate(r).attr({fill:n})}}]),e}(),Te=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"drawYAxisTexts",value:function(e,t,n,r){var i=this.w,a=i.config.yaxis[0],s=i.globals.yLabelFormatters[0];return new _(this.ctx).drawText({x:e+a.labels.offsetX,y:t+a.labels.offsetY,text:s(r,n),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[n]:a.labels.style.colors})}}]),e}(),Ne=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=Math.min(n.globals.gridWidth,n.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=n.globals.gridWidth/2,"radialBar"===n.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(n.config.plotOptions.pie.endAngle-n.config.plotOptions.pie.startAngle),this.initialAngle=n.config.plotOptions.pie.startAngle%this.fullAngle,n.globals.radialSize=this.defaultSize/2.05-n.config.stroke.width-(n.config.chart.sparkline.enabled?0:n.config.chart.dropShadow.blur),this.donutSize=n.globals.radialSize*parseInt(n.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return c(e,[{key:"draw",value:function(e){var t=this,n=this.w,r=new _(this.ctx);if(this.ret=r.group({class:"apexcharts-pie"}),n.globals.noData)return this.ret;for(var i=0,a=0;a<e.length;a++)i+=x.negToZero(e[a]);var s=[],o=r.group();0===i&&(i=1e-5),e.forEach((function(e){t.maxY=Math.max(t.maxY,e)})),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),"back"===n.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<e.length;l++){var c=this.fullAngle*x.negToZero(e[l])/i;s.push(c),"polarArea"===this.chartType?(s[l]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[l]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var d,u=0,h=0;h<n.globals.previousPaths.length;h++)u+=x.negToZero(n.globals.previousPaths[h]);for(var f=0;f<n.globals.previousPaths.length;f++)d=this.fullAngle*x.negToZero(n.globals.previousPaths[f])/u,this.prevSectorAngleArr.push(d)}this.donutSize<0&&(this.donutSize=0);var p=n.config.plotOptions.pie.customScale,g=n.globals.gridWidth/2,m=n.globals.gridHeight/2,v=g-n.globals.gridWidth/2*p,b=m-n.globals.gridHeight/2*p;if("donut"===this.chartType){var y=r.drawCircle(this.donutSize);y.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),o.add(y)}var w=this.drawArcs(s,e);if(this.sliceLabels.forEach((function(e){w.add(e)})),o.attr({transform:"translate(".concat(v,", ").concat(b,") scale(").concat(p,")")}),o.add(w),this.ret.add(o),this.donutDataLabels.show){var k=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:v,translateY:b});this.ret.add(k)}return"front"===n.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(e,t){var n=this.w,r=new k(this.ctx),i=new _(this.ctx),a=new G(this.ctx),s=i.group({class:"apexcharts-slices"}),o=this.initialAngle,l=this.initialAngle,c=this.initialAngle,d=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var u=0;u<e.length;u++){var h=i.group({class:"apexcharts-series apexcharts-pie-series",seriesName:x.escapeString(n.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});s.add(h),l=d,c=(o=c)+e[u],d=l+this.prevSectorAngleArr[u];var f=c<o?this.fullAngle+c-o:c-o,p=a.fillPath({seriesNumber:u,size:this.sliceSizes[u],value:t[u]}),g=this.getChangedPath(l,d),m=i.drawPath({d:g,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[u]:this.lineColorArr,strokeWidth:0,fill:p,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(u)});if(m.attr({index:0,j:u}),r.setSelectionFilter(m,0,u),n.config.chart.dropShadow.enabled){var v=n.config.chart.dropShadow;r.dropShadow(m,v,u)}this.addListeners(m,this.donutDataLabels),_.setAttrs(m.node,{"data:angle":f,"data:startAngle":o,"data:strokeWidth":this.strokeWidth,"data:value":t[u]});var b={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?b=x.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(o+f/2)%this.fullAngle):"donut"===this.chartType&&(b=x.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(o+f/2)%this.fullAngle)),h.add(m);var y=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):(0===(y=f/this.fullAngle*n.config.chart.animations.speed)&&(y=1),this.animDur=y+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(m,{size:this.sliceSizes[u],endAngle:c,startAngle:o,prevStartAngle:l,prevEndAngle:d,animateStartingPos:!0,i:u,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(m,{size:this.sliceSizes[u],endAngle:c,startAngle:o,i:u,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:y}),n.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&m.click(this.pieClicked.bind(this,u)),void 0!==n.globals.selectedDataPoints[0]&&n.globals.selectedDataPoints[0].indexOf(u)>-1&&this.pieClicked(u),n.config.dataLabels.enabled){var w=b.x,S=b.y,C=100*f/this.fullAngle+"%";if(0!==f&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[u]){var A=n.config.dataLabels.formatter;void 0!==A&&(C=A(n.globals.seriesPercent[u][0],{seriesIndex:u,w:n}));var P=n.globals.dataLabels.style.colors[u],E=i.group({class:"apexcharts-datalabels"}),T=i.drawText({x:w,y:S,text:C,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:P});if(E.add(T),n.config.dataLabels.dropShadow.enabled){var N=n.config.dataLabels.dropShadow;r.dropShadow(T,N)}T.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&!1===n.globals.resized&&(T.node.classList.add("apexcharts-pie-label-delay"),T.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(E)}}}return s}},{key:"addListeners",value:function(e,t){var n=new _(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var n=this.w,r=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,i=r,a=t.startAngle,s=t.startAngle;void 0!==t.prevStartAngle&&void 0!==t.prevEndAngle&&(a=t.prevEndAngle,i=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===n.config.series.length-1&&(r+s>this.fullAngle?t.endAngle=t.endAngle-(r+s):r+s<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(r+s)))),r===this.fullAngle&&(r=this.fullAngle-.01),this.animateArc(e,a,s,r,i,t)}},{key:"animateArc",value:function(e,t,n,r,i,a){var s,o=this,l=this.w,c=new w(this.ctx),d=a.size;(isNaN(t)||isNaN(i))&&(t=n,i=r,a.dur=0);var u=r,h=n,f=t<n?this.fullAngle+t-n:t-n;l.globals.dataChanged&&a.shouldSetPrevPaths&&a.prevEndAngle&&(s=o.getPiePath({me:o,startAngle:a.prevStartAngle,angle:a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle,size:d}),e.attr({d:s})),0!==a.dur?e.animate(a.dur,l.globals.easing,a.animBeginArr[a.i]).afterAll((function(){"pie"!==o.chartType&&"donut"!==o.chartType&&"polarArea"!==o.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":o.strokeWidth}),a.i===l.config.series.length-1&&c.animationCompleted(e)})).during((function(l){u=f+(r-f)*l,a.animateStartingPos&&(u=i+(r-i)*l,h=t-i+(n-(t-i))*l),s=o.getPiePath({me:o,startAngle:h,angle:u,size:d}),e.node.setAttribute("data:pathOrig",s),e.attr({d:s})})):(s=o.getPiePath({me:o,startAngle:h,angle:r,size:d}),a.isTrack||(l.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",s),e.attr({d:s,"stroke-width":o.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,n=this.w,r=this,i=r.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),a=n.globals.dom.Paper.select(".apexcharts-".concat(r.chartType.toLowerCase(),"-slice-").concat(e)).members[0];if("true"!==a.attr("data:pieClicked")){var s=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(s,(function(e){e.setAttribute("data:pieClicked","false");var t=e.getAttribute("data:pathOrig");t&&e.setAttribute("d",t)})),a.attr("data:pieClicked","true");var o=parseInt(a.attr("data:startAngle"),10),l=parseInt(a.attr("data:angle"),10);t=r.getPiePath({me:r,startAngle:o,angle:l,size:i}),360!==l&&a.plot(t)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var c=a.attr("data:pathOrig");a.attr({d:c})}}},{key:"getChangedPath",value:function(e,t){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var t,n=e.me,r=e.startAngle,i=e.angle,a=e.size,s=new _(this.ctx),o=r,l=Math.PI*(o-90)/180,c=i+r;Math.ceil(c)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(c=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(c)>this.fullAngle&&(c-=this.fullAngle);var d=Math.PI*(c-90)/180,u=n.centerX+a*Math.cos(l),h=n.centerY+a*Math.sin(l),f=n.centerX+a*Math.cos(d),p=n.centerY+a*Math.sin(d),g=x.polarToCartesian(n.centerX,n.centerY,n.donutSize,c),m=x.polarToCartesian(n.centerX,n.centerY,n.donutSize,o),v=i>180?1:0,b=["M",u,h,"A",a,a,0,v,1,f,p];return t="donut"===n.chartType?[].concat(b,["L",g.x,g.y,"A",n.donutSize,n.donutSize,0,v,0,m.x,m.y,"L",u,h,"z"]).join(" "):"pie"===n.chartType||"polarArea"===n.chartType?[].concat(b,["L",n.centerX,n.centerY,"L",u,h]).join(" "):[].concat(b).join(" "),s.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,n=new Q(this.ctx),r=new _(this.ctx),i=new Te(this.ctx),a=r.group(),s=r.group(),o=n.niceScale(0,Math.ceil(this.maxY),0),l=o.result.reverse(),c=o.result.length;this.maxY=o.niceMax;for(var d=t.globals.radialSize,u=d/(c-1),h=0;h<c-1;h++){var f=r.drawCircle(d);if(f.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var p=i.drawYAxisTexts(this.centerX,this.centerY-d+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,h,l[h]);s.add(p)}a.add(f),d-=u}this.drawSpokes(e),e.add(a),e.add(s)}},{key:"renderInnerDataLabels",value:function(e,t){var n=this.w,r=new _(this.ctx),i=r.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(t.translateX?t.translateX:0,", ").concat(t.translateY?t.translateY:0,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),a=e.total.show;i.node.style.opacity=t.opacity;var s,o,l=t.centerX,c=t.centerY;s=void 0===e.name.color?n.globals.colors[0]:e.name.color;var d=e.name.fontSize,u=e.name.fontFamily,h=e.name.fontWeight;o=void 0===e.value.color?n.config.chart.foreColor:e.value.color;var f=e.value.formatter,p="",g="";if(a?(s=e.total.color,d=e.total.fontSize,u=e.total.fontFamily,h=e.total.fontWeight,g=e.total.label,p=e.total.formatter(n)):1===n.globals.series.length&&(p=f(n.globals.series[0],n),g=n.globals.seriesNames[0]),g&&(g=e.name.formatter(g,e.total.show,n)),e.name.show){var m=r.drawText({x:l,y:c+parseFloat(e.name.offsetY),text:g,textAnchor:"middle",foreColor:s,fontSize:d,fontWeight:h,fontFamily:u});m.node.classList.add("apexcharts-datalabel-label"),i.add(m)}if(e.value.show){var v=e.name.show?parseFloat(e.value.offsetY)+16:e.value.offsetY,b=r.drawText({x:l,y:c+v,text:p,textAnchor:"middle",foreColor:o,fontWeight:e.value.fontWeight,fontSize:e.value.fontSize,fontFamily:e.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),i.add(b)}return i}},{key:"printInnerLabels",value:function(e,t,n,r){var i,a=this.w;r?i=void 0===e.name.color?a.globals.colors[parseInt(r.parentNode.getAttribute("rel"),10)-1]:e.name.color:a.globals.series.length>1&&e.total.show&&(i=e.total.color);var s=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,a),r||"function"!=typeof e.total.formatter||(n=e.total.formatter(a));var l=t===e.total.label;t=e.name.formatter(t,l,a),null!==s&&(s.textContent=t),null!==o&&(o.textContent=n),null!==s&&(s.style.fill=i)}},{key:"printDataLabelsInner",value:function(e,t){var n=this.w,r=e.getAttribute("data:value"),i=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(t,i,r,e);var a=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==a&&(a.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,n=this.w,r=new _(this.ctx),i=n.config.plotOptions.polarArea.spokes;if(0!==i.strokeWidth){for(var a=[],s=360/n.globals.series.length,o=0;o<n.globals.series.length;o++)a.push(x.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+s*o));a.forEach((function(n,a){var s=r.drawLine(n.x,n.y,t.centerX,t.centerY,Array.isArray(i.connectorColors)?i.connectorColors[a]:i.connectorColors);e.add(s)}))}}},{key:"revertDataLabelsInner",value:function(e,t,n){var r=this,i=this.w,a=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),s=!1,o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(e){var n=e.makeSliceOut,i=e.printLabel;Array.prototype.forEach.call(o,(function(e){"true"===e.getAttribute("data:pieClicked")&&(n&&(s=!0),i&&r.printDataLabelsInner(e,t))}))};if(l({makeSliceOut:!0,printLabel:!1}),t.total.show&&i.globals.series.length>1)s&&!t.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(t,t.total.label,t.total.formatter(i));else if(l({makeSliceOut:!1,printLabel:!0}),!s)if(i.globals.selectedDataPoints.length&&i.globals.series.length>1)if(i.globals.selectedDataPoints[0].length>0){var c=i.globals.selectedDataPoints[0],d=i.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(c));this.printDataLabelsInner(d,t)}else a&&i.globals.selectedDataPoints.length&&0===i.globals.selectedDataPoints[0].length&&(a.style.opacity=0);else a&&i.globals.series.length>1&&(a.style.opacity=0)}}]),e}(),Ie=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var n=this.w;this.graphics=new _(this.ctx),this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=n.globals.svgHeight<n.globals.svgWidth?n.globals.gridHeight+1.5*n.globals.goldenPadding:n.globals.gridWidth,this.isLog=n.config.yaxis[0].logarithmic,this.coreUtils=new S(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(n.globals.maxY,0):n.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):n.globals.minY,this.polygons=n.config.plotOptions.radar.polygons,this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-n.config.chart.dropShadow.blur,n.config.xaxis.labels.show&&(this.size=this.size-n.globals.xAxisLabelsWidth/1.75),void 0!==n.config.plotOptions.radar.size&&(this.size=n.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return c(e,[{key:"draw",value:function(e){var t=this,n=this.w,r=new G(this.ctx),i=[],s=new W(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=n.globals.gridWidth/2,l=n.globals.gridHeight/2,c=o+n.config.plotOptions.radar.offsetX,d=l+n.config.plotOptions.radar.offsetY,u=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(d||0,")")}),h=[],f=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach((function(e,o){var l=e.length===n.globals.dataPoints,c=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":l,seriesName:x.escapeString(n.globals.seriesNames[o]),rel:o+1,"data:realIndex":o});t.dataRadiusOfPercent[o]=[],t.dataRadius[o]=[],t.angleArr[o]=[],e.forEach((function(e,n){var r=Math.abs(t.maxValue-t.minValue);e+=Math.abs(t.minValue),t.isLog&&(e=t.coreUtils.getLogVal(e,0)),t.dataRadiusOfPercent[o][n]=e/r,t.dataRadius[o][n]=t.dataRadiusOfPercent[o][n]*t.size,t.angleArr[o][n]=n*t.disAngle})),h=t.getDataPointsPos(t.dataRadius[o],t.angleArr[o]);var d=t.createPaths(h,{x:0,y:0});f=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":o}),n.globals.delayedElements.push({el:f.node,index:o});var u={i:o,realIndex:o,animationDelay:o,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[o],strokeLineCap:n.config.stroke.lineCap},g=null;n.globals.previousPaths.length>0&&(g=t.getPreviousPath(o));for(var m=0;m<d.linePathsTo.length;m++){var v=t.graphics.renderPaths(a(a({},u),{},{pathFrom:null===g?d.linePathsFrom[m]:g,pathTo:d.linePathsTo[m],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[o]:t.strokeWidth,fill:"none",drawShadow:!1}));c.add(v);var b=r.fillPath({seriesNumber:o}),y=t.graphics.renderPaths(a(a({},u),{},{pathFrom:null===g?d.areaPathsFrom[m]:g,pathTo:d.areaPathsTo[m],strokeWidth:0,fill:b,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var w=new k(t.ctx),_=n.config.chart.dropShadow;w.dropShadow(y,Object.assign({},_,{noUserSpaceOnUse:!0}),o)}c.add(y)}e.forEach((function(e,r){var i=new B(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:o,dataPointIndex:r}),l=t.graphics.drawMarker(h[r].x,h[r].y,i);l.attr("rel",r),l.attr("j",r),l.attr("index",o),l.node.setAttribute("default-marker-size",i.pSize);var d=t.graphics.group({class:"apexcharts-series-markers"});d&&d.add(l),f.add(d),c.add(f);var u=n.config.dataLabels;if(u.enabled){var g=u.formatter(n.globals.series[o][r],{seriesIndex:o,dataPointIndex:r,w:n});s.plotDataLabelsText({x:h[r].x,y:h[r].y,text:g,textAnchor:"middle",i:o,j:o,parent:p,offsetCorrection:!1,dataLabelsConfig:a({},u)})}c.add(p)})),i.push(c)})),this.drawPolygons({parent:u}),n.config.xaxis.labels.show){var g=this.drawXAxisTexts();u.add(g)}return i.forEach((function(e){u.add(e)})),u.add(this.yaxisLabels),u}},{key:"drawPolygons",value:function(e){for(var t=this,n=this.w,r=e.parent,i=new Te(this.ctx),a=n.globals.yAxisScale[0].result.reverse(),s=a.length,o=[],l=this.size/(s-1),c=0;c<s;c++)o[c]=l*c;o.reverse();var d=[],u=[];o.forEach((function(e,n){var r=x.getPolygonPos(e,t.dataPointsLen),i="";r.forEach((function(e,r){if(0===n){var a=t.graphics.drawLine(e.x,e.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[r]:t.polygons.connectorColors);u.push(a)}0===r&&t.yaxisLabelsTextsPos.push({x:e.x,y:e.y}),i+=e.x+","+e.y+" "})),d.push(i)})),d.forEach((function(e,i){var a=t.polygons.strokeColors,s=t.polygons.strokeWidth,o=t.graphics.drawPolygon(e,Array.isArray(a)?a[i]:a,Array.isArray(s)?s[i]:s,n.globals.radarPolygons.fill.colors[i]);r.add(o)})),u.forEach((function(e){r.add(e)})),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(e,n){var r=i.drawYAxisTexts(e.x,e.y,n,a[n]);t.yaxisLabels.add(r)}))}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,n=t.config.xaxis.labels,r=this.graphics.group({class:"apexcharts-xaxis"}),i=x.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach((function(s,o){var l=t.config.xaxis.labels.formatter,c=new W(e.ctx);if(i[o]){var d=e.getTextPos(i[o],e.size),u=l(s,{seriesIndex:-1,dataPointIndex:o,w:t});c.plotDataLabelsText({x:d.newX,y:d.newY,text:u,textAnchor:d.textAnchor,i:o,j:o,parent:r,color:Array.isArray(n.style.colors)&&n.style.colors[o]?n.style.colors[o]:"#a8a8a8",dataLabelsConfig:a({textAnchor:d.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1})}})),r}},{key:"createPaths",value:function(e,t){var n=this,r=[],i=[],a=[],s=[];if(e.length){i=[this.graphics.move(t.x,t.y)],s=[this.graphics.move(t.x,t.y)];var o=this.graphics.move(e[0].x,e[0].y),l=this.graphics.move(e[0].x,e[0].y);e.forEach((function(t,r){o+=n.graphics.line(t.x,t.y),l+=n.graphics.line(t.x,t.y),r===e.length-1&&(o+="Z",l+="Z")})),r.push(o),a.push(l)}return{linePathsFrom:i,linePathsTo:r,areaPathsFrom:s,areaPathsTo:a}}},{key:"getTextPos",value:function(e,t){var n="middle",r=e.x,i=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",r+=10):e.x<0&&(n="end",r-=10):n="middle",Math.abs(e.y)>=t-10&&(e.y<0?i-=10:e.y>0&&(i+=10)),{textAnchor:n,newX:r,newY:i}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,n=null,r=0;r<t.globals.previousPaths.length;r++){var i=t.globals.previousPaths[r];i.paths.length>0&&parseInt(i.realIndex,10)===parseInt(e,10)&&void 0!==t.globals.previousPaths[r].paths[0]&&(n=t.globals.previousPaths[r].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var r=[],i=0;i<n;i++){var a={};a.x=e[i]*Math.sin(t[i]),a.y=-e[i]*Math.cos(t[i]),r.push(a)}return r}}]),e}(),Me=function(e){u(n,Ne);var t=g(n);function n(e){var r;o(this,n),(r=t.call(this,e)).ctx=e,r.w=e.w,r.animBeginArr=[0],r.animDur=0;var i=r.w;return r.startAngle=i.config.plotOptions.radialBar.startAngle,r.endAngle=i.config.plotOptions.radialBar.endAngle,r.totalAngle=Math.abs(i.config.plotOptions.radialBar.endAngle-i.config.plotOptions.radialBar.startAngle),r.trackStartAngle=i.config.plotOptions.radialBar.track.startAngle,r.trackEndAngle=i.config.plotOptions.radialBar.track.endAngle,r.barLabels=r.w.config.plotOptions.radialBar.barLabels,r.donutDataLabels=r.w.config.plotOptions.radialBar.dataLabels,r.radialDataLabels=r.donutDataLabels,r.trackStartAngle||(r.trackStartAngle=r.startAngle),r.trackEndAngle||(r.trackEndAngle=r.endAngle),360===r.endAngle&&(r.endAngle=359.99),r.margin=parseInt(i.config.plotOptions.radialBar.track.margin,10),r.onBarLabelClick=r.onBarLabelClick.bind(p(r)),r}return c(n,[{key:"draw",value:function(e){var t=this.w,n=new _(this.ctx),r=n.group({class:"apexcharts-radialbar"});if(t.globals.noData)return r;var i=n.group(),a=this.defaultSize/2,s=t.globals.gridWidth/2,o=this.defaultSize/2.05;t.config.chart.sparkline.enabled||(o=o-t.config.stroke.width-t.config.chart.dropShadow.blur);var l=t.globals.fill.colors;if(t.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:o,centerX:s,centerY:a,colorArr:l,series:e});i.add(c)}var d=this.drawArcs({size:o,centerX:s,centerY:a,colorArr:l,series:e}),u=360;t.config.plotOptions.radialBar.startAngle<0&&(u=this.totalAngle);var h=(360-u)/360;if(t.globals.radialSize=o-o*h,this.radialDataLabels.value.show){var f=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);t.globals.radialSize+=f*h}return i.add(d.g),"front"===t.config.plotOptions.radialBar.hollow.position&&(d.g.add(d.elHollow),d.dataLabels&&d.g.add(d.dataLabels)),r.add(i),r}},{key:"drawTracks",value:function(e){var t=this.w,n=new _(this.ctx),r=n.group({class:"apexcharts-tracks"}),i=new k(this.ctx),a=new G(this.ctx),s=this.getStrokeWidth(e);e.size=e.size-s/2;for(var o=0;o<e.series.length;o++){var l=n.group({class:"apexcharts-radialbar-track apexcharts-track"});r.add(l),l.attr({rel:o+1}),e.size=e.size-s-this.margin;var c=t.config.plotOptions.radialBar.track,d=a.fillPath({seriesNumber:0,size:e.size,fillColors:Array.isArray(c.background)?c.background[o]:c.background,solid:!0}),u=this.trackStartAngle,h=this.trackEndAngle;Math.abs(h)+Math.abs(u)>=360&&(h=360-Math.abs(this.startAngle)-.1);var f=n.drawPath({d:"",stroke:d,strokeWidth:s*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});if(c.dropShadow.enabled){var p=c.dropShadow;i.dropShadow(f,p)}l.add(f),f.attr("id","apexcharts-radialbarTrack-"+o),this.animatePaths(f,{centerX:e.centerX,centerY:e.centerY,endAngle:h,startAngle:u,size:e.size,i:o,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:t.globals.easing})}return r}},{key:"drawArcs",value:function(e){var t=this.w,n=new _(this.ctx),r=new G(this.ctx),i=new k(this.ctx),a=n.group(),s=this.getStrokeWidth(e);e.size=e.size-s/2;var o=t.config.plotOptions.radialBar.hollow.background,l=e.size-s*e.series.length-this.margin*e.series.length-s*parseInt(t.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-t.config.plotOptions.radialBar.hollow.margin;void 0!==t.config.plotOptions.radialBar.hollow.image&&(o=this.drawHollowImage(e,a,l,o));var d=this.drawHollow({size:c,centerX:e.centerX,centerY:e.centerY,fill:o||"transparent"});if(t.config.plotOptions.radialBar.hollow.dropShadow.enabled){var u=t.config.plotOptions.radialBar.hollow.dropShadow;i.dropShadow(d,u)}var h=1;!this.radialDataLabels.total.show&&t.globals.series.length>1&&(h=0);var f=null;this.radialDataLabels.show&&(f=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:e.centerX,centerY:e.centerY,opacity:h})),"back"===t.config.plotOptions.radialBar.hollow.position&&(a.add(d),f&&a.add(f));var p=!1;t.config.plotOptions.radialBar.inverseOrder&&(p=!0);for(var g=p?e.series.length-1:0;p?g>=0:g<e.series.length;p?g--:g++){var m=n.group({class:"apexcharts-series apexcharts-radial-series",seriesName:x.escapeString(t.globals.seriesNames[g])});a.add(m),m.attr({rel:g+1,"data:realIndex":g}),this.ctx.series.addCollapsedClassToSeries(m,g),e.size=e.size-s-this.margin;var v=r.fillPath({seriesNumber:g,size:e.size,value:e.series[g]}),b=this.startAngle,y=void 0,w=x.negToZero(e.series[g]>100?100:e.series[g])/100,S=Math.round(this.totalAngle*w)+this.startAngle,C=void 0;t.globals.dataChanged&&(y=this.startAngle,C=Math.round(this.totalAngle*x.negToZero(t.globals.previousPaths[g])/100)+y),Math.abs(S)+Math.abs(b)>=360&&(S-=.01),Math.abs(C)+Math.abs(y)>=360&&(C-=.01);var A=S-b,P=Array.isArray(t.config.stroke.dashArray)?t.config.stroke.dashArray[g]:t.config.stroke.dashArray,E=n.drawPath({d:"",stroke:v,strokeWidth:s,fill:"none",fillOpacity:t.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+g,strokeDashArray:P});if(_.setAttrs(E.node,{"data:angle":A,"data:value":e.series[g]}),t.config.chart.dropShadow.enabled){var T=t.config.chart.dropShadow;i.dropShadow(E,T,g)}if(i.setSelectionFilter(E,0,g),this.addListeners(E,this.radialDataLabels),m.add(E),E.attr({index:0,j:g}),this.barLabels.enabled){var N=x.polarToCartesian(e.centerX,e.centerY,e.size,b),I=this.barLabels.formatter(t.globals.seriesNames[g],{seriesIndex:g,w:t}),M=["apexcharts-radialbar-label"];this.barLabels.onClick||M.push("apexcharts-no-click");var F=this.barLabels.useSeriesColors?t.globals.colors[g]:t.config.chart.foreColor;F||(F=t.config.chart.foreColor);var R=N.x-this.barLabels.margin,j=N.y,L=n.drawText({x:R,y:j,text:I,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:F,cssClass:M.join(" ")});L.on("click",this.onBarLabelClick),L.attr({rel:g+1}),0!==b&&L.attr({"transform-origin":"".concat(R," ").concat(j),transform:"rotate(".concat(b," 0 0)")}),m.add(L)}var D=0;!this.initialAnim||t.globals.resized||t.globals.dataChanged||(D=t.config.chart.animations.speed),t.globals.dataChanged&&(D=t.config.chart.animations.dynamicAnimation.speed),this.animDur=D/(1.2*e.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(E,{centerX:e.centerX,centerY:e.centerY,endAngle:S,startAngle:b,prevEndAngle:C,prevStartAngle:y,size:e.size,i:g,totalItems:2,animBeginArr:this.animBeginArr,dur:D,shouldSetPrevPaths:!0,easing:t.globals.easing})}return{g:a,elHollow:d,dataLabels:f}}},{key:"drawHollow",value:function(e){var t=new _(this.ctx).drawCircle(2*e.size);return t.attr({class:"apexcharts-radialbar-hollow",cx:e.centerX,cy:e.centerY,r:e.size,fill:e.fill}),t}},{key:"drawHollowImage",value:function(e,t,n,r){var i=this.w,a=new G(this.ctx),s=x.randomId(),o=i.config.plotOptions.radialBar.hollow.image;if(i.config.plotOptions.radialBar.hollow.imageClipped)a.clippedImgArea({width:n,height:n,image:o,patternID:"pattern".concat(i.globals.cuid).concat(s)}),r="url(#pattern".concat(i.globals.cuid).concat(s,")");else{var l=i.config.plotOptions.radialBar.hollow.imageWidth,c=i.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var d=i.globals.dom.Paper.image(o).loaded((function(t){this.move(e.centerX-t.width/2+i.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-t.height/2+i.config.plotOptions.radialBar.hollow.imageOffsetY)}));t.add(d)}else{var u=i.globals.dom.Paper.image(o).loaded((function(t){this.move(e.centerX-l/2+i.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-c/2+i.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)}));t.add(u)}}return r}},{key:"getStrokeWidth",value:function(e){var t=this.w;return e.size*(100-parseInt(t.config.plotOptions.radialBar.hollow.size,10))/100/(e.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(e){var t=parseInt(e.target.getAttribute("rel"),10)-1,n=this.barLabels.onClick,r=this.w;n&&n(r.globals.seriesNames[t],{w:r,seriesIndex:t})}}]),n}(),Fe=function(e){u(n,Se);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"draw",value:function(e,t){var n=this.w,r=new _(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=e,this.seriesRangeStart=n.globals.seriesRangeStart,this.seriesRangeEnd=n.globals.seriesRangeEnd,this.barHelpers.initVariables(e);for(var i=r.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),s=0;s<e.length;s++){var o,l,c,u,h=void 0,f=void 0,p=n.globals.comboCharts?t[s]:s,g=r.group({class:"apexcharts-series",seriesName:x.escapeString(n.globals.seriesNames[p]),rel:s+1,"data:realIndex":p});this.ctx.series.addCollapsedClassToSeries(g,p),e[s].length>0&&(this.visibleI=this.visibleI+1);var m=0,v=0;this.yRatio.length>1&&(this.yaxisIndex=p);var b=this.barHelpers.initialPositions();f=b.y,u=b.zeroW,h=b.x,v=b.barWidth,m=b.barHeight,o=b.xDivision,l=b.yDivision,c=b.zeroH;for(var y=r.group({class:"apexcharts-datalabels","data:realIndex":p}),w=r.group({class:"apexcharts-rangebar-goals-markers"}),k=0;k<n.globals.dataPoints;k++){var S,C=this.barHelpers.getStrokeWidth(s,k,p),A=this.seriesRangeStart[s][k],P=this.seriesRangeEnd[s][k],E=null,T=null,N=null,I={x:h,y:f,strokeWidth:C,elSeries:g},M=this.seriesLen;if(n.config.plotOptions.bar.rangeBarGroupRows&&(M=1),void 0===n.config.series[s].data[k])break;if(this.isHorizontal){N=f+m*this.visibleI;var F=(l-m*M)/2;if(n.config.series[s].data[k].x){var R=this.detectOverlappingBars({i:s,j:k,barYPosition:N,srty:F,barHeight:m,yDivision:l,initPositions:b});m=R.barHeight,N=R.barYPosition}v=(E=this.drawRangeBarPaths(a({indexes:{i:s,j:k,realIndex:p},barHeight:m,barYPosition:N,zeroW:u,yDivision:l,y1:A,y2:P},I))).barWidth}else{n.globals.isXNumeric&&(h=(n.globals.seriesX[s][k]-n.globals.minX)/this.xRatio-v/2),T=h+v*this.visibleI;var j=(o-v*M)/2;if(n.config.series[s].data[k].x){var L=this.detectOverlappingBars({i:s,j:k,barXPosition:T,srtx:j,barWidth:v,xDivision:o,initPositions:b});v=L.barWidth,T=L.barXPosition}m=(E=this.drawRangeColumnPaths(a({indexes:{i:s,j:k,realIndex:p},barWidth:v,barXPosition:T,zeroH:c,xDivision:o},I))).barHeight}var D=this.barHelpers.drawGoalLine({barXPosition:E.barXPosition,barYPosition:N,goalX:E.goalX,goalY:E.goalY,barHeight:m,barWidth:v});D&&w.add(D),f=E.y,h=E.x;var O=this.barHelpers.getPathFillColor(e,s,k,p),z=n.globals.stroke.colors[p];this.renderSeries((d(S={realIndex:p,pathFill:O,lineFill:z,j:k,i:s,x:h,y:f,y1:A,y2:P,pathFrom:E.pathFrom,pathTo:E.pathTo,strokeWidth:C,elSeries:g,series:e,barHeight:m,barWidth:v,barXPosition:T,barYPosition:N},"barWidth",v),d(S,"elDataLabelsWrap",y),d(S,"elGoalsMarkers",w),d(S,"visibleSeries",this.visibleI),d(S,"type","rangebar"),S))}i.add(g)}return i}},{key:"detectOverlappingBars",value:function(e){var t=e.i,n=e.j,r=e.barYPosition,i=e.barXPosition,a=e.srty,s=e.srtx,o=e.barHeight,l=e.barWidth,c=e.yDivision,d=e.xDivision,u=e.initPositions,h=this.w,f=[],p=h.config.series[t].data[n].rangeName,g=h.config.series[t].data[n].x,m=Array.isArray(g)?g.join(" "):g,v=h.globals.labels.map((function(e){return Array.isArray(e)?e.join(" "):e})).indexOf(m),b=h.globals.seriesRange[t].findIndex((function(e){return e.x===m&&e.overlaps.length>0}));return this.isHorizontal?(r=h.config.plotOptions.bar.rangeBarGroupRows?a+c*v:a+o*this.visibleI+c*v,b>-1&&!h.config.plotOptions.bar.rangeBarOverlap&&(f=h.globals.seriesRange[t][b].overlaps).indexOf(p)>-1&&(r=(o=u.barHeight/f.length)*this.visibleI+c*(100-parseInt(this.barOptions.barHeight,10))/100/2+o*(this.visibleI+f.indexOf(p))+c*v)):(v>-1&&(i=h.config.plotOptions.bar.rangeBarGroupRows?s+d*v:s+l*this.visibleI+d*v),b>-1&&!h.config.plotOptions.bar.rangeBarOverlap&&(f=h.globals.seriesRange[t][b].overlaps).indexOf(p)>-1&&(i=(l=u.barWidth/f.length)*this.visibleI+d*(100-parseInt(this.barOptions.barWidth,10))/100/2+l*(this.visibleI+f.indexOf(p))+d*v)),{barYPosition:r,barXPosition:i,barHeight:o,barWidth:l}}},{key:"drawRangeColumnPaths",value:function(e){var t=e.indexes,n=e.x,r=e.xDivision,i=e.barWidth,a=e.barXPosition,s=e.zeroH,o=this.w,l=t.i,c=t.j,d=this.yRatio[this.yaxisIndex],u=t.realIndex,h=this.getRangeValue(u,c),f=Math.min(h.start,h.end),p=Math.max(h.start,h.end);void 0===this.series[l][c]||null===this.series[l][c]?f=s:(f=s-f/d,p=s-p/d);var g=Math.abs(p-f),m=this.barHelpers.getColumnPaths({barXPosition:a,barWidth:i,y1:f,y2:p,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:t.realIndex,i:u,j:c,w:o});if(o.globals.isXNumeric){var v=this.getBarXForNumericXAxis({x:n,j:c,realIndex:u,barWidth:i});n=v.x,a=v.barXPosition}else n+=r;return{pathTo:m.pathTo,pathFrom:m.pathFrom,barHeight:g,x:n,y:p,goalY:this.barHelpers.getGoalValues("y",null,s,l,c),barXPosition:a}}},{key:"drawRangeBarPaths",value:function(e){var t=e.indexes,n=e.y,r=e.y1,i=e.y2,a=e.yDivision,s=e.barHeight,o=e.barYPosition,l=e.zeroW,c=this.w,d=l+r/this.invertedYRatio,u=l+i/this.invertedYRatio,h=Math.abs(u-d),f=this.barHelpers.getBarpaths({barYPosition:o,barHeight:s,x1:d,x2:u,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:t.realIndex,realIndex:t.realIndex,j:t.j,w:c});return c.globals.isXNumeric||(n+=a),{pathTo:f.pathTo,pathFrom:f.pathFrom,barWidth:h,x:u,goalX:this.barHelpers.getGoalValues("x",l,null,t.realIndex,t.j),y:n}}},{key:"getRangeValue",value:function(e,t){var n=this.w;return{start:n.globals.seriesRangeStart[e][t],end:n.globals.seriesRangeEnd[e][t]}}}]),n}(),Re=function(){function e(t){o(this,e),this.w=t.w,this.lineCtx=t}return c(e,[{key:"sameValueSeriesFix",value:function(e,t){var n=this.w;if(("gradient"===n.config.fill.type||"gradient"===n.config.fill.type[e])&&new S(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var r=t[e].slice();r[r.length-1]=r[r.length-1]+1e-6,t[e]=r}return t}},{key:"calculatePoints",value:function(e){var t=e.series,n=e.realIndex,r=e.x,i=e.y,a=e.i,s=e.j,o=e.prevY,l=this.w,c=[],d=[];if(0===s){var u=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(u=(l.globals.seriesX[n][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),c.push(u),d.push(x.isNumber(t[a][0])?o+l.config.markers.offsetY:null),c.push(r+l.config.markers.offsetX),d.push(x.isNumber(t[a][s+1])?i+l.config.markers.offsetY:null)}else c.push(r+l.config.markers.offsetX),d.push(x.isNumber(t[a][s+1])?i+l.config.markers.offsetY:null);return{x:c,y:d}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,n=e.pathFromArea,r=e.realIndex,i=this.w,a=0;a<i.globals.previousPaths.length;a++){var s=i.globals.previousPaths[a];("line"===s.type||"area"===s.type)&&s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(r,10)&&("line"===s.type?(this.lineCtx.appendPathFrom=!1,t=i.globals.previousPaths[a].paths[0].d):"area"===s.type&&(this.lineCtx.appendPathFrom=!1,n=i.globals.previousPaths[a].paths[0].d,i.config.stroke.show&&i.globals.previousPaths[a].paths[1]&&(t=i.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:t,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var t,n,r=e.i,i=e.series,a=e.prevY,s=e.lineYPosition,o=this.w,l=o.config.chart.stacked&&!o.globals.comboCharts||o.config.chart.stacked&&o.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null===(t=this.w.config.series[r])||void 0===t?void 0:t.type));if(void 0!==(null===(n=i[r])||void 0===n?void 0:n[0]))a=(s=l&&r>0?this.lineCtx.prevSeriesY[r-1][0]:this.lineCtx.zeroY)-i[r][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?i[r][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(l&&r>0&&void 0===i[r][0])for(var c=r-1;c>=0;c--)if(null!==i[c][0]&&void 0!==i[c][0]){a=s=this.lineCtx.prevSeriesY[c][0];break}return{prevY:a,lineYPosition:s}}}]),e}(),je=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n],i=r.length;i>4?(t+="C".concat(r[0],", ").concat(r[1]),t+=", ".concat(r[2],", ").concat(r[3]),t+=", ".concat(r[4],", ").concat(r[5])):i>2&&(t+="S".concat(r[0],", ").concat(r[1]),t+=", ".concat(r[2],", ").concat(r[3]))}return t},Le=function(e){var t=function(e){for(var t,n,r,i,a=function(e){for(var t=[],n=e[0],r=e[1],i=t[0]=De(n,r),a=1,s=e.length-1;a<s;a++)n=r,r=e[a+1],t[a]=.5*(i+(i=De(n,r)));return t[a]=i,t}(e),s=e.length-1,o=[],l=0;l<s;l++)r=De(e[l],e[l+1]),Math.abs(r)<1e-6?a[l]=a[l+1]=0:(i=(t=a[l]/r)*t+(n=a[l+1]/r)*n)>9&&(i=3*r/Math.sqrt(i),a[l]=i*t,a[l+1]=i*n);for(var c=0;c<=s;c++)i=(e[Math.min(s,c+1)][0]-e[Math.max(0,c-1)][0])/(6*(1+a[c]*a[c])),o.push([i||0,a[c]*i||0]);return o}(e),n=e[1],r=e[0],i=[],a=t[1],s=t[0];i.push(r,[r[0]+s[0],r[1]+s[1],n[0]-a[0],n[1]-a[1],n[0],n[1]]);for(var o=2,l=t.length;o<l;o++){var c=e[o],d=t[o];i.push([c[0]-d[0],c[1]-d[1],c[0],c[1]])}return i};function De(e,t){return(t[1]-e[1])/(t[0]-e[0])}var Oe=function(){function e(t,n,r){o(this,e),this.ctx=t,this.w=t.w,this.xyRatios=n,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||r,this.scatter=new U(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Re(this),this.markers=new B(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return c(e,[{key:"draw",value:function(e,t,n,r){var i,s=this.w,o=new _(this.ctx),l=s.globals.comboCharts?t:s.config.chart.type,c=o.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),d=new S(this.ctx,s);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=d.getLogSeries(e),this.yRatio=d.getLogYRatios(this.yRatio);for(var u=[],h=0;h<e.length;h++){e=this.lineHelpers.sameValueSeriesFix(h,e);var f=s.globals.comboCharts?n[h]:h;this._initSerieVariables(e,h,f);var p=[],g=[],m=[],v=s.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,f),s.globals.isXNumeric&&s.globals.seriesX.length>0&&(v=(s.globals.seriesX[f][0]-s.globals.minX)/this.xRatio),m.push(v);var b,y=v,x=void 0,w=y,k=this.zeroY,C=this.zeroY;k=this.lineHelpers.determineFirstPrevY({i:h,series:e,prevY:k,lineYPosition:0}).prevY,"monotonCubic"===s.config.stroke.curve&&null===e[h][0]?p.push(null):p.push(k),b=k,"rangeArea"===l&&(x=C=this.lineHelpers.determineFirstPrevY({i:h,series:r,prevY:C,lineYPosition:0}).prevY,g.push(C));var A={type:l,series:e,realIndex:f,i:h,x:v,y:1,pX:y,pY:b,pathsFrom:this._calculatePathsFrom({type:l,series:e,i:h,realIndex:f,prevX:w,prevY:k,prevY2:C}),linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:m,yArrj:p,y2Arrj:g,seriesRangeEnd:r},P=this._iterateOverDataPoints(a(a({},A),{},{iterations:"rangeArea"===l?e[h].length-1:void 0,isRangeStart:!0}));if("rangeArea"===l){var E=this._calculatePathsFrom({series:r,i:h,realIndex:f,prevX:w,prevY:C}),T=this._iterateOverDataPoints(a(a({},A),{},{series:r,pY:x,pathsFrom:E,iterations:r[h].length-1,isRangeStart:!1}));P.linePaths[0]=T.linePath+P.linePath,P.pathFromLine=T.pathFromLine+P.pathFromLine}this._handlePaths({type:l,realIndex:f,i:h,paths:P}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),u.push(this.elSeries)}if(void 0!==(null===(i=s.config.series[0])||void 0===i?void 0:i.zIndex)&&u.sort((function(e,t){return Number(e.node.getAttribute("zIndex"))-Number(t.node.getAttribute("zIndex"))})),s.config.chart.stacked)for(var N=u.length;N>0;N--)c.add(u[N-1]);else for(var I=0;I<u.length;I++)c.add(u[I]);return c}},{key:"_initSerieVariables",value:function(e,t,n){var r=this.w,i=new _(this.ctx);this.xDivision=r.globals.gridWidth/(r.globals.dataPoints-("on"===r.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(r.config.stroke.width)?r.config.stroke.width[n]:r.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=n),this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed,this.zeroY=r.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?r.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>r.globals.gridHeight||"end"===r.config.plotOptions.area.fillTo)&&(this.areaBottomY=r.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=i.group({class:"apexcharts-series",zIndex:void 0!==r.config.series[n].zIndex?r.config.series[n].zIndex:n,seriesName:x.escapeString(r.globals.seriesNames[n])}),this.elPointsMain=i.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),this.elDataLabelsWrap=i.group({class:"apexcharts-datalabels","data:realIndex":n});var a=e[t].length===r.globals.dataPoints;this.elSeries.attr({"data:longestSeries":a,rel:t+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,n,r,i,a=e.type,s=e.series,o=e.i,l=e.realIndex,c=e.prevX,d=e.prevY,u=e.prevY2,h=this.w,f=new _(this.ctx);if(null===s[o][0]){for(var p=0;p<s[o].length;p++)if(null!==s[o][p]){c=this.xDivision*p,d=this.zeroY-s[o][p]/this.yRatio[this.yaxisIndex],t=f.move(c,d),n=f.move(c,this.areaBottomY);break}}else t=f.move(c,d),"rangeArea"===a&&(t=f.move(c,u)+f.line(c,d)),n=f.move(c,this.areaBottomY)+f.line(c,d);if(r=f.move(-1,this.zeroY)+f.line(-1,this.zeroY),i=f.move(-1,this.zeroY)+f.line(-1,this.zeroY),h.globals.previousPaths.length>0){var g=this.lineHelpers.checkPreviousPaths({pathFromLine:r,pathFromArea:i,realIndex:l});r=g.pathFromLine,i=g.pathFromArea}return{prevX:c,prevY:d,linePath:t,areaPath:n,pathFromLine:r,pathFromArea:i}}},{key:"_handlePaths",value:function(e){var t=e.type,n=e.realIndex,r=e.i,i=e.paths,s=this.w,o=new _(this.ctx),l=new G(this.ctx);this.prevSeriesY.push(i.yArrj),s.globals.seriesXvalues[n]=i.xArrj,s.globals.seriesYvalues[n]=i.yArrj;var c=s.config.forecastDataPoints;if(c.count>0&&"rangeArea"!==t){var d=s.globals.seriesXvalues[n][s.globals.seriesXvalues[n].length-c.count-1],u=o.drawRect(d,0,s.globals.gridWidth,s.globals.gridHeight,0);s.globals.dom.elForecastMask.appendChild(u.node);var h=o.drawRect(0,0,d,s.globals.gridHeight,0);s.globals.dom.elNonForecastMask.appendChild(h.node)}this.pointsChart||s.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var f={i:r,realIndex:n,animationDelay:r,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if("area"===t)for(var p=l.fillPath({seriesNumber:n}),g=0;g<i.areaPaths.length;g++){var m=o.renderPaths(a(a({},f),{},{pathFrom:i.pathFromArea,pathTo:i.areaPaths[g],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:p}));this.elSeries.add(m)}if(s.config.stroke.show&&!this.pointsChart){var v=null;if("line"===t)v=l.fillPath({seriesNumber:n,i:r});else if("solid"===s.config.stroke.fill.type)v=s.globals.stroke.colors[n];else{var b=s.config.fill;s.config.fill=s.config.stroke.fill,v=l.fillPath({seriesNumber:n,i:r}),s.config.fill=b}for(var y=0;y<i.linePaths.length;y++){var x=v;"rangeArea"===t&&(x=l.fillPath({seriesNumber:n}));var w=a(a({},f),{},{pathFrom:i.pathFromLine,pathTo:i.linePaths[y],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:s.config.stroke.lineCap,fill:"rangeArea"===t?x:"none"}),k=o.renderPaths(w);if(this.elSeries.add(k),k.attr("fill-rule","evenodd"),c.count>0&&"rangeArea"!==t){var S=o.renderPaths(w);S.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&S.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(S),S.attr("clip-path","url(#forecastMask".concat(s.globals.cuid,")")),k.attr("clip-path","url(#nonForecastMask".concat(s.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,n=this,r=e.type,i=e.series,a=e.iterations,s=e.realIndex,o=e.i,l=e.x,c=e.y,d=e.pX,u=e.pY,h=e.pathsFrom,f=e.linePaths,p=e.areaPaths,g=e.seriesIndex,m=e.lineYPosition,v=e.xArrj,b=e.yArrj,y=e.y2Arrj,w=e.isRangeStart,k=e.seriesRangeEnd,S=this.w,C=new _(this.ctx),A=this.yRatio,P=h.prevY,E=h.linePath,T=h.areaPath,N=h.pathFromLine,I=h.pathFromArea,M=x.isNumber(S.globals.minYArr[s])?S.globals.minYArr[s]:S.globals.minY;a||(a=S.globals.dataPoints>1?S.globals.dataPoints-1:S.globals.dataPoints);for(var F=function(e,t){return t-e/A[n.yaxisIndex]+2*(n.isReversed?e/A[n.yaxisIndex]:0)},R=c,j=S.config.chart.stacked&&!S.globals.comboCharts||S.config.chart.stacked&&S.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null===(t=this.w.config.series[s])||void 0===t?void 0:t.type)),L=0;L<a;L++){var D=void 0===i[o][L+1]||null===i[o][L+1];if(S.globals.isXNumeric){var O=S.globals.seriesX[s][L+1];void 0===S.globals.seriesX[s][L+1]&&(O=S.globals.seriesX[s][a-1]),l=(O-S.globals.minX)/this.xRatio}else l+=this.xDivision;m=j&&o>0&&S.globals.collapsedSeries.length<S.config.series.length-1?this.prevSeriesY[function(e){for(var t=e,n=0;n<S.globals.series.length;n++)if(S.globals.collapsedSeriesIndices.indexOf(e)>-1){t--;break}return t>=0?t:0}(o-1)][L+1]:this.zeroY,D?c=F(M,m):(c=F(i[o][L+1],m),"rangeArea"===r&&(R=F(k[o][L+1],m))),v.push(l),D&&"smooth"===S.config.stroke.curve?b.push(null):b.push(c),y.push(R);var z=this.lineHelpers.calculatePoints({series:i,x:l,y:c,realIndex:s,i:o,j:L,prevY:P}),G=this._createPaths({type:r,series:i,i:o,realIndex:s,j:L,x:l,y:c,y2:R,xArrj:v,yArrj:b,y2Arrj:y,pX:d,pY:u,linePath:E,areaPath:T,linePaths:f,areaPaths:p,seriesIndex:g,isRangeStart:w});p=G.areaPaths,f=G.linePaths,d=G.pX,u=G.pY,T=G.areaPath,E=G.linePath,!this.appendPathFrom||"monotoneCubic"===S.config.stroke.curve&&"rangeArea"===r||(N+=C.line(l,this.zeroY),I+=C.line(l,this.zeroY)),this.handleNullDataPoints(i,z,o,L,s),this._handleMarkersAndLabels({type:r,pointsPos:z,i:o,j:L,realIndex:s,isRangeStart:w})}return{yArrj:b,xArrj:v,pathFromArea:I,areaPaths:p,pathFromLine:N,linePaths:f,linePath:E,areaPath:T}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,n=e.pointsPos,r=e.isRangeStart,i=e.i,a=e.j,s=e.realIndex,o=this.w,l=new W(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,a,{realIndex:s,pointsPos:n,zRatio:this.zRatio,elParent:this.elPointsMain});else{o.globals.series[i].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var c=this.markers.plotChartMarkers(n,s,a+1);null!==c&&this.elPointsMain.add(c)}var d=l.drawDataLabel({type:t,isRangeStart:r,pos:n,i:s,j:a+1});null!==d&&this.elDataLabelsWrap.add(d)}},{key:"_createPaths",value:function(e){var t=e.type,n=e.series,r=e.i,i=e.realIndex,a=e.j,s=e.x,o=e.y,l=e.xArrj,c=e.yArrj,d=e.y2,u=e.y2Arrj,h=e.pX,f=e.pY,p=e.linePath,g=e.areaPath,m=e.linePaths,v=e.areaPaths,b=e.seriesIndex,y=e.isRangeStart,x=this.w,w=new _(this.ctx),k=x.config.stroke.curve,S=this.areaBottomY;if(Array.isArray(x.config.stroke.curve)&&(k=Array.isArray(b)?x.config.stroke.curve[b[r]]:x.config.stroke.curve[r]),"rangeArea"===t&&(x.globals.hasNullValues||x.config.forecastDataPoints.count>0)&&"monotoneCubic"===k&&(k="straight"),"monotoneCubic"===k){var C="rangeArea"===t?l.length===x.globals.dataPoints:a===n[r].length-2,A=l.map((function(e,t){return[l[t],c[t]]})).filter((function(e){return null!==e[1]}));if(C&&A.length>1){var P=Le(A);if(p+=je(P),null===n[r][0]?g=p:g+=je(P),"rangeArea"===t&&y){p+=w.line(l[l.length-1],u[u.length-1]);var E=l.slice().reverse(),T=u.slice().reverse(),N=E.map((function(e,t){return[E[t],T[t]]})),I=Le(N);g=p+=je(I)}else g+=w.line(A[A.length-1][0],S)+w.line(A[0][0],S)+w.move(A[0][0],A[0][1])+"z";m.push(p),v.push(g)}}else if("smooth"===k){var M=.35*(s-h);x.globals.hasNullValues?(null!==n[r][a]&&(null!==n[r][a+1]?(p=w.move(h,f)+w.curve(h+M,f,s-M,o,s+1,o),g=w.move(h+1,f)+w.curve(h+M,f,s-M,o,s+1,o)+w.line(s,S)+w.line(h,S)+"z"):(p=w.move(h,f),g=w.move(h,f)+"z")),m.push(p),v.push(g)):(p+=w.curve(h+M,f,s-M,o,s,o),g+=w.curve(h+M,f,s-M,o,s,o)),h=s,f=o,a===n[r].length-2&&(g=g+w.curve(h,f,s,o,s,S)+w.move(s,o)+"z","rangeArea"===t&&y?p=p+w.curve(h,f,s,o,s,d)+w.move(s,d)+"z":x.globals.hasNullValues||(m.push(p),v.push(g)))}else{if(null===n[r][a+1]){p+=w.move(s,o);var F=x.globals.isXNumeric?(x.globals.seriesX[i][a]-x.globals.minX)/this.xRatio:s-this.xDivision;g=g+w.line(F,S)+w.move(s,o)+"z"}null===n[r][a]&&(p+=w.move(s,o),g+=w.move(s,S)),"stepline"===k?(p=p+w.line(s,null,"H")+w.line(null,o,"V"),g=g+w.line(s,null,"H")+w.line(null,o,"V")):"straight"===k&&(p+=w.line(s,o),g+=w.line(s,o)),a===n[r].length-2&&(g=g+w.line(s,S)+w.move(s,o)+"z","rangeArea"===t&&y?p=p+w.line(s,d)+w.move(s,d)+"z":(m.push(p),v.push(g)))}return{linePaths:m,areaPaths:v,pX:h,pY:f,linePath:p,areaPath:g}}},{key:"handleNullDataPoints",value:function(e,t,n,r,i){var a=this.w;if(null===e[n][r]&&a.config.markers.showNullDataPoints||1===e[n].length){var s=this.markers.plotChartMarkers(t,i,r+1,this.strokeWidth-a.config.markers.strokeWidth/2,!0);null!==s&&this.elPointsMain.add(s)}}}]),e}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function e(t,n,r,i){this.xoffset=t,this.yoffset=n,this.height=i,this.width=r,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t,n=[],r=this.xoffset,i=this.yoffset,s=a(e)/this.height,o=a(e)/this.width;if(this.width>=this.height)for(t=0;t<e.length;t++)n.push([r,i,r+s,i+e[t]/s]),i+=e[t]/s;else for(t=0;t<e.length;t++)n.push([r,i,r+e[t]/o,i+o]),r+=e[t]/o;return n},this.cutArea=function(t){var n;if(this.width>=this.height){var r=t/this.height,i=this.width-r;n=new e(this.xoffset+r,this.yoffset,i,this.height)}else{var a=t/this.width,s=this.height-a;n=new e(this.xoffset,this.yoffset+a,this.width,s)}return n}}function t(t,r,i,s,o){s=void 0===s?0:s,o=void 0===o?0:o;var l=n(function(e,t){var n,r=[],i=t/a(e);for(n=0;n<e.length;n++)r[n]=e[n]*i;return r}(t,r*i),[],new e(s,o,r,i),[]);return function(e){var t,n,r=[];for(t=0;t<e.length;t++)for(n=0;n<e[t].length;n++)r.push(e[t][n]);return r}(l)}function n(e,t,i,s){var o,l,c;if(0!==e.length)return o=i.shortestEdge(),function(e,t,n){var i;return 0===e.length||((i=e.slice()).push(t),r(e,n)>=r(i,n))}(t,l=e[0],o)?(t.push(l),n(e.slice(1),t,i,s)):(c=i.cutArea(a(t),s),s.push(i.getCoordinates(t)),n(e,[],c,s)),s;s.push(i.getCoordinates(t))}function r(e,t){var n=Math.min.apply(Math,e),r=Math.max.apply(Math,e),i=a(e);return Math.max(Math.pow(t,2)*r/Math.pow(i,2),Math.pow(i,2)/(Math.pow(t,2)*n))}function i(e){return e&&e.constructor===Array}function a(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t];return n}function s(e){var t,n=0;if(i(e[0]))for(t=0;t<e.length;t++)n+=s(e[t]);else n=a(e);return n}return function e(n,r,a,o,l){o=void 0===o?0:o,l=void 0===l?0:l;var c,d,u=[],h=[];if(i(n[0])){for(d=0;d<n.length;d++)u[d]=s(n[d]);for(c=t(u,r,a,o,l),d=0;d<n.length;d++)h.push(e(n[d],c[d][2]-c[d][0],c[d][3]-c[d][1],c[d][0],c[d][1]))}else h=t(n,r,a,o,l);return h}}();var ze,Ge,Be=function(){function e(t,n){o(this,e),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Pe(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return c(e,[{key:"draw",value:function(e){var t=this,n=this.w,r=new _(this.ctx),i=new G(this.ctx),a=r.group({class:"apexcharts-treemap"});if(n.globals.noData)return a;var s=[];return e.forEach((function(e){var t=e.map((function(e){return Math.abs(e)}));s.push(t)})),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach((function(e,n){e.data.forEach((function(e){Array.isArray(t.labels[n])||(t.labels[n]=[]),t.labels[n].push(e.x)}))})),window.TreemapSquared.generate(s,n.globals.gridWidth,n.globals.gridHeight).forEach((function(s,o){var l=r.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:x.escapeString(n.globals.seriesNames[o]),rel:o+1,"data:realIndex":o});if(n.config.chart.dropShadow.enabled){var c=n.config.chart.dropShadow;new k(t.ctx).dropShadow(a,c,o)}var d=r.group({class:"apexcharts-data-labels"});s.forEach((function(a,s){var c=a[0],d=a[1],u=a[2],h=a[3],f=r.drawRect(c,d,u-c,h-d,n.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?g:n.globals.stroke.colors[o]);f.attr({cx:c,cy:d,index:o,i:o,j:s,width:u-c,height:h-d});var p=t.helpers.getShadeColor(n.config.chart.type,o,s,t.negRange),g=p.color;void 0!==n.config.series[o].data[s]&&n.config.series[o].data[s].fillColor&&(g=n.config.series[o].data[s].fillColor);var m=i.fillPath({color:g,seriesNumber:o,dataPointIndex:s});f.node.classList.add("apexcharts-treemap-rect"),f.attr({fill:m}),t.helpers.addListeners(f);var v={x:c+(u-c)/2,y:d+(h-d)/2,width:0,height:0},b={x:c,y:d,width:u-c,height:h-d};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var y=1;n.globals.resized||(y=n.config.chart.animations.speed),t.animateTreemap(f,v,b,y)}if(n.globals.dataChanged){var x=1;t.dynamicAnim.enabled&&n.globals.shouldAnimate&&(x=t.dynamicAnim.speed,n.globals.previousPaths[o]&&n.globals.previousPaths[o][s]&&n.globals.previousPaths[o][s].rect&&(v=n.globals.previousPaths[o][s].rect),t.animateTreemap(f,v,b,x))}var w=t.getFontSize(a),k=n.config.dataLabels.formatter(t.labels[o][s],{value:n.globals.series[o][s],seriesIndex:o,dataPointIndex:s,w:n});"truncate"===n.config.plotOptions.treemap.dataLabels.format&&(w=parseInt(n.config.dataLabels.style.fontSize,10),k=t.truncateLabels(k,w,c,d,u,h));var _=t.helpers.calculateDataLabels({text:k,x:(c+u)/2,y:(d+h)/2+t.strokeWidth/2+w/3,i:o,j:s,colorProps:p,fontSize:w,series:e});n.config.dataLabels.enabled&&_&&t.rotateToFitLabel(_,w,k,c,d,u,h),l.add(f),null!==_&&l.add(_)})),l.add(d),a.add(l)})),a}},{key:"getFontSize",value:function(e){var t,n,r=this.w,i=function e(t){var n,r=0;if(Array.isArray(t[0]))for(n=0;n<t.length;n++)r+=e(t[n]);else for(n=0;n<t.length;n++)r+=t[n].length;return r}(this.labels)/function e(t){var n,r=0;if(Array.isArray(t[0]))for(n=0;n<t.length;n++)r+=e(t[n]);else for(n=0;n<t.length;n++)r+=1;return r}(this.labels);return t=(e[2]-e[0])*(e[3]-e[1]),n=Math.pow(t,.5),Math.min(n/i,parseInt(r.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(e,t,n,r,i,a,s){var o=new _(this.ctx),l=o.getTextRects(n,t);if(l.width+this.w.config.stroke.width+5>a-r&&l.width<=s-i){var c=o.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(c.x," ").concat(c.y,") translate(").concat(l.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,n,r,i,a){var s=new _(this.ctx),o=s.getTextRects(e,t).width+this.w.config.stroke.width+5>i-n&&a-r>i-n?a-r:i-n,l=s.getTextBasedOnMaxWidth({text:e,maxWidth:o,fontSize:t});return e.length!==l.length&&o/t<5?"":l}},{key:"animateTreemap",value:function(e,t,n,r){var i=new w(this.ctx);i.animateRect(e,{x:t.x,y:t.y,width:t.width,height:t.height},{x:n.x,y:n.y,width:n.width,height:n.height},r,(function(){i.animationCompleted(e)}))}}]),e}(),Ue=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return c(e,[{key:"calculateTimeScaleTicks",value:function(e,t){var n=this,r=this.w;if(r.globals.allSeriesCollapsed)return r.globals.labels=[],r.globals.timescaleLabels=[],[];var i=new M(this.ctx),s=(t-e)/864e5;this.determineInterval(s),r.globals.disableZoomIn=!1,r.globals.disableZoomOut=!1,s<.00011574074074074075?r.globals.disableZoomIn=!0:s>5e4&&(r.globals.disableZoomOut=!0);var o=i.getTimeUnitsfromTimestamp(e,t,this.utc),l=r.globals.gridWidth/s,c=l/24,d=c/60,u=d/60,h=Math.floor(24*s),f=Math.floor(1440*s),p=Math.floor(86400*s),g=Math.floor(s),m=Math.floor(s/30),v=Math.floor(s/365),b={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},y={firstVal:b,currentMillisecond:b.minMillisecond,currentSecond:b.minSecond,currentMinute:b.minMinute,currentHour:b.minHour,currentMonthDate:b.minDate,currentDate:b.minDate,currentMonth:b.minMonth,currentYear:b.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:d,secondsWidthOnXAxis:u,numberOfSeconds:p,numberOfMinutes:f,numberOfHours:h,numberOfDays:g,numberOfMonths:m,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(y);break;case"months":case"half_year":this.generateMonthScale(y);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(y);break;case"hours":this.generateHourScale(y);break;case"minutes_fives":case"minutes":this.generateMinuteScale(y);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(y)}var x=this.timeScaleArray.map((function(e){var t={position:e.position,unit:e.unit,year:e.year,day:e.day?e.day:1,hour:e.hour?e.hour:0,month:e.month+1};return"month"===e.unit?a(a({},t),{},{day:1,value:e.value+1}):"day"===e.unit||"hour"===e.unit?a(a({},t),{},{value:e.value}):"minute"===e.unit?a(a({},t),{},{value:e.value,minute:e.value}):"second"===e.unit?a(a({},t),{},{value:e.value,minute:e.minute,second:e.second}):e}));return x.filter((function(e){var t=1,i=Math.ceil(r.globals.gridWidth/120),a=e.value;void 0!==r.config.xaxis.tickAmount&&(i=r.config.xaxis.tickAmount),x.length>i&&(t=Math.floor(x.length/i));var s=!1,o=!1;switch(n.tickInterval){case"years":"year"===e.unit&&(s=!0);break;case"half_year":t=7,"year"===e.unit&&(s=!0);break;case"months":t=1,"year"===e.unit&&(s=!0);break;case"months_fortnight":t=15,"year"!==e.unit&&"month"!==e.unit||(s=!0),30===a&&(o=!0);break;case"months_days":t=10,"month"===e.unit&&(s=!0),30===a&&(o=!0);break;case"week_days":t=8,"month"===e.unit&&(s=!0);break;case"days":t=1,"month"===e.unit&&(s=!0);break;case"hours":"day"===e.unit&&(s=!0);break;case"minutes_fives":case"seconds_fives":a%5!=0&&(o=!0);break;case"seconds_tens":a%10!=0&&(o=!0)}if("hours"===n.tickInterval||"minutes_fives"===n.tickInterval||"seconds_tens"===n.tickInterval||"seconds_fives"===n.tickInterval){if(!o)return!0}else if((a%t==0||s)&&!o)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var n=this.w,r=this.formatDates(e),i=this.removeOverlappingTS(r);n.globals.timescaleLabels=i.slice(),new de(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,n=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,n=e.currentMonth,r=e.currentYear,i=e.daysWidthOnXAxis,a=e.numberOfYears,s=t.minYear,o=0,l=new M(this.ctx),c="year";if(t.minDate>1||t.minMonth>0){var d=l.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);o=(l.determineDaysOfYear(t.minYear)-d+1)*i,s=t.minYear+1,this.timeScaleArray.push({position:o,value:s,unit:c,year:s,month:x.monthMod(n+1)})}else 1===t.minDate&&0===t.minMonth&&this.timeScaleArray.push({position:o,value:s,unit:c,year:r,month:x.monthMod(n+1)});for(var u=s,h=o,f=0;f<a;f++)u++,h=l.determineDaysOfYear(u-1)*i+h,this.timeScaleArray.push({position:h,value:u,unit:c,year:u,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,n=e.currentMonthDate,r=e.currentMonth,i=e.currentYear,a=e.daysWidthOnXAxis,s=e.numberOfMonths,o=r,l=0,c=new M(this.ctx),d="month",u=0;if(t.minDate>1){l=(c.determineDaysOfMonths(r+1,t.minYear)-n+1)*a,o=x.monthMod(r+1);var h=i+u,f=x.monthMod(o),p=o;0===o&&(d="year",p=h,f=1,h+=u+=1),this.timeScaleArray.push({position:l,value:p,unit:d,year:h,month:f})}else this.timeScaleArray.push({position:l,value:o,unit:d,year:i,month:x.monthMod(r)});for(var g=o+1,m=l,v=0,b=1;v<s;v++,b++){0===(g=x.monthMod(g))?(d="year",u+=1):d="month";var y=this._getYear(i,g,u);m=c.determineDaysOfMonths(g,y)*a+m;var w=0===g?y:g;this.timeScaleArray.push({position:m,value:w,unit:d,year:y,month:0===g?1:g}),g++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,n=e.currentMonth,r=e.currentYear,i=e.hoursWidthOnXAxis,a=e.numberOfDays,s=new M(this.ctx),o="day",l=t.minDate+1,c=l,d=function(e,t,n){return e>s.determineDaysOfMonths(t+1,n)?(c=1,o="month",h=t+=1,t):t},u=(24-t.minHour)*i,h=l,f=d(c,n,r);0===t.minHour&&1===t.minDate?(u=0,h=x.monthMod(t.minMonth),o="month",c=t.minDate):1!==t.minDate&&0===t.minHour&&0===t.minMinute&&(u=0,l=t.minDate,h=l,f=d(c=l,n,r)),this.timeScaleArray.push({position:u,value:h,unit:o,year:this._getYear(r,f,0),month:x.monthMod(f),day:c});for(var p=u,g=0;g<a;g++){o="day",f=d(c+=1,f,this._getYear(r,f,0));var m=this._getYear(r,f,0);p=24*i+p;var v=1===c?x.monthMod(f):c;this.timeScaleArray.push({position:p,value:v,unit:o,year:m,month:x.monthMod(f),day:v})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,n=e.currentDate,r=e.currentMonth,i=e.currentYear,a=e.minutesWidthOnXAxis,s=e.numberOfHours,o=new M(this.ctx),l="hour",c=function(e,t){return e>o.determineDaysOfMonths(t+1,i)&&(g=1,t+=1),{month:t,date:g}},d=function(e,t){return e>o.determineDaysOfMonths(t+1,i)?t+=1:t},u=60-(t.minMinute+t.minSecond/60),h=u*a,f=t.minHour+1,p=f;60===u&&(h=0,p=f=t.minHour);var g=n;p>=24&&(p=0,g+=1,l="day");var m=c(g,r).month;m=d(g,m),this.timeScaleArray.push({position:h,value:f,unit:l,day:g,hour:p,year:i,month:x.monthMod(m)}),p++;for(var v=h,b=0;b<s;b++){l="hour",p>=24&&(p=0,l="day",m=c(g+=1,m).month,m=d(g,m));var y=this._getYear(i,m,0);v=60*a+v;var w=0===p?g:p;this.timeScaleArray.push({position:v,value:w,unit:l,hour:p,day:g,year:y,month:x.monthMod(m)}),p++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,r=e.currentMinute,i=e.currentHour,a=e.currentDate,s=e.currentMonth,o=e.currentYear,l=e.minutesWidthOnXAxis,c=e.secondsWidthOnXAxis,d=e.numberOfMinutes,u=r+1,h=a,f=s,p=o,g=i,m=(60-n-t/1e3)*c,v=0;v<d;v++)u>=60&&(u=0,24===(g+=1)&&(g=0)),this.timeScaleArray.push({position:m,value:u,unit:"minute",hour:g,minute:u,day:h,year:this._getYear(p,f,0),month:x.monthMod(f)}),m+=l,u++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,r=e.currentMinute,i=e.currentHour,a=e.currentDate,s=e.currentMonth,o=e.currentYear,l=e.secondsWidthOnXAxis,c=e.numberOfSeconds,d=n+1,u=r,h=a,f=s,p=o,g=i,m=(1e3-t)/1e3*l,v=0;v<c;v++)d>=60&&(d=0,++u>=60&&(u=0,24===++g&&(g=0))),this.timeScaleArray.push({position:m,value:d,unit:"second",hour:g,minute:u,second:d,day:h,year:this._getYear(p,f,0),month:x.monthMod(f)}),m+=l,d++}},{key:"createRawDateString",value:function(e,t){var n=e.year;return 0===e.month&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),"day"===e.unit?n+="day"===e.unit?"-"+("0"+t).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),"hour"===e.unit?n+="hour"===e.unit?"T"+("0"+t).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),"minute"===e.unit?n+=":"+("0"+t).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),"second"===e.unit?n+=":"+("0"+t).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var t=this,n=this.w;return e.map((function(e){var r=e.value.toString(),i=new M(t.ctx),a=t.createRawDateString(e,r),s=i.getDate(i.parseDate(a));if(t.utc||(s=i.getDate(i.parseDateWithTimezone(a))),void 0===n.config.xaxis.labels.format){var o="dd MMM",l=n.config.xaxis.labels.datetimeFormatter;"year"===e.unit&&(o=l.year),"month"===e.unit&&(o=l.month),"day"===e.unit&&(o=l.day),"hour"===e.unit&&(o=l.hour),"minute"===e.unit&&(o=l.minute),"second"===e.unit&&(o=l.second),r=i.formatDate(s,o)}else r=i.formatDate(s,n.config.xaxis.labels.format);return{dateString:a,position:e.position,value:r,unit:e.unit,year:e.year,month:e.month}}))}},{key:"removeOverlappingTS",value:function(e){var t,n=this,r=new _(this.ctx),i=!1;e.length>0&&e[0].value&&e.every((function(t){return t.value.length===e[0].value.length}))&&(i=!0,t=r.getTextRects(e[0].value).width);var a=0,s=e.map((function(s,o){if(o>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var l=i?t:r.getTextRects(e[a].value).width,c=e[a].position;return s.position>c+l+10?(a=o,s):null}return s}));return s.filter((function(e){return null!==e}))}},{key:"_getYear",value:function(e,t,n){return e+Math.floor(t/12)+n}}]),e}(),We=function(){function e(t,n){o(this,e),this.ctx=n,this.w=n.w,this.el=t}return c(e,[{key:"setupElements",value:function(){var e=this.w.globals,t=this.w.config,n=t.chart.type;e.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(n)>-1,e.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(n)>-1,e.isBarHorizontal=("bar"===t.chart.type||"rangeBar"===t.chart.type||"boxPlot"===t.chart.type)&&t.plotOptions.bar.horizontal,e.chartClass=".apexcharts"+e.chartID,e.dom.baseEl=this.el,e.dom.elWrap=document.createElement("div"),_.setAttrs(e.dom.elWrap,{id:e.chartClass.substring(1),class:"apexcharts-canvas "+e.chartClass.substring(1)}),this.el.appendChild(e.dom.elWrap),e.dom.Paper=new window.SVG.Doc(e.dom.elWrap),e.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(t.chart.offsetX,", ").concat(t.chart.offsetY,")")}),e.dom.Paper.node.style.background="dark"!==t.theme.mode||t.chart.background?t.chart.background:"rgba(0, 0, 0, 0.8)",this.setSVGDimensions(),e.dom.elLegendForeign=document.createElementNS(e.SVGNS,"foreignObject"),_.setAttrs(e.dom.elLegendForeign,{x:0,y:0,width:e.svgWidth,height:e.svgHeight}),e.dom.elLegendWrap=document.createElement("div"),e.dom.elLegendWrap.classList.add("apexcharts-legend"),e.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.dom.elLegendForeign.appendChild(e.dom.elLegendWrap),e.dom.Paper.node.appendChild(e.dom.elLegendForeign),e.dom.elGraphical=e.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),e.dom.elDefs=e.dom.Paper.defs(),e.dom.Paper.add(e.dom.elGraphical),e.dom.elGraphical.add(e.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var n=this.w,r=n.config,i=n.globals,a={series:[],i:[]},s={series:[],i:[]},o={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},d={series:[],i:[]},u={series:[],i:[]},h={series:[],i:[]},f={series:[],seriesRangeEnd:[],i:[]};i.series.map((function(t,p){var g=0;void 0!==e[p].type?("column"===e[p].type||"bar"===e[p].type?(i.series.length>1&&r.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),c.series.push(t),c.i.push(p),g++,n.globals.columnSeries=c.series):"area"===e[p].type?(s.series.push(t),s.i.push(p),g++):"line"===e[p].type?(a.series.push(t),a.i.push(p),g++):"scatter"===e[p].type?(o.series.push(t),o.i.push(p)):"bubble"===e[p].type?(l.series.push(t),l.i.push(p),g++):"candlestick"===e[p].type?(d.series.push(t),d.i.push(p),g++):"boxPlot"===e[p].type?(u.series.push(t),u.i.push(p),g++):"rangeBar"===e[p].type?(h.series.push(t),h.i.push(p),g++):"rangeArea"===e[p].type?(f.series.push(i.seriesRangeStart[p]),f.seriesRangeEnd.push(i.seriesRangeEnd[p]),f.i.push(p),g++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),g>1&&(i.comboCharts=!0)):(a.series.push(t),a.i.push(p))}));var p=new Oe(this.ctx,t),g=new Ae(this.ctx,t);this.ctx.pie=new Ne(this.ctx);var m=new Me(this.ctx);this.ctx.rangeBar=new Fe(this.ctx,t);var v=new Ie(this.ctx),b=[];if(i.comboCharts){if(s.series.length>0&&b.push(p.draw(s.series,"area",s.i)),c.series.length>0)if(n.config.chart.stacked){var y=new Ce(this.ctx,t);b.push(y.draw(c.series,c.i))}else this.ctx.bar=new Se(this.ctx,t),b.push(this.ctx.bar.draw(c.series,c.i));if(f.series.length>0&&b.push(p.draw(f.series,"rangeArea",f.i,f.seriesRangeEnd)),a.series.length>0&&b.push(p.draw(a.series,"line",a.i)),d.series.length>0&&b.push(g.draw(d.series,"candlestick",d.i)),u.series.length>0&&b.push(g.draw(u.series,"boxPlot",u.i)),h.series.length>0&&b.push(this.ctx.rangeBar.draw(h.series,h.i)),o.series.length>0){var x=new Oe(this.ctx,t,!0);b.push(x.draw(o.series,"scatter",o.i))}if(l.series.length>0){var w=new Oe(this.ctx,t,!0);b.push(w.draw(l.series,"bubble",l.i))}}else switch(r.chart.type){case"line":b=p.draw(i.series,"line");break;case"area":b=p.draw(i.series,"area");break;case"bar":r.chart.stacked?b=new Ce(this.ctx,t).draw(i.series):(this.ctx.bar=new Se(this.ctx,t),b=this.ctx.bar.draw(i.series));break;case"candlestick":b=new Ae(this.ctx,t).draw(i.series,"candlestick");break;case"boxPlot":b=new Ae(this.ctx,t).draw(i.series,r.chart.type);break;case"rangeBar":b=this.ctx.rangeBar.draw(i.series);break;case"rangeArea":b=p.draw(i.seriesRangeStart,"rangeArea",void 0,i.seriesRangeEnd);break;case"heatmap":b=new Ee(this.ctx,t).draw(i.series);break;case"treemap":b=new Be(this.ctx,t).draw(i.series);break;case"pie":case"donut":case"polarArea":b=this.ctx.pie.draw(i.series);break;case"radialBar":b=m.draw(i.series);break;case"radar":b=v.draw(i.series);break;default:b=p.draw(i.series)}return b}},{key:"setSVGDimensions",value:function(){var e=this.w.globals,t=this.w.config;e.svgWidth=t.chart.width,e.svgHeight=t.chart.height;var n=x.getDimensions(this.el),r=t.chart.width.toString().split(/[0-9]+/g).pop();"%"===r?x.isNumber(n[0])&&(0===n[0].width&&(n=x.getDimensions(this.el.parentNode)),e.svgWidth=n[0]*parseInt(t.chart.width,10)/100):"px"!==r&&""!==r||(e.svgWidth=parseInt(t.chart.width,10));var i=t.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==e.svgHeight&&""!==e.svgHeight)if("%"===i){var a=x.getDimensions(this.el.parentNode);e.svgHeight=a[1]*parseInt(t.chart.height,10)/100}else e.svgHeight=parseInt(t.chart.height,10);else e.axisCharts?e.svgHeight=e.svgWidth/1.61:e.svgHeight=e.svgWidth/1.2;if(e.svgWidth<0&&(e.svgWidth=0),e.svgHeight<0&&(e.svgHeight=0),_.setAttrs(e.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),"%"!==i){var s=t.chart.sparkline.enabled?0:e.axisCharts?t.chart.parentHeightOffset:0;e.dom.Paper.node.parentNode.parentNode.style.minHeight=e.svgHeight+s+"px"}e.dom.elWrap.style.width=e.svgWidth+"px",e.dom.elWrap.style.height=e.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,n={transform:"translate("+e.translateX+", "+t+")"};_.setAttrs(e.dom.elGraphical.node,n)}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=0,r=e.config.chart.sparkline.enabled?1:15;r+=e.config.grid.padding.bottom,"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||!e.config.legend.show||e.config.legend.floating||(n=new he(this.ctx).legendHelpers.getLegendBBox().clwh+10);var i=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*e.globals.radialSize;if(i&&!e.config.chart.sparkline.enabled&&0!==e.config.plotOptions.radialBar.startAngle){var s=x.getBoundingClientRect(i);a=s.bottom;var o=s.bottom-s.top;a=Math.max(2.05*e.globals.radialSize,o)}var l=a+t.translateY+n+r;t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",l),e.config.chart.height&&String(e.config.chart.height).indexOf("%")>0||(t.dom.elWrap.style.height=l+"px",_.setAttrs(t.dom.Paper.node,{height:l}),t.dom.Paper.node.parentNode.parentNode.style.minHeight=l+"px")}},{key:"coreCalculations",value:function(){new J(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map((function(e){return[]}))},n=new O,r=this.w.globals;n.initGlobalVars(r),r.seriesXvalues=t(),r.seriesYvalues=t()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var e=null,t=this.w;if(t.globals.axisCharts){if("back"===t.config.xaxis.crosshairs.position&&new ne(this.ctx).drawXCrosshairs(),"back"===t.config.yaxis[0].crosshairs.position&&new ne(this.ctx).drawYCrosshairs(),"datetime"===t.config.xaxis.type&&void 0===t.config.xaxis.labels.formatter){this.ctx.timeScale=new Ue(this.ctx);var n=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}e=new S(this.ctx).getCalculatedRatios()}return e}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.w;if(t.config.chart.brush.enabled&&"function"!=typeof t.config.chart.events.selection){var n=Array.isArray(t.config.chart.brush.targets)?t.config.chart.brush.targets:[t.config.chart.brush.target];n.forEach((function(t){var n=ApexCharts.getChartByID(t);n.w.globals.brushSource=e.ctx,"function"!=typeof n.w.config.chart.events.zoomed&&(n.w.config.chart.events.zoomed=function(){e.updateSourceChart(n)}),"function"!=typeof n.w.config.chart.events.scrolled&&(n.w.config.chart.events.scrolled=function(){e.updateSourceChart(n)})})),t.config.chart.events.selection=function(e,t){n.forEach((function(e){ApexCharts.getChartByID(e).ctx.updateHelpers._updateOptions({xaxis:{min:t.xaxis.min,max:t.xaxis.max}},!1,!1,!1,!1)}))}}}}]),e}(),He=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"_updateOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(o){var l=[t.ctx];i&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach((function(i,c){var d=i.w;if(d.globals.shouldAnimate=r,n||(d.globals.resized=!0,d.globals.dataChanged=!0,r&&i.series.getPreviousPaths()),e&&"object"===s(e)&&(i.config=new D(e),e=S.extendArrayProps(i.config,e,d),i.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,d.config=x.extend(d.config,e),a&&(d.globals.lastXAxis=e.xaxis?x.clone(e.xaxis):[],d.globals.lastYAxis=e.yaxis?x.clone(e.yaxis):[],d.globals.initialConfig=x.extend({},d.config),d.globals.initialSeries=x.clone(d.config.series),e.series))){for(var u=0;u<d.globals.collapsedSeriesIndices.length;u++){var h=d.config.series[d.globals.collapsedSeriesIndices[u]];d.globals.collapsedSeries[u].data=d.globals.axisCharts?h.data.slice():h}for(var f=0;f<d.globals.ancillaryCollapsedSeriesIndices.length;f++){var p=d.config.series[d.globals.ancillaryCollapsedSeriesIndices[f]];d.globals.ancillaryCollapsedSeries[f].data=d.globals.axisCharts?p.data.slice():p}i.series.emptyCollapsedSeries(d.config.series)}return i.update(e).then((function(){c===l.length-1&&o(i)}))}))}))}},{key:"_updateSeries",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i){var a,s=n.w;return s.globals.shouldAnimate=t,s.globals.dataChanged=!0,t&&n.ctx.series.getPreviousPaths(),s.globals.axisCharts?(0===(a=e.map((function(e,t){return n._extendSeries(e,t)}))).length&&(a=[{data:[]}]),s.config.series=a):s.config.series=e.slice(),r&&(s.globals.initialConfig.series=x.clone(s.config.series),s.globals.initialSeries=x.clone(s.config.series)),n.ctx.update().then((function(){i(n.ctx)}))}))}},{key:"_extendSeries",value:function(e,t){var n=this.w,r=n.config.series[t];return a(a({},n.config.series[t]),{},{name:e.name?e.name:null==r?void 0:r.name,color:e.color?e.color:null==r?void 0:r.color,type:e.type?e.type:null==r?void 0:r.type,group:e.group?e.group:null==r?void 0:r.group,data:e.data?e.data:null==r?void 0:r.data,zIndex:void 0!==e.zIndex?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var n=this.w,r=null,i=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?r=n.globals.dom.Paper.select("".concat(i," path[j='").concat(t,"'], ").concat(i," circle[j='").concat(t,"'], ").concat(i," rect[j='").concat(t,"']")).members[0]:void 0===t&&(r=n.globals.dom.Paper.select("".concat(i," path[j='").concat(e,"']")).members[0],"pie"!==n.config.chart.type&&"polarArea"!==n.config.chart.type&&"donut"!==n.config.chart.type||this.ctx.pie.pieClicked(e)),r?(new _(this.ctx).pathMouseDown(r,null),r.node?r.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach((function(n){void 0!==e.xaxis[n]&&(t.config.xaxis[n]=e.xaxis[n],t.globals.lastXAxis[n]=e.xaxis[n])})),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var n=new L(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&"100%"===e.chart.stackType&&(Array.isArray(e.yaxis)?e.yaxis.forEach((function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100})):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,n=this.w,r=n.globals.lastXAxis,i=n.globals.lastYAxis;e&&e.xaxis&&(r=e.xaxis),e&&e.yaxis&&(i=e.yaxis),n.config.xaxis.min=r.min,n.config.xaxis.max=r.max;n.config.yaxis.map((function(e,r){n.globals.zoomed||void 0!==i[r]?function(e){void 0!==i[e]&&(n.config.yaxis[e].min=i[e].min,n.config.yaxis[e].max=i[e].max)}(r):void 0!==t.ctx.opts.yaxis[r]&&(e.min=t.ctx.opts.yaxis[r].min,e.max=t.ctx.opts.yaxis[r].max)}))}}]),e}();ze="undefined"!=typeof window?window:void 0,Ge=function(e,t){var n=(void 0!==this?this:e).SVG=function(e){if(n.supported)return e=new n.Doc(e),n.parser.draw||n.prepare(),e};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.dev",n.supported=!0,!n.supported)return!1;n.did=1e3,n.eid=function(e){return"Svgjs"+u(e)+n.did++},n.create=function(e){var n=t.createElementNS(this.ns,e);return n.setAttribute("id",this.eid(e)),n},n.extend=function(){var e,t;t=(e=[].slice.call(arguments)).pop();for(var r=e.length-1;r>=0;r--)if(e[r])for(var i in t)e[r].prototype[i]=t[i];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,n.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&n.extend(t,e.extend),e.construct&&n.extend(e.parent||n.Container,e.construct),t},n.adopt=function(t){return t?t.instance?t.instance:((r="svg"==t.nodeName?t.parentNode instanceof e.SVGElement?new n.Nested:new n.Doc:"linearGradient"==t.nodeName?new n.Gradient("linear"):"radialGradient"==t.nodeName?new n.Gradient("radial"):n[u(t.nodeName)]?new(n[u(t.nodeName)]):new n.Element(t)).type=t.nodeName,r.node=t,t.instance=r,r instanceof n.Doc&&r.namespace().defs(),r.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),r):null;var r},n.prepare=function(){var e=t.getElementsByTagName("body")[0],r=(e?new n.Doc(e):n.adopt(t.documentElement).nested()).size(2,0);n.parser={body:e||t.documentElement,draw:r.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:r.polyline().node,path:r.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},t.addEventListener("DOMContentLoaded",(function(){n.parser.draw||n.prepare()}),!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(e,t){for(var n=e.length,r=[],i=0;i<n;i++)r.push(t(e[i]));return r},filter:function(e,t){for(var n=e.length,r=[],i=0;i<n;i++)t(e[i])&&r.push(e[i]);return r},filterSVGElements:function(t){return this.filter(t,(function(t){return t instanceof e.SVGElement}))}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(e){var t,r;this.r=0,this.g=0,this.b=0,e&&("string"==typeof e?n.regex.isRgb.test(e)?(t=n.regex.rgb.exec(e.replace(n.regex.whitespace,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):n.regex.isHex.test(e)&&(t=n.regex.hex.exec(4==(r=e).length?["#",r.substring(1,2),r.substring(1,2),r.substring(2,3),r.substring(2,3),r.substring(3,4),r.substring(3,4)].join(""):r),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):"object"===s(e)&&(this.r=e.r,this.g=e.g,this.b=e.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+h(this.r)+h(this.g)+h(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new n.Color(e),this},at:function(e){return this.destination?(e=e<0?0:e>1?1:e,new n.Color({r:~~(this.r+(this.destination.r-this.r)*e),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)})):this}}),n.Color.test=function(e){return e+="",n.regex.isHex.test(e)||n.regex.isRgb.test(e)},n.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},n.Color.isColor=function(e){return n.Color.isRgb(e)||n.Color.test(e)},n.Array=function(e,t){0==(e=(e||[]).valueOf()).length&&t&&(e=t.valueOf()),this.value=this.parse(e)},n.extend(n.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)}}),n.PointArray=function(e,t){n.Array.call(this,e,t||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray;for(var r={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]}},i="mlhvqtcsaz".split(""),a=0,o=i.length;a<o;++a)r[i[a]]=function(e){return function(t,n,i){if("H"==e)t[0]=t[0]+n.x;else if("V"==e)t[0]=t[0]+n.y;else if("A"==e)t[5]=t[5]+n.x,t[6]=t[6]+n.y;else for(var a=0,s=t.length;a<s;++a)t[a]=t[a]+(a%2?n.y:n.x);if(r&&"function"==typeof r[e])return r[e](t,n,i)}}(i[a].toUpperCase());n.PathArray=function(e,t){n.Array.call(this,e,t||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return function(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t][0],null!=e[t][1]&&(r+=e[t][1],null!=e[t][2]&&(r+=" ",r+=e[t][2],null!=e[t][3]&&(r+=" ",r+=e[t][3],r+=" ",r+=e[t][4],null!=e[t][5]&&(r+=" ",r+=e[t][5],r+=" ",r+=e[t][6],null!=e[t][7]&&(r+=" ",r+=e[t][7])))));return r+" "}(this.value)},move:function(e,t){var n=this.bbox();return n.x,n.y,this},at:function(e){if(!this.destination)return this;for(var t=this.value,r=this.destination.value,i=[],a=new n.PathArray,s=0,o=t.length;s<o;s++){i[s]=[t[s][0]];for(var l=1,c=t[s].length;l<c;l++)i[s][l]=t[s][l]+(r[s][l]-t[s][l])*e;"A"===i[s][0]&&(i[s][4]=+(0!=i[s][4]),i[s][5]=+(0!=i[s][5]))}return a.value=i,a},parse:function(e){if(e instanceof n.PathArray)return e.valueOf();var t,i={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(n.regex.numbersWithDots,c).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):e.reduce((function(e,t){return[].concat.call(e,t)}),[]);var a=[],s=new n.Point,o=new n.Point,l=0,d=e.length;do{n.regex.isPathLetter.test(e[l])?(t=e[l],++l):"M"==t?t="L":"m"==t&&(t="l"),a.push(r[t].call(null,e.slice(l,l+=i[t.toUpperCase()]).map(parseFloat),s,o))}while(d>l);return a},bbox:function(){return n.parser.draw||n.prepare(),n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(e,t){this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(n.regex.numberAndUnit))&&(this.value=parseFloat(t[1]),"%"==t[5]?this.value/=100:"s"==t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof n.Number&&(this.value=e.valueOf(),this.unit=e.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(e){return e=new n.Number(e),new n.Number(this+e,this.unit||e.unit)},minus:function(e){return e=new n.Number(e),new n.Number(this-e,this.unit||e.unit)},times:function(e){return e=new n.Number(e),new n.Number(this*e,this.unit||e.unit)},divide:function(e){return e=new n.Number(e),new n.Number(this/e,this.unit||e.unit)},to:function(e){var t=new n.Number(this);return"string"==typeof e&&(t.unit=e),t},morph:function(e){return this.destination=new n.Number(e),e.relative&&(this.destination.value+=this.value),this},at:function(e){return this.destination?new n.Number(this.destination).minus(this).times(e).plus(this):this}}}),n.Element=n.invent({create:function(e){this._stroke=n.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=e)&&(this.type=e.nodeName,this.node.instance=this,this._stroke=e.getAttribute("stroke")||this._stroke)},extend:{x:function(e){return this.attr("x",e)},y:function(e){return this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var r=f(this,e,t);return this.width(new n.Number(r.width)).height(new n.Number(r.height))},clone:function(e){this.writeDataToDom();var t=m(this.node.cloneNode(!0));return e?e.add(t):this.after(t),t},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},id:function(e){return this.attr("id",e)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(n.regex.delimiter)},hasClass:function(e){return-1!=this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter((function(t){return t!=e})).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},reference:function(e){return n.get(this.attr(e))},parent:function(t){var r=this;if(!r.node.parentNode)return null;if(r=n.adopt(r.node.parentNode),!t)return r;for(;r&&r.node instanceof e.SVGElement;){if("string"==typeof t?r.matches(t):r instanceof t)return r;if(!r.node.parentNode||"#document"==r.node.parentNode.nodeName)return null;r=n.adopt(r.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(e){var t=[],n=this;do{if(!(n=n.parent(e))||!n.node)break;t.push(n)}while(n.parent);return t},matches:function(e){return function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}(this.node,e)},native:function(){return this.node},svg:function(e){var r=t.createElement("svg");if(!(e&&this instanceof n.Parent))return r.appendChild(e=t.createElement("svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),r.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");r.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var i=0,a=r.firstChild.childNodes.length;i<a;i++)this.node.appendChild(r.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(e){return this.dom=e,this},is:function(e){return function(e,t){return e instanceof t}(this,e)}}}),n.easing={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)}},n.morph=function(e){return function(t,r){return new n.MorphObj(t,r).at(e)}},n.Situation=n.invent({create:function(e){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(e.duration).valueOf(),this.delay=new n.Number(e.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=e.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(e){this._target=e,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(e,t,r){"object"===s(e)&&(t=e.ease,r=e.delay,e=e.duration);var i=new n.Situation({duration:e||1e3,delay:r||0,ease:n.easing[t||"-"]||t});return this.queue(i),this},target:function(e){return e&&e instanceof n.Element?(this._target=e,this):this._target},timeToAbsPos:function(e){return(e-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(e){return this.situation.duration/this._speed*e+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=e.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){e.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(e){return("function"==typeof e||e instanceof n.Situation)&&this.situations.push(e),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var e,t=this.situation;if(t.init)return this;for(var r in t.animations){e=this.target()[r](),Array.isArray(e)||(e=[e]),Array.isArray(t.animations[r])||(t.animations[r]=[t.animations[r]]);for(var i=e.length;i--;)t.animations[r][i]instanceof n.Number&&(e[i]=new n.Number(e[i])),t.animations[r][i]=e[i].morph(t.animations[r][i])}for(var r in t.attrs)t.attrs[r]=new n.MorphObj(this.target().attr(r),t.attrs[r]);for(var r in t.styles)t.styles[r]=new n.MorphObj(this.target().style(r),t.styles[r]);return t.initialTransformation=this.target().matrixify(),t.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(e,t){var n=this.active;return this.active=!1,t&&this.clearQueue(),e&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(e){var t=this.last();return this.target().on("finished.fx",(function n(r){r.detail.situation==t&&(e.call(this,t),this.off("finished.fx",n))})),this._callStart()},during:function(e){var t=this.last(),r=function(r){r.detail.situation==t&&e.call(this,r.detail.pos,n.morph(r.detail.pos),r.detail.eased,t)};return this.target().off("during.fx",r).on("during.fx",r),this.after((function(){this.off("during.fx",r)})),this._callStart()},afterAll:function(e){var t=function t(n){e.call(this),this.off("allfinished.fx",t)};return this.target().off("allfinished.fx",t).on("allfinished.fx",t),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(e,t,n){return this.last()[n||"animations"][e]=t,this._callStart()},step:function(e){var t,n,r;e||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(t=Math.max(this.absPos,0),n=Math.floor(t),!0===this.situation.loops||n<this.situation.loops?(this.pos=t-n,r=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,r=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-r)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var i=this.situation.ease(this.pos);for(var a in this.situation.once)a>this.lastPos&&a<=i&&(this.situation.once[a].call(this.target(),this.pos,i),delete this.situation.once[a]);return this.active&&this.target().fire("during",{pos:this.pos,eased:i,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=i,this):this},eachAt:function(){var e,t=this,r=this.target(),i=this.situation;for(var a in i.animations)e=[].concat(i.animations[a]).map((function(e){return"string"!=typeof e&&e.at?e.at(i.ease(t.pos),t.pos):e})),r[a].apply(r,e);for(var a in i.attrs)e=[a].concat(i.attrs[a]).map((function(e){return"string"!=typeof e&&e.at?e.at(i.ease(t.pos),t.pos):e})),r.attr.apply(r,e);for(var a in i.styles)e=[a].concat(i.styles[a]).map((function(e){return"string"!=typeof e&&e.at?e.at(i.ease(t.pos),t.pos):e})),r.style.apply(r,e);if(i.transforms.length){e=i.initialTransformation,a=0;for(var s=i.transforms.length;a<s;a++){var o=i.transforms[a];o instanceof n.Matrix?e=o.relative?e.multiply((new n.Matrix).morph(o).at(i.ease(this.pos))):e.morph(o).at(i.ease(this.pos)):(o.relative||o.undo(e.extract()),e=e.multiply(o.at(i.ease(this.pos))))}r.matrix(e)}return this},once:function(e,t,n){var r=this.last();return n||(e=r.ease(e)),r.once[e]=t,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(e,t,r){return(this.fx||(this.fx=new n.FX(this))).animate(e,t,r)},delay:function(e){return(this.fx||(this.fx=new n.FX(this))).delay(e)},stop:function(e,t){return this.fx&&this.fx.stop(e,t),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),n.MorphObj=n.invent({create:function(e,t){return n.Color.isColor(t)?new n.Color(e).morph(t):n.regex.delimiter.test(e)?n.regex.pathLetters.test(e)?new n.PathArray(e).morph(t):new n.Array(e).morph(t):n.regex.numberAndUnit.test(t)?new n.Number(e).morph(t):(this.value=e,void(this.destination=t))},extend:{at:function(e,t){return t<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(e,t,n){if("object"===s(e))for(var r in e)this.attr(r,e[r]);else this.add(e,t,"attrs");return this},plot:function(e,t,n,r){return 4==arguments.length?this.plot([e,t,n,r]):this.add("plot",new(this.target().morphArray)(e))}}),n.Box=n.invent({create:function(e,t,r,i){if(!("object"!==s(e)||e instanceof n.Element))return n.Box.call(this,null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height);var a;4==arguments.length&&(this.x=e,this.y=t,this.width=r,this.height=i),null==(a=this).x&&(a.x=0,a.y=0,a.width=0,a.height=0),a.w=a.width,a.h=a.height,a.x2=a.x+a.width,a.y2=a.y+a.height,a.cx=a.x+a.width/2,a.cy=a.y+a.height/2}}),n.BBox=n.invent({create:function(e){if(n.Box.apply(this,[].slice.call(arguments)),e instanceof n.Element){var r;try{if(!t.documentElement.contains){for(var i=e.node;i.parentNode;)i=i.parentNode;if(i!=t)throw new Error("Element not in the dom")}r=e.node.getBBox()}catch(t){if(e instanceof n.Shape){n.parser.draw||n.prepare();var a=e.clone(n.parser.draw.instance).show();a&&a.node&&"function"==typeof a.node.getBBox&&(r=a.node.getBBox()),a&&"function"==typeof a.remove&&a.remove()}else r={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}n.Box.call(this,r)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.Matrix=n.invent({create:function(e){var t=g([1,0,0,1,0,0]);e=null===e?t:e instanceof n.Element?e.matrixify():"string"==typeof e?g(e.split(n.regex.delimiter).map(parseFloat)):6==arguments.length?g([].slice.call(arguments)):Array.isArray(e)?g(e):e&&"object"===s(e)?e:t;for(var r=b.length-1;r>=0;--r)this[b[r]]=null!=e[b[r]]?e[b[r]]:t[b[r]]},extend:{extract:function(){var e=p(this,0,1);p(this,1,0);var t=180/Math.PI*Math.atan2(e.y,e.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(t*Math.PI/180)+this.f*Math.sin(t*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(t*Math.PI/180)+this.e*Math.sin(-t*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(e){return this.destination=new n.Matrix(e),this},multiply:function(e){return new n.Matrix(this.native().multiply(function(e){return e instanceof n.Matrix||(e=new n.Matrix(e)),e}(e).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(e,t){return new n.Matrix(this.native().translate(e||0,t||0))},native:function(){for(var e=n.parser.native.createSVGMatrix(),t=b.length-1;t>=0;t--)e[b[t]]=this[b[t]];return e},toString:function(){return"matrix("+v(this.a)+","+v(this.b)+","+v(this.c)+","+v(this.d)+","+v(this.e)+","+v(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new n.Matrix(t)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(e,t){var n;n=Array.isArray(e)?{x:e[0],y:e[1]}:"object"===s(e)?{x:e.x,y:e.y}:null!=e?{x:e,y:null!=t?t:e}:{x:0,y:0},this.x=n.x,this.y=n.y},extend:{clone:function(){return new n.Point(this)},morph:function(e,t){return this.destination=new n.Point(e,t),this}}}),n.extend(n.Element,{point:function(e,t){return new n.Point(e,t).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(e,t,r){if(null==e){for(e={},r=(t=this.node.attributes).length-1;r>=0;r--)e[t[r].nodeName]=n.regex.isNumber.test(t[r].nodeValue)?parseFloat(t[r].nodeValue):t[r].nodeValue;return e}if("object"===s(e))for(var i in e)this.attr(i,e[i]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?n.defaults.attrs[e]:n.regex.isNumber.test(t)?parseFloat(t):t;"stroke-width"==e?this.attr("stroke",parseFloat(t)>0?this._stroke:null):"stroke"==e&&(this._stroke=t),"fill"!=e&&"stroke"!=e||(n.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof n.Image&&(t=this.doc().defs().pattern(0,0,(function(){this.add(t)})))),"number"==typeof t?t=new n.Number(t):n.Color.isColor(t)?t=new n.Color(t):Array.isArray(t)&&(t=new n.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"==typeof r?this.node.setAttributeNS(r,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!=e&&"x"!=e||this.rebuild(e,t)}return this}}),n.extend(n.Element,{transform:function(e,t){var r;return"object"!==s(e)?(r=new n.Matrix(this).extract(),"string"==typeof e?r[e]:r):(r=new n.Matrix(this),t=!!t||!!e.relative,null!=e.a&&(r=t?r.multiply(new n.Matrix(e)):new n.Matrix(e)),this.attr("transform",r))}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map((function(e){var t=e.trim().split("(");return[t[0],t[1].split(n.regex.delimiter).map((function(e){return parseFloat(e)}))]})).reduce((function(e,t){return"matrix"==t[0]?e.multiply(g(t[1])):e[t[0]].apply(e,t[1])}),new n.Matrix)},toParent:function(e){if(this==e)return this;var t=this.screenCTM(),n=e.screenCTM().inverse();return this.addTo(e).untransform().transform(n.multiply(t)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(e,t){if(arguments.length>1&&"boolean"!=typeof t)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(e))for(var n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=e[n];else if(e&&"object"===s(e))for(n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=e[this.arguments[n]];this.inversed=!1,!0===t&&(this.inversed=!0)}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.extend(n.Element,{style:function(e,t){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===s(e))for(var r in e)this.style(r,e[r]);else{if(!n.regex.isCss.test(e))return this.node.style[d(e)];for(e=e.split(/\s*;\s*/).filter((function(e){return!!e})).map((function(e){return e.split(/\s*:\s*/)}));t=e.pop();)this.style(t[0],t[1])}else this.node.style[d(e)]=null===t||n.regex.isBlank.test(t)?"":t;return this}}),n.Parent=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),(function(e){return n.adopt(e)}))},add:function(e,t){return null==t?this.node.appendChild(e.node):e.node!=this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)},get:function(e){return n.adopt(this.node.childNodes[e])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(e,t){for(var r=this.children(),i=0,a=r.length;i<a;i++)r[i]instanceof n.Element&&e.apply(r[i],[i,r]),t&&r[i]instanceof n.Container&&r[i].each(e,t);return this},removeElement:function(e){return this.node.removeChild(e.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(e,t){return 0===t||this instanceof n.Defs||this.node==n.parser.draw||(e=e||(this instanceof n.Doc?this:this.parent(n.Parent)),t=t||1/0,this.each((function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(e,t-1):this.toParent(e)})),this.node.firstChild||this.remove()),this},flatten:function(e,t){return this.ungroup(e,t)}}),n.Container=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Parent}),n.ViewBox=n.invent({parent:n.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(e){n.Element.prototype[e]=function(t){return n.on(this.node,e,t),this}})),n.listeners=[],n.handlerMap=[],n.listenerId=0,n.on=function(e,t,r,i,a){var s=r.bind(i||e.instance||e),o=(n.handlerMap.indexOf(e)+1||n.handlerMap.push(e))-1,l=t.split(".")[0],c=t.split(".")[1]||"*";n.listeners[o]=n.listeners[o]||{},n.listeners[o][l]=n.listeners[o][l]||{},n.listeners[o][l][c]=n.listeners[o][l][c]||{},r._svgjsListenerId||(r._svgjsListenerId=++n.listenerId),n.listeners[o][l][c][r._svgjsListenerId]=s,e.addEventListener(l,s,a||{passive:!0})},n.off=function(e,t,r){var i=n.handlerMap.indexOf(e),a=t&&t.split(".")[0],s=t&&t.split(".")[1],o="";if(-1!=i)if(r){if("function"==typeof r&&(r=r._svgjsListenerId),!r)return;n.listeners[i][a]&&n.listeners[i][a][s||"*"]&&(e.removeEventListener(a,n.listeners[i][a][s||"*"][r],!1),delete n.listeners[i][a][s||"*"][r])}else if(s&&a){if(n.listeners[i][a]&&n.listeners[i][a][s]){for(var l in n.listeners[i][a][s])n.off(e,[a,s].join("."),l);delete n.listeners[i][a][s]}}else if(s)for(var c in n.listeners[i])for(var o in n.listeners[i][c])s===o&&n.off(e,[c,s].join("."));else if(a){if(n.listeners[i][a]){for(var o in n.listeners[i][a])n.off(e,[a,o].join("."));delete n.listeners[i][a]}}else{for(var c in n.listeners[i])n.off(e,c);delete n.listeners[i],delete n.handlerMap[i]}},n.extend(n.Element,{on:function(e,t,r,i){return n.on(this.node,e,t,r,i),this},off:function(e,t){return n.off(this.node,e,t),this},fire:function(t,r){return t instanceof e.Event?this.node.dispatchEvent(t):this.node.dispatchEvent(t=new n.CustomEvent(t,{detail:r,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(e){return null==e?this.transform("x"):this.transform({x:e-this.x()},!0)}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(e){e&&("svg"==(e="string"==typeof e?t.getElementById(e):e).nodeName?this.constructor.call(this,e):(this.constructor.call(this,n.create("svg")),e.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){var e;return this._defs||((e=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(e):this._defs=new n.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw&&!n.parser.draw.parentNode&&this.node.appendChild(n.parser.draw),this},clone:function(e){this.writeDataToDom();var t=this.node,n=m(t.cloneNode(!0));return e?(e.node||e).appendChild(n.node):t.parentNode.insertBefore(n.node,t.nextSibling),n}}}),n.extend(n.Element,{}),n.Gradient=n.invent({create:function(e){this.constructor.call(this,n.create(e+"Gradient")),this.type=e},inherit:n.Container,extend:{at:function(e,t,r){return this.put(new n.Stop).update(e,t,r)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(e,t,r){return"transform"==e&&(e="gradientTransform"),n.Container.prototype.attr.call(this,e,t,r)}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),n.extend(n.Gradient,n.FX,{from:function(e,t){return"radial"==(this._target||this).type?this.attr({fx:new n.Number(e),fy:new n.Number(t)}):this.attr({x1:new n.Number(e),y1:new n.Number(t)})},to:function(e,t){return"radial"==(this._target||this).type?this.attr({cx:new n.Number(e),cy:new n.Number(t)}):this.attr({x2:new n.Number(e),y2:new n.Number(t)})}}),n.extend(n.Defs,{gradient:function(e,t){return this.put(new n.Gradient(e)).update(t)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(e){return("number"==typeof e||e instanceof n.Number)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new n.Number(e.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()},attr:function(e,t,r){return"transform"==e&&(e="patternTransform"),n.Container.prototype.attr.call(this,e,t,r)}},construct:{pattern:function(e,t,n){return this.defs().pattern(e,t,n)}}}),n.extend(n.Defs,{pattern:function(e,t,r){return this.put(new n.Pattern).update(r).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Element}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(e,t){return this.attr("href",(t||"")+"#"+e,n.xlink)}},construct:{use:function(e,t){return this.put(new n.Use).element(e,t)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(e,t){return this.put(new n.Rect).size(e,t)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(e){return this.put(new n.Circle).rx(new n.Number(e).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(e){return this.attr("r",e)},ry:function(e){return this.rx(e)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(e,t){return this.put(new n.Ellipse).size(e,t).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(e){return this.attr("rx",e)},ry:function(e){return this.attr("ry",e)}}),n.extend(n.Circle,n.Ellipse,{x:function(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())},y:function(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",e)},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",e)},width:function(e){return null==e?2*this.rx():this.rx(new n.Number(e).divide(2))},height:function(e){return null==e?2*this.ry():this.ry(new n.Number(e).divide(2))},size:function(e,t){var r=f(this,e,t);return this.rx(new n.Number(r.width).divide(2)).ry(new n.Number(r.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(e,t,r,i){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:r,y2:i}:new n.PointArray(e).toLine(),this.attr(e))},move:function(e,t){return this.attr(this.array().move(e,t).toLine())},size:function(e,t){var n=f(this,e,t);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(e,t,r,i){return n.Line.prototype.plot.apply(this.put(new n.Line),null!=e?[e,t,r,i]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(e){return this.put(new n.Polyline).plot(e||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(e){return this.put(new n.Polygon).plot(e||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new n.PointArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){var n=f(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new n.PathArray(e))},clear:function(){return delete this._array,this}},construct:{path:function(e){return this.put(new n.Path).plot(e||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(t){if(!t)return this;var r=this,i=new e.Image;return n.on(i,"load",(function(){n.off(i);var e=r.parent(n.Pattern);null!==e&&(0==r.width()&&0==r.height()&&r.size(i.width,i.height),e&&0==e.width()&&0==e.height()&&e.size(r.width(),r.height()),"function"==typeof r._loaded&&r._loaded.call(r,{width:i.width,height:i.height,ratio:i.width/i.height,url:t}))})),n.on(i,"error",(function(e){n.off(i),"function"==typeof r._error&&r._error.call(r,e)})),this.attr("href",i.src=this.src=t,n.xlink)},loaded:function(e){return this._loaded=e,this},error:function(e){return this._error=e,this}},construct:{image:function(e,t,r){return this.put(new n.Image).load(e).size(t||0,r||t||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(e){return null==e?this.attr("x"):this.attr("x",e)},text:function(e){if(void 0===e){e="";for(var t=this.node.childNodes,r=0,i=t.length;r<i;++r)0!=r&&3!=t[r].nodeType&&1==n.adopt(t[r]).dom.newLined&&(e+="\n"),e+=t[r].textContent;return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else{r=0;for(var a=(e=e.split("\n")).length;r<a;r++)this.tspan(e[r]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this.dom.leading:(this.dom.leading=new n.Number(e),this.rebuild())},lines:function(){var e=(this.textPath&&this.textPath()||this).node,t=n.utils.map(n.utils.filterSVGElements(e.childNodes),(function(e){return n.adopt(e)}));return new n.Set(t)},rebuild:function(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,r=0,i=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(t.textPath()||this.attr("x",t.attr("x")),"\n"==this.text()?r+=i:(this.attr("dy",i+r),r=0))})),this.fire("rebuild")}return this},build:function(e){return this._build=!!e,this},setData:function(e){return this.dom=e,this.dom.leading=new n.Number(e.leading||1.3),this}},construct:{text:function(e){return this.put(new n.Text).text(e)},plain:function(e){return this.put(new n.Text).plain(e)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this)},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.parent(n.Text);return this.dom.newLined=!0,this.dy(e.dom.leading*e.attr("font-size")).attr("x",e.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(t.createTextNode(e)),this},tspan:function(e){var t=(this.textPath&&this.textPath()||this).node,r=new n.Tspan;return!1===this._build&&this.clear(),t.appendChild(r.node),r.text(e)},clear:function(){for(var e=(this.textPath&&this.textPath()||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,array:function(){var e=this.track();return e?e.array():null},plot:function(e){var t=this.track(),n=null;return t&&(n=t.plot(e)),null==e?n:this},track:function(){var e=this.textPath();if(e)return e.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};function c(e,t,r,i){return r+i.replace(n.regex.dots," .")}function d(e){return e.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function u(e){return e.charAt(0).toUpperCase()+e.slice(1)}function h(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function f(e,t,n){if(null==t||null==n){var r=e.bbox();null==t?t=r.width/r.height*n:null==n&&(n=r.height/r.width*t)}return{width:t,height:n}}function p(e,t,n){return{x:t*e.a+n*e.c+0,y:t*e.b+n*e.d+0}}function g(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}function m(t){for(var r=t.childNodes.length-1;r>=0;r--)t.childNodes[r]instanceof e.SVGElement&&m(t.childNodes[r]);return n.adopt(t).id(n.eid(t.nodeName))}function v(e){return Math.abs(e)>1e-37?e:0}["fill","stroke"].forEach((function(e){var t={};t[e]=function(t){if(void 0===t)return this;if("string"==typeof t||n.Color.isRgb(t)||t&&"function"==typeof t.fill)this.attr(e,t);else for(var r=l[e].length-1;r>=0;r--)null!=t[l[e][r]]&&this.attr(l.prefix(e,l[e][r]),t[l[e][r]]);return this},n.extend(n.Element,n.FX,t)})),n.extend(n.Element,n.FX,{translate:function(e,t){return this.transform({x:e,y:t})},matrix:function(e){return this.attr("transform",new n.Matrix(6==arguments.length?[].slice.call(arguments):e))},opacity:function(e){return this.attr("opacity",e)},dx:function(e){return this.x(new n.Number(e).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(e){return this.y(new n.Number(e).plus(this instanceof n.FX?0:this.y()),!0)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),n.Set=n.invent({create:function(e){Array.isArray(e)?this.members=e:this.clear()},extend:{add:function(){for(var e=[].slice.call(arguments),t=0,n=e.length;t<n;t++)this.members.push(e[t]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,n=this.members.length;t<n;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(e){return new n.Set(e)}}}),n.FX.Set=n.invent({create:function(e){this.set=e}}),n.Set.inherit=function(){var e=[];for(var t in n.Shape.prototype)"function"==typeof n.Shape.prototype[t]&&"function"!=typeof n.Set.prototype[t]&&e.push(t);for(var t in e.forEach((function(e){n.Set.prototype[e]=function(){for(var t=0,r=this.members.length;t<r;t++)this.members[t]&&"function"==typeof this.members[t][e]&&this.members[t][e].apply(this.members[t],arguments);return"animate"==e?this.fx||(this.fx=new n.FX.Set(this)):this}})),e=[],n.FX.prototype)"function"==typeof n.FX.prototype[t]&&"function"!=typeof n.FX.Set.prototype[t]&&e.push(t);e.forEach((function(e){n.FX.Set.prototype[e]=function(){for(var t=0,n=this.set.members.length;t<n;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}}))},n.extend(n.Element,{}),n.extend(n.Element,{remember:function(e,t){if("object"===s(arguments[0]))for(var n in e)this.remember(n,e[n]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(e){var r=t.getElementById(function(e){var t=(e||"").toString().match(n.regex.reference);if(t)return t[1]}(e)||e);return n.adopt(r)},n.select=function(e,r){return new n.Set(n.utils.map((r||t).querySelectorAll(e),(function(e){return n.adopt(e)})))},n.extend(n.Parent,{select:function(e){return n.select(e,this.node)}});var b="abcdef".split("");if("function"!=typeof e.CustomEvent){var y=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var r=t.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r};y.prototype=e.Event.prototype,n.CustomEvent=y}else n.CustomEvent=e.CustomEvent;return n},void 0!==(r=function(){return Ge(ze,ze.document)}.call(t,n,t,e))&&(e.exports=r),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(e,t){return this.add(e,t),!e.attr("in")&&this.autoSetIn&&e.attr("in",this.source),e.attr("result")||e.attr("result",e),e},blend:function(e,t,n){return this.put(new SVG.BlendEffect(e,t,n))},colorMatrix:function(e,t){return this.put(new SVG.ColorMatrixEffect(e,t))},convolveMatrix:function(e){return this.put(new SVG.ConvolveMatrixEffect(e))},componentTransfer:function(e){return this.put(new SVG.ComponentTransferEffect(e))},composite:function(e,t,n){return this.put(new SVG.CompositeEffect(e,t,n))},flood:function(e,t){return this.put(new SVG.FloodEffect(e,t))},offset:function(e,t){return this.put(new SVG.OffsetEffect(e,t))},image:function(e){return this.put(new SVG.ImageEffect(e))},merge:function(){var e=[void 0];for(var t in arguments)e.push(arguments[t]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,e)))},gaussianBlur:function(e,t){return this.put(new SVG.GaussianBlurEffect(e,t))},morphology:function(e,t){return this.put(new SVG.MorphologyEffect(e,t))},diffuseLighting:function(e,t,n){return this.put(new SVG.DiffuseLightingEffect(e,t,n))},displacementMap:function(e,t,n,r,i){return this.put(new SVG.DisplacementMapEffect(e,t,n,r,i))},specularLighting:function(e,t,n,r){return this.put(new SVG.SpecularLightingEffect(e,t,n,r))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(e,t,n,r,i){return this.put(new SVG.TurbulenceEffect(e,t,n,r,i))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(e){var t=this.put(new SVG.Filter);return"function"==typeof e&&e.call(t,t),t}}),SVG.extend(SVG.Container,{filter:function(e){return this.defs().filter(e)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(e){return this.filterer=e instanceof SVG.Element?e:this.doc().filter(e),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(e){return this.filterer&&!0===e&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}});var e={blend:function(e,t){return this.parent()&&this.parent().blend(this,e,t)},colorMatrix:function(e,t){return this.parent()&&this.parent().colorMatrix(e,t).in(this)},convolveMatrix:function(e){return this.parent()&&this.parent().convolveMatrix(e).in(this)},componentTransfer:function(e){return this.parent()&&this.parent().componentTransfer(e).in(this)},composite:function(e,t){return this.parent()&&this.parent().composite(this,e,t)},flood:function(e,t){return this.parent()&&this.parent().flood(e,t)},offset:function(e,t){return this.parent()&&this.parent().offset(e,t).in(this)},image:function(e){return this.parent()&&this.parent().image(e)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(e,t){return this.parent()&&this.parent().gaussianBlur(e,t).in(this)},morphology:function(e,t){return this.parent()&&this.parent().morphology(e,t).in(this)},diffuseLighting:function(e,t,n){return this.parent()&&this.parent().diffuseLighting(e,t,n).in(this)},displacementMap:function(e,t,n,r){return this.parent()&&this.parent().displacementMap(this,e,t,n,r)},specularLighting:function(e,t,n,r){return this.parent()&&this.parent().specularLighting(e,t,n,r).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(e,t,n,r,i){return this.parent()&&this.parent().turbulence(e,t,n,r,i).in(this)}};SVG.extend(SVG.Effect,e),SVG.extend(SVG.ParentEffect,e),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){this.attr("in",e)}}});var t={blend:function(e,t,n){this.attr({in:e,in2:t,mode:n||"normal"})},colorMatrix:function(e,t){"matrix"==e&&(t=i(t)),this.attr({type:e,values:void 0===t?null:t})},convolveMatrix:function(e){e=i(e),this.attr({order:Math.sqrt(e.split(" ").length),kernelMatrix:e})},composite:function(e,t,n){this.attr({in:e,in2:t,operator:n})},flood:function(e,t){this.attr("flood-color",e),null!=t&&this.attr("flood-opacity",t)},offset:function(e,t){this.attr({dx:e,dy:t})},image:function(e){this.attr("href",e,SVG.xlink)},displacementMap:function(e,t,n,r,i){this.attr({in:e,in2:t,scale:n,xChannelSelector:r,yChannelSelector:i})},gaussianBlur:function(e,t){null!=e||null!=t?this.attr("stdDeviation",function(e){if(!Array.isArray(e))return e;for(var t=0,n=e.length,r=[];t<n;t++)r.push(e[t]);return r.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(e,t){this.attr({operator:e,radius:t})},tile:function(){},turbulence:function(e,t,n,r,i){this.attr({numOctaves:t,seed:n,stitchTiles:r,baseFrequency:e,type:i})}},n={merge:function(){var e;if(arguments[0]instanceof SVG.Set){var t=this;arguments[0].each((function(e){this instanceof SVG.MergeNode?t.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&t.put(new SVG.MergeNode(this))}))}else{e=Array.isArray(arguments[0])?arguments[0]:arguments;for(var n=0;n<e.length;n++)e[n]instanceof SVG.MergeNode?this.put(e[n]):this.put(new SVG.MergeNode(e[n]))}},componentTransfer:function(e){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(e){this[e]=new(SVG["Func"+e.toUpperCase()])("identity"),this.rgb.add(this[e]),this.node.appendChild(this[e].node)}.bind(this)),e)for(var t in e.rgb&&(["r","g","b"].forEach(function(t){this[t].attr(e.rgb)}.bind(this)),delete e.rgb),e)this[t].attr(e[t])},diffuseLighting:function(e,t,n){this.attr({surfaceScale:e,diffuseConstant:t,kernelUnitLength:n})},specularLighting:function(e,t,n,r){this.attr({surfaceScale:e,diffuseConstant:t,specularExponent:n,kernelUnitLength:r})}},r={distantLight:function(e,t){this.attr({azimuth:e,elevation:t})},pointLight:function(e,t,n){this.attr({x:e,y:t,z:n})},spotLight:function(e,t,n,r,i,a){this.attr({x:e,y:t,z:n,pointsAtX:r,pointsAtY:i,pointsAtZ:a})},mergeNode:function(e){this.attr("in",e)}};function i(e){return Array.isArray(e)&&(e=new SVG.Array(e)),e.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function a(){var e=function(){};for(var t in"function"==typeof arguments[arguments.length-1]&&(e=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var n in arguments[t])e(arguments[t][n],n,arguments[t])}["r","g","b","a"].forEach((function(e){r["Func"+e.toUpperCase()]=function(e){switch(this.attr("type",e),e){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),a(t,(function(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);SVG[n+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),a(n,(function(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);SVG[n+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),a(r,(function(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);SVG[n]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),e.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(e){return e instanceof SVG.MergeNode?this.add(e,0):this.add(new SVG.MergeNode(e),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",e)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function e(e,i,a,s,o,l,c){for(var d=e.slice(i,a||c),u=s.slice(o,l||c),h=0,f={pos:[0,0],start:[0,0]},p={pos:[0,0],start:[0,0]};d[h]=t.call(f,d[h]),u[h]=t.call(p,u[h]),d[h][0]!=u[h][0]||"M"==d[h][0]||"A"==d[h][0]&&(d[h][4]!=u[h][4]||d[h][5]!=u[h][5])?(Array.prototype.splice.apply(d,[h,1].concat(r.call(f,d[h]))),Array.prototype.splice.apply(u,[h,1].concat(r.call(p,u[h])))):(d[h]=n.call(f,d[h]),u[h]=n.call(p,u[h])),++h!=d.length||h!=u.length;)h==d.length&&d.push(["C",f.pos[0],f.pos[1],f.pos[0],f.pos[1],f.pos[0],f.pos[1]]),h==u.length&&u.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]);return{start:d,dest:u}}function t(e){switch(e[0]){case"z":case"Z":e[0]="L",e[1]=this.start[0],e[2]=this.start[1];break;case"H":e[0]="L",e[2]=this.pos[1];break;case"V":e[0]="L",e[2]=e[1],e[1]=this.pos[0];break;case"T":e[0]="Q",e[3]=e[1],e[4]=e[2],e[1]=this.reflection[1],e[2]=this.reflection[0];break;case"S":e[0]="C",e[6]=e[4],e[5]=e[3],e[4]=e[2],e[3]=e[1],e[2]=this.reflection[1],e[1]=this.reflection[0]}return e}function n(e){var t=e.length;return this.pos=[e[t-2],e[t-1]],-1!="SCQT".indexOf(e[0])&&(this.reflection=[2*this.pos[0]-e[t-4],2*this.pos[1]-e[t-3]]),e}function r(e){var t=[e];switch(e[0]){case"M":return this.pos=this.start=[e[1],e[2]],t;case"L":e[5]=e[3]=e[1],e[6]=e[4]=e[2],e[1]=this.pos[0],e[2]=this.pos[1];break;case"Q":e[6]=e[4],e[5]=e[3],e[4]=1*e[4]/3+2*e[2]/3,e[3]=1*e[3]/3+2*e[1]/3,e[2]=1*this.pos[1]/3+2*e[2]/3,e[1]=1*this.pos[0]/3+2*e[1]/3;break;case"A":t=function(e,t){var n,r,i,a,s,o,l,c,d,u,h,f,p,g,m,v,b,y,x,w,k,_,S,C,A,P,E=Math.abs(t[1]),T=Math.abs(t[2]),N=t[3]%360,I=t[4],M=t[5],F=t[6],R=t[7],j=new SVG.Point(e),L=new SVG.Point(F,R),D=[];if(0===E||0===T||j.x===L.x&&j.y===L.y)return[["C",j.x,j.y,L.x,L.y,L.x,L.y]];for((r=(n=new SVG.Point((j.x-L.x)/2,(j.y-L.y)/2).transform((new SVG.Matrix).rotate(N))).x*n.x/(E*E)+n.y*n.y/(T*T))>1&&(E*=r=Math.sqrt(r),T*=r),i=(new SVG.Matrix).rotate(N).scale(1/E,1/T).rotate(-N),j=j.transform(i),o=(a=[(L=L.transform(i)).x-j.x,L.y-j.y])[0]*a[0]+a[1]*a[1],s=Math.sqrt(o),a[0]/=s,a[1]/=s,l=o<4?Math.sqrt(1-o/4):0,I===M&&(l*=-1),c=new SVG.Point((L.x+j.x)/2+l*-a[1],(L.y+j.y)/2+l*a[0]),d=new SVG.Point(j.x-c.x,j.y-c.y),u=new SVG.Point(L.x-c.x,L.y-c.y),h=Math.acos(d.x/Math.sqrt(d.x*d.x+d.y*d.y)),d.y<0&&(h*=-1),f=Math.acos(u.x/Math.sqrt(u.x*u.x+u.y*u.y)),u.y<0&&(f*=-1),M&&h>f&&(f+=2*Math.PI),!M&&h<f&&(f-=2*Math.PI),v=[],b=h,p=(f-h)/(g=Math.ceil(2*Math.abs(h-f)/Math.PI)),m=4*Math.tan(p/4)/3,k=0;k<=g;k++)x=Math.cos(b),y=Math.sin(b),w=new SVG.Point(c.x+x,c.y+y),v[k]=[new SVG.Point(w.x+m*y,w.y-m*x),w,new SVG.Point(w.x-m*y,w.y+m*x)],b+=p;for(v[0][0]=v[0][1].clone(),v[v.length-1][2]=v[v.length-1][1].clone(),i=(new SVG.Matrix).rotate(N).scale(E,T).rotate(-N),k=0,_=v.length;k<_;k++)v[k][0]=v[k][0].transform(i),v[k][1]=v[k][1].transform(i),v[k][2]=v[k][2].transform(i);for(k=1,_=v.length;k<_;k++)S=(w=v[k-1][2]).x,C=w.y,A=(w=v[k][0]).x,P=w.y,F=(w=v[k][1]).x,R=w.y,D.push(["C",S,C,A,P,F,R]);return D}(this.pos,e),e=t[0]}return e[0]="C",this.pos=[e[5],e[6]],this.reflection=[2*e[5]-e[3],2*e[6]-e[4]],t}function i(e,t){if(!1===t)return!1;for(var n=t,r=e.length;n<r;++n)if("M"==e[n][0])return n;return!1}SVG.extend(SVG.PathArray,{morph:function(t){for(var n=this.value,r=this.parse(t),a=0,s=0,o=!1,l=!1;!1!==a||!1!==s;){var c;o=i(n,!1!==a&&a+1),l=i(r,!1!==s&&s+1),!1===a&&(a=0==(c=new SVG.PathArray(d.start).bbox()).height||0==c.width?n.push(n[0])-1:n.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===s&&(s=0==(c=new SVG.PathArray(d.dest).bbox()).height||0==c.width?r.push(r[0])-1:r.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var d=e(n,a,o,r,s,l);n=n.slice(0,a).concat(d.start,!1===o?[]:n.slice(o)),r=r.slice(0,s).concat(d.dest,!1===l?[]:r.slice(l)),a=!1!==o&&a+d.start.length,s=!1!==l&&s+d.dest.length}return this.value=n,this.destination=new SVG.PathArray,this.destination.value=r,this}})}(),function(){function e(e){e.remember("_draggable",this),this.el=e}e.prototype.init=function(e,t){var n=this;this.constraint=e,this.value=t,this.el.on("mousedown.drag",(function(e){n.start(e)})),this.el.on("touchstart.drag",(function(e){n.start(e)}))},e.prototype.transformPoint=function(e,t){var n=(e=e||window.event).changedTouches&&e.changedTouches[0]||e;return this.p.x=n.clientX-(t||0),this.p.y=n.clientY,this.p.matrixTransform(this.m)},e.prototype.getBBox=function(){var e=this.el.bbox();return this.el instanceof SVG.Nested&&(e=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(e.x=this.el.x(),e.y=this.el.y()),e},e.prototype.start=function(e){if("click"!=e.type&&"mousedown"!=e.type&&"mousemove"!=e.type||1==(e.which||e.buttons)){var t=this;if(this.el.fire("beforedrag",{event:e,handler:this}),!this.el.event().defaultPrevented){e.preventDefault(),e.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var n,r=this.getBBox();if(this.el instanceof SVG.Text)switch(n=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":n/=2;break;case"start":n=0}this.startPoints={point:this.transformPoint(e,n),box:r,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(e){t.drag(e)})),SVG.on(window,"touchmove.drag",(function(e){t.drag(e)})),SVG.on(window,"mouseup.drag",(function(e){t.end(e)})),SVG.on(window,"touchend.drag",(function(e){t.end(e)})),this.el.fire("dragstart",{event:e,p:this.startPoints.point,m:this.m,handler:this})}}},e.prototype.drag=function(e){var t=this.getBBox(),n=this.transformPoint(e),r=this.startPoints.box.x+n.x-this.startPoints.point.x,i=this.startPoints.box.y+n.y-this.startPoints.point.y,a=this.constraint,s=n.x-this.startPoints.point.x,o=n.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:e,p:n,m:this.m,handler:this}),this.el.event().defaultPrevented)return n;if("function"==typeof a){var l=a.call(this.el,r,i,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(r):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(i):!1!==l.y&&this.el.y(l.y)}else"object"==typeof a&&(null!=a.minX&&r<a.minX?s=(r=a.minX)-this.startPoints.box.x:null!=a.maxX&&r>a.maxX-t.width&&(s=(r=a.maxX-t.width)-this.startPoints.box.x),null!=a.minY&&i<a.minY?o=(i=a.minY)-this.startPoints.box.y:null!=a.maxY&&i>a.maxY-t.height&&(o=(i=a.maxY-t.height)-this.startPoints.box.y),null!=a.snapToGrid&&(r-=r%a.snapToGrid,i-=i%a.snapToGrid,s-=s%a.snapToGrid,o-=o%a.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:s,y:o},!0):this.el.move(r,i));return n},e.prototype.end=function(e){var t=this.drag(e);this.el.fire("dragend",{event:e,p:t,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(t,n){"function"!=typeof t&&"object"!=typeof t||(n=t,t=!0);var r=this.remember("_draggable")||new e(this);return(t=void 0===t||t)?r.init(n||{},t):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function e(e){this.el=e,e.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(e,t,n){var r="string"!=typeof e?e:t[e];return n?r/2:r},this.pointCoords=function(e,t){var n=this.pointsList[e];return{x:this.pointCoord(n[0],t,"t"===e||"b"===e),y:this.pointCoord(n[1],t,"r"===e||"l"===e)}}}e.prototype.init=function(e,t){var n=this.el.bbox();this.options={};var r=this.el.selectize.defaults.points;for(var i in this.el.selectize.defaults)this.options[i]=this.el.selectize.defaults[i],void 0!==t[i]&&(this.options[i]=t[i]);var a=["points","pointsExclude"];for(var i in a){var s=this.options[a[i]];"string"==typeof s?s=s.length>0?s.split(/\s*,\s*/i):[]:"boolean"==typeof s&&"points"===a[i]&&(s=s?r:[]),this.options[a[i]]=s}this.options.points=[r,this.options.points].reduce((function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(e,t){return e.filter((function(e){return t.indexOf(e)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(e):this.selectRect(e),this.observe(),this.cleanup()},e.prototype.selectPoints=function(e){return this.pointSelection.isSelected=e,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},e.prototype.getPointArray=function(){var e=this.el.bbox();return this.el.array().valueOf().map((function(t){return[t[0]-e.x,t[1]-e.y]}))},e.prototype.drawPoints=function(){for(var e=this,t=this.getPointArray(),n=0,r=t.length;n<r;++n){var i=function(t){return function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation();var r=n.pageX||n.touches[0].pageX,i=n.pageY||n.touches[0].pageY;e.el.fire("point",{x:r,y:i,i:t,event:n})}}(n),a=this.drawPoint(t[n][0],t[n][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",i).on("mousedown",i);this.pointSelection.set.add(a)}},e.prototype.drawPoint=function(e,t){var n=this.options.pointType;switch(n){case"circle":return this.drawCircle(e,t);case"rect":return this.drawRect(e,t);default:if("function"==typeof n)return n.call(this,e,t);throw new Error("Unknown "+n+" point type!")}},e.prototype.drawCircle=function(e,t){return this.nested.circle(this.options.pointSize).center(e,t)},e.prototype.drawRect=function(e,t){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(e,t)},e.prototype.updatePointSelection=function(){var e=this.getPointArray();this.pointSelection.set.each((function(t){this.cx()===e[t][0]&&this.cy()===e[t][1]||this.center(e[t][0],e[t][1])}))},e.prototype.updateRectSelection=function(){var e=this,t=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:t.width,height:t.height}),this.options.points.length&&this.options.points.map((function(n,r){var i=e.pointCoords(n,t);e.rectSelection.set.get(r+1).center(i.x,i.y)})),this.options.rotationPoint){var n=this.rectSelection.set.length();this.rectSelection.set.get(n-1).center(t.width/2,20)}},e.prototype.selectRect=function(e){var t=this,n=this.el.bbox();function r(e){return function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation();var r=n.pageX||n.touches[0].pageX,i=n.pageY||n.touches[0].pageY;t.el.fire(e,{x:r,y:i,event:n})}}if(this.rectSelection.isSelected=e,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(n.width,n.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(e,i){var a=t.pointCoords(e,n),s=t.drawPoint(a.x,a.y).attr("class",t.options.classPoints+"_"+e).on("mousedown",r(e)).on("touchstart",r(e));t.rectSelection.set.add(s)})),this.rectSelection.set.each((function(){this.addClass(t.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var i=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation();var n=e.pageX||e.touches[0].pageX,r=e.pageY||e.touches[0].pageY;t.el.fire("rot",{x:n,y:r,event:e})},a=this.drawPoint(n.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",i).on("mousedown",i);this.rectSelection.set.add(a)}},e.prototype.handler=function(){var e=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(e.x,e.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},e.prototype.observe=function(){var e=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){e.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(e){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){e.handler()}))},e.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(t,n){return"object"==typeof t&&(n=t,t=!0),(this.remember("_selectHandler")||new e(this)).init(void 0===t||t,n||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function e(e){e.remember("_resizeHandler",this),this.el=e,this.parameters={},this.lastUpdateCall=null,this.p=e.doc().node.createSVGPoint()}e.prototype.transformPoint=function(e,t,n){return this.p.x=e-(this.offset.x-window.pageXOffset),this.p.y=t-(this.offset.y-window.pageYOffset),this.p.matrixTransform(n||this.m)},e.prototype._extractPosition=function(e){return{x:null!=e.clientX?e.clientX:e.touches[0].clientX,y:null!=e.clientY?e.clientY:e.touches[0].clientY}},e.prototype.init=function(e){var t=this;if(this.stop(),"stop"!==e){for(var n in this.options={},this.el.resize.defaults)this.options[n]=this.el.resize.defaults[n],void 0!==e[n]&&(this.options[n]=e[n]);this.el.on("lt.resize",(function(e){t.resize(e||window.event)})),this.el.on("rt.resize",(function(e){t.resize(e||window.event)})),this.el.on("rb.resize",(function(e){t.resize(e||window.event)})),this.el.on("lb.resize",(function(e){t.resize(e||window.event)})),this.el.on("t.resize",(function(e){t.resize(e||window.event)})),this.el.on("r.resize",(function(e){t.resize(e||window.event)})),this.el.on("b.resize",(function(e){t.resize(e||window.event)})),this.el.on("l.resize",(function(e){t.resize(e||window.event)})),this.el.on("rot.resize",(function(e){t.resize(e||window.event)})),this.el.on("point.resize",(function(e){t.resize(e||window.event)})),this.update()}},e.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},e.prototype.resize=function(e){var t=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var n=this._extractPosition(e.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(n.x,n.y),x:e.detail.x,y:e.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==e.detail.i){var r=this.el.array().valueOf();this.parameters.i=e.detail.i,this.parameters.pointCoords=[r[e.detail.i][0],r[e.detail.i][1]]}switch(e.type){case"lt":this.calc=function(e,t){var n=this.snapToGrid(e,t);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y+n[1]).size(this.parameters.box.width-n[0],this.parameters.box.height-n[1])}};break;case"rt":this.calc=function(e,t){var n=this.snapToGrid(e,t,2);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).size(this.parameters.box.width+n[0],this.parameters.box.height-n[1])}};break;case"rb":this.calc=function(e,t){var n=this.snapToGrid(e,t,0);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+n[0],this.parameters.box.height+n[1])}};break;case"lb":this.calc=function(e,t){var n=this.snapToGrid(e,t,1);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).size(this.parameters.box.width-n[0],this.parameters.box.height+n[1])}};break;case"t":this.calc=function(e,t){var n=this.snapToGrid(e,t,2);if(this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).height(this.parameters.box.height-n[1])}};break;case"r":this.calc=function(e,t){var n=this.snapToGrid(e,t,0);if(this.parameters.box.width+n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+n[0])}};break;case"b":this.calc=function(e,t){var n=this.snapToGrid(e,t,0);if(this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+n[1])}};break;case"l":this.calc=function(e,t){var n=this.snapToGrid(e,t,1);if(this.parameters.box.width-n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).width(this.parameters.box.width-n[0])}};break;case"rot":this.calc=function(e,t){var n=e+this.parameters.p.x,r=t+this.parameters.p.y,i=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),a=Math.atan2(r-this.parameters.box.y-this.parameters.box.height/2,n-this.parameters.box.x-this.parameters.box.width/2),s=this.parameters.rotation+180*(a-i)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(s-s%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(e,t){var n=this.snapToGrid(e,t,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),r=this.el.array().valueOf();r[this.parameters.i][0]=this.parameters.pointCoords[0]+n[0],r[this.parameters.i][1]=this.parameters.pointCoords[1]+n[1],this.el.plot(r)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:e}),SVG.on(window,"touchmove.resize",(function(e){t.update(e||window.event)})),SVG.on(window,"touchend.resize",(function(){t.done()})),SVG.on(window,"mousemove.resize",(function(e){t.update(e||window.event)})),SVG.on(window,"mouseup.resize",(function(){t.done()}))},e.prototype.update=function(e){if(e){var t=this._extractPosition(e),n=this.transformPoint(t.x,t.y),r=n.x-this.parameters.p.x,i=n.y-this.parameters.p.y;this.lastUpdateCall=[r,i],this.calc(r,i),this.el.fire("resizing",{dx:r,dy:i,event:e})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},e.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},e.prototype.snapToGrid=function(e,t,n,r){var i;return void 0!==r?i=[(n+e)%this.options.snapToGrid,(r+t)%this.options.snapToGrid]:(n=null==n?3:n,i=[(this.parameters.box.x+e+(1&n?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+t+(2&n?0:this.parameters.box.height))%this.options.snapToGrid]),e<0&&(i[0]-=this.options.snapToGrid),t<0&&(i[1]-=this.options.snapToGrid),e-=Math.abs(i[0])<this.options.snapToGrid/2?i[0]:i[0]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),t-=Math.abs(i[1])<this.options.snapToGrid/2?i[1]:i[1]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(e,t,n,r)},e.prototype.constraintToBox=function(e,t,n,r){var i,a,s=this.options.constraint||{};return void 0!==r?(i=n,a=r):(i=this.parameters.box.x+(1&n?0:this.parameters.box.width),a=this.parameters.box.y+(2&n?0:this.parameters.box.height)),void 0!==s.minX&&i+e<s.minX&&(e=s.minX-i),void 0!==s.maxX&&i+e>s.maxX&&(e=s.maxX-i),void 0!==s.minY&&a+t<s.minY&&(t=s.minY-a),void 0!==s.maxY&&a+t>s.maxY&&(t=s.maxY-a),[e,t]},e.prototype.checkAspectRatio=function(e,t){if(!this.options.saveAspectRatio)return e;var n=e.slice(),r=this.parameters.box.width/this.parameters.box.height,i=this.parameters.box.width+e[0],a=this.parameters.box.height-e[1],s=i/a;return s<r?(n[1]=i/r-this.parameters.box.height,t&&(n[1]=-n[1])):s>r&&(n[0]=this.parameters.box.width-a*r,t&&(n[0]=-n[0])),n},SVG.extend(SVG.Element,{resize:function(t){return(this.remember("_resizeHandler")||new e(this)).init(t||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Ve=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new w(this.ctx),this.ctx.axes=new te(this.ctx),this.ctx.core=new We(this.ctx.el,this.ctx),this.ctx.config=new D({}),this.ctx.data=new V(this.ctx),this.ctx.grid=new K(this.ctx),this.ctx.graphics=new _(this.ctx),this.ctx.coreUtils=new S(this.ctx),this.ctx.crosshairs=new ne(this.ctx),this.ctx.events=new Z(this.ctx),this.ctx.exports=new X(this.ctx),this.ctx.localization=new ee(this.ctx),this.ctx.options=new N,this.ctx.responsive=new re(this.ctx),this.ctx.series=new H(this.ctx),this.ctx.theme=new ie(this.ctx),this.ctx.formatters=new F(this.ctx),this.ctx.titleSubtitle=new ae(this.ctx),this.ctx.legend=new he(this.ctx),this.ctx.toolbar=new fe(this.ctx),this.ctx.tooltip=new we(this.ctx),this.ctx.dimensions=new de(this.ctx),this.ctx.updateHelpers=new He(this.ctx),this.ctx.zoomPanSelection=new pe(this.ctx),this.ctx.w.globals.tooltip=new we(this.ctx)}}]),e}(),Ye=function(){function e(t){o(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each((function(e,t){this.removeClass("*"),this.off(),this.stop()}),!0),e.ungroup(),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,n=e.isUpdating,r=this.w.globals.dom.Paper.node;r.parentNode&&r.parentNode.parentNode&&!n&&(r.parentNode.parentNode.style.minHeight="unset");var i=this.w.globals.dom.baseEl;i&&this.ctx.eventList.forEach((function(e){i.removeEventListener(e,t.ctx.events.documentEvent)}));var a=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elLegendWrap=null,a.elLegendForeign=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectMarkerMask=null,a.elForecastMask=null,a.elNonForecastMask=null,a.elDefs=null}}]),e}(),Xe=new WeakMap,qe=function(){function e(t,n){o(this,e),this.opts=n,this.ctx=this,this.w=new z(n).init(),this.el=t,this.w.globals.cuid=x.randomId(),this.w.globals.chartID=this.w.config.chart.id?x.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ve(this).initModules(),this.create=x.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return c(e,[{key:"render",value:function(){var e=this;return new Promise((function(t,n){if(null!==e.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var r=e.w.config.chart.events.beforeMount;if("function"==typeof r&&r(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(e,t){var n=!1;if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var r=e.getBoundingClientRect();"none"!==e.style.display&&0!==r.width||(n=!0)}var i=new ResizeObserver((function(r){n&&t.call(e,r),n=!0}));e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(e.children).forEach((function(e){return i.observe(e)})):i.observe(e),Xe.set(t,i)}(e.el.parentNode,e.parentResizeHandler),!e.css){var i=e.el.getRootNode&&e.el.getRootNode(),a=x.is("ShadowRoot",i),s=e.el.ownerDocument,o=s.getElementById("apexcharts-css");if(a||!o){var l;e.css=document.createElement("style"),e.css.id="apexcharts-css",e.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-radialbar-label {\n  cursor: pointer;\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers{\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows{\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers{\n  pointer-events: none\n}';var c=(null===(l=e.opts.chart)||void 0===l?void 0:l.nonce)||e.w.config.chart.nonce;c&&e.css.setAttribute("nonce",c),a?i.prepend(e.css):s.head.appendChild(e.css)}}var d=e.create(e.w.config.series,{});if(!d)return t(e);e.mount(d).then((function(){"function"==typeof e.w.config.chart.events.mounted&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(d)})).catch((function(e){n(e)}))}else n(new Error("Element not found"))}))}},{key:"create",value:function(e,t){var n=this.w;new Ve(this).initModules();var r=this.w.globals;if(r.noData=!1,r.animationEnded=!1,this.responsive.checkResponsiveConfig(t),n.config.xaxis.convertedCatToNumeric&&new L(n.config).convertCatToNumericXaxis(n.config,this.ctx),null===this.el)return r.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===n.config.chart.type&&(n.config.grid.show=!1,n.config.yaxis[0].show=!1),0===r.svgWidth)return r.animationEnded=!0,null;var i=S.checkComboSeries(e);r.comboCharts=i.comboCharts,r.comboBarCount=i.comboBarCount;var a=e.every((function(e){return e.data&&0===e.data.length}));(0===e.length||a)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(e),this.theme.init(),new B(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),r.noData&&r.collapsedSeries.length!==r.series.length&&!n.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),r.axisCharts&&(this.core.coreCalculations(),"category"!==n.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=n.globals.minX,this.ctx.toolbar.maxX=n.globals.maxX),this.formatters.heatmapLabelFormatters(),new S(this).getLargestMarkerSize(),this.dimensions.plotCoords();var s=this.core.xySettings();this.grid.createGridMask();var o=this.core.plotChartType(e,s),l=new W(this);return l.bringForward(),n.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:o,xyRatios:s,dimensions:{plot:{left:n.globals.translateX,top:n.globals.translateY,width:n.globals.gridWidth,height:n.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this,r=n.w;return new Promise((function(i,a){if(null===n.el)return a(new Error("Not enough data to display or target element not found"));(null===t||r.globals.allSeriesCollapsed)&&n.series.handleNoData(),n.grid=new K(n);var s,o,l=n.grid.drawGrid();if(n.annotations=new I(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),"back"===r.config.grid.position&&(l&&r.globals.dom.elGraphical.add(l.el),null!=l&&null!==(s=l.elGridBorders)&&void 0!==s&&s.node&&r.globals.dom.elGraphical.add(l.elGridBorders)),Array.isArray(t.elGraph))for(var c=0;c<t.elGraph.length;c++)r.globals.dom.elGraphical.add(t.elGraph[c]);else r.globals.dom.elGraphical.add(t.elGraph);"front"===r.config.grid.position&&(l&&r.globals.dom.elGraphical.add(l.el),null!=l&&null!==(o=l.elGridBorders)&&void 0!==o&&o.node&&r.globals.dom.elGraphical.add(l.elGridBorders)),"front"===r.config.xaxis.crosshairs.position&&n.crosshairs.drawXCrosshairs(),"front"===r.config.yaxis[0].crosshairs.position&&n.crosshairs.drawYCrosshairs(),"treemap"!==r.config.chart.type&&n.axes.drawAxis(r.config.chart.type,l);var d=new q(e.ctx,l),u=new $(e.ctx,l);if(null!==l&&(d.xAxisLabelCorrections(l.xAxisTickWidth),u.setYAxisTextAlignments(),r.config.yaxis.map((function(e,t){-1===r.globals.ignoreYAxisIndexes.indexOf(t)&&u.yAxisTitleRotate(t,e.opposite)}))),n.annotations.drawAxesAnnotations(),!r.globals.noData){if(r.config.tooltip.enabled&&!r.globals.noData&&n.w.globals.tooltip.drawTooltip(t.xyRatios),r.globals.axisCharts&&(r.globals.isXNumeric||r.config.xaxis.convertedCatToNumeric||r.globals.isRangeBar))(r.config.chart.zoom.enabled||r.config.chart.selection&&r.config.chart.selection.enabled||r.config.chart.pan&&r.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:t.xyRatios});else{var h=r.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(e){h[e]=!1}))}r.config.chart.toolbar.show&&!r.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}r.globals.memory.methodsToExec.length>0&&r.globals.memory.methodsToExec.forEach((function(e){e.method(e.params,!1,e.context)})),r.globals.axisCharts||r.globals.noData||n.core.resizeNonAxisCharts(),i(n)}))}},{key:"destroy",value:function(){var e,t;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,e=this.parentResizeHandler,(t=Xe.get(e))&&(t.disconnect(),Xe.delete(e));var n=this.w.config.chart.id;n&&Apex._chartInstances.forEach((function(e,t){e.id===x.escapeString(n)&&Apex._chartInstances.splice(t,1)})),new Ye(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.w;return s.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map((function(e,n){return t.updateHelpers._extendSeries(e,n)}))),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),s.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,r,i,a)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,n)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.w.config.series.slice();return r.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(r,t,n)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var r=n.w.config.series.slice(),i=0;i<r.length;i++)if(null!==e[i]&&void 0!==e[i])for(var a=0;a<e[i].data.length;a++)r[i].data.push(e[i].data[a]);return n.w.config.series=r,t&&(n.w.globals.initialSeries=x.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise((function(n,r){new Ye(t.ctx).clear({isUpdating:!0});var i=t.create(t.w.config.series,e);if(!i)return n(t);t.mount(i).then((function(){"function"==typeof t.w.config.chart.events.updated&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,n(t)})).catch((function(e){r(e)}))}))}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach((function(e){t.push(e)}))),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter((function(e){if(e.group)return!0})).map((function(t){return e.w.config.chart.group===t.group?t.chart:e}))}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this;n&&(r=n),r.annotations.addXaxisAnnotationExternal(e,t,r)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this;n&&(r=n),r.annotations.addYaxisAnnotationExternal(e,t,r)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this;n&&(r=n),r.annotations.addPointAnnotationExternal(e,t,r)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this;t&&(n=t),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new J(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new J(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new X(this.ctx).dataURI(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new X(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;"function"==typeof e&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=x.escapeString(e);if(Apex._chartInstances){var n=Apex._chartInstances.filter((function(e){return e.id===t}))[0];return n&&n.chart}}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),n=0;n<t.length;n++)new e(t[n],JSON.parse(t[n].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var r=null;if(-1!==n.publicMethods.indexOf(t)){for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];r=n[t].apply(n,a)}return r}}},{key:"merge",value:function(e,t){return x.extend(e,t)}}]),e}();e.exports=qe},8628:(e,t)=>{"use strict";t.A=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t}))}return!0}},6749:(module,__unused_webpack_exports,__webpack_require__)=>{var _defineProperty=__webpack_require__(3693).default,_classStaticPrivateMethodGet=__webpack_require__(8443).default,_classPrivateMethodInitSpec=__webpack_require__(3312).default,_classPrivateMethodGet=__webpack_require__(137).default,_classStaticPrivateFieldSpecSet=__webpack_require__(1399).default,_classStaticPrivateFieldSpecGet=__webpack_require__(2435).default,_classPrivateFieldInitSpec=__webpack_require__(2459).default,_classPrivateFieldGet=__webpack_require__(4972).default,_classPrivateFieldSet=__webpack_require__(2808).default,root,factory;root=globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationPrefix=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=function(e,t){e||s(t)},t.bytesToString=c,t.createValidAbsoluteUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=f(e)}catch{}}const r=t?new URL(e,t):new URL(e);if(function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch{}return null},t.getModificationDate=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getUuid=function(){var e,t;if("undefined"!==typeof crypto&&"function"===typeof(null===(e=crypto)||void 0===e?void 0:e.randomUUID))return crypto.randomUUID();const n=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof(null===(t=crypto)||void 0===t?void 0:t.getRandomValues))crypto.getRandomValues(n);else for(let r=0;r<32;r++)n[r]=Math.floor(255*Math.random());return c(n)},t.getVerbosityLevel=function(){return i},t.info=function(e){i>=r.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.byteLength)},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.isNodeJS=void 0,t.normalizeUnicode=function(e){return g||(g=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,m=new Map([["\ufb05","\u017ft"]])),e.replaceAll(g,((e,t,n)=>t?t.normalize("NFKC"):m.get(n)))},t.objectFromMap=function(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t},t.objectSize=function(e){return Object.keys(e).length},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(i=e)},t.shadow=o,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=d,t.stringToPDFString=function(e){if(e[0]>="\xef"){let t;if("\xfe"===e[0]&&"\xff"===e[1]?t="utf-16be":"\xff"===e[0]&&"\xfe"===e[1]?t="utf-16le":"\xef"===e[0]&&"\xbb"===e[1]&&"\xbf"===e[2]&&(t="utf-8"),t)try{const n=new TextDecoder(t,{fatal:!0}),r=d(e);return n.decode(r)}catch(n){a('stringToPDFString: "'.concat(n,'".'))}}const t=[];for(let r=0,i=e.length;r<i;r++){const n=h[e.charCodeAt(r)];t.push(n?String.fromCharCode(n):e.charAt(r))}return t.join("")},t.stringToUTF8String=f,t.unreachable=s,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=a;const n="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n,t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.MAX_IMAGE_SIZE_TO_CACHE=1e7,t.LINE_FACTOR=1.35,t.LINE_DESCENT_FACTOR=.35,t.BASELINE_FACTOR=.25925925925925924,t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationEditorPrefix="pdfjs_internal_editor_",t.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15},t.AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"};const r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=r.WARNINGS;function a(e){i>=r.WARNINGS&&console.log("Warning: ".concat(e))}function s(e){throw new Error(e)}function o(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const l=function(){function e(t,n){this.constructor===e&&s("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();function c(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||s("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const a=Math.min(i+n,t),s=e.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function d(e){"string"!==typeof e&&s("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}t.BaseException=l,t.PasswordException=class extends l{constructor(e,t){super(e,"PasswordException"),this.code=t}},t.UnknownErrorException=class extends l{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},t.InvalidPDFException=class extends l{constructor(e){super(e,"InvalidPDFException")}},t.MissingPDFException=class extends l{constructor(e){super(e,"MissingPDFException")}},t.UnexpectedResponseException=class extends l{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},t.FormatError=class extends l{constructor(e){super(e,"FormatError")}},t.AbortException=class extends l{constructor(e){super(e,"AbortException")}},t.FeatureTest=class{static get isLittleEndian(){return o(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return o(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return o(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"===typeof navigator?o(this,"platform",{isWin:!1,isMac:!1}):o(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var e,t;return o(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}};const u=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0")));t.Util=class{static makeHexColor(e,t,n){return"#".concat(u[e]).concat(u[t]).concat(u[n])}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[2],t[2]=n,n=t[1],t[1]=t[3],t[3]=n,e[1]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],a[0]),Math.min(n[1],r[1],i[1],a[1]),Math.max(n[0],r[0],i[0],a[0]),Math.max(n[1],r[1],i[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],s=(n+a)/2,o=Math.sqrt((n+a)**2-4*(n*a-i*r))/2,l=s+o||1,c=s-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[n,i,r,a]}static bezierBoundingBox(e,t,n,r,i,a,s,o){const l=[],c=[[],[]];let d,u,h,f,p,g,m,v;for(let w=0;w<2;++w)if(0===w?(u=6*e-12*n+6*i,d=-3*e+9*n-9*i+3*s,h=3*n-3*e):(u=6*t-12*r+6*a,d=-3*t+9*r-9*a+3*o,h=3*r-3*t),Math.abs(d)<1e-12){if(Math.abs(u)<1e-12)continue;f=-h/u,0<f&&f<1&&l.push(f)}else m=u*u-4*h*d,v=Math.sqrt(m),m<0||(p=(-u+v)/(2*d),0<p&&p<1&&l.push(p),g=(-u-v)/(2*d),0<g&&g<1&&l.push(g));let b,y=l.length;const x=y;for(;y--;)f=l[y],b=1-f,c[0][y]=b*b*b*e+3*b*b*f*n+3*b*f*f*i+f*f*f*s,c[1][y]=b*b*b*t+3*b*b*f*r+3*b*f*f*a+f*f*f*o;return c[0][x]=e,c[1][x]=t,c[0][x+1]=s,c[1][x+1]=o,c[0].length=c[1].length=x+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}};const h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function f(e){return decodeURIComponent(escape(e))}var p=new WeakMap;t.PromiseCapability=class{constructor(){_classPrivateFieldInitSpec(this,p,{writable:!0,value:!1}),this.promise=new Promise(((e,t)=>{this.resolve=t=>{_classPrivateFieldSet(this,p,!0),e(t)},this.reject=e=>{_classPrivateFieldSet(this,p,!0),t(e)}}))}get settled(){return _classPrivateFieldGet(this,p)}};let g=null,m=null;t.AnnotationPrefix="pdfjs_internal_id_"},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;function getDocument(e){var t,n;if("string"===typeof e||e instanceof URL?e={url:e}:(0,_util.isArrayBuffer)(e)&&(e={data:e}),"object"!==typeof e)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const r=new PDFDocumentLoadingTask,{docId:i}=r,a=e.url?getUrlProp(e.url):null,s=e.data?getDataProp(e.data):null,o=e.httpHeaders||null,l=!0===e.withCredentials,c=null!==(t=e.password)&&void 0!==t?t:null,d=e.range instanceof PDFDataRangeTransport?e.range:null,u=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let h=e.worker instanceof PDFWorker?e.worker:null;const f=e.verbosity,p="string"!==typeof e.docBaseUrl||(0,_display_utils.isDataScheme)(e.docBaseUrl)?null:e.docBaseUrl,g="string"===typeof e.cMapUrl?e.cMapUrl:null,m=!1!==e.cMapPacked,v=e.CMapReaderFactory||DefaultCMapReaderFactory,b="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,y=e.StandardFontDataFactory||DefaultStandardFontDataFactory,x=!0!==e.stopAtErrors,w=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,k=!1!==e.isEvalSupported,_="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!_util.isNodeJS,S=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,C="boolean"===typeof e.disableFontFace?e.disableFontFace:_util.isNodeJS,A=!0===e.fontExtraProperties,P=!0===e.enableXfa,E=e.ownerDocument||globalThis.document,T=!0===e.disableRange,N=!0===e.disableStream,I=!0===e.disableAutoFetch,M=!0===e.pdfBug,F=d?d.length:null!==(n=e.length)&&void 0!==n?n:NaN,R="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!_util.isNodeJS&&!C,j="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:v===_display_utils.DOMCMapReaderFactory&&y===_display_utils.DOMStandardFontDataFactory&&g&&b&&(0,_display_utils.isValidFetchUrl)(g,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(b,document.baseURI),L=e.canvasFactory||new DefaultCanvasFactory({ownerDocument:E}),D=e.filterFactory||new DefaultFilterFactory({docId:i,ownerDocument:E});(0,_util.setVerbosityLevel)(f);const O={canvasFactory:L,filterFactory:D};if(j||(O.cMapReaderFactory=new v({baseUrl:g,isCompressed:m}),O.standardFontDataFactory=new y({baseUrl:b})),!h){const e={verbosity:f,port:_worker_options.GlobalWorkerOptions.workerPort};h=e.port?PDFWorker.fromPort(e):new PDFWorker(e),r._worker=h}const z={docId:i,apiVersion:"3.11.174",data:s,password:c,disableAutoFetch:I,rangeChunkSize:u,length:F,docBaseUrl:p,enableXfa:P,evaluatorOptions:{maxImageSize:w,disableFontFace:C,ignoreErrors:x,isEvalSupported:k,isOffscreenCanvasSupported:_,canvasMaxAreaInBytes:S,fontExtraProperties:A,useSystemFonts:R,cMapUrl:j?g:null,standardFontDataUrl:j?b:null}},G={ignoreErrors:x,isEvalSupported:k,disableFontFace:C,fontExtraProperties:A,enableXfa:P,ownerDocument:E,disableAutoFetch:I,pdfBug:M,styleElement:null};return h.promise.then((function(){if(r.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(h,z),t=new Promise((function(e){let t;var n;d?t=new _transport_stream.PDFDataTransportStream({length:F,initialData:d.initialData,progressiveDone:d.progressiveDone,contentDispositionFilename:d.contentDispositionFilename,disableRange:T,disableStream:N},d):s||(n={url:a,length:F,httpHeaders:o,withCredentials:l,rangeChunkSize:u,disableRange:T,disableStream:N},t=_util.isNodeJS?new _displayNode_stream.PDFNodeStream(n):(0,_display_utils.isValidFetchUrl)(n.url)?new _displayFetch_stream.PDFFetchStream(n):new _displayNetwork.PDFNetworkStream(n)),e(t)}));return Promise.all([e,t]).then((function(e){let[t,n]=e;if(r.destroyed)throw new Error("Loading aborted");const a=new _message_handler.MessageHandler(i,t,h.port),s=new WorkerTransport(a,r,n,G,O);r._transport=s,a.send("Ready",null)}))})).catch(r._capability.reject),r}async function _fetchDocument(e,t){if(e.destroyed)throw new Error("Worker was destroyed");const n=await e.messageHandler.sendWithPromise("GetDocRequest",t,t.data?[t.data.buffer]:null);if(e.destroyed)throw new Error("Worker was destroyed");return n}function getUrlProp(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(_util.isNodeJS&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(e){if(_util.isNodeJS&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return(0,_util.stringToBytes)(e);if("object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length)||(0,_util.isArrayBuffer)(e))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{constructor(){var e,t;this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d".concat((_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(e=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),t=e++,e)),t)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{var e,t;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(t=this._transport)||void 0===t?void 0:t.destroy())}catch(r){var n;throw null!==(n=this._worker)&&void 0!==n&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then((e=>{if(!e)return e;const t=[];for(const n in e)t.push(...e[n]);return t})))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;var _delayedCleanupTimeout=new WeakMap,_pendingCleanup=new WeakMap,_tryCleanup=new WeakSet,_abortDelayedCleanup=new WeakSet;class PDFPageProxy{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classPrivateMethodInitSpec(this,_abortDelayedCleanup),_classPrivateMethodInitSpec(this,_tryCleanup),_classPrivateFieldInitSpec(this,_delayedCleanupTimeout,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pendingCleanup,{writable:!0,value:!1}),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new _display_utils.StatTimer:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n;let{canvasContext:r,viewport:i,intent:a="display",annotationMode:s=_util.AnnotationMode.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:u=null,printAnnotationStorage:h=null}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const f=this._transport.getRenderingIntent(a,s,h);_classPrivateFieldSet(this,_pendingCleanup,!1),_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),c||(c=this._transport.getOptionalContentConfig());let p=this._intentStates.get(f.cacheKey);p||(p=Object.create(null),this._intentStates.set(f.cacheKey,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const g=!!(f.renderingIntent&_util.RenderingIntentFlag.PRINT);var m;p.displayReadyCapability||(p.displayReadyCapability=new _util.PromiseCapability,p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(m=this._stats)||void 0===m||m.time("Page Request"),this._pumpOperatorList(f));const v=e=>{var t,n;p.renderTasks.delete(b),(this._maybeCleanupAfterRender||g)&&_classPrivateFieldSet(this,_pendingCleanup,!0),_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!g),e?(b.capability.reject(e),this._abortOperatorList({intentState:p,reason:e instanceof Error?e:new Error(e)})):b.capability.resolve(),null===(t=this._stats)||void 0===t||t.timeEnd("Rendering"),null===(n=this._stats)||void 0===n||n.timeEnd("Overall")},b=new InternalRenderTask({callback:v,params:{canvasContext:r,viewport:i,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:u});((n=p).renderTasks||(n.renderTasks=new Set)).add(b);const y=b.task;return Promise.all([p.displayReadyCapability.promise,c]).then((e=>{var t;let[n,r]=e;this.destroyed?v():(null===(t=this._stats)||void 0===t||t.time("Rendering"),b.initializeGraphics({transparency:n,optionalContentConfig:r}),b.operatorListChanged())})).catch(v),y}getOperatorList(){let{intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._transport.getRenderingIntent(e,t,n,!0);let i,a=this._intentStates.get(r.cacheKey);var s,o;return a||(a=Object.create(null),this._intentStates.set(r.cacheKey,a)),a.opListReadCapability||(i=Object.create(null),i.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(i))},a.opListReadCapability=new _util.PromiseCapability,((s=a).renderTasks||(s.renderTasks=new Set)).add(i),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(o=this._stats)||void 0===o||o.time("Page Request"),this._pumpOperatorList(r)),a.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>_xfa_text.XfaText.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){let{value:r,done:a}=n;a?e(i):(Object.assign(i.styles,r.styles),i.items.push(...r.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),_classPrivateFieldSet(this,_pendingCleanup,!1),_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classPrivateFieldSet(this,_pendingCleanup,!0);const t=_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!1);return e&&t&&this._stats&&(this._stats=new _display_utils.StatTimer),t}_startRenderPage(e,t){var n,r;const i=this._intentStates.get(t);i&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(r=i.displayReadyCapability)||void 0===r||r.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:r}=e;const{map:i,transfers:a}=r,s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:i},a).getReader(),o=this._intentStates.get(n);o.streamReader=s;const l=()=>{s.read().then((e=>{let{value:t,done:n}=e;n?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,o),l())}),(e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}}))};l()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException){let e=RENDERING_CANCELLED_TIMEOUT;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new _util.AbortException(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function _tryCleanup2(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),!_classPrivateFieldGet(this,_pendingCleanup)||this.destroyed)return!1;if(e)return _classPrivateFieldSet(this,_delayedCleanupTimeout,setTimeout((()=>{_classPrivateFieldSet(this,_delayedCleanupTimeout,null),_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!1)}),DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_classPrivateFieldSet(this,_pendingCleanup,!1),!0}function _abortDelayedCleanup2(){_classPrivateFieldGet(this,_delayedCleanupTimeout)&&(clearTimeout(_classPrivateFieldGet(this,_delayedCleanupTimeout)),_classPrivateFieldSet(this,_delayedCleanupTimeout,null))}exports.PDFPageProxy=PDFPageProxy;var _listeners=new WeakMap,_deferred=new WeakMap;class LoopbackPort{constructor(){_classPrivateFieldInitSpec(this,_listeners,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,_deferred,{writable:!0,value:Promise.resolve()})}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};_classPrivateFieldGet(this,_deferred).then((()=>{for(const e of _classPrivateFieldGet(this,_listeners))e.call(this,n)}))}addEventListener(e,t){_classPrivateFieldGet(this,_listeners).add(t)}removeEventListener(e,t){_classPrivateFieldGet(this,_listeners).delete(t)}terminate(){_classPrivateFieldGet(this,_listeners).clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_util.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document){var _document;const e=null===(_document=document)||void 0===_document||null===(_document=_document.currentScript)||void 0===_document?void 0:_document.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(e){const t='importScripts("'.concat(e,'");');return URL.createObjectURL(new Blob([t]))};class PDFWorker{constructor(){let{name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,t){var r;if(null!==(r=_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts))&&void 0!==r&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts)||_classStaticPrivateFieldSpecSet(PDFWorker,PDFWorker,_workerPorts,new WeakMap)).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:e}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),r=()=>{t.removeEventListener("error",i),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};t.addEventListener("error",i),n.on("test",(e=>{t.removeEventListener("error",i),this.destroyed?r():e?(this._messageHandler=n,this._port=t,this._webWorker=t,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())})),n.on("ready",(e=>{if(t.removeEventListener("error",i),this.destroyed)r();else try{a()}catch{this._setupFakeWorker()}}));const a=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void a()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const n="fake".concat(PDFWorkerUtil.fakeWorkerId++),r=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(r,t);const i=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))}))}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(e=_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts))||void 0===e||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var t;if(null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=null===(t=_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts))||void 0===t?void 0:t.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:void 0};exports.PDFWorker=PDFWorker;var _methodPromises=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_passwordCapability=new WeakMap,_cacheSimpleMethod=new WeakSet;class WorkerTransport{constructor(e,t,n,r,i){_classPrivateMethodInitSpec(this,_cacheSimpleMethod),_classPrivateFieldInitSpec(this,_methodPromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_passwordCapability,{writable:!0,value:null}),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=_util.RenderingIntentFlag.DISPLAY,a=_annotation_storage.SerializableEmpty;switch(e){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(e))}switch(t){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,a=(i&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(t))}return r&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:"".concat(i,"_").concat(a.hash),annotationStorageSerializable:a}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,null===(e=_classPrivateFieldGet(this,_passwordCapability))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of _classPrivateFieldGet(this,_pageCache).values())t.push(r._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then((()=>{var e;this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldGet(this,_methodPromises).clear(),this.filterFactory.destroy(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,_util.assert)(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=new _util.PromiseCapability,r=this._fullReader;return r.headersReady.then((()=>{var e;r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&(null===(e=t.onProgress)||void 0===e||e.call(t,this._lastProgress)),r.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})});n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,_util.assert)(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(_classPrivateFieldSet(this,_passwordCapability,new _util.PromiseCapability),t.onPassword){const r=e=>{e instanceof Error?_classPrivateFieldGet(this,_passwordCapability).reject(e):_classPrivateFieldGet(this,_passwordCapability).resolve({password:e})};try{t.onPassword(r,e.code)}catch(n){_classPrivateFieldGet(this,_passwordCapability).reject(n)}}else _classPrivateFieldGet(this,_passwordCapability).reject(new _util.PasswordException(e.message,e.code));return _classPrivateFieldGet(this,_passwordCapability).promise})),e.on("DataLoaded",(e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{var n;let[r,i,a]=t;if(!this.destroyed&&!this.commonObjs.has(r))switch(i){case"Font":const t=this._params;if("error"in a){const e=a.error;(0,_util.warn)("Error during font loading: ".concat(e)),this.commonObjs.resolve(r,e);break}const s=t.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,o=new _font_loader.FontFaceObject(a,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,inspectFont:s});this.fontLoader.bind(o).catch((t=>e.sendWithPromise("FontFallback",{id:r}))).finally((()=>{!t.fontExtraProperties&&o.data&&(o.data=null),this.commonObjs.resolve(r,o)}));break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error("Got unknown common object type ".concat(i))}})),e.on("obj",(e=>{let[t,n,r,i]=e;if(this.destroyed)return;const a=_classPrivateFieldGet(this,_pageCache).get(n);if(!a.objs.has(t))switch(r){case"Image":if(a.objs.resolve(t,i),i){let e;if(i.bitmap){const{width:t,height:n}=i;e=t*n*4}else{var s;e=(null===(s=i.data)||void 0===s?void 0:s.length)||0}e>_util.MAX_IMAGE_SIZE_TO_CACHE&&(a._maybeCleanupAfterRender=!0)}break;case"Pattern":a.objs.resolve(t,i);break;default:throw new Error("Got unknown object type ".concat(r))}})),e.on("DocProgress",(e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfers:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},r).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=_classPrivateFieldGet(this,_pagePromises).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(t,e,this,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(t,n),n}));return _classPrivateFieldGet(this,_pagePromises).set(t,r),r}getPageIndex(e){return"object"!==typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"GetFieldObjects")}hasJSActions(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((e=>new _optional_content_config.OptionalContentConfig(e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=_classPrivateFieldGet(this,_methodPromises).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>{var t,n,r,i;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(r=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==r?r:null}}));return _classPrivateFieldGet(this,_methodPromises).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of _classPrivateFieldGet(this,_pageCache).values())if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."));this.commonObjs.clear(),e||this.fontLoader.clear(),_classPrivateFieldGet(this,_methodPromises).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:e,enableXfa:t}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:t})}}function _cacheSimpleMethod2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=_classPrivateFieldGet(this,_methodPromises).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return _classPrivateFieldGet(this,_methodPromises).set(e,r),r}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,e);return n.capability.promise.then((()=>t(n.data))),null}const n=_classPrivateFieldGet(this,_objs)[e];if(null===n||void 0===n||!n.capability.settled)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}has(e){const t=_classPrivateFieldGet(this,_objs)[e];return(null===t||void 0===t?void 0:t.capability.settled)||!1}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,e);n.data=t,n.capability.resolve()}clear(){for(const t in _classPrivateFieldGet(this,_objs)){var e;const{data:n}=_classPrivateFieldGet(this,_objs)[t];null===n||void 0===n||null===(e=n.bitmap)||void 0===e||e.close()}_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(e){var t;return(t=_classPrivateFieldGet(this,_objs))[e]||(t[e]={capability:new _util.PromiseCapability,data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(e){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,e),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_classPrivateFieldGet(this,_internalRenderTask).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=_classPrivateFieldGet(this,_internalRenderTask);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(e){let{callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:u=!1,pageColors:h=null}=e;this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){var t,n;let{transparency:r=!1,optionalContentConfig:i}=e;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:s,transform:o,background:l}=this.params;this.gfx=new _canvas.CanvasGraphics(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:r,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),n))}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback())))}}var _canvasInUse={writable:!0,value:new WeakSet};const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var r=n(1),i=n(4),a=n(8);const s=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=s;var o=new WeakMap,l=new WeakMap,c=new WeakSet;class d{constructor(){_classPrivateMethodInitSpec(this,c),_classPrivateFieldInitSpec(this,o,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,l,{writable:!0,value:new Map}),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=_classPrivateFieldGet(this,l).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return _classPrivateFieldGet(this,l).get(e)}remove(e){if(_classPrivateFieldGet(this,l).delete(e),0===_classPrivateFieldGet(this,l).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of _classPrivateFieldGet(this,l).values())if(e instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=_classPrivateFieldGet(this,l).get(e);let r=!1;if(void 0!==n)for(const[i,a]of Object.entries(t))n[i]!==a&&(r=!0,n[i]=a);else r=!0,_classPrivateFieldGet(this,l).set(e,t);r&&_classPrivateMethodGet(this,c,u).call(this),t instanceof i.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return _classPrivateFieldGet(this,l).has(e)}getAll(){return _classPrivateFieldGet(this,l).size>0?(0,r.objectFromMap)(_classPrivateFieldGet(this,l)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return _classPrivateFieldGet(this,l).size}resetModified(){_classPrivateFieldGet(this,o)&&(_classPrivateFieldSet(this,o,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new f(this)}get serializable(){if(0===_classPrivateFieldGet(this,l).size)return s;const e=new Map,t=new a.MurmurHash3_64,n=[],r=Object.create(null);let o=!1;for(const[a,s]of _classPrivateFieldGet(this,l)){const n=s instanceof i.AnnotationEditor?s.serialize(!1,r):s;n&&(e.set(a,n),t.update("".concat(a,":").concat(JSON.stringify(n))),o||(o=!!n.bitmap))}if(o)for(const i of e.values())i.bitmap&&n.push(i.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfers:n}:s}}function u(){_classPrivateFieldGet(this,o)||(_classPrivateFieldSet(this,o,!0),"function"===typeof this.onSetModified&&this.onSetModified())}t.AnnotationStorage=d;var h=new WeakMap;class f extends d{constructor(e){super(),_classPrivateFieldInitSpec(this,h,{writable:!0,value:void 0});const{map:t,hash:n,transfers:r}=e.serializable,i=structuredClone(t,r?{transfer:r}:null);_classPrivateFieldSet(this,h,{map:i,hash:n,transfers:r})}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _classPrivateFieldGet(this,h)}}t.PrintAnnotationStorage=f},(e,t,n)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var i=n(5),a=n(1),s=n(6),o=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakMap,x=new WeakMap,w=new WeakSet,k=new WeakSet,_=new WeakSet,S=new WeakSet,C=new WeakSet,A=new WeakSet,P=new WeakSet,E=new WeakSet;class T{constructor(e){_classPrivateMethodInitSpec(this,E),_classPrivateMethodInitSpec(this,P),_classPrivateMethodInitSpec(this,A),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,_),_classPrivateMethodInitSpec(this,k),_classPrivateMethodInitSpec(this,w),_classPrivateFieldInitSpec(this,o,{writable:!0,value:""}),_classPrivateFieldInitSpec(this,l,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:this.focusin.bind(this)}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:this.focusout.bind(this)}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,b,{writable:!0,value:!1}),_defineProperty(this,"_initialOptions",Object.create(null)),_defineProperty(this,"_uiManager",null),_defineProperty(this,"_focusEventsAllowed",!0),_defineProperty(this,"_l10nPromise",null),_classPrivateFieldInitSpec(this,y,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:T._zIndex++}),this.constructor===T&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[i,s];const[N,I]=this.parentDimensions;this.x=e.x/N,this.y=e.y/I,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new z({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(T._l10nPromise||(T._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map((t=>[t,e.get(t)])))),null!==t&&void 0!==t&&t.strings)for(const r of t.strings)T._l10nPromise.set(r,e.get(r));if(-1!==T._borderLineWidth)return;const n=getComputedStyle(document.documentElement);T._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){(0,a.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _classPrivateFieldGet(this,y)}set _isDraggable(e){var t;_classPrivateFieldSet(this,y,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_classPrivateFieldGet(this,x)}setParent(e){null!==e&&(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions),this.parent=e}focusin(e){this._focusEventsAllowed&&(_classPrivateFieldGet(this,m)?_classPrivateFieldSet(this,m,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[i,a]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/a,this.fixAndSetPosition()}translate(e,t){_classPrivateMethodGet(this,w,N).call(this,this.parentDimensions,e,t)}translateInPage(e,t){_classPrivateMethodGet(this,w,N).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:a}=this;const[s,o]=_classPrivateMethodGet(this,k,I).call(this);i+=s,a+=o,this.div.style.left="".concat((100*i).toFixed(2),"%"),this.div.style.top="".concat((100*a).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[e,t]=this.pageDimensions;let{x:n,y:r,width:i,height:a}=this;switch(i*=e,a*=t,n*=e,r*=t,this.rotation){case 0:n=Math.max(0,Math.min(e-i,n)),r=Math.max(0,Math.min(t-a,r));break;case 90:n=Math.max(0,Math.min(e-a,n)),r=Math.min(t,Math.max(i,r));break;case 180:n=Math.min(e,Math.max(i,n)),r=Math.min(t,Math.max(a,r));break;case 270:n=Math.min(e,Math.max(a,n)),r=Math.max(0,Math.min(t-i,r))}this.x=n/=e,this.y=r/=t;const[s,o]=_classPrivateMethodGet(this,k,I).call(this);n+=s,r+=o;const{style:l}=this.div;l.left="".concat((100*n).toFixed(2),"%"),l.top="".concat((100*r).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return _classStaticPrivateMethodGet(T,T,M).call(T,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return _classStaticPrivateMethodGet(T,T,M).call(T,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,r=t*e,i=n*e;return a.FeatureTest.isCSSRoundSupported?[Math.round(r),Math.round(i)]:[r,i]}setDims(e,t){var n;const[r,i]=this.parentDimensions;this.div.style.width="".concat((100*e/r).toFixed(2),"%"),_classPrivateFieldGet(this,h)||(this.div.style.height="".concat((100*t/i).toFixed(2),"%")),null===(n=_classPrivateFieldGet(this,c))||void 0===n||n.classList.toggle("small",e<T.SMALL_EDITOR_SIZE||t<T.SMALL_EDITOR_SIZE)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),i=!_classPrivateFieldGet(this,h)&&t.endsWith("%");if(r&&i)return;const[a,s]=this.parentDimensions;r||(e.width="".concat((100*parseFloat(n)/a).toFixed(2),"%")),_classPrivateFieldGet(this,h)||i||(e.height="".concat((100*parseFloat(t)/s).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(_classPrivateFieldGet(this,c))return;const e=_classPrivateFieldSet(this,c,document.createElement("button"));e.className="altText";const t=await T._l10nPromise.get("editor_alt_text_button_label");if(e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",s.noContextMenu),e.addEventListener("pointerdown",(e=>e.stopPropagation())),e.addEventListener("click",(e=>{e.preventDefault(),this._uiManager.editAltText(this)}),{capture:!0}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&(t.preventDefault(),this._uiManager.editAltText(this))})),_classPrivateMethodGet(this,P,D).call(this),this.div.append(e),!T.SMALL_EDITOR_SIZE){const t=40;T.SMALL_EDITOR_SIZE=Math.min(128,Math.round(e.getBoundingClientRect().width*(1+t/100)))}}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:_classPrivateFieldGet(this,o),decorative:_classPrivateFieldGet(this,l)}}set altTextData(e){let{altText:t,decorative:n}=e;_classPrivateFieldGet(this,o)===t&&_classPrivateFieldGet(this,l)===n||(_classPrivateFieldSet(this,o,t),_classPrivateFieldSet(this,l,n),_classPrivateMethodGet(this,P,D).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(this,p)),this.div.addEventListener("focusout",_classPrivateFieldGet(this,g));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*t/e).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*e/t).toFixed(2),"%"));const[n,r]=this.getInitialTranslation();return this.translate(n,r),(0,i.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=a.FeatureTest.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(_classPrivateFieldSet(this,m,!0),_classPrivateMethodGet(this,E,O).call(this,e))}moveInDOM(){var e;null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){const n=this.parentScale,[r,i]=this.pageDimensions,[a,s]=this.pageTranslation,o=e/n,l=t/n,c=this.x*r,d=this.y*i,u=this.width*r,h=this.height*i;switch(this.rotation){case 0:return[c+o+a,i-d-l-h+s,c+o+u+a,i-d-l+s];case 90:return[c+l+a,i-d+o+s,c+l+h+a,i-d+o+u+s];case 180:return[c-o-u+a,i-d+l+s,c-o+a,i-d+l+h+s];case 270:return[c-l-h+a,i-d-o-u+s,c-l+a,i-d-o+s];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,a]=e,s=i-n,o=a-r;switch(this.rotation){case 0:return[n,t-a,s,o];case 90:return[n,t-r,o,s];case 180:return[i,t-r,s,o];case 270:return[i,t-a,o,s];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_classPrivateFieldSet(this,b,!0)}disableEditMode(){_classPrivateFieldSet(this,b,!1)}isInEditMode(){return _classPrivateFieldGet(this,b)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;null===(e=this.div)||void 0===e||e.addEventListener("focusin",_classPrivateFieldGet(this,p)),null===(t=this.div)||void 0===t||t.addEventListener("focusout",_classPrivateFieldGet(this,g))}serialize(){(0,a.unreachable)("An editor must be serializable")}static deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation;const[i,a]=r.pageDimensions,[s,o,l,c]=r.getRectInCurrentCoords(e.rect,a);return r.x=s/i,r.y=o/a,r.width=l/i,r.height=c/a,r}remove(){var e;this.div.removeEventListener("focusin",_classPrivateFieldGet(this,p)),this.div.removeEventListener("focusout",_classPrivateFieldGet(this,g)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),null===(e=_classPrivateFieldGet(this,c))||void 0===e||e.remove(),_classPrivateFieldSet(this,c,null),_classPrivateFieldSet(this,d,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(_classPrivateMethodGet(this,S,R).call(this),_classPrivateFieldGet(this,f).classList.remove("hidden"))}select(){var e;this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor")}unselect(){var e,t,n;null===(e=_classPrivateFieldGet(this,f))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(e,t){}disableEditing(){_classPrivateFieldGet(this,c)&&(_classPrivateFieldGet(this,c).hidden=!0)}enableEditing(){_classPrivateFieldGet(this,c)&&(_classPrivateFieldGet(this,c).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return _classPrivateFieldGet(this,v)}set isEditing(e){_classPrivateFieldSet(this,v,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){_classPrivateFieldSet(this,h,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}}function N(e,t,n){let[r,i]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/r,this.y+=n/i,this.fixAndSetPosition()}function I(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=r,i=n/e,a=n/t;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}function M(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function F(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function R(){if(_classPrivateFieldGet(this,f))return;_classPrivateFieldSet(this,f,document.createElement("div")),_classPrivateFieldGet(this,f).classList.add("resizers");const e=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||e.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const t of e){const e=document.createElement("div");_classPrivateFieldGet(this,f).append(e),e.classList.add("resizer",t),e.addEventListener("pointerdown",_classPrivateMethodGet(this,C,j).bind(this,t)),e.addEventListener("contextmenu",s.noContextMenu)}this.div.prepend(_classPrivateFieldGet(this,f))}function j(e,t){t.preventDefault();const{isMac:n}=a.FeatureTest.platform;if(0!==t.button||t.ctrlKey&&n)return;const r=_classPrivateMethodGet(this,A,L).bind(this,e),i=this._isDraggable;this._isDraggable=!1;const s={passive:!0,capture:!0};window.addEventListener("pointermove",r,s);const o=this.x,l=this.y,c=this.width,d=this.height,u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{this._isDraggable=i,window.removeEventListener("pointerup",f),window.removeEventListener("blur",f),window.removeEventListener("pointermove",r,s),this.parent.div.style.cursor=u,this.div.style.cursor=h;const e=this.x,t=this.y,n=this.width,a=this.height;e===o&&t===l&&n===c&&a===d||this.addCommands({cmd:()=>{this.width=n,this.height=a,this.x=e,this.y=t;const[r,i]=this.parentDimensions;this.setDims(r*n,i*a),this.fixAndSetPosition()},undo:()=>{this.width=c,this.height=d,this.x=o,this.y=l;const[e,t]=this.parentDimensions;this.setDims(e*c,t*d),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",f),window.addEventListener("blur",f)}function L(e,t){const[n,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,l=this.height,c=r.MIN_SIZE/n,d=r.MIN_SIZE/i,u=e=>Math.round(1e4*e)/1e4,h=_classPrivateMethodGet(this,_,F).call(this,this.rotation),f=(e,t)=>[h[0]*e+h[2]*t,h[1]*e+h[3]*t],p=_classPrivateMethodGet(this,_,F).call(this,360-this.rotation);let g,m,v=!1,b=!1;switch(e){case"topLeft":v=!0,g=(e,t)=>[0,0],m=(e,t)=>[e,t];break;case"topMiddle":g=(e,t)=>[e/2,0],m=(e,t)=>[e/2,t];break;case"topRight":v=!0,g=(e,t)=>[e,0],m=(e,t)=>[0,t];break;case"middleRight":b=!0,g=(e,t)=>[e,t/2],m=(e,t)=>[0,t/2];break;case"bottomRight":v=!0,g=(e,t)=>[e,t],m=(e,t)=>[0,0];break;case"bottomMiddle":g=(e,t)=>[e/2,t],m=(e,t)=>[e/2,0];break;case"bottomLeft":v=!0,g=(e,t)=>[0,t],m=(e,t)=>[e,0];break;case"middleLeft":b=!0,g=(e,t)=>[0,t/2],m=(e,t)=>[e,t/2]}const y=g(o,l),x=m(o,l);let w=f(...x);const k=u(a+w[0]),S=u(s+w[1]);let C=1,A=1,[P,E]=this.screenToPageTranslation(t.movementX,t.movementY);var T,N;if([P,E]=(T=P/n,N=E/i,[p[0]*T+p[2]*N,p[1]*T+p[3]*N]),v){const e=Math.hypot(o,l);C=A=Math.max(Math.min(Math.hypot(x[0]-y[0]-P,x[1]-y[1]-E)/e,1/o,1/l),c/o,d/l)}else b?C=Math.max(c,Math.min(1,Math.abs(x[0]-y[0]-P)))/o:A=Math.max(d,Math.min(1,Math.abs(x[1]-y[1]-E)))/l;const I=u(o*C),M=u(l*A);w=f(...m(I,M));const R=k-w[0],j=S-w[1];this.width=I,this.height=M,this.x=R,this.y=j,this.setDims(n*I,i*M),this.fixAndSetPosition()}async function D(){const e=_classPrivateFieldGet(this,c);if(!e)return;var t;if(!_classPrivateFieldGet(this,o)&&!_classPrivateFieldGet(this,l))return e.classList.remove("done"),void(null===(t=_classPrivateFieldGet(this,d))||void 0===t||t.remove());r._l10nPromise.get("editor_alt_text_edit_button_label").then((t=>{e.setAttribute("aria-label",t)}));let n=_classPrivateFieldGet(this,d);if(!n){_classPrivateFieldSet(this,d,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const t=n.id="alt-text-tooltip-".concat(this.id);e.setAttribute("aria-describedby",t);const r=100;e.addEventListener("mouseenter",(()=>{_classPrivateFieldSet(this,u,setTimeout((()=>{_classPrivateFieldSet(this,u,null),_classPrivateFieldGet(this,d).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})}),r))})),e.addEventListener("mouseleave",(()=>{var e;clearTimeout(_classPrivateFieldGet(this,u)),_classPrivateFieldSet(this,u,null),null===(e=_classPrivateFieldGet(this,d))||void 0===e||e.classList.remove("show")}))}e.classList.add("done"),n.innerText=_classPrivateFieldGet(this,l)?await r._l10nPromise.get("editor_alt_text_decorative_tooltip"):_classPrivateFieldGet(this,o),n.parentNode||e.append(n)}function O(e){if(!this._isDraggable)return;const t=this._uiManager.isSelected(this);let n,r;this._uiManager.setUpDragSession(),t&&(n={passive:!0,capture:!0},r=e=>{const[t,n]=this.screenToPageTranslation(e.movementX,e.movementY);this._uiManager.dragSelectedEditors(t,n)},window.addEventListener("pointermove",r,n));const i=()=>{if(window.removeEventListener("pointerup",i),window.removeEventListener("blur",i),t&&window.removeEventListener("pointermove",r,n),_classPrivateFieldSet(this,m,!1),!this._uiManager.endDragSession()){const{isMac:t}=a.FeatureTest.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",i),window.addEventListener("blur",i)}r=T,_defineProperty(T,"_borderLineWidth",-1),_defineProperty(T,"_colorManager",new i.ColorManager),_defineProperty(T,"_zIndex",1),_defineProperty(T,"SMALL_EDITOR_SIZE",0),t.AnnotationEditor=T;class z extends T{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,t,n)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=function(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))},t.opacityToHex=function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")};var i=n(1),a=n(6),s=new WeakMap;class o{constructor(){_classPrivateFieldInitSpec(this,s,{writable:!0,value:0})}getId(){var e,t;return"".concat(i.AnnotationEditorPrefix).concat((_classPrivateFieldSet(this,s,(e=_classPrivateFieldGet(this,s),t=e++,e)),t))}}var l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakSet;class h{constructor(){_classPrivateMethodInitSpec(this,u),_classPrivateFieldInitSpec(this,l,{writable:!0,value:(0,i.getUuid)()}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:null})}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d"),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';const n=t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])));return(0,i.shadow)(this,"_isSVGFittingCanvas",n)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:i}=e;return _classPrivateMethodGet(this,u,f).call(this,"".concat(t,"_").concat(n,"_").concat(r,"_").concat(i),e)}async getFromUrl(e){return _classPrivateMethodGet(this,u,f).call(this,e,e)}async getFromId(e){_classPrivateFieldGet(this,d)||_classPrivateFieldSet(this,d,new Map);const t=_classPrivateFieldGet(this,d).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=_classPrivateFieldGet(this,d).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){_classPrivateFieldGet(this,d)||_classPrivateFieldSet(this,d,new Map);const t=_classPrivateFieldGet(this,d).get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith("image_".concat(_classPrivateFieldGet(this,l),"_"))}}async function f(e,t){var n;_classPrivateFieldGet(this,d)||_classPrivateFieldSet(this,d,new Map);let i=_classPrivateFieldGet(this,d).get(e);if(null===i)return null;if(null!==(n=i)&&void 0!==n&&n.bitmap)return i.refCounter+=1,i;try{var a,s;let e;if(i||(i={bitmap:null,id:"image_".concat(_classPrivateFieldGet(this,l),"_").concat((_classPrivateFieldSet(this,c,(a=_classPrivateFieldGet(this,c),s=a++,a)),s)),refCounter:0,isSvg:!1}),"string"===typeof t){i.url=t;const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);e=await n.blob()}else e=i.file=t;if("image/svg+xml"===e.type){const t=r._isSVGFittingCanvas,n=new FileReader,a=new Image,s=new Promise(((e,r)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,e()},n.onload=async()=>{const e=i.svgUrl=n.result;a.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},a.onerror=n.onerror=r}));n.readAsDataURL(e),await s}else i.bitmap=await createImageBitmap(e);i.refCounter=1}catch(o){console.error(o),i=null}return _classPrivateFieldGet(this,d).set(e,i),i&&_classPrivateFieldGet(this,d).set(i.id,i),i}r=h;var p=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap;class b{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;_classPrivateFieldInitSpec(this,p,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:-1}),_classPrivateFieldSet(this,m,e)}add(e){let{cmd:t,undo:n,mustExec:r,type:i=NaN,overwriteIfSameType:a=!1,keepUndo:s=!1}=e;if(r&&t(),_classPrivateFieldGet(this,g))return;const o={cmd:t,undo:n,type:i};if(-1===_classPrivateFieldGet(this,v))return _classPrivateFieldGet(this,p).length>0&&(_classPrivateFieldGet(this,p).length=0),_classPrivateFieldSet(this,v,0),void _classPrivateFieldGet(this,p).push(o);if(a&&_classPrivateFieldGet(this,p)[_classPrivateFieldGet(this,v)].type===i)return s&&(o.undo=_classPrivateFieldGet(this,p)[_classPrivateFieldGet(this,v)].undo),void(_classPrivateFieldGet(this,p)[_classPrivateFieldGet(this,v)]=o);const l=_classPrivateFieldGet(this,v)+1;l===_classPrivateFieldGet(this,m)?_classPrivateFieldGet(this,p).splice(0,1):(_classPrivateFieldSet(this,v,l),l<_classPrivateFieldGet(this,p).length&&_classPrivateFieldGet(this,p).splice(l)),_classPrivateFieldGet(this,p).push(o)}undo(){-1!==_classPrivateFieldGet(this,v)&&(_classPrivateFieldSet(this,g,!0),_classPrivateFieldGet(this,p)[_classPrivateFieldGet(this,v)].undo(),_classPrivateFieldSet(this,g,!1),_classPrivateFieldSet(this,v,_classPrivateFieldGet(this,v)-1))}redo(){_classPrivateFieldGet(this,v)<_classPrivateFieldGet(this,p).length-1&&(_classPrivateFieldSet(this,v,_classPrivateFieldGet(this,v)+1),_classPrivateFieldSet(this,g,!0),_classPrivateFieldGet(this,p)[_classPrivateFieldGet(this,v)].cmd(),_classPrivateFieldSet(this,g,!1))}hasSomethingToUndo(){return-1!==_classPrivateFieldGet(this,v)}hasSomethingToRedo(){return _classPrivateFieldGet(this,v)<_classPrivateFieldGet(this,p).length-1}destroy(){_classPrivateFieldSet(this,p,null)}}t.CommandManager=b;var y=new WeakSet;class x{constructor(e){_classPrivateMethodInitSpec(this,y),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=i.FeatureTest.platform;for(const[n,r,i={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(_classPrivateMethodGet(this,y,w).call(this,t));if(!n)return;const{callback:r,options:{bubbles:i=!1,args:a=[],checker:s=null}}=n;s&&!s(e,t)||(r.bind(e,...a)(),i||(t.stopPropagation(),t.preventDefault()))}}function w(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}t.KeyboardManager=x;class k{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(e),(0,i.shadow)(this,"_colors",e)}convert(e){const t=(0,a.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every(((e,n)=>e===t[n])))return k._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?i.Util.makeHexColor(...t):e}}_defineProperty(k,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),t.ColorManager=k;var _=new WeakMap,S=new WeakMap,C=new WeakMap,A=new WeakMap,P=new WeakMap,E=new WeakMap,T=new WeakMap,N=new WeakMap,I=new WeakMap,M=new WeakMap,F=new WeakMap,R=new WeakMap,j=new WeakMap,L=new WeakMap,D=new WeakMap,O=new WeakMap,z=new WeakMap,G=new WeakMap,B=new WeakMap,U=new WeakMap,W=new WeakMap,H=new WeakMap,V=new WeakMap,Y=new WeakMap,X=new WeakMap,q=new WeakMap,K=new WeakMap,Q=new WeakMap,J=new WeakMap,$=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakSet,ie=new WeakSet,ae=new WeakSet,se=new WeakSet,oe=new WeakSet,le=new WeakSet,ce=new WeakSet,de=new WeakSet,ue=new WeakSet,he=new WeakSet,fe=new WeakSet,pe=new WeakSet,ge=new WeakSet;class me{static get _keyboardManager(){const e=me.prototype,t=e=>{const{activeElement:t}=document;return t&&_classPrivateFieldGet(e,te).contains(t)&&e.hasSomethingToControl()},n=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new x([[["ctrl+a","mac+meta+a"],e.selectAll],[["ctrl+z","mac+meta+z"],e.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}constructor(e,t,n,r,s,l){_classPrivateMethodInitSpec(this,ge),_classPrivateMethodInitSpec(this,pe),_classPrivateMethodInitSpec(this,fe),_classPrivateMethodInitSpec(this,he),_classPrivateMethodInitSpec(this,ue),_classPrivateMethodInitSpec(this,de),_classPrivateMethodInitSpec(this,ce),_classPrivateMethodInitSpec(this,le),_classPrivateMethodInitSpec(this,oe),_classPrivateMethodInitSpec(this,se),_classPrivateMethodInitSpec(this,ae),_classPrivateMethodInitSpec(this,ie),_classPrivateMethodInitSpec(this,re),_classPrivateFieldInitSpec(this,_,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,S,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,C,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,A,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,E,{writable:!0,value:new b}),_classPrivateFieldInitSpec(this,T,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,I,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,j,{writable:!0,value:new o}),_classPrivateFieldInitSpec(this,L,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,z,{writable:!0,value:i.AnnotationEditorType.NONE}),_classPrivateFieldInitSpec(this,G,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,U,{writable:!0,value:this.blur.bind(this)}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:this.focus.bind(this)}),_classPrivateFieldInitSpec(this,H,{writable:!0,value:this.copy.bind(this)}),_classPrivateFieldInitSpec(this,V,{writable:!0,value:this.cut.bind(this)}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:this.paste.bind(this)}),_classPrivateFieldInitSpec(this,X,{writable:!0,value:this.keydown.bind(this)}),_classPrivateFieldInitSpec(this,q,{writable:!0,value:this.onEditingAction.bind(this)}),_classPrivateFieldInitSpec(this,K,{writable:!0,value:this.onPageChanging.bind(this)}),_classPrivateFieldInitSpec(this,Q,{writable:!0,value:this.onScaleChanging.bind(this)}),_classPrivateFieldInitSpec(this,J,{writable:!0,value:this.onRotationChanging.bind(this)}),_classPrivateFieldInitSpec(this,$,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),_classPrivateFieldInitSpec(this,Z,{writable:!0,value:[0,0]}),_classPrivateFieldInitSpec(this,ee,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,te,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,ne,{writable:!0,value:null}),_classPrivateFieldSet(this,te,e),_classPrivateFieldSet(this,ne,t),_classPrivateFieldSet(this,A,n),this._eventBus=r,this._eventBus._on("editingaction",_classPrivateFieldGet(this,q)),this._eventBus._on("pagechanging",_classPrivateFieldGet(this,K)),this._eventBus._on("scalechanging",_classPrivateFieldGet(this,Q)),this._eventBus._on("rotationchanging",_classPrivateFieldGet(this,J)),_classPrivateFieldSet(this,P,s.annotationStorage),_classPrivateFieldSet(this,R,s.filterFactory),_classPrivateFieldSet(this,B,l),this.viewParameters={realScale:a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){_classPrivateMethodGet(this,se,xe).call(this),_classPrivateMethodGet(this,ie,be).call(this),this._eventBus._off("editingaction",_classPrivateFieldGet(this,q)),this._eventBus._off("pagechanging",_classPrivateFieldGet(this,K)),this._eventBus._off("scalechanging",_classPrivateFieldGet(this,Q)),this._eventBus._off("rotationchanging",_classPrivateFieldGet(this,J));for(const e of _classPrivateFieldGet(this,C).values())e.destroy();_classPrivateFieldGet(this,C).clear(),_classPrivateFieldGet(this,S).clear(),_classPrivateFieldGet(this,F).clear(),_classPrivateFieldSet(this,_,null),_classPrivateFieldGet(this,G).clear(),_classPrivateFieldGet(this,E).destroy(),_classPrivateFieldGet(this,A).destroy()}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",_classPrivateFieldGet(this,B)?_classPrivateFieldGet(this,R).addHCMFilter(_classPrivateFieldGet(this,B).foreground,_classPrivateFieldGet(this,B).background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle(_classPrivateFieldGet(this,te)).direction)}editAltText(e){var t;null===(t=_classPrivateFieldGet(this,A))||void 0===t||t.editAltText(this,e)}onPageChanging(e){let{pageNumber:t}=e;_classPrivateFieldSet(this,T,t-1)}focusMainContainer(){_classPrivateFieldGet(this,te).focus()}findParent(e,t){for(const n of _classPrivateFieldGet(this,C).values()){const{x:r,y:i,width:a,height:s}=n.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=i&&t<=i+s)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classPrivateFieldGet(this,ne).classList.toggle("noUserSelect",e)}addShouldRescale(e){_classPrivateFieldGet(this,F).add(e)}removeShouldRescale(e){_classPrivateFieldGet(this,F).delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*a.PixelsPerInch.PDF_TO_CSS_UNITS;for(const n of _classPrivateFieldGet(this,F))n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}addToAnnotationStorage(e){e.isEmpty()||!_classPrivateFieldGet(this,P)||_classPrivateFieldGet(this,P).has(e.id)||_classPrivateFieldGet(this,P).setValue(e.id,e)}blur(){if(!this.hasSelection)return;const{activeElement:e}=document;for(const t of _classPrivateFieldGet(this,G))if(t.div.contains(e)){_classPrivateFieldSet(this,O,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!_classPrivateFieldGet(this,O))return;const[e,t]=_classPrivateFieldGet(this,O);_classPrivateFieldSet(this,O,null),t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0}),t.focus()}addEditListeners(){_classPrivateMethodGet(this,ae,ye).call(this),_classPrivateMethodGet(this,oe,we).call(this)}removeEditListeners(){_classPrivateMethodGet(this,se,xe).call(this),_classPrivateMethodGet(this,le,ke).call(this)}copy(e){var t;if(e.preventDefault(),null===(t=_classPrivateFieldGet(this,_))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of _classPrivateFieldGet(this,G)){const e=r.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const e of _classPrivateFieldGet(this,M))if(e.isHandlingMimeForPasting(i.type))return void e.paste(i,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){return void(0,i.warn)('paste: "'.concat(a.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const e=[];for(const a of n){const t=r.deserialize(a);if(!t)return;e.push(t)}const t=()=>{for(const t of e)_classPrivateMethodGet(this,fe,Pe).call(this,t);_classPrivateMethodGet(this,ge,Te).call(this,e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}catch(a){(0,i.warn)('paste: "'.concat(a.message,'".'))}}keydown(e){var t;null!==(t=this.getActive())&&void 0!==t&&t.shouldGetKeyboardEvents()||me._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","delete","selectAll"].includes(e.name)&&this[e.name]()}setEditingState(e){e?(_classPrivateMethodGet(this,re,ve).call(this),_classPrivateMethodGet(this,ae,ye).call(this),_classPrivateMethodGet(this,oe,we).call(this),_classPrivateMethodGet(this,ce,_e).call(this,{isEditing:_classPrivateFieldGet(this,z)!==i.AnnotationEditorType.NONE,isEmpty:_classPrivateMethodGet(this,pe,Ee).call(this),hasSomethingToUndo:_classPrivateFieldGet(this,E).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(this,E).hasSomethingToRedo(),hasSelectedEditor:!1})):(_classPrivateMethodGet(this,ie,be).call(this),_classPrivateMethodGet(this,se,xe).call(this),_classPrivateMethodGet(this,le,ke).call(this),_classPrivateMethodGet(this,ce,_e).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!_classPrivateFieldGet(this,M)){_classPrivateFieldSet(this,M,e);for(const e of _classPrivateFieldGet(this,M))_classPrivateMethodGet(this,de,Se).call(this,e.defaultPropertiesToUpdate)}}getId(){return _classPrivateFieldGet(this,j).getId()}get currentLayer(){return _classPrivateFieldGet(this,C).get(_classPrivateFieldGet(this,T))}getLayer(e){return _classPrivateFieldGet(this,C).get(e)}get currentPageIndex(){return _classPrivateFieldGet(this,T)}addLayer(e){_classPrivateFieldGet(this,C).set(e.pageIndex,e),_classPrivateFieldGet(this,L)?e.enable():e.disable()}removeLayer(e){_classPrivateFieldGet(this,C).delete(e.pageIndex)}updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(_classPrivateFieldGet(this,z)!==e){if(_classPrivateFieldSet(this,z,e),e===i.AnnotationEditorType.NONE)return this.setEditingState(!1),void _classPrivateMethodGet(this,he,Ae).call(this);this.setEditingState(!0),_classPrivateMethodGet(this,ue,Ce).call(this),this.unselectAll();for(const t of _classPrivateFieldGet(this,C).values())t.updateMode(e);if(t)for(const e of _classPrivateFieldGet(this,S).values())if(e.annotationElementId===t){this.setSelected(e),e.enterInEditMode();break}}}updateToolbar(e){e!==_classPrivateFieldGet(this,z)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(_classPrivateFieldGet(this,M))if(e!==i.AnnotationEditorParamsType.CREATE){for(const n of _classPrivateFieldGet(this,G))n.updateParams(e,t);for(const n of _classPrivateFieldGet(this,M))n.updateDefaultParams(e,t)}else this.currentLayer.addNewEditor(e)}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(_classPrivateFieldGet(this,D)!==e){_classPrivateFieldSet(this,D,e);for(const t of _classPrivateFieldGet(this,C).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of _classPrivateFieldGet(this,S).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return _classPrivateFieldGet(this,S).get(e)}addEditor(e){_classPrivateFieldGet(this,S).set(e.id,e)}removeEditor(e){var t;_classPrivateFieldGet(this,S).delete(e.id),this.unselect(e),e.annotationElementId&&_classPrivateFieldGet(this,N).has(e.annotationElementId)||null===(t=_classPrivateFieldGet(this,P))||void 0===t||t.remove(e.id)}addDeletedAnnotationElement(e){_classPrivateFieldGet(this,N).add(e.annotationElementId),e.deleted=!0}isDeletedAnnotationElement(e){return _classPrivateFieldGet(this,N).has(e)}removeDeletedAnnotationElement(e){_classPrivateFieldGet(this,N).delete(e.annotationElementId),e.deleted=!1}setActiveEditor(e){_classPrivateFieldGet(this,_)!==e&&(_classPrivateFieldSet(this,_,e),e&&_classPrivateMethodGet(this,de,Se).call(this,e.propertiesToUpdate))}toggleSelected(e){if(_classPrivateFieldGet(this,G).has(e))return _classPrivateFieldGet(this,G).delete(e),e.unselect(),void _classPrivateMethodGet(this,ce,_e).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(this,G).add(e),e.select(),_classPrivateMethodGet(this,de,Se).call(this,e.propertiesToUpdate),_classPrivateMethodGet(this,ce,_e).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of _classPrivateFieldGet(this,G))t!==e&&t.unselect();_classPrivateFieldGet(this,G).clear(),_classPrivateFieldGet(this,G).add(e),e.select(),_classPrivateMethodGet(this,de,Se).call(this,e.propertiesToUpdate),_classPrivateMethodGet(this,ce,_e).call(this,{hasSelectedEditor:!0})}isSelected(e){return _classPrivateFieldGet(this,G).has(e)}unselect(e){e.unselect(),_classPrivateFieldGet(this,G).delete(e),_classPrivateMethodGet(this,ce,_e).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==_classPrivateFieldGet(this,G).size}undo(){_classPrivateFieldGet(this,E).undo(),_classPrivateMethodGet(this,ce,_e).call(this,{hasSomethingToUndo:_classPrivateFieldGet(this,E).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_classPrivateMethodGet(this,pe,Ee).call(this)})}redo(){_classPrivateFieldGet(this,E).redo(),_classPrivateMethodGet(this,ce,_e).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(this,E).hasSomethingToRedo(),isEmpty:_classPrivateMethodGet(this,pe,Ee).call(this)})}addCommands(e){_classPrivateFieldGet(this,E).add(e),_classPrivateMethodGet(this,ce,_e).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_classPrivateMethodGet(this,pe,Ee).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[..._classPrivateFieldGet(this,G)];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)_classPrivateMethodGet(this,fe,Pe).call(this,t)},mustExec:!0})}commitOrRemove(){var e;null===(e=_classPrivateFieldGet(this,_))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return _classPrivateFieldGet(this,_)||this.hasSelection}selectAll(){for(const e of _classPrivateFieldGet(this,G))e.commit();_classPrivateMethodGet(this,ge,Te).call(this,_classPrivateFieldGet(this,S).values())}unselectAll(){if(_classPrivateFieldGet(this,_))_classPrivateFieldGet(this,_).commitOrRemove();else if(this.hasSelection){for(const e of _classPrivateFieldGet(this,G))e.unselect();_classPrivateFieldGet(this,G).clear(),_classPrivateMethodGet(this,ce,_e).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;_classPrivateFieldGet(this,Z)[0]+=e,_classPrivateFieldGet(this,Z)[1]+=t;const[n,r]=_classPrivateFieldGet(this,Z),i=[..._classPrivateFieldGet(this,G)];_classPrivateFieldGet(this,ee)&&clearTimeout(_classPrivateFieldGet(this,ee)),_classPrivateFieldSet(this,ee,setTimeout((()=>{_classPrivateFieldSet(this,ee,null),_classPrivateFieldGet(this,Z)[0]=_classPrivateFieldGet(this,Z)[1]=0,this.addCommands({cmd:()=>{for(const e of i)_classPrivateFieldGet(this,S).has(e.id)&&e.translateInPage(n,r)},undo:()=>{for(const e of i)_classPrivateFieldGet(this,S).has(e.id)&&e.translateInPage(-n,-r)},mustExec:!1})}),1e3));for(const a of i)a.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_classPrivateFieldSet(this,I,new Map);for(const e of _classPrivateFieldGet(this,G))_classPrivateFieldGet(this,I).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_classPrivateFieldGet(this,I))return!1;this.disableUserSelect(!1);const e=_classPrivateFieldGet(this,I);_classPrivateFieldSet(this,I,null);let t=!1;for(const[{x:r,y:i,pageIndex:a},s]of e)s.newX=r,s.newY=i,s.newPageIndex=a,t||(t=r!==s.savedX||i!==s.savedY||a!==s.savedPageIndex);if(!t)return!1;const n=(e,t,n,r)=>{if(_classPrivateFieldGet(this,S).has(e.id)){const i=_classPrivateFieldGet(this,C).get(r);i?e._setParentAndPosition(i,t,n):(e.pageIndex=r,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:r,newY:i,newPageIndex:a}]of e)n(t,r,i,a)},undo:()=>{for(const[t,{savedX:r,savedY:i,savedPageIndex:a}]of e)n(t,r,i,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(_classPrivateFieldGet(this,I))for(const n of _classPrivateFieldGet(this,I).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}isActive(e){return _classPrivateFieldGet(this,_)===e}getActive(){return _classPrivateFieldGet(this,_)}getMode(){return _classPrivateFieldGet(this,z)}get imageManager(){return(0,i.shadow)(this,"imageManager",new h)}}function ve(){window.addEventListener("focus",_classPrivateFieldGet(this,W)),window.addEventListener("blur",_classPrivateFieldGet(this,U))}function be(){window.removeEventListener("focus",_classPrivateFieldGet(this,W)),window.removeEventListener("blur",_classPrivateFieldGet(this,U))}function ye(){window.addEventListener("keydown",_classPrivateFieldGet(this,X),{capture:!0})}function xe(){window.removeEventListener("keydown",_classPrivateFieldGet(this,X),{capture:!0})}function we(){document.addEventListener("copy",_classPrivateFieldGet(this,H)),document.addEventListener("cut",_classPrivateFieldGet(this,V)),document.addEventListener("paste",_classPrivateFieldGet(this,Y))}function ke(){document.removeEventListener("copy",_classPrivateFieldGet(this,H)),document.removeEventListener("cut",_classPrivateFieldGet(this,V)),document.removeEventListener("paste",_classPrivateFieldGet(this,Y))}function _e(e){Object.entries(e).some((e=>{let[t,n]=e;return _classPrivateFieldGet(this,$)[t]!==n}))&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(this,$),e)})}function Se(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}function Ce(){if(!_classPrivateFieldGet(this,L)){_classPrivateFieldSet(this,L,!0);for(const e of _classPrivateFieldGet(this,C).values())e.enable()}}function Ae(){if(this.unselectAll(),_classPrivateFieldGet(this,L)){_classPrivateFieldSet(this,L,!1);for(const e of _classPrivateFieldGet(this,C).values())e.disable()}}function Pe(e){const t=_classPrivateFieldGet(this,C).get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}function Ee(){if(0===_classPrivateFieldGet(this,S).size)return!0;if(1===_classPrivateFieldGet(this,S).size)for(const e of _classPrivateFieldGet(this,S).values())return e.isEmpty();return!1}function Te(e){_classPrivateFieldGet(this,G).clear();for(const t of e)t.isEmpty()||(_classPrivateFieldGet(this,G).add(t),t.select());_classPrivateMethodGet(this,ce,_e).call(this,{hasSelectedEditor:!0})}_defineProperty(me,"TRANSLATE_SMALL",1),_defineProperty(me,"TRANSLATE_BIG",10),t.AnnotationEditorUIManager=me},(e,t,n)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getColorValues=function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,H(r))}t.remove()},t.getCurrentTransform=function(e){const{a:t,b:n,c:r,d:i,e:a,f:s}=e.getTransform();return[t,n,r,i,a,s]},t.getCurrentTransformInverse=function(e){const{a:t,b:n,c:r,d:i,e:a,f:s}=e.getTransform().invertSelf();return[t,n,r,i,a,s]},t.getFilenameFromUrl=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||([e]=e.split(/[#?]/,1)),e.substring(e.lastIndexOf("/")+1)},t.getPdfFilenameFromUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(B(e))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch{}return i||t},t.getRGB=H,t.getXfaPageViewport=function(e,t){let{scale:n=1,rotation:r=0}=t;const{width:i,height:a}=e.attributes.style,s=[0,0,parseInt(i),parseInt(a)];return new z({viewBox:s,scale:n,rotation:r})},t.isDataScheme=B,t.isPdfFile=function(e){return"string"===typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=U,t.loadScript=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(((n,r)=>{const i=document.createElement("script");i.src=e,i.onload=function(e){t&&i.remove(),n(e)},i.onerror=function(){r(new Error("Cannot load script at: ".concat(i.src)))},(document.head||document.documentElement).append(i)}))},t.noContextMenu=function(e){e.preventDefault()},t.setLayerDimensions=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof z){const{pageWidth:r,pageHeight:i}=t.rawDims,{style:s}=e,o=a.FeatureTest.isCSSRoundSupported,l="var(--scale-factor) * ".concat(r,"px"),c="var(--scale-factor) * ".concat(i,"px"),d=o?"round(".concat(l,", 1px)"):"calc(".concat(l,")"),u=o?"round(".concat(c,", 1px)"):"calc(".concat(c,")");n&&t.rotation%180!==0?(s.width=u,s.height=d):(s.width=d,s.height=u)}r&&e.setAttribute("data-main-rotation",t.rotation)};var i=n(7),a=n(1);const s="http://www.w3.org/2000/svg";class o{}r=o,_defineProperty(o,"CSS",96),_defineProperty(o,"PDF",72),_defineProperty(o,"PDF_TO_CSS_UNITS",r.CSS/r.PDF),t.PixelsPerInch=o;var l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakMap,x=new WeakMap,w=new WeakSet,k=new WeakSet,_=new WeakSet,S=new WeakSet,C=new WeakSet;class A extends i.BaseFilterFactory{constructor(){let{docId:e,ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,_),_classPrivateMethodInitSpec(this,k),_classPrivateMethodInitSpec(this,w),_classPrivateFieldInitSpec(this,x,{get:E,set:void 0}),_classPrivateFieldInitSpec(this,y,{get:P,set:void 0}),_classPrivateFieldInitSpec(this,l,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,b,{writable:!0,value:0}),_classPrivateFieldSet(this,d,e),_classPrivateFieldSet(this,u,t)}addFilter(e){var t,n;if(!e)return"none";let r,i,a,s,o=_classPrivateFieldGet(this,y).get(e);if(o)return o;if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;s=r=i=a=n.join(",")}else{const[t,n,o]=e,l=new Array(256),c=new Array(256),d=new Array(256);for(let e=0;e<256;e++)l[e]=t[e]/255,c[e]=n[e]/255,d[e]=o[e]/255;r=l.join(","),i=c.join(","),a=d.join(","),s="".concat(r).concat(i).concat(a)}if(o=_classPrivateFieldGet(this,y).get(s),o)return _classPrivateFieldGet(this,y).set(e,o),o;const l="g_".concat(_classPrivateFieldGet(this,d),"_transfer_map_").concat((_classPrivateFieldSet(this,b,(t=_classPrivateFieldGet(this,b),n=t++,t)),n)),c="url(#".concat(l,")");_classPrivateFieldGet(this,y).set(e,c),_classPrivateFieldGet(this,y).set(s,c);const u=_classPrivateMethodGet(this,k,N).call(this,l);return _classPrivateMethodGet(this,S,M).call(this,r,i,a,u),c}addHCMFilter(e,t){var n;const r="".concat(e,"-").concat(t);if(_classPrivateFieldGet(this,f)===r)return _classPrivateFieldGet(this,p);if(_classPrivateFieldSet(this,f,r),_classPrivateFieldSet(this,p,"none"),null===(n=_classPrivateFieldGet(this,h))||void 0===n||n.remove(),!e||!t)return _classPrivateFieldGet(this,p);const i=_classPrivateMethodGet(this,C,F).call(this,e);e=a.Util.makeHexColor(...i);const s=_classPrivateMethodGet(this,C,F).call(this,t);if(t=a.Util.makeHexColor(...s),_classPrivateFieldGet(this,x).style.color="","#000000"===e&&"#ffffff"===t||e===t)return _classPrivateFieldGet(this,p);const o=new Array(256);for(let a=0;a<=255;a++){const e=a/255;o[a]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const l=o.join(","),c="g_".concat(_classPrivateFieldGet(this,d),"_hcm_filter"),u=_classPrivateFieldSet(this,g,_classPrivateMethodGet(this,k,N).call(this,c));_classPrivateMethodGet(this,S,M).call(this,l,l,l,u),_classPrivateMethodGet(this,w,T).call(this,u);const m=(e,t)=>{const n=i[e]/255,r=s[e]/255,a=new Array(t+1);for(let i=0;i<=t;i++)a[i]=n+i/t*(r-n);return a.join(",")};return _classPrivateMethodGet(this,S,M).call(this,m(0,5),m(1,5),m(2,5),u),_classPrivateFieldSet(this,p,"url(#".concat(c,")")),_classPrivateFieldGet(this,p)}addHighlightHCMFilter(e,t,n,r){var i;const a="".concat(e,"-").concat(t,"-").concat(n,"-").concat(r);if(_classPrivateFieldGet(this,m)===a)return _classPrivateFieldGet(this,v);if(_classPrivateFieldSet(this,m,a),_classPrivateFieldSet(this,v,"none"),null===(i=_classPrivateFieldGet(this,g))||void 0===i||i.remove(),!e||!t)return _classPrivateFieldGet(this,v);const[s,o]=[e,t].map(_classPrivateMethodGet(this,C,F).bind(this));let l=Math.round(.2126*s[0]+.7152*s[1]+.0722*s[2]),c=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),[u,h]=[n,r].map(_classPrivateMethodGet(this,C,F).bind(this));c<l&&([l,c,u,h]=[c,l,h,u]),_classPrivateFieldGet(this,x).style.color="";const f=(e,t,n)=>{const r=new Array(256),i=(c-l)/n,a=e/255,s=(t-e)/(255*n);let o=0;for(let c=0;c<=n;c++){const e=Math.round(l+c*i),t=a+c*s;for(let n=o;n<=e;n++)r[n]=t;o=e+1}for(let l=o;l<256;l++)r[l]=r[o-1];return r.join(",")},p="g_".concat(_classPrivateFieldGet(this,d),"_hcm_highlight_filter"),b=_classPrivateFieldSet(this,g,_classPrivateMethodGet(this,k,N).call(this,p));return _classPrivateMethodGet(this,w,T).call(this,b),_classPrivateMethodGet(this,S,M).call(this,f(u[0],h[0],5),f(u[1],h[1],5),f(u[2],h[2],5),b),_classPrivateFieldSet(this,v,"url(#".concat(p,")")),_classPrivateFieldGet(this,v)}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(_classPrivateFieldGet(this,p)||_classPrivateFieldGet(this,v))||(_classPrivateFieldGet(this,c)&&(_classPrivateFieldGet(this,c).parentNode.parentNode.remove(),_classPrivateFieldSet(this,c,null)),_classPrivateFieldGet(this,l)&&(_classPrivateFieldGet(this,l).clear(),_classPrivateFieldSet(this,l,null)),_classPrivateFieldSet(this,b,0))}}function P(){return _classPrivateFieldGet(this,l)||_classPrivateFieldSet(this,l,new Map)}function E(){if(!_classPrivateFieldGet(this,c)){const e=_classPrivateFieldGet(this,u).createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=_classPrivateFieldGet(this,u).createElementNS(s,"svg");n.setAttribute("width",0),n.setAttribute("height",0),_classPrivateFieldSet(this,c,_classPrivateFieldGet(this,u).createElementNS(s,"defs")),e.append(n),n.append(_classPrivateFieldGet(this,c)),_classPrivateFieldGet(this,u).body.append(e)}return _classPrivateFieldGet(this,c)}function T(e){const t=_classPrivateFieldGet(this,u).createElementNS(s,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function N(e){const t=_classPrivateFieldGet(this,u).createElementNS(s,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),_classPrivateFieldGet(this,x).append(t),t}function I(e,t,n){const r=_classPrivateFieldGet(this,u).createElementNS(s,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}function M(e,t,n,r){const i=_classPrivateFieldGet(this,u).createElementNS(s,"feComponentTransfer");r.append(i),_classPrivateMethodGet(this,_,I).call(this,i,"feFuncR",e),_classPrivateMethodGet(this,_,I).call(this,i,"feFuncG",t),_classPrivateMethodGet(this,_,I).call(this,i,"feFuncB",n)}function F(e){return _classPrivateFieldGet(this,x).style.color=e,H(getComputedStyle(_classPrivateFieldGet(this,x)).getPropertyValue("color"))}t.DOMFilterFactory=A;class R extends i.BaseCanvasFactory{constructor(){let{ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(U(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);return t?new Uint8Array(await n.arrayBuffer()):(0,a.stringToBytes)(await n.text())}return new Promise(((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),t&&(i.responseType="arraybuffer"),i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(200===i.status||0===i.status){let e;if(t&&i.response?e=new Uint8Array(i.response):!t&&i.responseText&&(e=(0,a.stringToBytes)(i.responseText)),e)return void n(e)}r(new Error(i.statusText))}},i.send(null)}))}t.DOMCanvasFactory=R;class L extends i.BaseCMapReaderFactory{_fetchData(e,t){return j(e,this.isCompressed).then((e=>({cMapData:e,compressionType:t})))}}t.DOMCMapReaderFactory=L;class D extends i.BaseStandardFontDataFactory{_fetchData(e){return j(e,!0)}}t.DOMStandardFontDataFactory=D;class O extends i.BaseSVGFactory{_createSVG(e){return document.createElementNS(s,e)}}t.DOMSVGFactory=O;class z{constructor(e){let{viewBox:t,scale:n,rotation:r,offsetX:i=0,offsetY:a=0,dontFlip:s=!1}=e;this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=a;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,d,u,h,f,p,g,m;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,d=0,u=0,h=1;break;case 90:c=0,d=1,u=1,h=0;break;case 270:c=0,d=-1,u=-1,h=0;break;case 0:c=1,d=0,u=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(u=-u,h=-h),0===c?(f=Math.abs(l-t[1])*n+i,p=Math.abs(o-t[0])*n+a,g=(t[3]-t[1])*n,m=(t[2]-t[0])*n):(f=Math.abs(o-t[0])*n+i,p=Math.abs(l-t[1])*n+a,g=(t[2]-t[0])*n,m=(t[3]-t[1])*n),this.transform=[c*n,d*n,u*n,h*n,f-c*n*o-u*n*l,p-d*n*o-h*n*l],this.width=g,this.height=m}get rawDims(){const{viewBox:e}=this;return(0,a.shadow)(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new z({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return a.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=a.Util.applyTransform([e[0],e[1]],this.transform),n=a.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return a.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=z;class G extends a.BaseException{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function B(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function U(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch{return!1}}let W;function H(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):((0,a.warn)('Not a valid color format: "'.concat(e,'"')),[0,0,0])}t.RenderingCancelledException=G,t.StatTimer=class{constructor(){_defineProperty(this,"started",Object.create(null)),_defineProperty(this,"times",[])}time(e){e in this.started&&(0,a.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,a.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:i}of this.times)e.push("".concat(n.padEnd(t)," ").concat(i-r,"ms\n"));return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||"string"!==typeof e)return null;W||(W=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=W.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(a+=c,s+=d):"+"===l&&(a-=c,s-=d),new Date(Date.UTC(n,r,i,a,s,o))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var r=n(1);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addHighlightHCMFilter(e,t,n,r){return"none"}destroy(){}}t.BaseFilterFactory=i;class a{constructor(){this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=a;class s{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),i=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(n,i).catch((e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}_fetchData(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=s;class o{constructor(e){let{baseUrl:t=null}=e;this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetchData(n).catch((e=>{throw new Error("Unable to load font data at: ".concat(n))}))}_fetchData(e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=o;class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width","".concat(e,"px")),r.setAttribute("height","".concat(t,"px"))),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,r.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var r=n(1);const i=3285377520,a=4294901760,s=65535;t.MurmurHash3_64=class{constructor(e){this.h1=e?4294967295&e:i,this.h2=e?4294967295&e:i}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!(0,r.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),n=t.byteLength}const i=n>>2,o=n-4*i,l=new Uint32Array(t.buffer,0,i);let c=0,d=0,u=this.h1,h=this.h2;const f=3432918353,p=461845907,g=11601,m=13715;for(let r=0;r<i;r++)1&r?(c=l[r],c=c*f&a|c*g&s,c=c<<15|c>>>17,c=c*p&a|c*m&s,u^=c,u=u<<13|u>>>19,u=5*u+3864292196):(d=l[r],d=d*f&a|d*g&s,d=d<<15|d>>>17,d=d*p&a|d*m&s,h^=d,h=h<<13|h>>>19,h=5*h+3864292196);switch(c=0,o){case 3:c^=t[4*i+2]<<16;case 2:c^=t[4*i+1]<<8;case 1:c^=t[4*i],c=c*f&a|c*g&s,c=c<<15|c>>>17,c=c*p&a|c*m&s,1&i?u^=c:h^=c}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&a|36045*e&s,t=4283543511*t&a|(2950163797*(t<<16|e>>>16)&a)>>>16,e^=t>>>1,e=444984403*e&a|60499*e&s,t=3301882366*t&a|(3120437893*(t<<16|e>>>16)&a)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r=n(1),i=new WeakMap;t.FontLoader=class{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;_classPrivateFieldInitSpec(this,i,{writable:!0,value:new Set}),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),_classPrivateFieldGet(this,i).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){if(e&&!_classPrivateFieldGet(this,i).has(e.loadedName))if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:n,style:a}=e,s=new FontFace(t,n,a);this.addNativeFontFace(s);try{await s.load(),_classPrivateFieldGet(this,i).add(t)}catch{(0,r.warn)("Cannot load system font: ".concat(e.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(s)}}else(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e.systemFontInfo);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw(0,r.warn)("Failed to load font '".concat(t.family,"': '").concat(n,"'.")),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){var e;const t=!(null===(e=this._document)||void 0===e||!e.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let e=!1;return(r.isNodeJS||"undefined"!==typeof navigator&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;const d="lt".concat(Date.now()).concat(this.loadTestFontId++);let u=this._loadTestFont;u=i(u,976,d.length,d);const h=1482184792;let f=n(u,16);for(a=0,s=d.length-3;a<s;a+=4)f=f-h+n(d,a)|0;a<d.length&&(f=f-h+n(d+"XXX",a)|0),u=i(u,16,4,(0,r.string32)(f));const p="url(data:font/opentype;base64,".concat(btoa(u),");"),g='@font-face {font-family:"'.concat(d,'";src:').concat(p,"}");this.insertRule(g);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const r of[e.loadedName,d]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=r,m.append(e)}this._document.body.append(m),function e(t,n){if(++c>30)return(0,r.warn)("Load test font never loaded."),void n();l.font="30px "+t,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(d,(()=>{m.remove(),t.complete()}))}},t.FontFaceObject=class{constructor(e,t){let{isEvalSupported:n=!0,disableFontFace:r=!1,ignoreErrors:i=!1,inspectFont:a=null}=t;this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.isEvalSupported=!1!==n,this.disableFontFace=!0===r,this.ignoreErrors=!0===i,this._inspectFont=a}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t=(0,r.bytesToString)(this.data),n="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");let i;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),i='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(n,"}")}else i='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(n,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,n),i}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(i){if(!this.ignoreErrors)throw i;return(0,r.warn)('getPathGenerator - ignoring character: "'.concat(i,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const e=[];for(const t of n){const n=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",n,");\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const r of n)"scale"===r.cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var r=n(7);n(1);const i=function(e){return new Promise(((t,n)=>{__webpack_require__(3237).readFile(e,((e,r)=>{!e&&r?t(new Uint8Array(r)):n(new Error(e))}))}))};class a extends r.BaseFilterFactory{}t.NodeFilterFactory=a;class s extends r.BaseCanvasFactory{_createCanvas(e,t){return __webpack_require__(7640).createCanvas(e,t)}}t.NodeCanvasFactory=s;class o extends r.BaseCMapReaderFactory{_fetchData(e,t){return i(e).then((e=>({cMapData:e,compressionType:t})))}}t.NodeCMapReaderFactory=o;class l extends r.BaseStandardFontDataFactory{_fetchData(e){return i(e)}}t.NodeStandardFontDataFactory=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(1),i=n(6),a=n(12),s=n(13);const o=4096,l=16;class c{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function d(e,t,n,r,a,s,o,l,c,d){const[u,h,f,p,g,m]=(0,i.getCurrentTransform)(e);if(0===h&&0===f){const i=o*u+g,v=Math.round(i),b=l*p+m,y=Math.round(b),x=(o+c)*u+g,w=Math.abs(Math.round(x)-v)||1,k=(l+d)*p+m,_=Math.abs(Math.round(k)-y)||1;return e.setTransform(Math.sign(u),0,0,Math.sign(p),v,y),e.drawImage(t,n,r,a,s,0,0,w,_),e.setTransform(u,h,f,p,g,m),[w,_]}if(0===u&&0===p){const i=l*f+g,v=Math.round(i),b=o*h+m,y=Math.round(b),x=(l+d)*f+g,w=Math.abs(Math.round(x)-v)||1,k=(o+c)*h+m,_=Math.abs(Math.round(k)-y)||1;return e.setTransform(0,Math.sign(h),Math.sign(f),0,v,y),e.drawImage(t,n,r,a,s,0,0,_,w),e.setTransform(u,h,f,p,g,m),[_,w]}return e.drawImage(t,n,r,a,s,o,l,c,d),[Math.hypot(u,h)*c,Math.hypot(f,p)*d]}class u{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=r.Util.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=r.Util.applyTransform(t,e),i=r.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,n[0],i[0]),this.minY=Math.min(this.minY,n[1],i[1]),this.maxX=Math.max(this.maxX,n[0],i[0]),this.maxY=Math.max(this.maxY,n[1],i[1])}updateScalingPathMinMax(e,t){r.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,a,s,o,l,c,d){const u=r.Util.bezierBoundingBox(t,n,i,a,s,o,l,c);if(d)return d[0]=Math.min(d[0],u[0],u[2]),d[1]=Math.max(d[1],u[0],u[2]),d[2]=Math.min(d[2],u[1],u[3]),void(d[3]=Math.max(d[3],u[1],u[3]));this.updateRectMinMax(e,u)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===a.PathType.STROKE){t||(0,r.unreachable)("Stroke bounding box must include transform.");const e=r.Util.singularValueDecompose2dScale(t),i=e[0]*this.lineWidth/2,a=e[1]*this.lineWidth/2;n[0]-=i,n[1]-=a,n[2]+=i,n[3]+=a}return n}updateClipFromPath(){const e=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function h(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,a=n%l,s=(n-a)/l,o=0===a?s:s+1,c=e.createImageData(i,l);let d,u=0;const h=t.data,f=c.data;let p,g,m,v;if(t.kind===r.ImageKind.GRAYSCALE_1BPP){const t=h.byteLength,n=new Uint32Array(f.buffer,0,f.byteLength>>2),v=n.length,b=i+7>>3,y=4294967295,x=r.FeatureTest.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(m=p<s?l:a,d=0,g=0;g<m;g++){const e=t-u;let r=0;const a=e>b?i:8*e-7,s=-8&a;let o=0,l=0;for(;r<s;r+=8)l=h[u++],n[d++]=128&l?y:x,n[d++]=64&l?y:x,n[d++]=32&l?y:x,n[d++]=16&l?y:x,n[d++]=8&l?y:x,n[d++]=4&l?y:x,n[d++]=2&l?y:x,n[d++]=1&l?y:x;for(;r<a;r++)0===o&&(l=h[u++],o=128),n[d++]=l&o?y:x,o>>=1}for(;d<v;)n[d++]=0;e.putImageData(c,0,p*l)}}else if(t.kind===r.ImageKind.RGBA_32BPP){for(g=0,v=i*l*4,p=0;p<s;p++)f.set(h.subarray(u,u+v)),u+=v,e.putImageData(c,0,g),g+=l;p<o&&(v=i*a*4,f.set(h.subarray(u,u+v)),e.putImageData(c,0,g))}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(m=l,v=i*m,p=0;p<o;p++){for(p>=s&&(m=a,v=i*m),d=0,g=v;g--;)f[d++]=h[u++],f[d++]=h[u++],f[d++]=h[u++],f[d++]=255;e.putImageData(c,0,p*l)}}}function f(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%l,a=(n-i)/l,o=0===i?a:a+1,c=e.createImageData(r,l);let d=0;const u=t.data,h=c.data;for(let f=0;f<o;f++){const t=f<a?l:i;({srcPos:d}=(0,s.convertBlackAndWhiteToRGBA)({src:u,srcPos:d,dest:h,width:r,height:t,nonBlackColor:0})),e.putImageData(c,0,f*l)}}function p(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function g(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!r.isNodeJS){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function m(e,t,n,r){const i=e.length;for(let a=3;a<i;a+=4){const i=e[a];if(0===i)e[a-3]=t,e[a-2]=n,e[a-1]=r;else if(i<255){const s=255-i;e[a-3]=e[a-3]*i+t*s>>8,e[a-2]=e[a-2]*i+n*s>>8,e[a-1]=e[a-1]*i+r*s>>8}}}function v(e,t,n){const r=e.length;for(let i=3;i<r;i+=4){const r=n?n[e[i]]:e[i];t[i]=t[i]*r*.00392156862745098|0}}function b(e,t,n){const r=e.length;for(let i=3;i<r;i+=4){const r=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[r>>8]>>8:t[i]*r>>16}}function y(e,t,n,r){const i=r[0],a=r[1],s=r[2]-i,o=r[3]-a;0!==s&&0!==o&&(function(e,t,n,r,i,a,s,o,l,c,d){const u=!!a,h=u?a[0]:0,f=u?a[1]:0,p=u?a[2]:0,g="Luminosity"===i?b:v,y=Math.min(r,Math.ceil(1048576/n));for(let v=0;v<r;v+=y){const i=Math.min(y,r-v),a=e.getImageData(o-c,v+(l-d),n,i),b=t.getImageData(o,v+l,n,i);u&&m(a.data,h,f,p),g(a.data,b.data,s),t.putImageData(b,o,v+l)}}(t.context,n,s,o,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}function x(e,t){const n=r.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const a=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=a||n[1]<=a}const w=["butt","round","square"],k=["miter","round","bevel"],_={},S={};var C=new WeakSet,A=new WeakSet;class P{constructor(e,t,n,r,i,a,s,o){let{optionalContentConfig:l,markedContentStack:d=null}=a;_classPrivateMethodInitSpec(this,A),_classPrivateMethodInitSpec(this,C),this.ctx=e,this.current=new u(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=l,this.cachedCanvases=new c(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:r=!1,background:a=null}=e;const s=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=l,r){const e=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),g(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(e,t,n,i){const a=e.argsArray,s=e.fnArray;let o=t||0;const l=a.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,d=c?Date.now()+15:0;let u=0;const h=this.commonObjs,f=this.objs;let p;for(;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(p=s[o],p!==r.OPS.dependency)this[p].apply(this,a[o]);else for(const e of a[o]){const t=e.startsWith("g_")?h:f;if(!t.has(e))return t.get(e,n),o}if(o++,o===l)return o;if(c&&++u>10){if(Date.now()>d)return n(),o;u=0}}}endDrawing(){_classPrivateMethodGet(this,C,E).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_classPrivateMethodGet(this,A,T).call(this)}_scaleImage(e,t){const n=e.width,r=e.height;let i,a,s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=r,d="prescale1";for(;s>2&&l>1||o>2&&c>1;){let t=l,n=c;s>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/t),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),i=this.cachedCanvases.getCanvas(d,t,n),a=i.context,a.clearRect(0,0,t,n),a.drawImage(e,0,0,l,c,0,0,t,n),e=i.canvas,l=t,c=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,o=this.current.fillColor,l=this.current.patternFill,c=(0,i.getCurrentTransform)(t);let u,h,p,g;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(t),u||(u=new Map,this._cachedBitmapsMap.set(t,u));const n=u.get(h);if(n&&!l)return{canvas:n,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};p=n}p||(g=this.cachedCanvases.getCanvas("maskCanvas",n,s),f(g.context,e));let m=r.Util.transform(c,[1/n,0,0,-1/s,0,0]);m=r.Util.transform(m,[1,0,0,1,0,-s]);const v=r.Util.applyTransform([0,0],m),b=r.Util.applyTransform([n,s],m),y=r.Util.normalizeRect([v[0],v[1],b[0],b[1]]),w=Math.round(y[2]-y[0])||1,k=Math.round(y[3]-y[1])||1,_=this.cachedCanvases.getCanvas("fillCanvas",w,k),S=_.context,C=Math.min(v[0],b[0]),A=Math.min(v[1],b[1]);S.translate(-C,-A),S.transform(...m),p||(p=this._scaleImage(g.canvas,(0,i.getCurrentTransformInverse)(S)),p=p.img,u&&l&&u.set(h,p)),S.imageSmoothingEnabled=x((0,i.getCurrentTransform)(S),e.interpolate),d(S,p,0,0,p.width,p.height,0,0,n,s),S.globalCompositeOperation="source-in";const P=r.Util.transform((0,i.getCurrentTransformInverse)(S),[1,0,0,1,-C,-A]);return S.fillStyle=l?o.getPattern(t,this,P,a.PathType.FILL):o,S.fillRect(0,0,n,s),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,_.canvas)),{canvas:_.canvas,offsetX:Math.round(C),offsetY:Math.round(A)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=w[e]}setLineJoin(e){this.ctx.lineJoin=k[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const a=this.ctx;a.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),p(this.suspendedCtx,a),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,a,s){t.transform(e,n,r,i,a,s),this.__originalTransform(e,n,r,i,a,s)},e.setTransform=function(e,n,r,i,a,s){t.setTransform(e,n,r,i,a,s),this.__originalSetTransform(e,n,r,i,a,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,a,s){t.bezierCurveTo(e,n,r,i,a,s),this.__originalBezierCurveTo(e,n,r,i,a,s)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),p(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;y(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(p(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),p(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,i,a){this.ctx.transform(e,t,n,r,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const a=this.ctx,s=this.current;let o,l,c=s.x,d=s.y;const u=(0,i.getCurrentTransform)(a),h=0===u[0]&&0===u[3]||0===u[1]&&0===u[2],f=h?n.slice(0):null;for(let i=0,p=0,g=e.length;i<g;i++)switch(0|e[i]){case r.OPS.rectangle:c=t[p++],d=t[p++];const e=t[p++],n=t[p++],i=c+e,g=d+n;a.moveTo(c,d),0===e||0===n?a.lineTo(i,g):(a.lineTo(i,d),a.lineTo(i,g),a.lineTo(c,g)),h||s.updateRectMinMax(u,[c,d,i,g]),a.closePath();break;case r.OPS.moveTo:c=t[p++],d=t[p++],a.moveTo(c,d),h||s.updatePathMinMax(u,c,d);break;case r.OPS.lineTo:c=t[p++],d=t[p++],a.lineTo(c,d),h||s.updatePathMinMax(u,c,d);break;case r.OPS.curveTo:o=c,l=d,c=t[p+4],d=t[p+5],a.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],c,d),s.updateCurvePathMinMax(u,o,l,t[p],t[p+1],t[p+2],t[p+3],c,d,f),p+=6;break;case r.OPS.curveTo2:o=c,l=d,a.bezierCurveTo(c,d,t[p],t[p+1],t[p+2],t[p+3]),s.updateCurvePathMinMax(u,o,l,c,d,t[p],t[p+1],t[p+2],t[p+3],f),c=t[p+2],d=t[p+3],p+=4;break;case r.OPS.curveTo3:o=c,l=d,c=t[p+2],d=t[p+3],a.bezierCurveTo(t[p],t[p+1],c,d,c,d),s.updateCurvePathMinMax(u,o,l,t[p],t[p+1],c,d,c,d,f),p+=4;break;case r.OPS.closePath:a.closePath()}h&&s.updateScalingPathMinMax(u,f),s.setCurrentPoint(c,d)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),a.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),a.PathType.FILL),r=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_}eoClip(){this.pendingClip=S}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var n;const i=this.commonObjs.get(e),a=this.current;if(!i)throw new Error("Can't find font for ".concat(e));if(a.fontMatrix=i.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=(null===(n=i.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(s,'", ').concat(i.fallbackName);let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let d=t;t<16?d=16:t>100&&(d=100),this.current.fontSizeScale=t/d,this.ctx.font="".concat(c," ").concat(l," ").concat(d,"px ").concat(o)}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,i,a){this.current.textMatrix=[e,t,n,r,i,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,a){const s=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,u=c&r.TextRenderingMode.FILL_STROKE_MASK,h=!!(c&r.TextRenderingMode.ADD_TO_PATH_FLAG),f=o.patternFill&&!l.missingFile;let p;(l.disableFontFace||h||f)&&(p=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||f?(s.save(),s.translate(t,n),s.beginPath(),p(s,d),a&&s.setTransform(...a),u!==r.TextRenderingMode.FILL&&u!==r.TextRenderingMode.FILL_STROKE||s.fill(),u!==r.TextRenderingMode.STROKE&&u!==r.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(u!==r.TextRenderingMode.FILL&&u!==r.TextRenderingMode.FILL_STROKE||s.fillText(e,t,n),u!==r.TextRenderingMode.STROKE&&u!==r.TextRenderingMode.FILL_STROKE||s.strokeText(e,t,n)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,i.getCurrentTransform)(s),x:t,y:n,fontSize:d,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(0===s)return;const o=this.ctx,l=t.fontSizeScale,c=t.charSpacing,d=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,f=e.length,p=n.vertical,g=p?1:-1,m=n.defaultVMetrics,v=s*t.fontMatrix[0],b=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let y;if(o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),u>0?o.scale(h,-1):o.scale(h,1),t.patternFill){o.save();const e=t.fillColor.getPattern(o,this,(0,i.getCurrentTransformInverse)(o),a.PathType.FILL);y=(0,i.getCurrentTransform)(o),o.restore(),o.fillStyle=e}let x=t.lineWidth;const w=t.textMatrixScale;if(0===w||0===x){const e=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;e!==r.TextRenderingMode.STROKE&&e!==r.TextRenderingMode.FILL_STROKE||(x=this.getSinglePixelWidth())}else x/=w;if(1!==l&&(o.scale(l,l),x/=l),o.lineWidth=x,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return o.fillText(n.join(""),0,0),t.x+=r*v*h,o.restore(),void this.compose()}let k,_=0;for(k=0;k<f;++k){const t=e[k];if("number"===typeof t){_+=g*t*s/1e3;continue}let r=!1;const i=(t.isSpace?d:0)+c,a=t.fontChar,h=t.accent;let f,x,w=t.width;if(p){const e=t.vmetric||m,n=-(t.vmetric?e[1]:.5*w)*v,r=e[2]*v;w=e?-e[0]:w,f=n/l,x=(_+r)/l}else f=_/l,x=0;if(n.remeasure&&w>0){const e=1e3*o.measureText(a).width/s*l;if(w<e&&this.isFontSubpixelAAEnabled){const t=w/e;r=!0,o.save(),o.scale(t,1),f/=t}else w!==e&&(f+=(w-e)/2e3*s/l)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(b&&!h)o.fillText(a,f,x);else if(this.paintChar(a,f,x,y),h){const e=f+s*h.offset.x/l,t=x-s*h.offset.y/l;this.paintChar(h.fontChar,e,t,y)}_+=p?w*v-i*u:w*v+i*u,r&&o.restore()}p?t.y-=_:t.x+=_*h,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,a=n.fontSize,s=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,d=n.textHScale*s,u=n.fontMatrix||r.FONT_IDENTITY_MATRIX,h=e.length;let f,p,g,m;if(n.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==a){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(d,s),f=0;f<h;++f){if(p=e[f],"number"===typeof p){m=o*p*a/1e3,this.ctx.translate(m,0),n.x+=m*d;continue}const s=(p.isSpace?c:0)+l,h=i.charProcOperatorList[p.operatorListId];h?(this.contentVisible&&(this.processingType3=p,this.save(),t.scale(a,a),t.transform(...u),this.executeOperatorList(h),this.restore()),g=r.Util.applyTransform([p.width,0],u)[0]*a+s,t.translate(g,0),n.x+=g*d):(0,r.warn)('Type3 character "'.concat(p.operatorListId,'" is not available.'))}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,a){this.ctx.rect(n,r,i-n,a-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],r=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),s={createCanvasGraphics:e=>new P(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new a.TilingPattern(e,n,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const i=r.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,n){const i=r.Util.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=(0,a.getShadingPattern)(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),a.PathType.SHADING);const s=(0,i.getCurrentTransformInverse)(t);if(s){const{width:e,height:n}=t.canvas,[i,a,o,l]=r.Util.getAxialAlignedBoundingBox([0,0,e,n],s);this.ctx.fillRect(i,a,o-i,l-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");const n=(0,i.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let a=r.Util.getAxialAlignedBoundingBox(e.bbox,(0,i.getCurrentTransform)(t));const s=[0,0,t.canvas.width,t.canvas.height];a=r.Util.intersect(a,s)||[0,0,0,0];const l=Math.floor(a[0]),c=Math.floor(a[1]);let d=Math.max(Math.ceil(a[2])-l,1),u=Math.max(Math.ceil(a[3])-c,1),h=1,f=1;d>o&&(h=d/o,d=o),u>o&&(f=u/o,u=o),this.current.startNewPathAndClipBox([0,0,d,u]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(g,d,u),v=m.context;v.scale(1/h,1/f),v.translate(-l,-c),v.transform(...n),e.smask?this.smaskStack.push({canvas:m.canvas,context:v,offsetX:l,offsetY:c,scaleX:h,scaleY:f,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.scale(h,f),t.save()),p(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=r.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,a,s){if(_classPrivateMethodGet(this,C,E).call(this),g(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=a,t[3]=o;const[s,l]=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,d=Math.ceil(a*this.outputScaleX*c),u=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,u);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(s,0,0,-l,0,o*l),g(this.ctx)}else g(this.ctx),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.endPath()}this.current=new u(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_classPrivateMethodGet(this,A,T).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let a,s,o,l=new Uint8Array(i*(n+1));const c=t+7&-8;let d=new Uint8Array(c*n),u=0;for(const g of e.data){let e=128;for(;e>0;)d[u++]=g&e?0:255,e>>=1}let h=0;for(u=0,0!==d[u]&&(l[0]=1,++h),s=1;s<t;s++)d[u]!==d[u+1]&&(l[s]=d[u]?2:1,++h),u++;for(0!==d[u]&&(l[s]=2,++h),a=1;a<n;a++){u=a*c,o=a*i,d[u-c]!==d[u]&&(l[o]=d[u]?1:8,++h);let e=(d[u]?4:0)+(d[u-c]?8:0);for(s=1;s<t;s++)e=(e>>2)+(d[u+1]?4:0)+(d[u-c+1]?8:0),r[e]&&(l[o+s]=r[e],++h),u++;if(d[u-c]!==d[u]&&(l[o+s]=d[u]?2:4,++h),h>1e3)return null}for(u=c*(n-1),o=a*i,0!==d[u]&&(l[o]=8,++h),s=1;s<t;s++)d[u]!==d[u+1]&&(l[o+s]=d[u]?4:8,++h),u++;if(0!==d[u]&&(l[o+s]=4,++h),h>1e3)return null;const f=new Int32Array([0,i,-1,0,-i,0,0,0,1]),p=new Path2D;for(a=0;h&&a<=n;a++){let e=a*i;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;p.moveTo(e%i,a);const r=e;let s=l[e];do{const t=f[s];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(s=n,l[e]=0):(s=n&51*s>>4,l[e]&=s>>2|s<<2),p.lineTo(e%i,e/i|0),l[e]||--h}while(r!==e);--a}return d=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(p),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(e),a=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=(0,i.getCurrentTransform)(l);l.transform(t,n,a,s,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let i=0,u=o.length;i<u;i+=2){const e=r.Util.transform(c,[t,n,a,s,o[i],o[i+1]]),[u,h]=r.Util.applyTransform([0,0],e);l.drawImage(d.canvas,u,h)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:e,width:o,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=u.context;h.save(),f(h,this.getObject(e,s)),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this,(0,i.getCurrentTransformInverse)(t),a.PathType.FILL):n,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),d(t,u.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const a=this.getObject(e);if(!a)return void(0,r.warn)("Dependent image isn't ready yet");const s=a.width,o=a.height,l=[];for(let r=0,c=i.length;r<c;r+=2)l.push({transform:[t,0,0,n,i[r],i[r+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(a,l)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,r),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,a=this.ctx;if(this.save(),!r.isNodeJS){const{filter:e}=a;"none"!==e&&""!==e&&(a.filter="none")}let s;if(a.scale(1/t,-1/n),e.bitmap)s=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;h(r,e),s=this.applyTransferMapsToCanvas(r)}const o=this._scaleImage(s,(0,i.getCurrentTransformInverse)(a));a.imageSmoothingEnabled=x((0,i.getCurrentTransform)(a),e.interpolate),d(a,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;h(i,e),r=this.applyTransferMapsToCanvas(i)}for(const i of t)n.save(),n.transform(...i.transform),n.scale(1,-1),d(n,r,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===S?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,i.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:i}=this.ctx.getTransform();let a,s;if(0===n&&0===r){const n=Math.abs(t),r=Math.abs(i);if(n===r)if(0===e)a=s=1/n;else{const t=n*e;a=s=t<1?1/t:1}else if(0===e)a=1/n,s=1/r;else{const t=n*e,i=r*e;a=t<1?1/t:1,s=i<1?1/i:1}}else{const o=Math.abs(t*i-n*r),l=Math.hypot(t,n),c=Math.hypot(r,i);if(0===e)a=c/o,s=l/o;else{const t=e*o;a=c>t?c/t:1,s=l>t?l/t:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,i]=this.getScaleForStroking();if(t.lineWidth=n||1,1===r&&1===i)return void t.stroke();const a=t.getLineDash();if(e&&t.save(),t.scale(r,i),a.length>0){const e=Math.max(r,i);t.setLineDash(a.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function E(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function T(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}t.CanvasGraphics=P;for(const N in r.OPS)void 0!==P.prototype[N]&&(P.prototype[r.OPS[N]]=P.prototype[N])},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new l(e);case"Mesh":return new u(e);case"Dummy":return new h}throw new Error("Unknown IR type: ".concat(e[0]))};var r=n(1),i=n(6);const a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function s(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}t.PathType=a;class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class l extends o{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,o){let l;if(o===a.STROKE||o===a.FILL){const a=t.current.getClippedPathBoundingBox(o,(0,i.getCurrentTransform)(e))||[0,0,0,0],c=Math.ceil(a[2]-a[0])||1,d=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",c,d,!0),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),n=r.Util.transform(n,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),s(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),l=e.createPattern(u.canvas,"no-repeat");const f=new DOMMatrix(n);l.setTransform(f)}else s(e,this._bbox),l=this._createGradient(e);return l}}function c(e,t,n,r,i,a,s,o){const l=t.coords,c=t.colors,d=e.data,u=4*e.width;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=s,s=o,o=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h);const f=(l[n]+t.offsetX)*t.scaleX,p=(l[n+1]+t.offsetY)*t.scaleY,g=(l[r]+t.offsetX)*t.scaleX,m=(l[r+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,b=(l[i+1]+t.offsetY)*t.scaleY;if(p>=b)return;const y=c[a],x=c[a+1],w=c[a+2],k=c[s],_=c[s+1],S=c[s+2],C=c[o],A=c[o+1],P=c[o+2],E=Math.round(p),T=Math.round(b);let N,I,M,F,R,j,L,D;for(let O=E;O<=T;O++){if(O<m){const e=O<p?0:(p-O)/(p-m);N=f-(f-g)*e,I=y-(y-k)*e,M=x-(x-_)*e,F=w-(w-S)*e}else{let e;e=O>b?1:m===b?0:(m-O)/(m-b),N=g-(g-v)*e,I=k-(k-C)*e,M=_-(_-A)*e,F=S-(S-P)*e}let e;e=O<p?0:O>b?1:(p-O)/(p-b),R=f-(f-v)*e,j=y-(y-C)*e,L=x-(x-A)*e,D=w-(w-P)*e;const t=Math.round(Math.min(N,R)),n=Math.round(Math.max(N,R));let r=u*O+4*t;for(let i=t;i<=n;i++)e=(N-i)/(N-R),e<0?e=0:e>1&&(e=1),d[r++]=I-(I-j)*e|0,d[r++]=M-(M-L)*e|0,d[r++]=F-(F-D)*e|0,d[r++]=255}}function d(e,t,n){const r=t.coords,i=t.colors;let a,s;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(r.length/o)-1,d=o-1;for(a=0;a<l;a++){let t=a*o;for(let a=0;a<d;a++,t++)c(e,n,r[t],r[t+1],r[t+o],i[t],i[t+1],i[t+o]),c(e,n,r[t+o+1],r[t+1],r[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)c(e,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class u extends o{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),c=a/o,u=s/l,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/u},f=o+4,p=l+4,g=n.getCanvas("mesh",f,p,!1),m=g.context,v=m.createImageData(o,l);if(t){const e=v.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const b of this._figures)d(v,b,h);return m.putImageData(v,2,2),{canvas:g.canvas,offsetX:r-2*c,offsetY:i-2*u,scaleX:c,scaleY:u}}getPattern(e,t,n,o){let l;if(s(e,this._bbox),o===a.SHADING)l=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(e));else if(l=r.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=r.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*e[0],l[1]*e[1]]}const c=this._createMeshCanvas(l,o===a.SHADING?null:this._background,t.cachedCanvases);return o!==a.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class h extends o{getPattern(){return"hotpink"}}const f=1,p=2;class g{constructor(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,a=this.xstep,s=this.ystep,o=this.paintType,l=this.tilingType,c=this.color,d=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+l);const u=n[0],h=n[1],f=n[2],p=n[3],g=r.Util.singularValueDecompose2dScale(this.matrix),m=r.Util.singularValueDecompose2dScale(this.baseTransform),v=[g[0]*m[0],g[1]*m[1]],b=this.getSizeAndScale(a,this.ctx.canvas.width,v[0]),y=this.getSizeAndScale(s,this.ctx.canvas.height,v[1]),x=e.cachedCanvases.getCanvas("pattern",b.size,y.size,!0),w=x.context,k=d.createCanvasGraphics(w);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,o,c);let _=u,S=h,C=f,A=p;return u<0&&(_=0,C+=Math.abs(u)),h<0&&(S=0,A+=Math.abs(h)),w.translate(-b.scale*_,-y.scale*S),k.transform(b.scale,0,0,y.scale,0,0),w.save(),this.clipBbox(k,_,S,C,A),k.baseTransform=(0,i.getCurrentTransform)(k.ctx),k.executeOperatorList(t),k.endDrawing(),{canvas:x.canvas,scaleX:b.scale,scaleY:y.scale,offsetX:_,offsetY:S}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(g.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,a){const s=r-t,o=a-n;e.ctx.rect(t,n,s,o),e.current.updateRectMinMax((0,i.getCurrentTransform)(e.ctx),[t,n,r,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,a=e.current;switch(t){case f:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,a.fillColor=e.fillStyle,a.strokeColor=e.strokeStyle;break;case p:const s=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=s,i.strokeStyle=s,a.fillColor=s,a.strokeColor=s;break;default:throw new r.FormatError("Unsupported paint type: ".concat(t))}}getPattern(e,t,n,i){let s=n;i!==a.SHADING&&(s=r.Util.transform(s,t.baseTransform),this.matrix&&(s=r.Util.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(s);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}_defineProperty(g,"MAX_PATTERN_SIZE",3e3),t.TilingPattern=g},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=i,t.convertToRGBA=function(e){switch(e.kind){case r.ImageKind.GRAYSCALE_1BPP:return i(e);case r.ImageKind.RGB_24BPP:return function(e){let{src:t,srcPos:n=0,dest:i,destPos:a=0,width:s,height:o}=e,l=0;const c=t.length>>2,d=new Uint32Array(t.buffer,n,c);if(r.FeatureTest.isLittleEndian){for(;l<c-2;l+=3,a+=4){const e=d[l],t=d[l+1],n=d[l+2];i[a]=4278190080|e,i[a+1]=e>>>24|t<<8|4278190080,i[a+2]=t>>>16|n<<16|4278190080,i[a+3]=n>>>8|4278190080}for(let e=4*l,n=t.length;e<n;e+=3)i[a++]=t[e]|t[e+1]<<8|t[e+2]<<16|4278190080}else{for(;l<c-2;l+=3,a+=4){const e=d[l],t=d[l+1],n=d[l+2];i[a]=255|e,i[a+1]=e<<24|t>>>8|255,i[a+2]=t<<16|n>>>16|255,i[a+3]=n<<8|255}for(let e=4*l,n=t.length;e<n;e+=3)i[a++]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|255}return{srcPos:n,destPos:a}}(e)}return null},t.grayToRGBA=function(e,t){if(r.FeatureTest.isLittleEndian)for(let n=0,r=e.length;n<r;n++)t[n]=65793*e[n]|4278190080;else for(let n=0,r=e.length;n<r;n++)t[n]=16843008*e[n]|255};var r=n(1);function i(e){let{src:t,srcPos:n=0,dest:i,width:a,height:s,nonBlackColor:o=4294967295,inverseDecode:l=!1}=e;const c=r.FeatureTest.isLittleEndian?4278190080:255,[d,u]=l?[o,c]:[c,o],h=a>>3,f=7&a,p=t.length;i=new Uint32Array(i.buffer);let g=0;for(let r=0;r<s;r++){for(const r=n+h;n<r;n++){const e=n<p?t[n]:255;i[g++]=128&e?u:d,i[g++]=64&e?u:d,i[g++]=32&e?u:d,i[g++]=16&e?u:d,i[g++]=8&e?u:d,i[g++]=4&e?u:d,i[g++]=2&e?u:d,i[g++]=1&e?u:d}if(0===f)continue;const e=n<p?t[n++]:255;for(let t=0;t<f;t++)i[g++]=e&1<<7-t?u:d}return{srcPos:n,destPos:g}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(1);const i=1,a=2,s=1,o=2,l=3,c=4,d=5,u=6,h=7,f=8;function p(e){switch(e instanceof Error||"object"===typeof e&&null!==e||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"PasswordException":return new r.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}var g=new WeakSet,m=new WeakSet,v=new WeakSet;function b(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],u={enqueue(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=s,l>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:i,stream:c,streamId:t,chunk:e},o)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:l,streamId:t}),delete s.streamSinks[t])},error(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:d,streamId:t,reason:p(e)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise((function(t){t(o(e.data,u))})).then((function(){a.postMessage({sourceName:n,targetName:i,stream:f,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:n,targetName:i,stream:f,streamId:t,reason:p(e)})}))}function y(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,g=this.streamControllers[t],m=this.streamSinks[t];switch(e.stream){case f:e.success?g.startCall.resolve():g.startCall.reject(p(e.reason));break;case h:e.success?g.pullCall.resolve():g.pullCall.reject(p(e.reason));break;case u:if(!m){a.postMessage({sourceName:n,targetName:i,stream:h,streamId:t,success:!0});break}m.desiredSize<=0&&e.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=e.desiredSize,new Promise((function(e){var t;e(null===(t=m.onPull)||void 0===t?void 0:t.call(m))})).then((function(){a.postMessage({sourceName:n,targetName:i,stream:h,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:n,targetName:i,stream:h,streamId:t,reason:p(e)})}));break;case c:if((0,r.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(e.chunk);break;case l:if((0,r.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),_classPrivateMethodGet(this,v,x).call(this,g,t);break;case d:(0,r.assert)(g,"error should have stream controller"),g.controller.error(p(e.reason)),_classPrivateMethodGet(this,v,x).call(this,g,t);break;case o:e.success?g.cancelCall.resolve():g.cancelCall.reject(p(e.reason)),_classPrivateMethodGet(this,v,x).call(this,g,t);break;case s:if(!m)break;new Promise((function(t){var n;t(null===(n=m.onCancel)||void 0===n?void 0:n.call(m,p(e.reason)))})).then((function(){a.postMessage({sourceName:n,targetName:i,stream:o,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:n,targetName:i,stream:o,streamId:t,reason:p(e)})})),m.sinkCapability.reject(p(e.reason)),m.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function x(e,t){var n,r,i;await Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(r=e.pullCall)||void 0===r?void 0:r.promise,null===(i=e.cancelCall)||void 0===i?void 0:i.promise]),delete this.streamControllers[t]}t.MessageHandler=class{constructor(e,t,n){_classPrivateMethodInitSpec(this,v),_classPrivateMethodInitSpec(this,m),_classPrivateMethodInitSpec(this,g),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void _classPrivateMethodGet(this,m,y).call(this,t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===i)n.resolve(t.data);else{if(t.callback!==a)throw new Error("Unexpected callback case");n.reject(p(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,s=t.sourceName;new Promise((function(e){e(r(t.data))})).then((function(r){n.postMessage({sourceName:e,targetName:s,callback:i,callbackId:t.callbackId,data:r})}),(function(r){n.postMessage({sourceName:e,targetName:s,callback:a,callbackId:t.callbackId,reason:p(r)})}))}else t.streamId?_classPrivateMethodGet(this,g,b).call(this,t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,a=new r.PromiseCapability;this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,t,n,i){const a=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const s=new r.PromiseCapability;return this.streamControllers[a]={controller:n,startCall:s,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:a,data:t,desiredSize:n.desiredSize},i),s.promise},pull:e=>{const t=new r.PromiseCapability;return this.streamControllers[a].pullCall=t,c.postMessage({sourceName:o,targetName:l,stream:u,streamId:a,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,r.assert)(e instanceof Error,"cancel must have a valid reason");const t=new r.PromiseCapability;return this.streamControllers[a].cancelCall=t,this.streamControllers[a].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:s,streamId:a,reason:p(e)}),t.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(1),i=new WeakMap,a=new WeakMap;t.Metadata=class{constructor(e){let{parsedData:t,rawData:n}=e;_classPrivateFieldInitSpec(this,i,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,a,{writable:!0,value:void 0}),_classPrivateFieldSet(this,i,t),_classPrivateFieldSet(this,a,n)}getRaw(){return _classPrivateFieldGet(this,a)}get(e){var t;return null!==(t=_classPrivateFieldGet(this,i).get(e))&&void 0!==t?t:null}getAll(){return(0,r.objectFromMap)(_classPrivateFieldGet(this,i))}has(e){return _classPrivateFieldGet(this,i).has(e)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(1),i=n(8);const a=Symbol("INTERNAL");var s=new WeakMap;class o{constructor(e,t){_classPrivateFieldInitSpec(this,s,{writable:!0,value:!0}),this.name=e,this.intent=t}get visible(){return _classPrivateFieldGet(this,s)}_setVisible(e,t){e!==a&&(0,r.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(this,s,t)}}var l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakSet;function f(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let a;if(Array.isArray(t))a=_classPrivateMethodGet(this,h,f).call(this,t);else{if(!_classPrivateFieldGet(this,c).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;a=_classPrivateFieldGet(this,c).get(t).visible}switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return"And"===n}t.OptionalContentConfig=class{constructor(e){if(_classPrivateMethodInitSpec(this,h),_classPrivateFieldInitSpec(this,l,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:null}),this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,_classPrivateFieldSet(this,u,e.order);for(const t of e.groups)_classPrivateFieldGet(this,c).set(t.id,new o(t.name,t.intent));if("OFF"===e.baseState)for(const e of _classPrivateFieldGet(this,c).values())e._setVisible(a,!1);for(const t of e.on)_classPrivateFieldGet(this,c).get(t)._setVisible(a,!0);for(const t of e.off)_classPrivateFieldGet(this,c).get(t)._setVisible(a,!1);_classPrivateFieldSet(this,d,this.getHash())}}isVisible(e){if(0===_classPrivateFieldGet(this,c).size)return!0;if(!e)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return _classPrivateFieldGet(this,c).has(e.id)?_classPrivateFieldGet(this,c).get(e.id).visible:((0,r.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return _classPrivateMethodGet(this,h,f).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!_classPrivateFieldGet(this,c).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;if(_classPrivateFieldGet(this,c).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!_classPrivateFieldGet(this,c).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;if(!_classPrivateFieldGet(this,c).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!_classPrivateFieldGet(this,c).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;if(!_classPrivateFieldGet(this,c).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!_classPrivateFieldGet(this,c).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;if(_classPrivateFieldGet(this,c).get(t).visible)return!1}return!0}return(0,r.warn)("Unknown optional content policy ".concat(e.policy,".")),!0}return(0,r.warn)("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_classPrivateFieldGet(this,c).has(e)?(_classPrivateFieldGet(this,c).get(e)._setVisible(a,!!t),_classPrivateFieldSet(this,l,null)):(0,r.warn)("Optional content group not found: ".concat(e))}get hasInitialVisibility(){return null===_classPrivateFieldGet(this,d)||this.getHash()===_classPrivateFieldGet(this,d)}getOrder(){return _classPrivateFieldGet(this,c).size?_classPrivateFieldGet(this,u)?_classPrivateFieldGet(this,u).slice():[..._classPrivateFieldGet(this,c).keys()]:null}getGroups(){return _classPrivateFieldGet(this,c).size>0?(0,r.objectFromMap)(_classPrivateFieldGet(this,c)):null}getGroup(e){return _classPrivateFieldGet(this,c).get(e)||null}getHash(){if(null!==_classPrivateFieldGet(this,l))return _classPrivateFieldGet(this,l);const e=new i.MurmurHash3_64;for(const[t,n]of _classPrivateFieldGet(this,c))e.update("".concat(t,":").concat(n.visible));return _classPrivateFieldSet(this,l,e.hexdigest())}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(1),i=n(6);t.PDFDataTransportStream=class{constructor(e,t){let{length:n,initialData:i,progressiveDone:a=!1,contentDispositionFilename:s=null,disableRange:o=!1,disableStream:l=!1}=e;if((0,r.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=s,(null===i||void 0===i?void 0:i.length)>0){const e=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!l,this._isRangeSupported=!o,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const e=this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(i),!0)}));(0,r.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,n,r,i;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(r=this._fullRequestReader)||void 0===r||null===(i=r.onProgress)||void 0===i||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new a(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}};class a{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=(0,i.isPdfFile)(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(1),i=n(20);function a(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function s(e){const t=new Headers;for(const n in e){const r=e[n];void 0!==r&&t.append(n,r)}return t}function o(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:((0,r.warn)("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new c(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}};class l{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new r.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=s(this._stream.httpHeaders);const n=t.url;fetch(n,a(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:a,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:o(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class c{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController,this._headers=s(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(t,"-").concat(n-1));const l=o.url;fetch(l,a(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:o(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,i.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,a.isPdfFile)(e))return e}return null},t.validateRangeRequestCapabilities=function(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:r,disableRange:i}=e;const a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return Number.isInteger(s)?(a.suggestedLength=s,s<=2*r||i||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a):a},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(1),i=n(21),a=n(6)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=o(n);return e=unescape(e),e=l(e),e=c(e),s(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const a=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=o(n),e&&(n=unescape(n),0===i&&(n=l(n))),a.push(n)}return a.join("")}(e),n)return s(c(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=o(n);return e=c(e),s(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function a(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),a=(0,r.stringToBytes)(n);n=i.decode(a),t=!1}catch{}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=a("utf-8",e),t&&(e=a("iso-8859-1",e))),e}function o(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){const t=e.indexOf("'");return-1===t?e:a(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return a(t,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch{}return a(t,r)}))}return""};var r=n(1)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(1),i=n(20);class a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const i in n)r[i]=n[i];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const i in this.httpHeaders){const e=this.httpHeaders[i];void 0!==e&&t.setRequestHeader(i,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const r=this.pendingRequests[e];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;var a;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void(null===(a=n.onError)||void 0===a||a.call(n,i.status));const s=i.status||200;var o;if((200!==s||206!==n.expectedStatus)&&s!==n.expectedStatus)return void(null===(o=n.onError)||void 0===o||o.call(n,i.status));const l=function(e){const t=e.response;return"string"!==typeof t?t:(0,r.stringToBytes)(t).buffer}(i);if(206===s){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:l})}else if(l)n.onDone({begin:0,chunk:l});else{var c;null===(c=n.onError)||void 0===c||c.call(n,i.status)}}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new a(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new o(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}};class s{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:a}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(1),i=n(20);const a=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=__webpack_require__(6671),n=t.parse(e);return"file:"===n.protocol||n.host?n:/^[a-z]:[/\\]/i.test(e)?t.parse("file:///".concat(e)):(n.host||(n.protocol="file:"),n)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new u(this):new c(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new h(this,e,t):new d(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}};class s{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=new r.PromiseCapability,this._headersCapability=new r.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class o{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new r.PromiseCapability;const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function l(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class c extends s{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new r.MissingPDFException('Missing PDF "'.concat(this._url,'".'));return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:a,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n)};if(this._request=null,"http:"===this._url.protocol){const n=__webpack_require__(7492);this._request=n.request(l(this._url,e.httpHeaders),t)}else{const n=__webpack_require__(1815);this._request=n.request(l(this._url,e.httpHeaders),t)}this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class d extends o{constructor(e,t,n){super(e),this._httpHeaders={};for(const r in e.httpHeaders){const t=e.httpHeaders[r];void 0!==t&&(this._httpHeaders[r]=t)}this._httpHeaders.Range="bytes=".concat(t,"-").concat(n-1);const i=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new r.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=e}};if(this._request=null,"http:"===this._url.protocol){const e=__webpack_require__(7492);this._request=e.request(l(this._url,this._httpHeaders),i)}else{const e=__webpack_require__(1815);this._request=e.request(l(this._url,this._httpHeaders),i)}this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class u extends s{constructor(e){super(e);let t=decodeURIComponent(this._url.path);a.test(this._url.href)&&(t=t.replace(/^\//,""));const n=__webpack_require__(3237);n.lstat(t,((e,i)=>{if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException('Missing PDF "'.concat(t,'".'))),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=i.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()}))}}class h extends o{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);a.test(this._url.href)&&(r=r.replace(/^\//,""));const i=__webpack_require__(3237);this._setReadableStream(i.createReadStream(r,{start:t,end:n-1}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(6),i=n(1);const a="normal",s="normal",o="#000000",l=["butt","round","square"],c=["miter","round","bevel"],d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!==typeof Blob&&!n)return URL.createObjectURL(new Blob([e],{type:t}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i="data:".concat(t,";base64,");for(let a=0,s=e.length;a<s;a+=3){const t=255&e[a],n=255&e[a+1],o=255&e[a+2];i+=r[t>>2]+r[(3&t)<<4|n>>4]+r[a+1<s?(15&n)<<2|o>>6:64]+r[a+2<s?63&o:64]}return i},u=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e=1&e?3988292384^e>>1&2147483647:e>>1&2147483647;t[i]=e}function n(e,n,r,i){let a=i;const s=n.length;r[a]=s>>24&255,r[a+1]=s>>16&255,r[a+2]=s>>8&255,r[a+3]=255&s,a+=4,r[a]=255&e.charCodeAt(0),r[a+1]=255&e.charCodeAt(1),r[a+2]=255&e.charCodeAt(2),r[a+3]=255&e.charCodeAt(3),a+=4,r.set(n,a),a+=n.length;const o=function(e,n,r){let i=-1;for(let a=n;a<r;a++){const n=255&(i^e[a]);i=i>>>8^t[n]}return-1^i}(r,i+4,a);r[a]=o>>24&255,r[a+1]=o>>16&255,r[a+2]=o>>8&255,r[a+3]=255&o}function r(e){let t=e.length;const n=65535,r=Math.ceil(t/n),i=new Uint8Array(2+t+5*r+4);let a=0;i[a++]=120,i[a++]=156;let s=0;for(;t>n;)i[a++]=0,i[a++]=255,i[a++]=255,i[a++]=0,i[a++]=0,i.set(e.subarray(s,s+n),a),a+=n,s+=n,t-=n;i[a++]=1,i[a++]=255&t,i[a++]=t>>8&255,i[a++]=255&~t,i[a++]=(65535&~t)>>8&255,i.set(e.subarray(s),a),a+=e.length-s;const o=function(e,t,n){let r=1,i=0;for(let a=t;a<n;++a)r=(r+(255&e[a]))%65521,i=(i+r)%65521;return i<<16|r}(e,0,e.length);return i[a++]=o>>24&255,i[a++]=o>>16&255,i[a++]=o>>8&255,i[a++]=255&o,i}function a(t,a,s,o){const l=t.width,c=t.height;let u,h,f;const p=t.data;switch(a){case i.ImageKind.GRAYSCALE_1BPP:h=0,u=1,f=l+7>>3;break;case i.ImageKind.RGB_24BPP:h=2,u=8,f=3*l;break;case i.ImageKind.RGBA_32BPP:h=6,u=8,f=4*l;break;default:throw new Error("invalid format")}const g=new Uint8Array((1+f)*c);let m=0,v=0;for(let e=0;e<c;++e)g[m++]=0,g.set(p.subarray(v,v+f),m),v+=f,m+=f;if(a===i.ImageKind.GRAYSCALE_1BPP&&o){m=0;for(let e=0;e<c;e++){m++;for(let e=0;e<f;e++)g[m++]^=255}}const b=new Uint8Array([l>>24&255,l>>16&255,l>>8&255,255&l,c>>24&255,c>>16&255,c>>8&255,255&c,u,h,0,0,0]),y=function(e){if(!i.isNodeJS)return r(e);try{const t=parseInt(process.versions.node)>=8?e:Buffer.from(e),n=__webpack_require__(2787).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(t){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return r(e)}(g),x=e.length+36+b.length+y.length,w=new Uint8Array(x);let k=0;return w.set(e,k),k+=e.length,n("IHDR",b,w,k),k+=12+b.length,n("IDATA",y,w,k),k+=12+y.length,n("IEND",new Uint8Array(0),w,k),d(w,"image/png",s)}return function(e,t,n){return a(e,void 0===e.kind?i.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}();class h{constructor(){this.fontSizeScale=1,this.fontWeight=s,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function f(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function p(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(f(e[0])," ").concat(f(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){const t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(f(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(f(e[4])," ").concat(f(e[5]),")");return"matrix(".concat(f(e[0])," ").concat(f(e[1])," ").concat(f(e[2])," ").concat(f(e[3])," ").concat(f(e[4])," ")+"".concat(f(e[5]),")")}let g=0,m=0,v=0;t.SVGGraphics=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new h,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const r in i.OPS)this._operatorIdMapping[i.OPS[r]]=r}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,n=e.argsArray;for(let r=0,a=t.length;r<a;r++)if(t[r]===i.OPS.dependency)for(const e of n[r]){const t=e.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{t.get(e,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(e,t,n,r,a,s){const o=[e,t,n,r,a,s];this.transformMatrix=i.Util.transform(this.transformMatrix,o),this.tgrp=null}getSVG(e,t){this.viewport=t;const n=this._initialize(t);return this.loadDependencies(e).then((()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),n)))}convertOpList(e){const t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[];for(let a=0,s=r.length;a<s;a++){const e=r[a];i.push({fnId:e,fn:t[e],args:n[a]})}return function(e){let t=[];const n=[];for(const r of e)"save"!==r.fn?"restore"===r.fn?t=n.pop():t.push(r):(t.push({fnId:92,fn:"group",items:[]}),n.push(t),t=t.at(-1).items);return t}(i)}executeOpTree(e){for(const t of e){const e=t.fn,n=t.fnId,r=t.args;switch(0|n){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(r);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case i.OPS.setFont:this.setFont(r);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(r[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(r[0],r[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case i.OPS.setHScale:this.setHScale(r[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.setTextRise:this.setTextRise(r[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case i.OPS.setLineWidth:this.setLineWidth(r[0]);break;case i.OPS.setLineJoin:this.setLineJoin(r[0]);break;case i.OPS.setLineCap:this.setLineCap(r[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case i.OPS.setFillColorN:this.setFillColorN(r);break;case i.OPS.shadingFill:this.shadingFill(r[0]);break;case i.OPS.setDash:this.setDash(r[0],r[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case i.OPS.setFlatness:this.setFlatness(r[0]);break;case i.OPS.setGState:this.setGState(r[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.constructPath:this.constructPath(r[0],r[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,i.warn)("Unimplemented operator ".concat(e))}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,n,r,i,a){const s=this.current;s.textMatrix=s.lineMatrix=[e,t,n,r,i,a],s.textMatrixScale=Math.hypot(e,t),s.x=s.lineX=0,s.y=s.lineY=0,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size","".concat(f(s.fontSize),"px")),s.tspan.setAttributeNS(null,"y",f(-s.y)),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtElement.append(s.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=i.IDENTITY_MATRIX,e.lineMatrix=i.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(f(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",f(-n.y))}showText(e){const t=this.current,n=t.font,r=t.fontSize;if(0===r)return;const l=t.fontSizeScale,c=t.charSpacing,d=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,g=n.vertical,m=g?1:-1,v=n.defaultVMetrics,b=r*t.fontMatrix[0];let y=0;for(const i of e){if(null===i){y+=u*d;continue}if("number"===typeof i){y+=m*i*r/1e3;continue}const e=(i.isSpace?d:0)+c,a=i.fontChar;let s,o,h=i.width;if(g){let e;const t=i.vmetric||v;e=i.vmetric?t[1]:.5*h,e=-e*b;const n=t[2]*b;h=t?-t[0]:h,s=e/l,o=(y+n)/l}else s=y/l,o=0;(i.isInFont||n.missingFile)&&(t.xcoords.push(t.x+s),g&&t.ycoords.push(-t.y+o),t.tspan.textContent+=a),y+=g?h*b-e*u:h*b+e*u}t.tspan.setAttributeNS(null,"x",t.xcoords.map(f).join(" ")),g?t.tspan.setAttributeNS(null,"y",t.ycoords.map(f).join(" ")):t.tspan.setAttributeNS(null,"y",f(-t.y)),g?t.y-=y:t.x+=y*h,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(f(t.fontSize),"px")),t.fontStyle!==a&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==s&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const x=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(x===i.TextRenderingMode.FILL||x===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==o&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),x===i.TextRenderingMode.STROKE||x===i.TextRenderingMode.FILL_STROKE){const e=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,e)}let w=t.textMatrix;0!==t.textRise&&(w=w.slice(),w[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(p(w)," scale(").concat(f(h),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const t=d(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}setFont(e){const t=this.current,n=this.commonObjs.get(e[0]);let r=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX;let a="normal";n.black?a="900":n.bold&&(a="bold");const s=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=a,t.fontStyle=s,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",f(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){var e;const t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(e=t.txtElement)&&void 0!==e&&e.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=l[e]}setLineJoin(e){this.current.lineJoin=c[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,n){this.current.strokeColor=i.Util.makeHexColor(e,t,n)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,n){this.current.fillColor=i.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const{width:t,height:n}=this.viewport,r=i.Util.inverseTransform(this.transformMatrix),[a,s,o,l]=i.Util.getAxialAlignedBoundingBox([0,0,t,n],r),c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x",a),c.setAttributeNS(null,"y",s),c.setAttributeNS(null,"width",o-a),c.setAttributeNS(null,"height",l-s),c.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&c.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(c)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],n=e[2],r=e[3]||i.IDENTITY_MATRIX,[a,s,o,l]=e[4],c=e[5],d=e[6],u=e[7],h="shading".concat(v++),[f,p,g,m]=i.Util.normalizeRect([...i.Util.applyTransform([a,s],r),...i.Util.applyTransform([o,l],r)]),[b,y]=i.Util.singularValueDecompose2dScale(r),x=c*b,w=d*y,k=this.svgFactory.createElement("svg:pattern");k.setAttributeNS(null,"id",h),k.setAttributeNS(null,"patternUnits","userSpaceOnUse"),k.setAttributeNS(null,"width",x),k.setAttributeNS(null,"height",w),k.setAttributeNS(null,"x","".concat(f)),k.setAttributeNS(null,"y","".concat(p));const _=this.svg,S=this.transformMatrix,C=this.current.fillColor,A=this.current.strokeColor,P=this.svgFactory.create(g-f,m-p);if(this.svg=P,this.transformMatrix=r,2===u){const e=i.Util.makeHexColor(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(n)),this.svg=_,this.transformMatrix=S,this.current.fillColor=C,this.current.strokeColor=A,k.append(P.childNodes[0]),this.defs.append(k),"url(#".concat(h,")")}_makeShadingPattern(e){switch("string"===typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const t="shading".concat(v++),n=e[3];let r;switch(e[1]){case"axial":const n=e[4],i=e[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",n[0]),r.setAttributeNS(null,"y1",n[1]),r.setAttributeNS(null,"x2",i[0]),r.setAttributeNS(null,"y2",i[1]);break;case"radial":const a=e[4],s=e[5],o=e[6],l=e[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",s[0]),r.setAttributeNS(null,"cy",s[1]),r.setAttributeNS(null,"r",l),r.setAttributeNS(null,"fx",a[0]),r.setAttributeNS(null,"fy",a[1]),r.setAttributeNS(null,"fr",o);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}for(const e of n){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),r.append(t)}return this.defs.append(r),"url(#".concat(t,")");case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const n=this.current;let r=n.x,a=n.y,s=[],o=0;for(const l of e)switch(0|l){case i.OPS.rectangle:r=t[o++],a=t[o++];const e=r+t[o++],n=a+t[o++];s.push("M",f(r),f(a),"L",f(e),f(a),"L",f(e),f(n),"L",f(r),f(n),"Z");break;case i.OPS.moveTo:r=t[o++],a=t[o++],s.push("M",f(r),f(a));break;case i.OPS.lineTo:r=t[o++],a=t[o++],s.push("L",f(r),f(a));break;case i.OPS.curveTo:r=t[o+4],a=t[o+5],s.push("C",f(t[o]),f(t[o+1]),f(t[o+2]),f(t[o+3]),f(r),f(a)),o+=6;break;case i.OPS.curveTo2:s.push("C",f(r),f(a),f(t[o]),f(t[o+1]),f(t[o+2]),f(t[o+3])),r=t[o+2],a=t[o+3],o+=4;break;case i.OPS.curveTo3:r=t[o+2],a=t[o+3],s.push("C",f(t[o]),f(t[o+1]),f(r),f(a),f(r),f(a)),o+=4;break;case i.OPS.closePath:s.push("Z")}s=s.join(" "),n.path&&e.length>0&&e[0]!==i.OPS.rectangle&&e[0]!==i.OPS.moveTo?s=n.path.getAttributeNS(null,"d")+s:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",s),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(r,a)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath".concat(g++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",p(this.transformMatrix));const r=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(r),this.defs.append(n),e.activeClipUrl){e.clipGroup=null;for(const e of this.extraStack)e.clipGroup=null;n.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,i.warn)("Unimplemented graphic state operator ".concat(t))}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this.current;let r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",f(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",f(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(f).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",f(t*n.dashPhase)+"px")}eoFill(){var e;null===(e=this.current.element)||void 0===e||e.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var e;null===(e=this.current.element)||void 0===e||e.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,i.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}paintInlineImageXObject(e,t){const n=e.width,r=e.height,i=u(e,this.forceDataSchema,!!t),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",f(n)),a.setAttributeNS(null,"height",f(r)),this.current.element=a,this.clip("nonzero");const s=this.svgFactory.createElement("svg:image");s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",f(-r)),s.setAttributeNS(null,"width",f(n)+"px"),s.setAttributeNS(null,"height",f(r)+"px"),s.setAttributeNS(null,"transform","scale(".concat(f(1/n)," ").concat(f(-1/r),")")),t?t.append(s):this._ensureTransformGroup().append(s)}paintImageMaskXObject(e){const t=this.getObject(e.data,e);if(t.bitmap)return void(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const n=this.current,r=t.width,a=t.height,s=n.fillColor;n.maskId="mask".concat(m++);const o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",n.maskId);const l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",f(r)),l.setAttributeNS(null,"height",f(a)),l.setAttributeNS(null,"fill",s),l.setAttributeNS(null,"mask","url(#".concat(n.maskId,")")),this.defs.append(o),this._ensureTransformGroup().append(l),this.paintInlineImageXObject(t,o)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],n=t[3]-t[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",t[0]),r.setAttributeNS(null,"y",t[1]),r.setAttributeNS(null,"width",f(e)),r.setAttributeNS(null,"height",f(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.append(n),this.defs=n;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",p(e.transform)),t.append(r),this.svg=r,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",p(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};return function e(r){var i;if(!r)return;let a=null;const s=r.name;if("#text"===s)a=r.value;else{if(!n.shouldBuildText(s))return;null!==r&&void 0!==r&&null!==(i=r.attributes)&&void 0!==i&&i.textContent?a=r.attributes.textContent:r.value&&(a=r.value)}if(null!==a&&t.push({str:a}),r.children)for(const t of r.children)e(t)}(e),r}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}t.XfaText=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=function(e){e.textContentSource||!e.textContent&&!e.textContentStream||((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),e.textContentSource=e.textContent||e.textContentStream);const{container:t,viewport:n}=e,r=getComputedStyle(t),a=r.getPropertyValue("visibility"),s=parseFloat(r.getPropertyValue("--scale-factor"));"visible"===a&&(!s||Math.abs(s-n.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const o=new u(e);return o._render(),o},t.updateTextLayer=function(e){let{container:t,viewport:n,textDivs:r,textDivProperties:a,isOffscreenCanvasSupported:s,mustRotate:o=!0,mustRescale:c=!0}=e;if(o&&(0,i.setLayerDimensions)(t,{rotation:n.rotation}),c){const e=l(0,s),t={prevFontSize:null,prevFontFamily:null,div:null,scale:n.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:e};for(const n of r)t.properties=a.get(n),t.div=n,d(t)}};var r=n(1),i=n(6);const a=30,s=.8,o=new Map;function l(e,t){let n;if(t&&r.FeatureTest.isOffscreenCanvasSupported)n=new OffscreenCanvas(e,e).getContext("2d",{alpha:!1});else{const t=document.createElement("canvas");t.width=t.height=e,n=t.getContext("2d",{alpha:!1})}return n}function c(e,t,n){const i=document.createElement("span"),c={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(i);const d=r.Util.transform(e._transform,t.transform);let u=Math.atan2(d[1],d[0]);const h=n[t.fontName];h.vertical&&(u+=Math.PI/2);const f=Math.hypot(d[2],d[3]),p=f*function(e,t){const n=o.get(e);if(n)return n;const r=l(a,t);r.font="".concat(a,"px ").concat(e);const i=r.measureText("");let c=i.fontBoundingBoxAscent,d=Math.abs(i.fontBoundingBoxDescent);if(c){const t=c/(c+d);return o.set(e,t),r.canvas.width=r.canvas.height=0,t}r.strokeStyle="red",r.clearRect(0,0,a,a),r.strokeText("g",0,0);let u=r.getImageData(0,0,a,a).data;d=0;for(let s=u.length-1-3;s>=0;s-=4)if(u[s]>0){d=Math.ceil(s/4/a);break}r.clearRect(0,0,a,a),r.strokeText("A",0,a),u=r.getImageData(0,0,a,a).data,c=0;for(let s=0,o=u.length;s<o;s+=4)if(u[s]>0){c=a-Math.floor(s/4/a);break}if(r.canvas.width=r.canvas.height=0,c){const t=c/(c+d);return o.set(e,t),t}return o.set(e,s),s}(h.fontFamily,e._isOffscreenCanvasSupported);let g,m;0===u?(g=d[4],m=d[5]-p):(g=d[4]+p*Math.sin(u),m=d[5]-p*Math.cos(u));const v="calc(var(--scale-factor)*",b=i.style;e._container===e._rootContainer?(b.left="".concat((100*g/e._pageWidth).toFixed(2),"%"),b.top="".concat((100*m/e._pageHeight).toFixed(2),"%")):(b.left="".concat(v).concat(g.toFixed(2),"px)"),b.top="".concat(v).concat(m.toFixed(2),"px)")),b.fontSize="".concat(v).concat(f.toFixed(2),"px)"),b.fontFamily=h.fontFamily,c.fontSize=f,i.setAttribute("role","presentation"),i.textContent=t.str,i.dir=t.dir,e._fontInspectorEnabled&&(i.dataset.fontName=t.fontName),0!==u&&(c.angle=u*(180/Math.PI));let y=!1;if(t.str.length>1)y=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(y=!0)}y&&(c.canvasWidth=h.vertical?t.height:t.width),e._textDivProperties.set(i,c),e._isReadableStream&&e._layoutText(i)}function d(e){const{div:t,scale:n,properties:r,ctx:i,prevFontSize:a,prevFontFamily:s}=e,{style:o}=t;let l="";if(0!==r.canvasWidth&&r.hasText){const{fontFamily:c}=o,{canvasWidth:d,fontSize:u}=r;a===u&&s===c||(i.font="".concat(u*n,"px ").concat(c),e.prevFontSize=u,e.prevFontFamily=c);const{width:h}=i.measureText(t.textContent);h>0&&(l="scaleX(".concat(d*n/h,")"))}0!==r.angle&&(l="rotate(".concat(r.angle,"deg) ").concat(l)),l.length>0&&(o.transform=l)}class u{constructor(e){var t;let{textContentSource:n,container:a,viewport:s,textDivs:o,textDivProperties:c,textContentItemsStr:d,isOffscreenCanvasSupported:u}=e;this._textContentSource=n,this._isReadableStream=n instanceof ReadableStream,this._container=this._rootContainer=a,this._textDivs=o||[],this._textContentItemsStr=d||[],this._isOffscreenCanvasSupported=u,this._fontInspectorEnabled=!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled),this._reader=null,this._textDivProperties=c||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:s.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:l(0,u)};const{pageWidth:h,pageHeight:f,pageX:p,pageY:g}=s.rawDims;this._transform=[1,0,0,-1,-p,g+f],this._pageWidth=h,this._pageHeight=f,(0,i.setLayerDimensions)(a,s),this._capability.promise.finally((()=>{this._layoutTextParams=null})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(e,t){for(const n of e)if(void 0!==n.str)this._textContentItemsStr.push(n.str),c(this,n,t);else if("beginMarkedContentProps"===n.type||"beginMarkedContent"===n.type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==n.id&&this._container.setAttribute("id","".concat(n.id)),e.append(this._container)}else"endMarkedContent"===n.type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._layoutTextParams.properties=this._textDivProperties.get(e);if(this._layoutTextParams.div=e,d(this._layoutTextParams),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(){const e=new r.PromiseCapability;let t=Object.create(null);if(this._isReadableStream){const n=()=>{this._reader.read().then((r=>{let{value:i,done:a}=r;a?e.resolve():(Object.assign(t,i.styles),this._processItems(i.items,t),n())}),e.reject)};this._reader=this._textContentSource.getReader(),n()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:t,styles:n}=this._textContentSource;this._processItems(t,n),e.resolve()}}e.promise.then((()=>{t=null,function(e){if(e._canceled)return;const t=e._textDivs,n=e._capability;if(t.length>1e5)n.resolve();else{if(!e._isReadableStream)for(const n of t)e._layoutText(n);n.resolve()}}(this)}),this._capability.reject)}}t.TextLayerRenderTask=u},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var r=n(1),i=n(4),a=n(28),s=n(33),o=n(6),l=n(34),c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakSet,x=new WeakSet,w=new WeakSet,k=new WeakSet;class _{constructor(e){let{uiManager:t,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:o,viewport:S,l10n:C}=e;_classPrivateMethodInitSpec(this,k),_classPrivateMethodInitSpec(this,w),_classPrivateMethodInitSpec(this,x),_classPrivateMethodInitSpec(this,y),_classPrivateFieldInitSpec(this,c,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:this.pointerup.bind(this)}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:this.pointerdown.bind(this)}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,b,{writable:!0,value:void 0});const A=[a.FreeTextEditor,s.InkEditor,l.StampEditor];if(!_._initialized){_._initialized=!0;for(const e of A)e.initialize(C)}t.registerEditorTypes(A),_classPrivateFieldSet(this,b,t),this.pageIndex=n,this.div=r,_classPrivateFieldSet(this,c,i),_classPrivateFieldSet(this,u,o),this.viewport=S,_classPrivateFieldGet(this,b).addLayer(this)}get isEmpty(){return 0===_classPrivateFieldGet(this,p).size}updateToolbar(e){_classPrivateFieldGet(this,b).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_classPrivateFieldGet(this,b).getMode();_classPrivateMethodGet(this,k,P).call(this),e===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),e!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",e===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",e===r.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",e===r.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(e){if(e||_classPrivateFieldGet(this,b).getMode()===r.AnnotationEditorType.INK){if(!e)for(const e of _classPrivateFieldGet(this,p).values())if(e.isEmpty())return void e.setInBackground();_classPrivateMethodGet(this,x,C).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(e){_classPrivateFieldGet(this,b).setEditingState(e)}addCommands(e){_classPrivateFieldGet(this,b).addCommands(e)}enable(){this.div.style.pointerEvents="auto";const e=new Set;for(const n of _classPrivateFieldGet(this,p).values())n.enableEditing(),n.annotationElementId&&e.add(n.annotationElementId);if(!_classPrivateFieldGet(this,u))return;const t=_classPrivateFieldGet(this,u).getEditableAnnotations();for(const n of t){if(n.hide(),_classPrivateFieldGet(this,b).isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){_classPrivateFieldSet(this,v,!0),this.div.style.pointerEvents="none";const e=new Set;for(const n of _classPrivateFieldGet(this,p).values()){var t;n.disableEditing(),n.annotationElementId&&null===n.serialize()?(null===(t=this.getEditableAnnotation(n.annotationElementId))||void 0===t||t.show(),n.remove()):e.add(n.annotationElementId)}if(_classPrivateFieldGet(this,u)){const t=_classPrivateFieldGet(this,u).getEditableAnnotations();for(const n of t){const{id:t}=n.data;e.has(t)||_classPrivateFieldGet(this,b).isDeletedAnnotationElement(t)||n.show()}}_classPrivateMethodGet(this,k,P).call(this),this.isEmpty&&(this.div.hidden=!0),_classPrivateFieldSet(this,v,!1)}getEditableAnnotation(e){var t;return(null===(t=_classPrivateFieldGet(this,u))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){_classPrivateFieldGet(this,b).getActive()!==e&&_classPrivateFieldGet(this,b).setActiveEditor(e)}enableClick(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(this,f)),this.div.addEventListener("pointerup",_classPrivateFieldGet(this,h))}disableClick(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(this,f)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(this,h))}attach(e){_classPrivateFieldGet(this,p).set(e.id,e);const{annotationElementId:t}=e;t&&_classPrivateFieldGet(this,b).isDeletedAnnotationElement(t)&&_classPrivateFieldGet(this,b).removeDeletedAnnotationElement(e)}detach(e){var t;_classPrivateFieldGet(this,p).delete(e.id),null===(t=_classPrivateFieldGet(this,c))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!_classPrivateFieldGet(this,v)&&e.annotationElementId&&_classPrivateFieldGet(this,b).addDeletedAnnotationElement(e)}remove(e){this.detach(e),_classPrivateFieldGet(this,b).removeEditor(e),e.div.contains(document.activeElement)&&setTimeout((()=>{_classPrivateFieldGet(this,b).focusMainContainer()}),0),e.div.remove(),e.isAttachedToDOM=!1,_classPrivateFieldGet(this,m)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.annotationElementId&&(_classPrivateFieldGet(this,b).addDeletedAnnotationElement(e.annotationElementId),i.AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(this.changeParent(e),_classPrivateFieldGet(this,b).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),_classPrivateFieldGet(this,b).addToAnnotationStorage(e)}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&(e._focusEventsAllowed=!1,setTimeout((()=>{e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0}),n.focus())}),0)),e._structTreeParentId=null===(t=_classPrivateFieldGet(this,c))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return _classPrivateFieldGet(this,b).getId()}pasteEditor(e,t){_classPrivateFieldGet(this,b).updateToolbar(e),_classPrivateFieldGet(this,b).updateMode(e);const{offsetX:n,offsetY:r}=_classPrivateMethodGet(this,w,A).call(this),i=this.getNextId(),a=_classPrivateMethodGet(this,y,S).call(this,{parent:this,id:i,x:n,y:r,uiManager:_classPrivateFieldGet(this,b),isCentered:!0,...t});a&&this.add(a)}deserialize(e){var t;switch(null!==(t=e.annotationType)&&void 0!==t?t:e.annotationEditorType){case r.AnnotationEditorType.FREETEXT:return a.FreeTextEditor.deserialize(e,this,_classPrivateFieldGet(this,b));case r.AnnotationEditorType.INK:return s.InkEditor.deserialize(e,this,_classPrivateFieldGet(this,b));case r.AnnotationEditorType.STAMP:return l.StampEditor.deserialize(e,this,_classPrivateFieldGet(this,b))}return null}addNewEditor(){_classPrivateMethodGet(this,x,C).call(this,_classPrivateMethodGet(this,w,A).call(this),!0)}setSelected(e){_classPrivateFieldGet(this,b).setSelected(e)}toggleSelected(e){_classPrivateFieldGet(this,b).toggleSelected(e)}isSelected(e){return _classPrivateFieldGet(this,b).isSelected(e)}unselect(e){_classPrivateFieldGet(this,b).unselect(e)}pointerup(e){const{isMac:t}=r.FeatureTest.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&_classPrivateFieldGet(this,g)&&(_classPrivateFieldSet(this,g,!1),_classPrivateFieldGet(this,d)?_classPrivateFieldGet(this,b).getMode()!==r.AnnotationEditorType.STAMP?_classPrivateMethodGet(this,x,C).call(this,e,!1):_classPrivateFieldGet(this,b).unselectAll():_classPrivateFieldSet(this,d,!0))}pointerdown(e){if(_classPrivateFieldGet(this,g))return void _classPrivateFieldSet(this,g,!1);const{isMac:t}=r.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;_classPrivateFieldSet(this,g,!0);const n=_classPrivateFieldGet(this,b).getActive();_classPrivateFieldSet(this,d,!n||n.isEmpty())}findNewParent(e,t,n){const r=_classPrivateFieldGet(this,b).findParent(t,n);return null!==r&&r!==this&&(r.changeParent(e),!0)}destroy(){var e;(null===(e=_classPrivateFieldGet(this,b).getActive())||void 0===e?void 0:e.parent)===this&&(_classPrivateFieldGet(this,b).commitOrRemove(),_classPrivateFieldGet(this,b).setActiveEditor(null));for(const n of _classPrivateFieldGet(this,p).values()){var t;null===(t=_classPrivateFieldGet(this,c))||void 0===t||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,_classPrivateFieldGet(this,p).clear(),_classPrivateFieldGet(this,b).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,(0,o.setLayerDimensions)(this.div,t);for(const n of _classPrivateFieldGet(this,b).getEditors(this.pageIndex))this.add(n);this.updateMode()}update(e){let{viewport:t}=e;_classPrivateFieldGet(this,b).commitOrRemove(),this.viewport=t,(0,o.setLayerDimensions)(this.div,{rotation:t.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}}function S(e){switch(_classPrivateFieldGet(this,b).getMode()){case r.AnnotationEditorType.FREETEXT:return new a.FreeTextEditor(e);case r.AnnotationEditorType.INK:return new s.InkEditor(e);case r.AnnotationEditorType.STAMP:return new l.StampEditor(e)}return null}function C(e,t){const n=this.getNextId(),r=_classPrivateMethodGet(this,y,S).call(this,{parent:this,id:n,x:e.offsetX,y:e.offsetY,uiManager:_classPrivateFieldGet(this,b),isCentered:t});return r&&this.add(r),r}function A(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),a=Math.max(0,t),s=(i+Math.min(window.innerWidth,e+n))/2-e,o=(a+Math.min(window.innerHeight,t+r))/2-t,[l,c]=this.viewport.rotation%180===0?[s,o]:[o,s];return{offsetX:l,offsetY:c}}function P(){_classPrivateFieldSet(this,m,!0);for(const e of _classPrivateFieldGet(this,p).values())e.isEmpty()&&e.remove();_classPrivateFieldSet(this,m,!1)}_defineProperty(_,"_initialized",!1),t.AnnotationEditorLayer=_},(e,t,n)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var i=n(1),a=n(5),s=n(4),o=n(29),l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakSet,b=new WeakSet,y=new WeakSet,x=new WeakSet,w=new WeakSet,k=new WeakSet,_=new WeakSet;class S extends s.AnnotationEditor{static get _keyboardManager(){const e=S.prototype,t=e=>e.isEmpty(),n=a.AnnotationEditorUIManager.TRANSLATE_SMALL,r=a.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new a.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}constructor(e){super({...e,name:"freeTextEditor"}),_classPrivateMethodInitSpec(this,_),_classPrivateMethodInitSpec(this,k),_classPrivateMethodInitSpec(this,w),_classPrivateMethodInitSpec(this,x),_classPrivateMethodInitSpec(this,y),_classPrivateMethodInitSpec(this,b),_classPrivateMethodInitSpec(this,v),_classPrivateFieldInitSpec(this,l,{writable:!0,value:this.editorDivBlur.bind(this)}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:this.editorDivFocus.bind(this)}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:this.editorDivInput.bind(this)}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:this.editorDivKeydown.bind(this)}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:""}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:"".concat(this.id,"-editor")}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:null}),_classPrivateFieldSet(this,h,e.color||S._defaultColor||s.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(this,g,e.fontSize||S._defaultFontSize)}static initialize(e){s.AnnotationEditor.initialize(e,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case i.AnnotationEditorParamsType.FREETEXT_SIZE:S._defaultFontSize=t;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:S._defaultColor=t}}updateParams(e,t){switch(e){case i.AnnotationEditorParamsType.FREETEXT_SIZE:_classPrivateMethodGet(this,v,C).call(this,t);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:_classPrivateMethodGet(this,b,A).call(this,t)}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,S._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,S._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(this,g)],[i.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(this,h)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-S._internalPadding*e,-(S._internalPadding+_classPrivateFieldGet(this,g))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(this,u)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(this,c)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(this,l)),this.editorDiv.addEventListener("input",_classPrivateFieldGet(this,d)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_classPrivateFieldGet(this,p)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(this,u)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(this,c)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(this,l)),this.editorDiv.removeEventListener("input",_classPrivateFieldGet(this,d)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width?_classPrivateMethodGet(this,_,I).call(this):(this.enableEditMode(),this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=_classPrivateFieldGet(this,f),t=_classPrivateFieldSet(this,f,_classPrivateMethodGet(this,y,P).call(this).trimEnd());if(e===t)return;const n=e=>{_classPrivateFieldSet(this,f,e),e?(_classPrivateMethodGet(this,w,T).call(this),this._uiManager.rebuild(this),_classPrivateMethodGet(this,x,E).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),_classPrivateMethodGet(this,x,E).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){S._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_classPrivateFieldGet(this,p)),this.enableEditing(),s.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then((e=>{var t;return null===(t=this.editorDiv)||void 0===t?void 0:t.setAttribute("aria-label",e)})),s.AnnotationEditor._l10nPromise.get("free_text2_default_content").then((e=>{var t;return null===(t=this.editorDiv)||void 0===t?void 0:t.setAttribute("default-content",e)})),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(_classPrivateFieldGet(this,g),"px * var(--scale-factor))"),n.color=_classPrivateFieldGet(this,h),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:i}=_classPrivateFieldGet(this,m);let[a,s]=this.getInitialTranslation();[a,s]=this.pageTranslationToScreen(a,s);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let u,h;switch(this.rotation){case 0:u=e+(i[0]-c)/o,h=t+this.height-(i[1]-d)/l;break;case 90:u=e+(i[0]-c)/o,h=t-(i[1]-d)/l,[a,s]=[s,-a];break;case 180:u=e-this.width+(i[0]-c)/o,h=t-(i[1]-d)/l,[a,s]=[-a,-s];break;case 270:u=e+(i[0]-c-this.height*l)/o,h=t+(i[1]-d-this.width*o)/l,[a,s]=[-s,a]}this.setAt(u*n,h*r,a,s)}else this.setAt(e*n,t*r,this.width*n,this.height*r);_classPrivateMethodGet(this,w,T).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){let r=null;if(e instanceof o.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:a,rotation:s,id:o},textContent:l,textPosition:c,parent:{page:{pageNumber:d}}}=e;if(!l||0===l.length)return null;r=e={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:c,pageIndex:d-1,rect:a,rotation:s,id:o,deleted:!1}}const a=super.deserialize(e,t,n);return _classPrivateFieldSet(a,g,e.fontSize),_classPrivateFieldSet(a,h,i.Util.makeHexColor(...e.color)),_classPrivateFieldSet(a,f,e.value),a.annotationElementId=e.id||null,_classPrivateFieldSet(a,m,r),a}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=S._internalPadding*this.parentScale,n=this.getRect(t,t),r=s.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_classPrivateFieldGet(this,h)),a={annotationType:i.AnnotationEditorType.FREETEXT,color:r,fontSize:_classPrivateFieldGet(this,g),value:_classPrivateFieldGet(this,f),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?a:this.annotationElementId&&!_classPrivateMethodGet(this,k,N).call(this,a)?null:(a.id=this.annotationElementId,a)}}function C(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--scale-factor))"),this.translate(0,-(e-_classPrivateFieldGet(this,g))*this.parentScale),_classPrivateFieldSet(this,g,e),_classPrivateMethodGet(this,x,E).call(this)},n=_classPrivateFieldGet(this,g);this.addCommands({cmd:()=>{t(e)},undo:()=>{t(n)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function A(e){const t=_classPrivateFieldGet(this,h);this.addCommands({cmd:()=>{_classPrivateFieldSet(this,h,this.editorDiv.style.color=e)},undo:()=>{_classPrivateFieldSet(this,h,this.editorDiv.style.color=t)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function P(){const e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;const t=[];for(const n of e)t.push(n.innerText.replace(/\r\n?|\n/,""));return t.join("\n")}function E(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display;t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}function T(){if(this.editorDiv.replaceChildren(),_classPrivateFieldGet(this,f))for(const e of _classPrivateFieldGet(this,f).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function N(e){const{value:t,fontSize:n,color:r,rect:i,pageIndex:a}=_classPrivateFieldGet(this,m);return e.value!==t||e.fontSize!==n||e.rect.some(((e,t)=>Math.abs(e-i[t])>=1))||e.color.some(((e,t)=>e!==r[t]))||e.pageIndex!==a}function I(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.annotationElementId)return;if(_classPrivateMethodGet(this,x,E).call(this),!e&&(0===this.width||0===this.height))return void setTimeout((()=>_classPrivateMethodGet(this,_,I).call(this,!0)),0);const t=r._internalPadding*this.parentScale;_classPrivateFieldGet(this,m).rect=this.getRect(t,t)}r=S,_defineProperty(S,"_freeTextDefaultContent",""),_defineProperty(S,"_internalPadding",0),_defineProperty(S,"_defaultColor",null),_defineProperty(S,"_defaultFontSize",10),_defineProperty(S,"_type","freetext"),t.FreeTextEditor=S},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var r=n(1),i=n(6),a=n(3),s=n(30),o=n(31),l=n(32);const c=1e3,d=new WeakSet;function u(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class h{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new v(e);case r.AnnotationType.TEXT:return new x(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new k(e);case"Btn":return e.data.radioButton?new C(e):e.data.checkBox?new S(e):new A(e);case"Ch":return new P(e);case"Sig":return new _(e)}return new w(e);case r.AnnotationType.POPUP:return new E(e);case r.AnnotationType.FREETEXT:return new te(e);case r.AnnotationType.LINE:return new re(e);case r.AnnotationType.SQUARE:return new ae(e);case r.AnnotationType.CIRCLE:return new oe(e);case r.AnnotationType.POLYLINE:return new ce(e);case r.AnnotationType.CARET:return new ue(e);case r.AnnotationType.INK:return new fe(e);case r.AnnotationType.POLYGON:return new de(e);case r.AnnotationType.HIGHLIGHT:return new pe(e);case r.AnnotationType.UNDERLINE:return new ge(e);case r.AnnotationType.SQUIGGLY:return new me(e);case r.AnnotationType.STRIKEOUT:return new ve(e);case r.AnnotationType.STAMP:return new be(e);case r.AnnotationType.FILEATTACHMENT:return new we(e);default:return new p(e)}}}var f=new WeakMap;class p{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classPrivateFieldInitSpec(this,f,{writable:!0,value:!1}),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:r}=e;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str||null!==r&&void 0!==r&&r.str)}get hasPopupData(){return p._hasPopupData(this.data)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),this instanceof w||(a.tabIndex=c),a.style.zIndex=this.parent.zIndex++,this.data.popupRef&&a.setAttribute("aria-haspopup","dialog"),t.noRotate&&a.classList.add("norotate");const{pageWidth:s,pageHeight:o,pageX:l,pageY:d}=i.rawDims;if(!t.rect||this instanceof E){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,a),a}const{width:h,height:p}=u(t.rect),g=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(!e&&t.borderStyle.width>0){a.style.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t="calc(".concat(e,"px * var(--scale-factor)) / calc(").concat(n,"px * var(--scale-factor))");a.style.borderRadius=t}else if(this instanceof C){const e="calc(".concat(h,"px * var(--scale-factor)) / calc(").concat(p,"px * var(--scale-factor))");a.style.borderRadius=e}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}const i=t.borderColor||null;i?(_classPrivateFieldSet(this,f,!0),a.style.borderColor=r.Util.makeHexColor(0|i[0],0|i[1],0|i[2])):a.style.borderWidth=0}a.style.left="".concat(100*(g[0]-l)/s,"%"),a.style.top="".concat(100*(g[1]-d)/o,"%");const{rotation:m}=t;return t.hasOwnCanvas||0===m?(a.style.width="".concat(100*h/s,"%"),a.style.height="".concat(100*p/o,"%")):this.setRotation(m,a),a}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:i,height:a}=u(this.data.rect);let s,o;e%180===0?(s=100*i/n,o=100*a/r):(s=100*a/n,o=100*i/r),t.style.width="".concat(s,"%"),t.style.height="".concat(o,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e],i=r[0],a=r.slice(1);n.target.style[t]=s.ColorConverters["".concat(i,"_HTML")](a),this.annotationStorage.setValue(this.data.id,{[t]:s.ColorConverters["".concat(i,"_rgb")](a)})};return(0,r.shadow)(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];null===i||void 0===i||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const a=n[r];a&&(a({detail:{[r]:i},target:e}),delete t[r])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,i]=this.data.rect;if(1===e.length){const[,{x:a,y:s},{x:o,y:l}]=e[0];if(r===a&&i===s&&t===o&&n===l)return}const{style:a}=this.container;let s;if(_classPrivateFieldGet(this,f)){const{borderColor:e,borderWidth:t}=a;a.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=r-t,l=i-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const u=c.createElement("defs");d.append(u);const h=c.createElement("clipPath"),p="clippath_".concat(this.data.id);h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),u.append(h);for(const[,{x:f,y:m},{x:v,y:b}]of e){var g;const e=c.createElement("rect"),n=(v-t)/o,r=(i-m)/l,a=(f-v)/o,d=(m-b)/l;e.setAttribute("x",n),e.setAttribute("y",r),e.setAttribute("width",a),e.setAttribute("height",d),h.append(e),null===(g=s)||void 0===g||g.push('<rect vector-effect="non-scaling-stroke" x="'.concat(n,'" y="').concat(r,'" width="').concat(a,'" height="').concat(d,'"/>'))}_classPrivateFieldGet(this,f)&&(s.push("</g></svg>')"),a.backgroundImage=s.join("")),this.container.append(d),this.container.style.clipPath="url(#".concat(p,")")}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=new E({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:"popup_".concat(t.id),rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:a,exportValues:s}of i){if(-1===e)continue;if(a===t)continue;const i="string"===typeof s?s:null,o=document.querySelector('[data-element-id="'.concat(a,'"]'));!o||d.has(o)?n.push({id:a,exportValue:i,domElement:o}):(0,r.warn)("_getElementsByName - element not allowed: ".concat(a))}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,i=r.getAttribute("data-element-id");i!==t&&d.has(r)&&n.push({id:i,exportValue:e,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}var g=new WeakSet,m=new WeakSet;class v extends p{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),_classPrivateMethodInitSpec(this,m),_classPrivateMethodInitSpec(this,g),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(this._bindAttachment(n,e.attachment),r=!0):e.setOCGState?(_classPrivateMethodGet(this,m,y).call(this,n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&_classPrivateMethodGet(this,g,b).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),_classPrivateMethodGet(this,g,b).call(this)}_bindAttachment(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,t.content,t.filename),!1},_classPrivateMethodGet(this,g,b).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),_classPrivateMethodGet(this,g,b).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),_classPrivateMethodGet(this,g,b).call(this),!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{null===n||void 0===n||n();const{fields:e,refs:i,include:a}=t,s=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===a&&s.push(n)}else for(const t of Object.values(this._fieldObjects))s.push(...t);const o=this.annotationStorage,l=[];for(const t of s){const{id:e}=t;switch(l.push(e),t.type){case"text":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;o.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(e,'"]'));n&&(d.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)("_bindResetFormAction - element not allowed: ".concat(e)))}var c;return this.enableScripting&&(null===(c=this.linkService.eventBus)||void 0===c||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}})),!1}}}function b(){this.container.setAttribute("data-internal-link","")}function y(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),_classPrivateMethodGet(this,g,b).call(this)}class x extends p{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class w extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){const{isWin:t,isMac:n}=r.FeatureTest.platform;return t&&e.ctrlKey||n&&e.metaKey}_setEventListener(e,t,n,r,i){n.includes("mouse")?e.addEventListener(n,(e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{var a;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}i&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e)}}))}))}_setEventListeners(e,t,n,r){for(const[o,l]of n){var i,a,s;("Action"===l||null!==(i=this.data.actions)&&void 0!==i&&i[l])&&("Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,r),"Focus"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Blur?"Blur"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":r.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,a=e.style;let s;const o=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(r.LINE_FACTOR*i))||1);s=Math.min(i,o(t/r.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);s=Math.min(i,o(e/r.LINE_FACTOR))}a.fontSize="calc(".concat(s,"px * var(--scale-factor))"),a.color=r.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class k extends w{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),i.setValue(a.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var r;const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const u=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;u&&l.length>u&&(l=l.slice(0,u));let h=o.formattedValue||(null===(r=this.data.textContent)||void 0===r?void 0:r.join("\n"))||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const f={userValue:l,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};var i,a;this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==(i=h)&&void 0!==i?i:l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",null!==(a=h)&&void 0!==a?a:l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),d.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=c,this._setRequired(n,this.data.required),u&&(n.maxLength=u),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),f.formattedValue=null})),n.addEventListener("resetform",(e=>{var t;const r=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=f.userValue=r,f.formattedValue=null}));let p=e=>{const{formattedValue:t}=f;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var s;n.addEventListener("focus",(e=>{if(f.focused)return;const{target:t}=e;f.userValue&&(t.value=f.userValue),f.lastCommittedValue=t.value,f.commitKey=1,f.focused=!0})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const r={value(n){var r;f.userValue=null!==(r=n.detail.value)&&void 0!==r?r:"",e.setValue(t,{value:f.userValue.toString()}),n.target.value=f.userValue},formattedValue(n){const{formattedValue:r}=n.detail;f.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var r;const{charLimit:i}=n.detail,{target:a}=n;if(0===i)return void a.removeAttribute("maxLength");a.setAttribute("maxLength",i);let s=f.userValue;!s||s.length<=i||(s=s.slice(0,i),a.value=f.userValue=s,e.setValue(t,{value:s}),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:a.selectionStart,selEnd:a.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{var n;f.commitKey=1;let r=-1;if("Escape"===e.key?r=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(f.commitKey=3):r=2,-1===r)return;const{value:i}=e.target;f.lastCommittedValue!==i&&(f.lastCommittedValue=i,f.userValue=i,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:r,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=p;p=null,n.addEventListener("blur",(e=>{if(!f.focused||!e.relatedTarget)return;f.focused=!1;const{value:n}=e.target;var i;f.userValue=n,f.lastCommittedValue!==n&&(null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:f.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})),r(e)})),null!==(s=this.data.actions)&&void 0!==s&&s.Keystroke&&n.addEventListener("beforeinput",(e=>{var n;f.lastCommittedValue=null;const{data:r,target:i}=e,{value:a,selectionStart:s,selectionEnd:o}=i;let l=s,c=o;switch(e.inputType){case"deleteWordBackward":{const e=a.substring(0,s).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=a.substring(s).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":s===o&&(l-=1);break;case"deleteContentForward":s===o&&(c+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,change:r||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(p&&n.addEventListener("blur",p),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/u;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(e,"px * var(--scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class _ extends w{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class S extends w{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return d.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=c,i.addEventListener("change",(r=>{const{name:i,checked:a}=r.target;for(const s of this._getElementsByName(i,n)){const n=a&&s.exportValue===t.exportValue;s.domElement&&(s.domElement.checked=n),e.setValue(s.id,{value:n})}e.setValue(n,{value:a})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class C extends w{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;"string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r}));const i=document.createElement("input");if(d.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=c,i.addEventListener("change",(t=>{const{name:r,checked:i}=t.target;for(const a of this._getElementsByName(r,n))e.setValue(a.id,{value:!1});e.setValue(n,{value:i})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",(t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class A extends v{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(e.title=this.data.alternativeText);const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class P extends w{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");d.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=c;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let a=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),a=()=>{e.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const s=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=s(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){var i;null===(i=a)||void 0===i||i();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of r.options)e.selected=c.has(e.value);e.setValue(t,{value:s(!0)}),o=s(!1)},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,a=n.detail.remove;i[a].selected=!1,r.remove(a),i.length>0&&-1===Array.prototype.findIndex.call(i,(e=>e.selected))&&(i[0].selected=!0),e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),o=s(!1)},insert(n){const{index:i,displayValue:a,exportValue:c}=n.detail.insert,d=r.children[i],u=document.createElement("option");u.textContent=a,u.value=c,d?d.before(u):r.append(u),e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:s(!0)}),o=s(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{var r;const i=s(!0);e.setValue(t,{value:i}),n.preventDefault(),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):r.addEventListener("input",(function(n){e.setValue(t,{value:s(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class E extends p{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:p._hasPopupData(t)}),this.elements=n}render(){this.container.classList.add("popupAnnotation");const e=new Q({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>"".concat(r.AnnotationPrefix).concat(e))).join(",")),this.container}}var T=new WeakMap,N=new WeakMap,I=new WeakMap,M=new WeakMap,F=new WeakMap,R=new WeakMap,j=new WeakMap,L=new WeakMap,D=new WeakMap,O=new WeakMap,z=new WeakMap,G=new WeakMap,B=new WeakMap,U=new WeakMap,W=new WeakMap,H=new WeakMap,V=new WeakMap,Y=new WeakSet,X=new WeakSet,q=new WeakSet,K=new WeakSet;class Q{constructor(e){let{container:t,color:n,elements:r,titleObj:a,modificationDate:s,contentsObj:o,richText:l,parent:c,rect:d,parentRect:u,open:h}=e;_classPrivateMethodInitSpec(this,K),_classPrivateMethodInitSpec(this,q),_classPrivateMethodInitSpec(this,X),_classPrivateMethodInitSpec(this,Y),_classPrivateFieldInitSpec(this,T,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:_classPrivateMethodGet(this,Y,J).bind(this)}),_classPrivateFieldInitSpec(this,I,{writable:!0,value:_classPrivateMethodGet(this,K,ee).bind(this)}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:_classPrivateMethodGet(this,q,Z).bind(this)}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:_classPrivateMethodGet(this,X,$).bind(this)}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,j,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,L,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,z,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,G,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,U,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,H,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,V,{writable:!0,value:!1}),_classPrivateFieldSet(this,j,t),_classPrivateFieldSet(this,H,a),_classPrivateFieldSet(this,L,o),_classPrivateFieldSet(this,W,l),_classPrivateFieldSet(this,O,c),_classPrivateFieldSet(this,R,n),_classPrivateFieldSet(this,U,d),_classPrivateFieldSet(this,z,u),_classPrivateFieldSet(this,D,r);const f=i.PDFDateString.toDateObject(s);f&&_classPrivateFieldSet(this,T,c.l10n.get("annotation_date_string",{date:f.toLocaleDateString(),time:f.toLocaleTimeString()})),this.trigger=r.flatMap((e=>e.getElementsToTriggerPopup()));for(const i of this.trigger)i.addEventListener("click",_classPrivateFieldGet(this,F)),i.addEventListener("mouseenter",_classPrivateFieldGet(this,M)),i.addEventListener("mouseleave",_classPrivateFieldGet(this,I)),i.classList.add("popupTriggerArea");for(const i of r){var p;null===(p=i.container)||void 0===p||p.addEventListener("keydown",_classPrivateFieldGet(this,N))}_classPrivateFieldGet(this,j).hidden=!0,h&&_classPrivateMethodGet(this,X,$).call(this)}render(){if(_classPrivateFieldGet(this,B))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:a}}}=_classPrivateFieldGet(this,O),s=_classPrivateFieldSet(this,B,document.createElement("div"));if(s.className="popup",_classPrivateFieldGet(this,R)){const e=s.style.outlineColor=r.Util.makeHexColor(..._classPrivateFieldGet(this,R));if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))s.style.backgroundColor="color-mix(in srgb, ".concat(e," 30%, white)");else{const e=.7;s.style.backgroundColor=r.Util.makeHexColor(..._classPrivateFieldGet(this,R).map((t=>Math.floor(e*(255-t)+t))))}}const o=document.createElement("span");o.className="header";const c=document.createElement("h1");if(o.append(c),({dir:c.dir,str:c.textContent}=_classPrivateFieldGet(this,H)),s.append(o),_classPrivateFieldGet(this,T)){const e=document.createElement("span");e.classList.add("popupDate"),_classPrivateFieldGet(this,T).then((t=>{e.textContent=t})),o.append(e)}const d=_classPrivateFieldGet(this,L),u=_classPrivateFieldGet(this,W);if(null===u||void 0===u||!u.str||null!==d&&void 0!==d&&d.str&&d.str!==u.str){const e=this._formatContents(d);s.append(e)}else l.XfaLayer.render({xfaHtml:u.html,intent:"richText",div:s}),s.lastChild.classList.add("richText","popupContent");let h=!!_classPrivateFieldGet(this,z),f=_classPrivateFieldGet(this,h?z:U);for(const l of _classPrivateFieldGet(this,D))if(!f||null!==r.Util.intersect(l.data.rect,f)){f=l.data.rect,h=!0;break}const p=r.Util.normalizeRect([f[0],e[3]-f[1]+e[1],f[2],e[3]-f[3]+e[1]]),g=h?f[2]-f[0]+5:0,m=p[0]+g,v=p[1],{style:b}=_classPrivateFieldGet(this,j);b.left="".concat(100*(m-i)/t,"%"),b.top="".concat(100*(v-a)/n,"%"),_classPrivateFieldGet(this,j).append(s)}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const e=i[a];r.append(document.createTextNode(e)),a<s-1&&r.append(document.createElement("br"))}return r}forceHide(){_classPrivateFieldSet(this,V,this.isVisible),_classPrivateFieldGet(this,V)&&(_classPrivateFieldGet(this,j).hidden=!0)}maybeShow(){_classPrivateFieldGet(this,V)&&(_classPrivateFieldSet(this,V,!1),_classPrivateFieldGet(this,j).hidden=!1)}get isVisible(){return!1===_classPrivateFieldGet(this,j).hidden}}function J(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&_classPrivateFieldGet(this,G))&&_classPrivateMethodGet(this,X,$).call(this)}function $(){_classPrivateFieldSet(this,G,!_classPrivateFieldGet(this,G)),_classPrivateFieldGet(this,G)?(_classPrivateMethodGet(this,q,Z).call(this),_classPrivateFieldGet(this,j).addEventListener("click",_classPrivateFieldGet(this,F)),_classPrivateFieldGet(this,j).addEventListener("keydown",_classPrivateFieldGet(this,N))):(_classPrivateMethodGet(this,K,ee).call(this),_classPrivateFieldGet(this,j).removeEventListener("click",_classPrivateFieldGet(this,F)),_classPrivateFieldGet(this,j).removeEventListener("keydown",_classPrivateFieldGet(this,N)))}function Z(){_classPrivateFieldGet(this,B)||this.render(),this.isVisible?_classPrivateFieldGet(this,G)&&_classPrivateFieldGet(this,j).classList.add("focused"):(_classPrivateFieldGet(this,j).hidden=!1,_classPrivateFieldGet(this,j).style.zIndex=parseInt(_classPrivateFieldGet(this,j).style.zIndex)+1e3)}function ee(){_classPrivateFieldGet(this,j).classList.remove("focused"),!_classPrivateFieldGet(this,G)&&this.isVisible&&(_classPrivateFieldGet(this,j).hidden=!0,_classPrivateFieldGet(this,j).style.zIndex=parseInt(_classPrivateFieldGet(this,j).style.zIndex)-1e3)}class te extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=te;var ne=new WeakMap;class re extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,ne,{writable:!0,value:null})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=_classPrivateFieldSet(this,ne,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(this,ne)}addHighlightArea(){this.container.classList.add("highlightArea")}}var ie=new WeakMap;class ae extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,ie,{writable:!0,value:null})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,a=_classPrivateFieldSet(this,ie,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",i/2),a.setAttribute("y",i/2),a.setAttribute("width",t-i),a.setAttribute("height",n-i),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(this,ie)}addHighlightArea(){this.container.classList.add("highlightArea")}}var se=new WeakMap;class oe extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,se,{writable:!0,value:null})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,a=_classPrivateFieldSet(this,se,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-i/2),a.setAttribute("ry",n/2-i/2),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(this,se)}addHighlightArea(){this.container.classList.add("highlightArea")}}var le=new WeakMap;class ce extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,le,{writable:!0,value:null}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0);let i=[];for(const s of e.vertices){const t=s.x-e.rect[0],n=e.rect[3]-s.y;i.push(t+","+n)}i=i.join(" ");const a=_classPrivateFieldSet(this,le,this.svgFactory.createElement(this.svgElementName));return a.setAttribute("points",i),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(this,le)}addHighlightArea(){this.container.classList.add("highlightArea")}}class de extends ce{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ue extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var he=new WeakMap;class fe extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,he,{writable:!0,value:[]}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0);for(const i of e.inkLists){let t=[];for(const r of i){const n=r.x-e.rect[0],i=e.rect[3]-r.y;t.push("".concat(n,",").concat(i))}t=t.join(" ");const n=this.svgFactory.createElement(this.svgElementName);_classPrivateFieldGet(this,he).push(n),n.setAttribute("points",t),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),!e.popupRef&&this.hasPopupData&&this._createPopup(),r.append(n)}return this.container.append(r),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(this,he)}addHighlightArea(){this.container.classList.add("highlightArea")}}t.InkAnnotationElement=fe;class pe extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ge extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class me extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ve extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class be extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}t.StampAnnotationElement=be;var ye=new WeakMap,xe=new WeakSet;class we extends p{constructor(e){var t;super(e,{isRenderable:!0}),_classPrivateMethodInitSpec(this,xe),_classPrivateFieldInitSpec(this,ye,{writable:!0,value:null});const{filename:n,content:r}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(n,!0),this.content=r,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",{source:this,filename:n,content:r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),n.addEventListener("dblclick",_classPrivateMethodGet(this,xe,ke).bind(this)),_classPrivateFieldSet(this,ye,n);const{isMac:i}=r.FeatureTest.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&_classPrivateMethodGet(this,xe,ke).call(this)})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return _classPrivateFieldGet(this,ye)}addHighlightArea(){this.container.classList.add("highlightArea")}}function ke(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,this.content,this.filename)}var _e=new WeakMap,Se=new WeakMap,Ce=new WeakMap,Ae=new WeakSet,Pe=new WeakSet;function Ee(e,t){var n;const i=e.firstChild||e;i.id="".concat(r.AnnotationPrefix).concat(t),this.div.append(e),null===(n=_classPrivateFieldGet(this,_e))||void 0===n||n.moveElementInDOM(this.div,e,i,!1)}function Te(){if(!_classPrivateFieldGet(this,Se))return;const e=this.div;for(const[t,n]of _classPrivateFieldGet(this,Se)){const r=e.querySelector('[data-annotation-id="'.concat(t,'"]'));if(!r)continue;const{firstChild:i}=r;i?"CANVAS"===i.nodeName?i.replaceWith(n):i.before(n):r.append(n)}_classPrivateFieldGet(this,Se).clear()}t.AnnotationLayer=class{constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:r,l10n:i,page:a,viewport:s}=e;_classPrivateMethodInitSpec(this,Pe),_classPrivateMethodInitSpec(this,Ae),_classPrivateFieldInitSpec(this,_e,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,Se,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,Ce,{writable:!0,value:new Map}),this.div=t,_classPrivateFieldSet(this,_e,n),_classPrivateFieldSet(this,Se,r),this.l10n=i,this.page=a,this.viewport=s,this.zIndex=0,this.l10n||(this.l10n=o.NullL10n)}async render(e){const{annotations:t}=e,n=this.div;(0,i.setLayerDimensions)(n,this.viewport);const s=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:e.annotationStorage||new a.AnnotationStorage,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const i of t){if(i.noHTML)continue;const e=i.annotationType===r.AnnotationType.POPUP;if(e){const e=s.get(i.id);if(!e)continue;o.elements=e}else{const{width:e,height:t}=u(i.rect);if(e<=0||t<=0)continue}o.data=i;const t=h.create(o);if(!t.isRenderable)continue;if(!e&&i.popupRef){const e=s.get(i.popupRef);e?e.push(t):s.set(i.popupRef,[t])}t.annotationEditorType>0&&_classPrivateFieldGet(this,Ce).set(t.data.id,t);const n=t.render();i.hidden&&(n.style.visibility="hidden"),_classPrivateMethodGet(this,Ae,Ee).call(this,n,i.id)}_classPrivateMethodGet(this,Pe,Te).call(this),await this.l10n.translate(n)}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,(0,i.setLayerDimensions)(n,{rotation:t.rotation}),_classPrivateMethodGet(this,Pe,Te).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(_classPrivateFieldGet(this,Ce).values())}getEditableAnnotation(e){return _classPrivateFieldGet(this,Ce).get(e)}}},(e,t)=>{function n(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function r(e){return Math.max(0,Math.min(255,255*e))}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=class{static CMYK_G(e){let[t,n,r,i]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=r(t),[t,t,t]}static G_HTML(e){let[t]=e;const r=n(t);return"#".concat(r).concat(r).concat(r)}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_rgb(e){return e.map(r)}static RGB_HTML(e){return"#".concat(e.map(n).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,r,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb(e){let[t,n,i,a]=e;return[r(1-Math.min(1,t+a)),r(1-Math.min(1,i+a)),r(1-Math.min(1,n+a))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const i=1-t,a=1-n,s=1-r;return["CMYK",i,a,s,Math.min(i,a,s)]}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=r;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};function r(e,t){switch(e){case"find_match_count":e="find_match_count[".concat(1===t.total?"one":"other","]");break;case"find_match_count_limit":e="find_match_count_limit[".concat(1===t.limit?"one":"other","]")}return n[e]||""}n.print_progress_percent="{{progress}}%";const i={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(e,t){return t?e.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,((e,n)=>n in t?t[n]:"{{"+n+"}}")):e}(arguments.length>2&&void 0!==arguments[2]?arguments[2]:r(e,t),t)},async translate(e){}};t.NullL10n=i},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=n(25);t.XfaLayer=class{static setupStorage(e,t,n,r,i){const a=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==a.value){e.setAttribute("value",a.value);for(const e of n.children)e.attributes.value===a.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:i,linkService:a}=e;const{attributes:s}=n,o=t instanceof HTMLAnchorElement;"radio"===s.type&&(s.name="".concat(s.name,"-").concat(i));for(const[l,c]of Object.entries(s))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&a.addLinkAttributes(t,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(t,s.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:n});const o=[[i,-1,s]],l=e.div;if(l.append(s),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");l.style.transform=t}"richText"!==a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;o.length>0;){var d;const[e,i,s]=o.at(-1);if(i+1===e.children.length){o.pop();continue}const l=e.children[++o.at(-1)[1]];if(null===l)continue;const{name:u}=l;if("#text"===u){const e=document.createTextNode(l.value);c.push(e),s.append(e);continue}const h=null!==l&&void 0!==l&&null!==(d=l.attributes)&&void 0!==d&&d.xmlns?document.createElementNS(l.attributes.xmlns,u):document.createElement(u);if(s.append(h),l.attributes&&this.setAttributes({html:h,element:l,storage:t,intent:a,linkService:n}),l.children&&l.children.length>0)o.push([l,-1,h]);else if(l.value){const e=document.createTextNode(l.value);r.XfaText.shouldBuildText(u)&&c.push(e),h.append(e)}}for(const r of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))r.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}},(e,t,n)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var i=n(1),a=n(4),s=n(29),o=n(6),l=n(5),c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakMap,x=new WeakMap,w=new WeakMap,k=new WeakMap,_=new WeakSet,S=new WeakSet,C=new WeakSet,A=new WeakSet,P=new WeakSet,E=new WeakSet,T=new WeakSet,N=new WeakSet,I=new WeakSet,M=new WeakSet,F=new WeakSet,R=new WeakSet,j=new WeakSet,L=new WeakSet,D=new WeakSet,O=new WeakSet,z=new WeakSet,G=new WeakSet,B=new WeakSet,U=new WeakSet,W=new WeakSet,H=new WeakSet,V=new WeakSet;class Y extends a.AnnotationEditor{constructor(e){super({...e,name:"inkEditor"}),_classPrivateMethodInitSpec(this,V),_classPrivateMethodInitSpec(this,H),_classPrivateMethodInitSpec(this,W),_classPrivateMethodInitSpec(this,U),_classPrivateMethodInitSpec(this,B),_classPrivateMethodInitSpec(this,G),_classPrivateMethodInitSpec(this,z),_classPrivateMethodInitSpec(this,O),_classPrivateMethodInitSpec(this,D),_classPrivateMethodInitSpec(this,L),_classPrivateMethodInitSpec(this,j),_classPrivateMethodInitSpec(this,R),_classPrivateMethodInitSpec(this,F),_classPrivateMethodInitSpec(this,M),_classPrivateMethodInitSpec(this,I),_classPrivateMethodInitSpec(this,N),_classPrivateMethodInitSpec(this,T),_classPrivateMethodInitSpec(this,E),_classPrivateMethodInitSpec(this,P),_classPrivateMethodInitSpec(this,A),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,_),_classPrivateFieldInitSpec(this,c,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:this.canvasPointermove.bind(this)}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:this.canvasPointerleave.bind(this)}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:this.canvasPointerup.bind(this)}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:this.canvasPointerdown.bind(this)}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:new Path2D}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,b,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,y,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,w,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:null}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e){a.AnnotationEditor.initialize(e,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(e,t){switch(e){case i.AnnotationEditorParamsType.INK_THICKNESS:Y._defaultThickness=t;break;case i.AnnotationEditorParamsType.INK_COLOR:Y._defaultColor=t;break;case i.AnnotationEditorParamsType.INK_OPACITY:Y._defaultOpacity=t/100}}updateParams(e,t){switch(e){case i.AnnotationEditorParamsType.INK_THICKNESS:_classPrivateMethodGet(this,_,X).call(this,t);break;case i.AnnotationEditorParamsType.INK_COLOR:_classPrivateMethodGet(this,S,q).call(this,t);break;case i.AnnotationEditorParamsType.INK_OPACITY:_classPrivateMethodGet(this,C,K).call(this,t)}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,Y._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,Y._defaultColor||a.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*Y._defaultOpacity)]]}get propertiesToUpdate(){var e;return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Y._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||Y._defaultColor||a.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(e=this.opacity)&&void 0!==e?e:Y._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(_classPrivateMethodGet(this,D,oe).call(this),_classPrivateMethodGet(this,O,le).call(this)),this.isAttachedToDOM||(this.parent.add(this),_classPrivateMethodGet(this,z,ce).call(this)),_classPrivateMethodGet(this,V,be).call(this)))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(this,y).disconnect(),_classPrivateFieldSet(this,y,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,r=this.height*t;this.setDimensions(n,r)}enableEditMode(){_classPrivateFieldGet(this,m)||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,p)))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,p)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){_classPrivateFieldGet(this,m)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(this,m,!0),this.div.classList.add("disabled"),_classPrivateMethodGet(this,V,be).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!_classPrivateFieldGet(this,m)&&(this.setInForeground(),e.preventDefault(),"mouse"!==e.type&&this.div.focus(),_classPrivateMethodGet(this,E,$).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),_classPrivateMethodGet(this,T,Z).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),_classPrivateMethodGet(this,L,se).call(this,e)}canvasPointerleave(e){_classPrivateMethodGet(this,L,se).call(this,e)}get isResizable(){return!this.isEmpty()&&_classPrivateFieldGet(this,m)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),a.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then((e=>{var t;return null===(t=this.div)||void 0===t?void 0:t.setAttribute("aria-label",e)}));const[n,r,i,s]=_classPrivateMethodGet(this,A,Q).call(this);if(this.setAt(n,r,0,0),this.setDims(i,s),_classPrivateMethodGet(this,D,oe).call(this),this.width){const[n,r]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*r),this.setAt(e*n,t*r,this.width*n,this.height*r),_classPrivateFieldSet(this,b,!0),_classPrivateMethodGet(this,z,ce).call(this),this.setDims(this.width*n,this.height*r),_classPrivateMethodGet(this,j,ae).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _classPrivateMethodGet(this,O,le).call(this),this.div}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if(_classPrivateFieldGet(this,x)===n&&_classPrivateFieldGet(this,w)===r)return;_classPrivateFieldSet(this,x,n),_classPrivateFieldSet(this,w,r),this.canvas.style.visibility="hidden";const[i,a]=this.parentDimensions;this.width=e/i,this.height=t/a,this.fixAndSetPosition(),_classPrivateFieldGet(this,m)&&_classPrivateMethodGet(this,G,de).call(this,e,t),_classPrivateMethodGet(this,z,ce).call(this),_classPrivateMethodGet(this,j,ae).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,t,n){if(e instanceof s.InkAnnotationElement)return null;const r=super.deserialize(e,t,n);r.thickness=e.thickness,r.color=i.Util.makeHexColor(...e.color),r.opacity=e.opacity;const[o,l]=r.pageDimensions,u=r.width*o,h=r.height*l,f=r.parentScale,p=e.thickness/2;_classPrivateFieldSet(r,m,!0),_classPrivateFieldSet(r,x,Math.round(u)),_classPrivateFieldSet(r,w,Math.round(h));const{paths:g,rect:v,rotation:b}=e;for(let{bezier:i}of g){i=_classStaticPrivateMethodGet(Y,Y,pe).call(Y,i,v,b);const e=[];r.paths.push(e);let t=f*(i[0]-p),n=f*(i[1]-p);for(let r=2,s=i.length;r<s;r+=6){const a=f*(i[r]-p),s=f*(i[r+1]-p),o=f*(i[r+2]-p),l=f*(i[r+3]-p),c=f*(i[r+4]-p),d=f*(i[r+5]-p);e.push([[t,n],[a,s],[o,l],[c,d]]),t=c,n=d}const a=_classStaticPrivateMethodGet(this,Y,he).call(this,e);r.bezierPath2D.push(a)}const y=_classPrivateMethodGet(r,W,me).call(r);return _classPrivateFieldSet(r,d,Math.max(a.AnnotationEditor.MIN_SIZE,y[2]-y[0])),_classPrivateFieldSet(r,c,Math.max(a.AnnotationEditor.MIN_SIZE,y[3]-y[1])),_classPrivateMethodGet(r,G,de).call(r,u,h),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:_classPrivateMethodGet(this,U,ge).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}function X(e){const t=this.thickness;this.addCommands({cmd:()=>{this.thickness=e,_classPrivateMethodGet(this,V,be).call(this)},undo:()=>{this.thickness=t,_classPrivateMethodGet(this,V,be).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function q(e){const t=this.color;this.addCommands({cmd:()=>{this.color=e,_classPrivateMethodGet(this,j,ae).call(this)},undo:()=>{this.color=t,_classPrivateMethodGet(this,j,ae).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function K(e){e/=100;const t=this.opacity;this.addCommands({cmd:()=>{this.opacity=e,_classPrivateMethodGet(this,j,ae).call(this)},undo:()=>{this.opacity=t,_classPrivateMethodGet(this,j,ae).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function Q(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}function J(){const{ctx:e,color:t,opacity:n,thickness:r,parentScale:i,scaleFactor:a}=this;e.lineWidth=r*i/a,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle="".concat(t).concat((0,l.opacityToHex)(n))}function $(e,t){var n;this.canvas.addEventListener("contextmenu",o.noContextMenu),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(this,h)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(this,u)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(this,f)),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,p)),this.isEditing=!0,_classPrivateFieldGet(this,b)||(_classPrivateFieldSet(this,b,!0),_classPrivateMethodGet(this,z,ce).call(this),this.thickness||(this.thickness=r._defaultThickness),this.color||(this.color=r._defaultColor||a.AnnotationEditor._defaultLineColor),null!==(n=this.opacity)&&void 0!==n||(this.opacity=r._defaultOpacity)),this.currentPath.push([e,t]),_classPrivateFieldSet(this,v,!1),_classPrivateMethodGet(this,P,J).call(this),_classPrivateFieldSet(this,k,(()=>{_classPrivateMethodGet(this,M,ne).call(this),_classPrivateFieldGet(this,k)&&window.requestAnimationFrame(_classPrivateFieldGet(this,k))})),window.requestAnimationFrame(_classPrivateFieldGet(this,k))}function Z(e,t){const[n,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===r)return;const i=this.currentPath;let a=_classPrivateFieldGet(this,g);if(i.push([e,t]),_classPrivateFieldSet(this,v,!0),i.length<=2)return a.moveTo(...i[0]),void a.lineTo(e,t);3===i.length&&(_classPrivateFieldSet(this,g,a=new Path2D),a.moveTo(...i[0])),_classPrivateMethodGet(this,F,re).call(this,a,...i.at(-3),...i.at(-2),e,t)}function ee(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);_classPrivateFieldGet(this,g).lineTo(...e)}function te(e,t){let n;if(_classPrivateFieldSet(this,k,null),e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),_classPrivateMethodGet(this,T,Z).call(this,e,t),_classPrivateMethodGet(this,N,ee).call(this),1!==this.currentPath.length)n=_classPrivateMethodGet(this,R,ie).call(this);else{const r=[e,t];n=[[r,r.slice(),r.slice(),r]]}const r=_classPrivateFieldGet(this,g),i=this.currentPath;this.currentPath=[],_classPrivateFieldSet(this,g,new Path2D),this.addCommands({cmd:()=>{this.allRawPaths.push(i),this.paths.push(n),this.bezierPath2D.push(r),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(_classPrivateMethodGet(this,D,oe).call(this),_classPrivateMethodGet(this,O,le).call(this)),_classPrivateMethodGet(this,V,be).call(this))},mustExec:!0})}function ne(){if(!_classPrivateFieldGet(this,v))return;_classPrivateFieldSet(this,v,!1);Math.ceil(this.thickness*this.parentScale);const e=this.currentPath.slice(-3),t=e.map((e=>e[0])),n=e.map((e=>e[1])),{ctx:r}=(Math.min(...t),Math.max(...t),Math.min(...n),Math.max(...n),this);r.save(),r.clearRect(0,0,this.canvas.width,this.canvas.height);for(const i of this.bezierPath2D)r.stroke(i);r.stroke(_classPrivateFieldGet(this,g)),r.restore()}function re(e,t,n,r,i,a,s){const o=(t+r)/2,l=(n+i)/2,c=(r+a)/2,d=(i+s)/2;e.bezierCurveTo(o+2*(r-o)/3,l+2*(i-l)/3,c+2*(r-c)/3,d+2*(i-d)/3,c,d)}function ie(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[r,i]=e[0];for(n=1;n<e.length-2;n++){const[a,s]=e[n],[o,l]=e[n+1],c=(a+o)/2,d=(s+l)/2,u=[r+2*(a-r)/3,i+2*(s-i)/3],h=[c+2*(a-c)/3,d+2*(s-d)/3];t.push([[r,i],u,h,[c,d]]),[r,i]=[c,d]}const[a,s]=e[n],[o,l]=e[n+1],c=[r+2*(a-r)/3,i+2*(s-i)/3],d=[o+2*(a-o)/3,l+2*(s-l)/3];return t.push([[r,i],c,d,[o,l]]),t}function ae(){if(this.isEmpty())return void _classPrivateMethodGet(this,B,ue).call(this);_classPrivateMethodGet(this,P,J).call(this);const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),_classPrivateMethodGet(this,B,ue).call(this);for(const n of this.bezierPath2D)t.stroke(n)}function se(e){this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(this,h)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(this,u)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(this,f)),this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,p)),setTimeout((()=>{this.canvas.removeEventListener("contextmenu",o.noContextMenu)}),10),_classPrivateMethodGet(this,I,te).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function oe(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",a.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then((e=>{var t;return null===(t=this.canvas)||void 0===t?void 0:t.setAttribute("aria-label",e)})),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function le(){_classPrivateFieldSet(this,y,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}))),_classPrivateFieldGet(this,y).observe(this.div)}function ce(){if(!_classPrivateFieldGet(this,b))return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),_classPrivateMethodGet(this,B,ue).call(this)}function de(e,t){const n=_classPrivateMethodGet(this,H,ve).call(this),r=(e-n)/_classPrivateFieldGet(this,d),i=(t-n)/_classPrivateFieldGet(this,c);this.scaleFactor=Math.min(r,i)}function ue(){const e=_classPrivateMethodGet(this,H,ve).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}function he(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,i,a,s]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(i[0],i[1],a[0],a[1],s[0],s[1])}return t}function fe(e,t,n){const[r,i,a,s]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=r,e[t+1]=s-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+r,e[t+1]=n+i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=a-e[t],e[t+1]+=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=s-n}break;default:throw new Error("Invalid rotation")}return e}function pe(e,t,n){const[r,i,a,s]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=r,e[t+1]=s-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-i,e[t+1]=n-r}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=a-e[t],e[t+1]-=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=s-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}function ge(e,t,n,i){const a=[],s=this.thickness/2,o=e*t+s,l=e*n+s;for(const c of this.paths){const t=[],n=[];for(let r=0,i=c.length;r<i;r++){const[a,s,d,u]=c[r],h=e*a[0]+o,f=e*a[1]+l,p=e*s[0]+o,g=e*s[1]+l,m=e*d[0]+o,v=e*d[1]+l,b=e*u[0]+o,y=e*u[1]+l;0===r&&(t.push(h,f),n.push(h,f)),t.push(p,g,m,v,b,y),n.push(p,g),r===i-1&&n.push(b,y)}a.push({bezier:_classStaticPrivateMethodGet(r,r,fe).call(r,t,i,this.rotation),points:_classStaticPrivateMethodGet(r,r,fe).call(r,n,i,this.rotation)})}return a}function me(){let e=1/0,t=-1/0,n=1/0,r=-1/0;for(const a of this.paths)for(const[s,o,l,c]of a){const a=i.Util.bezierBoundingBox(...s,...o,...l,...c);e=Math.min(e,a[0]),n=Math.min(n,a[1]),t=Math.max(t,a[2]),r=Math.max(r,a[3])}return[e,n,t,r]}function ve(){return _classPrivateFieldGet(this,m)?Math.ceil(this.thickness*this.parentScale):0}function be(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!_classPrivateFieldGet(this,m))return void _classPrivateMethodGet(this,j,ae).call(this);const t=_classPrivateMethodGet(this,W,me).call(this),n=_classPrivateMethodGet(this,H,ve).call(this);_classPrivateFieldSet(this,d,Math.max(a.AnnotationEditor.MIN_SIZE,t[2]-t[0])),_classPrivateFieldSet(this,c,Math.max(a.AnnotationEditor.MIN_SIZE,t[3]-t[1]));const r=Math.ceil(n+_classPrivateFieldGet(this,d)*this.scaleFactor),i=Math.ceil(n+_classPrivateFieldGet(this,c)*this.scaleFactor),[s,o]=this.parentDimensions;this.width=r/s,this.height=i/o,this.setAspectRatio(r,i);const l=this.translationX,u=this.translationY;this.translationX=-t[0],this.translationY=-t[1],_classPrivateMethodGet(this,z,ce).call(this),_classPrivateMethodGet(this,j,ae).call(this),_classPrivateFieldSet(this,x,r),_classPrivateFieldSet(this,w,i),this.setDims(r,i);const h=e?n/this.scaleFactor/2:0;this.translate(l-this.translationX-h,u-this.translationY-h)}r=Y,_defineProperty(Y,"_defaultColor",null),_defineProperty(Y,"_defaultOpacity",1),_defineProperty(Y,"_defaultThickness",1),_defineProperty(Y,"_type","ink"),t.InkEditor=Y},(e,t,n)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var i=n(1),a=n(4),s=n(6),o=n(29),l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,b=new WeakSet,y=new WeakSet,x=new WeakSet,w=new WeakSet,k=new WeakSet,_=new WeakSet,S=new WeakSet,C=new WeakSet,A=new WeakSet;class P extends a.AnnotationEditor{constructor(e){super({...e,name:"stampEditor"}),_classPrivateMethodInitSpec(this,A),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,_),_classPrivateMethodInitSpec(this,k),_classPrivateMethodInitSpec(this,w),_classPrivateMethodInitSpec(this,x),_classPrivateMethodInitSpec(this,y),_classPrivateMethodInitSpec(this,b),_classPrivateFieldInitSpec(this,l,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:!1}),_classPrivateFieldSet(this,u,e.bitmapUrl),_classPrivateFieldSet(this,h,e.bitmapFile)}static initialize(e){a.AnnotationEditor.initialize(e)}static get supportedTypes(){return(0,i.shadow)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>"image/".concat(e))))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:e.getAsFile()})}remove(){var e,t;_classPrivateFieldGet(this,c)&&(_classPrivateFieldSet(this,l,null),this._uiManager.imageManager.deleteId(_classPrivateFieldGet(this,c)),null===(e=_classPrivateFieldGet(this,f))||void 0===e||e.remove(),_classPrivateFieldSet(this,f,null),null===(t=_classPrivateFieldGet(this,p))||void 0===t||t.disconnect(),_classPrivateFieldSet(this,p,null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(_classPrivateFieldGet(this,c)&&_classPrivateMethodGet(this,x,N).call(this),this.isAttachedToDOM||this.parent.add(this))):_classPrivateFieldGet(this,c)&&_classPrivateMethodGet(this,x,N).call(this)}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_classPrivateFieldGet(this,d)||_classPrivateFieldGet(this,l)||_classPrivateFieldGet(this,u)||_classPrivateFieldGet(this,h))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,_classPrivateFieldGet(this,l)?_classPrivateMethodGet(this,w,I).call(this):_classPrivateMethodGet(this,x,N).call(this),this.width){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r)}return this.div}static deserialize(e,t,n){if(e instanceof o.StampAnnotationElement)return null;const r=super.deserialize(e,t,n),{rect:i,bitmapUrl:a,bitmapId:s,isSvg:l,accessibilityData:d}=e;s&&n.imageManager.isValidId(s)?_classPrivateFieldSet(r,c,s):_classPrivateFieldSet(r,u,a),_classPrivateFieldSet(r,m,l);const[h,f]=r.pageDimensions;return r.width=(i[2]-i[0])/h,r.height=(i[3]-i[1])/f,d&&(r.altTextData=d),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:i.AnnotationEditorType.STAMP,bitmapId:_classPrivateFieldGet(this,c),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_classPrivateFieldGet(this,m),structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=_classPrivateMethodGet(this,C,j).call(this,!0),n.accessibilityData=this.altTextData,n;const{decorative:r,altText:a}=this.altTextData;if(!r&&a&&(n.accessibilityData={type:"Figure",alt:a}),null===t)return n;t.stamps||(t.stamps=new Map);const s=_classPrivateFieldGet(this,m)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(_classPrivateFieldGet(this,c))){if(_classPrivateFieldGet(this,m)){const e=t.stamps.get(_classPrivateFieldGet(this,c));s>e.area&&(e.area=s,e.serialized.bitmap.close(),e.serialized.bitmap=_classPrivateMethodGet(this,C,j).call(this,!1))}}else t.stamps.set(_classPrivateFieldGet(this,c),{area:s,serialized:n}),n.bitmap=_classPrivateMethodGet(this,C,j).call(this,!1);return n}}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(_classPrivateFieldSet(this,l,e.bitmap),t||(_classPrivateFieldSet(this,c,e.id),_classPrivateFieldSet(this,m,e.isSvg)),_classPrivateMethodGet(this,w,I).call(this)):this.remove()}function T(){_classPrivateFieldSet(this,d,null),this._uiManager.enableWaiting(!1),_classPrivateFieldGet(this,f)&&this.div.focus()}function N(){if(_classPrivateFieldGet(this,c))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(_classPrivateFieldGet(this,c)).then((e=>_classPrivateMethodGet(this,b,E).call(this,e,!0))).finally((()=>_classPrivateMethodGet(this,y,T).call(this)));if(_classPrivateFieldGet(this,u)){const e=_classPrivateFieldGet(this,u);return _classPrivateFieldSet(this,u,null),this._uiManager.enableWaiting(!0),void _classPrivateFieldSet(this,d,this._uiManager.imageManager.getFromUrl(e).then((e=>_classPrivateMethodGet(this,b,E).call(this,e))).finally((()=>_classPrivateMethodGet(this,y,T).call(this))))}if(_classPrivateFieldGet(this,h)){const e=_classPrivateFieldGet(this,h);return _classPrivateFieldSet(this,h,null),this._uiManager.enableWaiting(!0),void _classPrivateFieldSet(this,d,this._uiManager.imageManager.getFromFile(e).then((e=>_classPrivateMethodGet(this,b,E).call(this,e))).finally((()=>_classPrivateMethodGet(this,y,T).call(this))))}const e=document.createElement("input");e.type="file",e.accept=r.supportedTypesStr,_classPrivateFieldSet(this,d,new Promise((t=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);_classPrivateMethodGet(this,b,E).call(this,t)}else this.remove();t()})),e.addEventListener("cancel",(()=>{this.remove(),t()}))})).finally((()=>_classPrivateMethodGet(this,y,T).call(this)))),e.click()}function I(){const{div:e}=this;let{width:t,height:n}=_classPrivateFieldGet(this,l);const[r,i]=this.pageDimensions,a=.75;if(this.width)t=this.width*r,n=this.height*i;else if(t>a*r||n>a*i){const e=Math.min(a*r/t,a*i/n);t*=e,n*=e}const[s,o]=this.parentDimensions;this.setDims(t*s/r,n*o/i),this._uiManager.enableWaiting(!1);const c=_classPrivateFieldSet(this,f,document.createElement("canvas"));e.append(c),e.hidden=!1,_classPrivateMethodGet(this,S,R).call(this,t,n),_classPrivateMethodGet(this,A,L).call(this),_classPrivateFieldGet(this,v)||(this.parent.addUndoableEditor(this),_classPrivateFieldSet(this,v,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}function M(e,t){var n;const[r,i]=this.parentDimensions;this.width=e/r,this.height=t/i,this.setDims(e,t),null!==(n=this._initialOptions)&&void 0!==n&&n.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==_classPrivateFieldGet(this,g)&&clearTimeout(_classPrivateFieldGet(this,g)),_classPrivateFieldSet(this,g,setTimeout((()=>{_classPrivateFieldSet(this,g,null),_classPrivateMethodGet(this,S,R).call(this,e,t)}),200))}function F(e,t){const{width:n,height:r}=_classPrivateFieldGet(this,l);let i=n,a=r,s=_classPrivateFieldGet(this,l);for(;i>2*e||a>2*t;){const n=i,r=a;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const o=new OffscreenCanvas(i,a);o.getContext("2d").drawImage(s,0,0,n,r,0,0,i,a),s=o.transferToImageBitmap()}return s}function R(e,t){e=Math.ceil(e),t=Math.ceil(t);const n=_classPrivateFieldGet(this,f);if(!n||n.width===e&&n.height===t)return;n.width=e,n.height=t;const r=_classPrivateFieldGet(this,m)?_classPrivateFieldGet(this,l):_classPrivateMethodGet(this,_,F).call(this,e,t),i=n.getContext("2d");i.filter=this._uiManager.hcmFilter,i.drawImage(r,0,0,r.width,r.height,0,0,e,t)}function j(e){if(e){if(_classPrivateFieldGet(this,m)){const e=this._uiManager.imageManager.getSvgUrl(_classPrivateFieldGet(this,c));if(e)return e}const e=document.createElement("canvas");return({width:e.width,height:e.height}=_classPrivateFieldGet(this,l)),e.getContext("2d").drawImage(_classPrivateFieldGet(this,l),0,0),e.toDataURL()}if(_classPrivateFieldGet(this,m)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*s.PixelsPerInch.PDF_TO_CSS_UNITS),r=Math.round(this.height*t*s.PixelsPerInch.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,r);return i.getContext("2d").drawImage(_classPrivateFieldGet(this,l),0,0,_classPrivateFieldGet(this,l).width,_classPrivateFieldGet(this,l).height,0,0,n,r),i.transferToImageBitmap()}return structuredClone(_classPrivateFieldGet(this,l))}function L(){_classPrivateFieldSet(this,p,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&_classPrivateMethodGet(this,k,M).call(this,t.width,t.height)}))),_classPrivateFieldGet(this,p).observe(this.div)}r=P,_defineProperty(P,"_type","stamp"),t.StampEditor=P}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __nested_webpack_exports__={};return(()=>{var e=__nested_webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return a.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return s.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return r.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return r.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),a=__w_pdfjs_require__(27),s=__w_pdfjs_require__(5),o=__w_pdfjs_require__(29),l=__w_pdfjs_require__(14),c=__w_pdfjs_require__(32)})(),__nested_webpack_exports__})(),module.exports=root.pdfjsLib=factory()},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2019:(e,t,n)=>{"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=d(n(3606)),o=n(5043),l=d(o),c=d(n(5173));function d(e){return e&&e.__esModule?e:{default:e}}window.ApexCharts=s.default;var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return l.default.createRef?n.chartRef=l.default.createRef():n.setRef=function(e){return n.chartRef=e},n.chart=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,o.Component),a(e,[{key:"render",value:function(){var e=function(e,t){var n,r={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(this.props,[]);return l.default.createElement("div",i({ref:l.default.createRef?this.chartRef:this.setRef},e))}},{key:"componentDidMount",value:function(){var e=l.default.createRef?this.chartRef.current:this.chartRef;this.chart=new s.default(e,this.getConfig()),this.chart.render()}},{key:"getConfig",value:function(){var e=(i=this.props).type,t=i.height,n=i.width,r=i.series,i=i.options;return this.extend(i,{chart:{type:e,height:t,width:n},series:r})}},{key:"isObject",value:function(e){return e&&"object"===(void 0===e?"undefined":r(e))&&!Array.isArray(e)&&null!=e}},{key:"extend",value:function(e,t){var n=this,r=("function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}),Object.assign({},e));return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(i){n.isObject(t[i])&&i in e?r[i]=n.extend(e[i],t[i]):Object.assign(r,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i,t[i]))})),r}},{key:"componentDidUpdate",value:function(e){if(!this.chart)return null;var t=(i=this.props).options,n=i.series,r=i.height,i=i.width,a=JSON.stringify(e.options),s=JSON.stringify(e.series),o=(t=JSON.stringify(t),JSON.stringify(n));a===t&&s===o&&r===e.height&&i===e.width||(s!==o&&a===t&&r===e.height&&i===e.width?this.chart.updateSeries(n):this.chart.updateOptions(this.getConfig()))}},{key:"componentWillUnmount",value:function(){this.chart&&"function"==typeof this.chart.destroy&&this.chart.destroy()}}]),e}();u.propTypes={type:c.default.string.isRequired,width:c.default.oneOfType([c.default.string,c.default.number]),height:c.default.oneOfType([c.default.string,c.default.number]),series:c.default.array.isRequired,options:c.default.object.isRequired},u.defaultProps={type:"line",width:"100%",height:"auto"}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(7067);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(p,e)||!u.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),P=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var F=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,D=Object.assign;function O(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function G(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function B(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 1:return e=G(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case C:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function $(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,_e=null,Se=null;function Ce(e){if(e=yi(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Ae(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Pe(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Ne=!1;function Ie(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ee(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Te(),Pe())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Fe=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Fe=!1}function je(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Le=!1,De=null,Oe=!1,ze=null,Ge={onError:function(e){Le=!0,De=e}};function Be(e,t,n,r,i,a,s,o,l){Le=!1,De=null,je.apply(Ge,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=ut(o):0!==(a&=s)&&(r=ut(a))}else 0!==(s=n&~i)?r=ut(s):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,_t,St,Ct,At=!1,Pt=[],Et=null,Tt=null,Nt=null,It=new Map,Mt=new Map,Ft=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=bi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Ot(e)&&n.delete(t)}function Gt(){At=!1,null!==Et&&Ot(Et)&&(Et=null),null!==Tt&&Ot(Tt)&&(Tt=null),null!==Nt&&Ot(Nt)&&(Nt=null),It.forEach(zt),Mt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Gt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Pt.length){Bt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),It.forEach(t),Mt.forEach(t),n=0;n<Ft.length;n++)(r=Ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&null===(n=Ft[0]).blockedOn;)Dt(n),null===n.blockedOn&&Ft.shift()}var Wt=x.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var i=yt,a=Wt.transition;Wt.transition=null;try{yt=1,Xt(e,t,n,r)}finally{yt=i,Wt.transition=a}}function Yt(e,t,n,r){var i=yt,a=Wt.transition;Wt.transition=null;try{yt=4,Xt(e,t,n,r)}finally{yt=i,Wt.transition=a}}function Xt(e,t,n,r){if(Ht){var i=Kt(e,t,n,r);if(null===i)Hr(e,t,r,qt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Et=Lt(Et,e,t,n,r,i),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return It.set(a,Lt(It.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Mt.set(a,Lt(Mt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&wt(a),null===(a=Kt(e,t,n,r))&&Hr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var qt=null;function Kt(e,t,n,r){if(qt=null,null!==(e=bi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=D({},cn,{view:0,detail:0}),hn=an(un),fn=D({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),gn=an(D({},fn,{dataTransfer:0})),mn=an(D({},un,{relatedTarget:0})),vn=an(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(bn),xn=an(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return Sn}var An=D({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=an(An),En=an(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(D({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=an(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=D({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(In),Fn=[9,13,27,32],Rn=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var Ln=d&&"TextEvent"in window&&!jn,Dn=d&&(!Rn||jn&&8<jn&&11>=jn),On=String.fromCharCode(32),zn=!1;function Gn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ae(r),0<(t=Yr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function qn(e){Or(e,0)}function Kn(e){if(X(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(d){var $n;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Xn=Yn=null)}function nr(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];Vn(t,Xn,e,we(e)),Ie(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function ar(e,t){if("click"===e)return Kn(t)}function sr(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=dr(n,a);var s=dr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=d&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,br=null,yr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Yr(vr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Cr(e){if(_r[e])return _r[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}d&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Ar=Cr("animationend"),Pr=Cr("animationiteration"),Er=Cr("animationstart"),Tr=Cr("transitionend"),Nr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Nr.set(e,t),l(t,[e])}for(var Fr=0;Fr<Ir.length;Fr++){var Rr=Ir[Fr];Mr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Mr(Ar,"onAnimationEnd"),Mr(Pr,"onAnimationIteration"),Mr(Er,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var d=De;Le=!1,De=null,Oe||(Oe=!0,ze=d)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Dr(i,o,c),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Dr(i,o,c),a=l}}}if(Oe)throw e=ze,Oe=!1,ze=null,e}function zr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Gr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Gr(t,!1,e),Gr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Gr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var i=Vt;break;case 4:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=bi(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Ie((function(){var r=a,i=we(n),s=[];e:{var o=Nr.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Ar:case Pr:case Er:l=vn;break;case Tr:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Me(p,h))&&d.push(Vr(p,g,f)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bi(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,g="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?o:xi(l),f=null==c?o:xi(c),(o=new d(g,p+"leave",l,n,i)).target=u,o.relatedTarget=f,g=null,bi(i)===r&&((d=new d(h,p+"enter",c,n,i)).target=f,d.relatedTarget=u,g=d),u=g,l&&c)e:{for(h=c,p=0,f=d=l;f;f=Xr(f))p++;for(f=0,g=h;g;g=Xr(g))f++;for(;0<p-f;)d=Xr(d),p--;for(;0<f-p;)h=Xr(h),f--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Xr(d),h=Xr(h)}d=null}else d=null;null!==l&&qr(s,o,l,d,!1),null!==c&&null!==u&&qr(s,u,c,d,!0)}if("select"===(l=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Qn;else if(Hn(o))if(Jn)m=sr;else{m=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ar);switch(m&&(m=m(e,r))?Vn(s,m,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,br=null);break;case"focusout":br=vr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,xr(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(s,n,i)}var b;if(Rn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?Gn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Dn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(b=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Un=!0)),0<(v=Yr(r,y)).length&&(y=new xn(y,e,null,n,i),s.push({event:y,listeners:v}),b?y.data=b:null!==(b=Bn(n))&&(y.data=b))),(b=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,On);case"textInput":return(e=t.data)===On&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&Gn(e,t)?(e=en(),Zt=$t=Jt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=b))}Or(s,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Me(e,n))&&r.unshift(Vr(e,a,i)),null!=(a=Me(e,t))&&r.push(Vr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Me(n,a))&&s.unshift(Vr(n,l,o)):i||null!=(l=Me(n,a))&&s.push(Vr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Kr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Qr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),hi="__reactFiber$"+ui,fi="__reactProps$"+ui,pi="__reactContainer$"+ui,gi="__reactEvents$"+ui,mi="__reactListeners$"+ui,vi="__reactHandles$"+ui;function bi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[hi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[fi]||null}var ki=[],_i=-1;function Si(e){return{current:e}}function Ci(e){0>_i||(e.current=ki[_i],ki[_i]=null,_i--)}function Ai(e,t){_i++,ki[_i]=e.current,e.current=t}var Pi={},Ei=Si(Pi),Ti=Si(!1),Ni=Pi;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Fi(){Ci(Ti),Ci(Ei)}function Ri(e,t,n){if(Ei.current!==Pi)throw Error(a(168));Ai(Ei,t),Ai(Ti,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,W(e)||"Unknown",i));return D({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Ni=Ei.current,Ai(Ei,e),Ai(Ti,Ti.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ji(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ti),Ci(Ei),Ai(Ei,e)):Ci(Ti),Ai(Ti,n)}var Oi=null,zi=!1,Gi=!1;function Bi(e){null===Oi?Oi=[e]:Oi.push(e)}function Ui(){if(!Gi&&null!==Oi){Gi=!0;var e=0,t=yt;try{var n=Oi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oi=null,zi=!1}catch(i){throw null!==Oi&&(Oi=Oi.slice(e+1)),Xe(Ze,Ui),i}finally{yt=t,Gi=!1}}return null}var Wi=[],Hi=0,Vi=null,Yi=0,Xi=[],qi=0,Ki=null,Qi=1,Ji="";function $i(e,t){Wi[Hi++]=Yi,Wi[Hi++]=Vi,Vi=e,Yi=t}function Zi(e,t,n){Xi[qi++]=Qi,Xi[qi++]=Ji,Xi[qi++]=Ki,Ki=e;var r=Qi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qi=1<<32-st(t)+i|n<<i|r,Ji=a+e}else Qi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Vi;)Vi=Wi[--Hi],Wi[Hi]=null,Yi=Wi[--Hi],Wi[Hi]=null;for(;e===Ki;)Ki=Xi[--qi],Xi[qi]=null,Ji=Xi[--qi],Xi[qi]=null,Qi=Xi[--qi],Xi[qi]=null}var na=null,ra=null,ia=!1,aa=null;function sa(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&oa(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!ia)return da(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=ci(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ga=x.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var va=Si(null),ba=null,ya=null,xa=null;function wa(){xa=ya=ba=null}function ka(e){var t=va.current;Ci(va),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ba=e,xa=ya=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===ya){if(null===ba)throw Error(a(308));ya=e,ba.dependencies={lanes:0,firstContext:e}}else ya=ya.next=e;return t}var Aa=null;function Pa(e){null===Aa?Aa=[e]:Aa.push(e)}function Ea(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Pa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Pa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function ja(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Da(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=i.baseState;for(s=0,d=c=l=null,o=a;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){u=p.call(f,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,u,h):p)||void 0===h)break e;u=D({},u,h);break e;case 2:Na=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=u}}function Oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function Ga(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Fa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),ja(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Fa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Fa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(rc(t,e,r,n),ja(t,e,r))}};function Ua(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Wa(e,t,n){var r=!1,i=Pi,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=Mi(t)?Ni:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Pi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Ia(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=Mi(t)?Ni:Ei.current,i.context=Ii(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ga(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Oc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&qa(a)===t.type)?((r=i(t,n.props)).ref=Ya(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=Ya(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=Ya(e,null,t),n.return=e,n;case k:return(t=zc(t,e.mode,n)).return=e,t;case M:return h(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Xa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?d(e,t,n,r):null;case M:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:u(e,t,n,r,null);Xa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return u(t,e=e.get(n)||null,r,i,null);Xa(t,r)}return null}function g(i,a,o,l){for(var c=null,d=null,u=a,g=a=0,m=null;null!==u&&g<o.length;g++){u.index>g?(m=u,u=null):m=u.sibling;var v=f(i,u,o[g],l);if(null===v){null===u&&(u=m);break}e&&u&&null===v.alternate&&t(i,u),a=s(v,a,g),null===d?c=v:d.sibling=v,d=v,u=m}if(g===o.length)return n(i,u),ia&&$i(i,g),c;if(null===u){for(;g<o.length;g++)null!==(u=h(i,o[g],l))&&(a=s(u,a,g),null===d?c=u:d.sibling=u,d=u);return ia&&$i(i,g),c}for(u=r(i,u);g<o.length;g++)null!==(m=p(u,i,g,o[g],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?g:m.key),a=s(m,a,g),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach((function(e){return t(i,e)})),ia&&$i(i,g),c}function m(i,o,l,c){var d=j(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,g=o,m=o=0,v=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=f(i,g,b.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(i,g),o=s(y,o,m),null===u?d=y:u.sibling=y,u=y,g=v}if(b.done)return n(i,g),ia&&$i(i,m),d;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=h(i,b.value,c))&&(o=s(b,o,m),null===u?d=b:u.sibling=b,u=b);return ia&&$i(i,m),d}for(g=r(i,g);!b.done;m++,b=l.next())null!==(b=p(g,i,m,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),o=s(b,o,m),null===u?d=b:u.sibling=b,u=b);return e&&g.forEach((function(e){return t(i,e)})),ia&&$i(i,m),d}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===_&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=a;null!==d;){if(d.key===c){if((c=s.type)===_){if(7===d.tag){n(r,d.sibling),(a=i(d,s.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&qa(c)===d.type){n(r,d.sibling),(a=i(d,s.props)).ref=Ya(r,d,s),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}s.type===_?((a=Lc(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=jc(s.type,s.key,s.props,null,r.mode,l)).ref=Ya(r,a,s),l.return=r,r=l)}return o(r);case k:e:{for(d=s.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zc(s,r.mode,l)).return=r,r=a}return o(r);case M:return e(r,a,(d=s._init)(s._payload),l)}if(te(s))return g(r,a,s,l);if(j(s))return m(r,a,s,l);Xa(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Oc(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var Qa=Ka(!0),Ja=Ka(!1),$a={},Za=Si($a),es=Si($a),ts=Si($a);function ns(e){if(e===$a)throw Error(a(174));return e}function rs(e,t){switch(Ai(ts,t),Ai(es,e),Ai(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Za),Ai(Za,t)}function is(){Ci(Za),Ci(es),Ci(ts)}function as(e){ns(ts.current);var t=ns(Za.current),n=le(t,e.type);t!==n&&(Ai(es,e),Ai(Za,n))}function ss(e){es.current===e&&(Ci(Za),Ci(es))}var os=Si(0);function ls(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function ds(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var us=x.ReactCurrentDispatcher,hs=x.ReactCurrentBatchConfig,fs=0,ps=null,gs=null,ms=null,vs=!1,bs=!1,ys=0,xs=0;function ws(){throw Error(a(321))}function ks(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function _s(e,t,n,r,i,s){if(fs=s,ps=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,us.current=null===e||null===e.memoizedState?so:oo,e=n(r,i),bs){s=0;do{if(bs=!1,ys=0,25<=s)throw Error(a(301));s+=1,ms=gs=null,t.updateQueue=null,us.current=lo,e=n(r,i)}while(bs)}if(us.current=ao,t=null!==gs&&null!==gs.next,fs=0,ms=gs=ps=null,vs=!1,t)throw Error(a(300));return e}function Ss(){var e=0!==ys;return ys=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ms?ps.memoizedState=ms=e:ms=ms.next=e,ms}function As(){if(null===gs){var e=ps.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===ms?ps.memoizedState:ms.next;if(null!==t)ms=t,gs=e;else{if(null===e)throw Error(a(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===ms?ps.memoizedState=ms=e:ms=ms.next=e}return ms}function Ps(e,t){return"function"===typeof t?t(e):t}function Es(e){var t=As(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((fs&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ps.lanes|=u,Dl|=u}d=d.next}while(null!==d&&d!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ps.lanes|=s,Dl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ts(e){var t=As(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(xo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ns(){}function Is(e,t){var n=ps,r=As(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,xo=!0),r=r.queue,Ws(Rs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ms&&1&ms.memoizedState.tag){if(n.flags|=2048,Os(9,Fs.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(a(349));0!==(30&fs)||Ms(n,t,i)}return i}function Ms(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fs(e,t,n,r){t.value=n,t.getSnapshot=r,js(t)&&Ls(e)}function Rs(e,t,n){return n((function(){js(t)&&Ls(e)}))}function js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ls(e){var t=Ta(e,1);null!==t&&rc(t,e,1,-1)}function Ds(e){var t=Cs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,ps,e),[t.memoizedState,e]}function Os(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zs(){return As().memoizedState}function Gs(e,t,n,r){var i=Cs();ps.flags|=e,i.memoizedState=Os(1|t,n,void 0,void 0===r?null:r)}function Bs(e,t,n,r){var i=As();r=void 0===r?null:r;var a=void 0;if(null!==gs){var s=gs.memoizedState;if(a=s.destroy,null!==r&&ks(r,s.deps))return void(i.memoizedState=Os(t,n,a,r))}ps.flags|=e,i.memoizedState=Os(1|t,n,a,r)}function Us(e,t){return Gs(8390656,8,e,t)}function Ws(e,t){return Bs(2048,8,e,t)}function Hs(e,t){return Bs(4,2,e,t)}function Vs(e,t){return Bs(4,4,e,t)}function Ys(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Ys.bind(null,t,e),n)}function qs(){}function Ks(e,t){var n=As();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qs(e,t){var n=As();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&fs)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=gt(),ps.lanes|=n,Dl|=n,e.baseState=!0),t)}function $s(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=hs.transition;hs.transition={};try{e(!1),t()}finally{yt=n,hs.transition=r}}function Zs(){return As().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ea(e,t,n,r))){rc(n,e,r,tc()),io(n,t,r)}}function to(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(i.next=i,Pa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ea(e,t,i,r))&&(rc(n,e,r,i=tc()),io(n,t,r))}}function no(e){var t=e.alternate;return e===ps||null!==t&&t===ps}function ro(e,t){bs=vs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var ao={readContext:Ca,useCallback:ws,useContext:ws,useEffect:ws,useImperativeHandle:ws,useInsertionEffect:ws,useLayoutEffect:ws,useMemo:ws,useReducer:ws,useRef:ws,useState:ws,useDebugValue:ws,useDeferredValue:ws,useTransition:ws,useMutableSource:ws,useSyncExternalStore:ws,useId:ws,unstable_isNewReconciler:!1},so={readContext:Ca,useCallback:function(e,t){return Cs().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Us,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Gs(4194308,4,Ys.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var n=Cs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,ps,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Cs().memoizedState=e},useState:Ds,useDebugValue:qs,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=Ds(!1),t=e[0];return e=$s.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ps,i=Cs();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nl)throw Error(a(349));0!==(30&fs)||Ms(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Us(Rs.bind(null,r,s,e),[e]),r.flags|=2048,Os(9,Fs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Cs(),t=Nl.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=ys++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ca,useCallback:Ks,useContext:Ca,useEffect:Ws,useImperativeHandle:Xs,useInsertionEffect:Hs,useLayoutEffect:Vs,useMemo:Qs,useReducer:Es,useRef:zs,useState:function(){return Es(Ps)},useDebugValue:qs,useDeferredValue:function(e){return Js(As(),gs.memoizedState,e)},useTransition:function(){return[Es(Ps)[0],As().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Is,useId:Zs,unstable_isNewReconciler:!1},lo={readContext:Ca,useCallback:Ks,useContext:Ca,useEffect:Ws,useImperativeHandle:Xs,useInsertionEffect:Hs,useLayoutEffect:Vs,useMemo:Qs,useReducer:Ts,useRef:zs,useState:function(){return Ts(Ps)},useDebugValue:qs,useDeferredValue:function(e){var t=As();return null===gs?t.memoizedState=e:Js(t,gs.memoizedState,e)},useTransition:function(){return[Ts(Ps)[0],As().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Is,useId:Zs,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Yl=r),ho(0,t)},n}function go(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=x.ReactCurrentOwner,xo=!1;function wo(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Qa(t,e.child,n,r)}function ko(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=_s(e,t,n,r,a,i),n=Ss(),null===e||xo?(ia&&n&&ea(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function _o(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Fc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,So(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Vo(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Vo(e,t,i);0!==(131072&e.flags)&&(xo=!0)}}return Po(e,t,n,r,i)}function Co(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Rl,Fl),Fl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Rl,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ai(Rl,Fl),Fl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ai(Rl,Fl),Fl|=r;return wo(e,t,i,n),t.child}function Ao(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Po(e,t,n,r,i){var a=Mi(n)?Ni:Ei.current;return a=Ii(t,a),Sa(t,i),n=_s(e,t,n,r,a,i),r=Ss(),null===e||xo?(ia&&r&&ea(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function Eo(e,t,n,r,i){if(Mi(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ho(e,t),Wa(t,n,r),Va(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ca(c):c=Ii(t,c=Mi(n)?Ni:Ei.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&Ha(t,s,r,c),Na=!1;var h=t.memoizedState;s.state=h,Da(t,r,s,i),l=t.memoizedState,o!==r||h!==l||Ti.current||Na?("function"===typeof d&&(Ga(t,n,d,r),l=t.memoizedState),(o=Na||Ua(t,n,o,r,h,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ma(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ma(t.type,o),s.props=c,u=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ca(l):l=Ii(t,l=Mi(n)?Ni:Ei.current);var f=n.getDerivedStateFromProps;(d="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==u||h!==l)&&Ha(t,s,r,l),Na=!1,h=t.memoizedState,s.state=h,Da(t,r,s,i);var p=t.memoizedState;o!==u||h!==p||Ti.current||Na?("function"===typeof f&&(Ga(t,n,f,r),p=t.memoizedState),(c=Na||Ua(t,n,c,r,h,p,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,a,i)}function To(e,t,n,r,i,a){Ao(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Di(t,n,!1),Vo(e,t,a);r=t.stateNode,yo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,o,a)):wo(e,t,o,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),rs(e,t.containerInfo)}function Io(e,t,n,r,i){return fa(),pa(i),t.flags|=256,wo(e,t,n,r),t.child}var Mo,Fo,Ro,jo,Lo={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oo(e,t,n){var r,i=t.pendingProps,s=os.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ai(os,1&s),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,i,0,null),e=Lc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=Lo,e):zo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,Go(e,t,o,r=uo(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Qa(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Lo,s);if(0===(1&t.mode))return Go(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Go(e,t,o,r=uo(s=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=Nl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ta(e,i),rc(r,e,i,-1))}return mc(),Go(e,t,o,r=uo(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Xi[qi++]=Qi,Xi[qi++]=Ji,Xi[qi++]=Ki,Qi=e.id,Ji=e.overflow,Ki=t),t=zo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(o){o=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Rc(r,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zo(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Go(e,t,n,r){return null!==r&&pa(r),Qa(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Uo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Wo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=os.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(os,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ls(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ls(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uo(t,!0,n,null,a);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qo(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xo(t),null;case 1:case 17:return Mi(t.type)&&Fi(),Xo(t),null;case 3:return r=t.stateNode,is(),Ci(Ti),Ci(Ei),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Fo(e,t),Xo(t),null;case 5:ss(t);var i=ns(ts.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Xo(t),null}if(e=ns(Za.current),ua(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)zr(jr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":ie(r,s),zr("invalid",r)}for(var l in be(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":Y(r),Z(r,s,!0);break;case"textarea":Y(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Mo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)zr(jr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Q(e,r),i=K(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(s in be(n,i),c=i)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?me(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=d&&"onScroll"===s&&zr("scroll",e):null!=d&&y(e,s,d,l))}switch(n){case"input":Y(e),Z(e,r,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xo(t),null;case 6:if(e&&null!=t.stateNode)jo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=ns(ts.current),ns(Za.current),ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Xo(t),null;case 13:if(Ci(os),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,s=!1;else if(s=ua(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xo(t),s=!1}else null!==aa&&(oc(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&os.current)?0===jl&&(jl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Xo(t),null);case 4:return is(),Fo(e,t),null===e&&Ur(t.stateNode.containerInfo),Xo(t),null;case 10:return ka(t.type._context),Xo(t),null;case 19:if(Ci(os),null===(s=t.memoizedState))return Xo(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Yo(s,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ls(e))){for(t.flags|=128,Yo(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(os,1&os.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Wl&&(t.flags|=128,r=!0,Yo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ls(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Yo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ia)return Xo(t),null}else 2*Je()-s.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Yo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=os.current,Ai(os,r?1&n|2:1&n),t):(Xo(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fl)&&(Xo(t),6&t.subtreeFlags&&(t.flags|=8192)):Xo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ko(e,t){switch(ta(t),t.tag){case 1:return Mi(t.type)&&Fi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return is(),Ci(Ti),Ci(Ei),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ss(t),null;case 13:if(Ci(os),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(os),null;case 4:return is(),null;case 10:return ka(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Mo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fo=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ns(Za.current);var a,s=null;switch(n){case"input":i=K(e,i),r=K(e,r),s=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(d in be(n,r),n=null,i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var l=i[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=i?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,Jo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tl(t,n,a)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var ul=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Jo||el(n,t);case 6:var r=ul,i=hl;ul=null,fl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,fl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Jo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Cc(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Jo=(r=Jo)||null!==n.memoizedState,fl(e,t,n),Jo=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));pl(s,o,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(d){Cc(i,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){Cc(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:ml(t,e),bl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),bl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Cc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(i,s),ye(l,o);var d=ye(l,s);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?me(i,h):"dangerouslySetInnerHTML"===u?ue(i,h):"children"===u?he(i,h):y(i,u,h,d)}switch(l){case"input":$(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(m){Cc(e,e.return,m)}}break;case 6:if(ml(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Cc(e,e.return,m)}}break;case 3:if(ml(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Je())),4&r&&gl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(d=Jo)||u,ml(t,e),Jo=d):ml(t,e),bl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(h=Zo=u;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Cc(r,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){kl(h);continue}}null!==p?(p.return=f,Zo=p):kl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,d?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(m){Cc(e,e.return,m)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),dl(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(a(161))}}catch(o){Cc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zo=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Qo;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Qo;var c=Jo;if(Qo=s,(Jo=l)&&!c)for(Zo=i;null!==Zo;)l=(s=Zo).child,22===s.tag&&null!==s.memoizedState?_l(i):null!==l?(l.return=s,Zo=l):_l(i);for(;null!==a;)Zo=a,xl(a,t,n),a=a.sibling;Zo=i,Qo=o,Jo=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zo=a):wl(e)}}function wl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Oa(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Oa(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}Jo||512&t.flags&&al(t)}catch(f){Cc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function kl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function _l(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cc(t,i,l)}}var a=t.return;try{al(t)}catch(l){Cc(t,a,l)}break;case 5:var s=t.return;try{al(t)}catch(l){Cc(t,s,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Sl,Cl=Math.ceil,Al=x.ReactCurrentDispatcher,Pl=x.ReactCurrentOwner,El=x.ReactCurrentBatchConfig,Tl=0,Nl=null,Il=null,Ml=0,Fl=0,Rl=Si(0),jl=0,Ll=null,Dl=0,Ol=0,zl=0,Gl=null,Bl=null,Ul=0,Wl=1/0,Hl=null,Vl=!1,Yl=null,Xl=null,ql=!1,Kl=null,Ql=0,Jl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Tl)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ml?Ml&-Ml:null!==ga.transition?(0===ec&&(ec=gt()),ec):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,$l=null,Error(a(185));vt(e,n,r),0!==(2&Tl)&&e===Nl||(e===Nl&&(0===(2&Tl)&&(Ol|=n),4===jl&&lc(e,Ml)),ic(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Wl=Je()+500,zi&&Ui()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===Nl?Ml:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){zi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),si((function(){0===(6&Tl)&&Ui()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zl=-1,ec=0,0!==(6&Tl))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Tl;Tl|=2;var s=gc();for(Nl===e&&Ml===t||(Hl=null,Wl=Je()+500,fc(e,t));;)try{yc();break}catch(l){pc(e,l)}wa(),Al.current=s,Tl=i,null!==Il?t=0:(Nl=null,Ml=0,t=jl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kc(e,Bl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Ul+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Bl,Hl),t);break}kc(e,Bl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Bl,Hl),r);break}kc(e,Bl,Hl);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Gl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~zl,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tl))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Bl,Hl),ic(e,Je()),null}function dc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Wl=Je()+500,zi&&Ui())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&_c();var t=Tl;Tl|=1;var n=El.transition,r=yt;try{if(El.transition=null,yt=1,e)return e()}finally{yt=r,El.transition=n,0===(6&(Tl=t))&&Ui()}}function hc(){Fl=Rl.current,Ci(Rl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Fi();break;case 3:is(),Ci(Ti),Ci(Ei),ds();break;case 5:ss(r);break;case 4:is();break;case 13:case 19:Ci(os);break;case 10:ka(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=e,Il=e=Rc(e.current,null),Ml=Fl=t,jl=0,Ll=null,zl=Ol=Dl=0,Bl=Gl=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}Aa=null}return e}function pc(e,t){for(;;){var n=Il;try{if(wa(),us.current=ao,vs){for(var r=ps.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vs=!1}if(fs=0,ms=gs=ps=null,bs=!1,ys=0,Pl.current=null,null===n||null===n.return){jl=1,Ll=t,Il=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,bo(p,o,l,0,t),1&p.mode&&mo(s,d,t),c=d;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){mo(s,d,t),mc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bo(v,o,l,0,t),pa(co(c,l));break e}}s=c=co(c,l),4!==jl&&(jl=2),null===Gl?Gl=[s]:Gl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,La(s,po(0,c,t));break e;case 1:l=c;var b=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Xl||!Xl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,La(s,go(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(x){t=x,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function gc(){var e=Al.current;return Al.current=ao,null===e?ao:e}function mc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Nl||0===(268435455&Dl)&&0===(268435455&Ol)||lc(Nl,Ml)}function vc(e,t){var n=Tl;Tl|=2;var r=gc();for(Nl===e&&Ml===t||(Hl=null,fc(e,t));;)try{bc();break}catch(i){pc(e,i)}if(wa(),Tl=n,Al.current=r,null!==Il)throw Error(a(261));return Nl=null,Ml=0,jl}function bc(){for(;null!==Il;)xc(Il)}function yc(){for(;null!==Il&&!Ke();)xc(Il)}function xc(e){var t=Sl(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?wc(e):Il=t,Pl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qo(n,t,Fl)))return void(Il=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return jl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===jl&&(jl=5)}function kc(e,t,n){var r=yt,i=El.transition;try{El.transition=null,yt=1,function(e,t,n,r){do{_c()}while(null!==Kl);if(0!==(6&Tl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Nl&&(Il=Nl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Nc(tt,(function(){return _c(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=El.transition,El.transition=null;var o=yt;yt=1;var l=Tl;Tl|=4,Pl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++d===i&&(l=o),f===s&&++u===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}g=nl,nl=!1}(e,n),vl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),Tl=l,yt=o,El.transition=s}else e.current=n;if(ql&&(ql=!1,Kl=e,Ql=i),s=e.pendingLanes,0===s&&(Xl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Yl,Yl=null,e;0!==(1&Ql)&&0!==e.tag&&_c(),s=e.pendingLanes,0!==(1&s)?e===$l?Jl++:(Jl=0,$l=e):Jl=0,Ui()}(e,t,n,r)}finally{El.transition=i,yt=r}return null}function _c(){if(null!==Kl){var e=xt(Ql),t=El.transition,n=yt;try{if(El.transition=null,yt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Ql=0,0!==(6&Tl))throw Error(a(331));var i=Tl;for(Tl|=4,Zo=e.current;null!==Zo;){var s=Zo,o=s.child;if(0!==(16&Zo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zo=d;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:rl(8,u,s)}var h=u.child;if(null!==h)h.return=u,Zo=h;else for(;null!==Zo;){var f=(u=Zo).sibling,p=u.return;if(sl(u),u===d){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Zo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(s=Zo).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Zo=b;break e}Zo=s.return}}var y=e.current;for(Zo=y;null!==Zo;){var x=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Zo=x;else e:for(o=y;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(k){Cc(l,l.return,k)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(Tl=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{yt=n,El.transition=t}}return!1}function Sc(e,t,n){e=Ra(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=Ra(t,e=go(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Ml&n)===n&&(4===jl||3===jl&&(130023424&Ml)===Ml&&500>Je()-Ul?fc(e,0):zl|=n),ic(e,t)}function Pc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=tc();null!==(e=Ta(e,t))&&(vt(e,t,n),ic(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Pc(e,n)}function Nc(e,t){return Xe(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Ic(e,t,n,r)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Fc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return Lc(n.children,i,s,t);case S:o=8,i|=8;break;case C:return(e=Mc(12,n,t,2|i)).elementType=C,e.lanes=s,e;case T:return(e=Mc(13,n,t,i)).elementType=T,e.lanes=s,e;case N:return(e=Mc(19,n,t,i)).elementType=N,e.lanes=s,e;case F:return Dc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case P:o=9;break e;case E:o=11;break e;case I:o=14;break e;case M:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Mc(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=F,e.lanes=n,e.stateNode={isHidden:!1},e}function Oc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,s,o,l){return e=new Gc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Mc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function Uc(e){if(!e)return Pi;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Mi(n))return ji(e,n,t)}return t}function Wc(e,t,n,r,i,a,s,o,l){return(e=Bc(n,r,!0,e,0,a,0,o,l)).context=Uc(null),n=e.current,(a=Fa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,a=tc(),s=nc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,s))&&(rc(e,i,s,a),ja(e,i,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:No(t),fa();break;case 5:as(t);break;case 1:Mi(t.type)&&Li(t);break;case 4:rs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(va,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(os,1&os.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Oo(e,t,n):(Ai(os,1&os.current),null!==(e=Vo(e,t,n))?e.sibling:null);Ai(os,1&os.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(os,os.current),r)break;return null;case 22:case 23:return t.lanes=0,Co(e,t,n)}return Vo(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Ii(t,Ei.current);Sa(t,n),i=_s(null,t,r,e,i,n);var s=Ss();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ia(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Va(t,r,e,n),t=To(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===I)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Po(null,t,r,e,n);break e;case 1:t=Eo(null,t,r,e,n);break e;case 11:t=ko(null,t,r,e,n);break e;case 14:t=_o(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Po(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(No(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ma(e,t),Da(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Io(e,t,r,n,i=co(Error(a(423)),t));break e}if(r!==i){t=Io(e,t,r,n,i=co(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Vo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return as(t),null===e&&ca(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),Ao(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Oo(e,t,n);case 4:return rs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qa(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ai(va,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!Ti.current){t=Vo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Fa(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),_a(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),_a(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ca(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_o(e,t,r,i=ma(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ho(e,t),t.tag=1,Mi(r)?(e=!0,Li(t)):e=!1,Sa(t,n),Wa(t,r,i),Va(t,r,i,n),To(null,t,r,!0,e,n);case 19:return Wo(e,t,n);case 22:return Co(e,t,n)}throw Error(a(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function ed(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=Vc(s);o.call(e)}}Hc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Vc(s);a.call(e)}}var s=Wc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Ur(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Vc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Vc(s)}Qc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Qc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&0!==t&&t<Ft[n].priority;n++);Ft.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(bt(t,1|n),ic(t,Je()),0===(6&Tl)&&(Wl=Je()+500,Ui()))}break;case 13:uc((function(){var t=Ta(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Xc(e,1)}},kt=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)rc(t,e,134217728,tc());Xc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Ta(e,t);if(null!==n)rc(n,e,t,tc());Xc(e,t)}},St=function(){return yt},Ct=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},ke=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));X(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=dc,Te=uc;var td={usingClientEntryPoint:!1,Events:[yi,xi,wi,Ae,Pe,dc]},nd={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rd={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{it=id.inject(rd),at=id}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return ed(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,s,o),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return ed(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){ed(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ed(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},4612:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<i&&0>a(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(m=!1,x(e),!g)if(null!==r(c))g=!0,F(k);else{var t=r(d);null!==t&&R(w,t.startTime-e)}}function k(e,n){g=!1,m&&(m=!1,b(A),A=-1),p=!0;var a=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&R(w,u.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,C=null,A=-1,P=5,E=-1;function T(){return!(t.unstable_now()-E<P)}function N(){if(null!==C){var e=t.unstable_now();E=e;var n=!0;try{n=C(!0,e)}finally{n?_():(S=!1,C=null)}}else S=!1}if("function"===typeof y)_=function(){y(N)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,M=I.port2;I.port1.onmessage=N,_=function(){M.postMessage(null)}}else _=function(){v(N,0)};function F(e){C=e,S||(S=!0,_())}function R(e,n){A=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,F(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(d,e),null===r(c)&&e===r(d)&&(m?(b(A),A=-1):m=!0,R(w,a-s))):(e.sortIndex=o,n(c,e),g||p||(g=!0,F(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7067:(e,t,n)=>{"use strict";e.exports=n(4612)},3751:(e,t,n)=>{"use strict";n.d(t,{ABC:()=>l,AqJ:()=>i,K7t:()=>y,L2n:()=>a,Mz4:()=>T,Q3K:()=>x,Sy$:()=>k,UZh:()=>d,U_s:()=>S,Y48:()=>A,Ylv:()=>o,Zt5:()=>b,bv7:()=>c,c$c:()=>f,cQk:()=>E,eVK:()=>p,gpD:()=>m,huF:()=>u,iQO:()=>h,jth:()=>g,nSL:()=>_,ngD:()=>P,q$j:()=>w,rTq:()=>v,w7X:()=>s,zKo:()=>C});var r=n(6688);function i(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}}]})(e)}function a(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function s(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7 2a1 1 0 00-.707 1.707L7 4.414v3.758a1 1 0 01-.293.707l-4 4C.817 14.769 2.156 18 4.828 18h10.343c2.673 0 4.012-3.231 2.122-5.121l-4-4A1 1 0 0113 8.172V4.414l.707-.707A1 1 0 0013 2H7zm2 6.172V4h2v4.172a3 3 0 00.879 2.12l1.027 1.028a4 4 0 00-2.171.102l-.47.156a4 4 0 01-2.53 0l-.563-.187a1.993 1.993 0 00-.114-.035l1.063-1.063A3 3 0 009 8.172z",clipRule:"evenodd"}}]})(e)}function o(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"}}]})(e)}function l(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"}},{tag:"path",attr:{d:"M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"}}]})(e)}function c(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function d(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}}]})(e)}function u(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}}]})(e)}function h(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"}}]})(e)}function f(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}},{tag:"path",attr:{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}}]})(e)}function p(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"}}]})(e)}function g(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 10-2 0v3a1 1 0 102 0v-3zm2-3a1 1 0 011 1v5a1 1 0 11-2 0v-5a1 1 0 011-1zm4-1a1 1 0 10-2 0v7a1 1 0 102 0V8z",clipRule:"evenodd"}}]})(e)}function m(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"}}]})(e)}function v(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}}]})(e)}function b(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"}}]})(e)}function y(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}}]})(e)}function x(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"}}]})(e)}function w(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 6a2 2 0 012-2h12a2 2 0 012 2v2a2 2 0 100 4v2a2 2 0 01-2 2H4a2 2 0 01-2-2v-2a2 2 0 100-4V6z"}}]})(e)}function k(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"}}]})(e)}function _(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"}}]})(e)}function S(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function C(e){return(0,r.k5)({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"}}]})(e)}function A(e){return(0,r.k5)({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"}}]})(e)}function P(e){return(0,r.k5)({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"}}]})(e)}function E(e){return(0,r.k5)({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"}}]})(e)}function T(e){return(0,r.k5)({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}}]})(e)}},6688:(e,t,n)=>{"use strict";n.d(t,{k5:()=>c});var r=n(5043),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(i),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function l(e){return e&&e.map((function(e,t){return r.createElement(e.tag,s({key:t},e.attr),l(e.child))}))}function c(e){return function(t){return r.createElement(d,s({attr:s({},e.attr)},t),l(e.child))}}function d(e){var t=function(t){var n,i=e.attr,a=e.size,l=e.title,c=o(e,["attr","size","title"]),d=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:n,style:s(s({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==a?r.createElement(a.Consumer,null,(function(e){return t(e)})):t(i)}},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=y.prototype=new b;x.constructor=y,g(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:_.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+E(l,0):a,w(s)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),T(s,t,i,"",(function(e){return e}))):null!=s&&(A(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(P,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var d=a+E(o=e[c],c);l+=T(o,t,i,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,i,d=a+E(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},F={transition:null},R={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:F,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=y,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},6440:e=>{"use strict";var t=function(){};e.exports=t},7640:()=>{},3237:()=>{},7492:()=>{},1815:()=>{},6671:()=>{},2787:()=>{},7101:e=>{e.exports=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")},e.exports.__esModule=!0,e.exports.default=e.exports},5764:e=>{e.exports=function(e,t){return t.get?t.get.call(e):t.value},e.exports.__esModule=!0,e.exports.default=e.exports},9056:e=>{e.exports=function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}},e.exports.__esModule=!0,e.exports.default=e.exports},5276:e=>{e.exports=function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")},e.exports.__esModule=!0,e.exports.default=e.exports},4829:e=>{e.exports=function(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")},e.exports.__esModule=!0,e.exports.default=e.exports},1413:e=>{e.exports=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4972:(e,t,n)=>{var r=n(5764),i=n(1413);e.exports=function(e,t){var n=i(e,t,"get");return r(e,n)},e.exports.__esModule=!0,e.exports.default=e.exports},2459:(e,t,n)=>{var r=n(7101);e.exports=function(e,t,n){r(e,t),t.set(e,n)},e.exports.__esModule=!0,e.exports.default=e.exports},2808:(e,t,n)=>{var r=n(9056),i=n(1413);e.exports=function(e,t,n){var a=i(e,t,"set");return r(e,a,n),n},e.exports.__esModule=!0,e.exports.default=e.exports},137:e=>{e.exports=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n},e.exports.__esModule=!0,e.exports.default=e.exports},3312:(e,t,n)=>{var r=n(7101);e.exports=function(e,t){r(e,t),t.add(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2435:(e,t,n)=>{var r=n(5764),i=n(5276),a=n(4829);e.exports=function(e,t,n){return i(e,t),a(n,"get"),r(e,n)},e.exports.__esModule=!0,e.exports.default=e.exports},1399:(e,t,n)=>{var r=n(9056),i=n(5276),a=n(4829);e.exports=function(e,t,n,s){return i(e,t),a(n,"set"),r(e,n,s),s},e.exports.__esModule=!0,e.exports.default=e.exports},8443:(e,t,n)=>{var r=n(5276);e.exports=function(e,t,n){return r(e,t),n},e.exports.__esModule=!0,e.exports.default=e.exports},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7736:(e,t,n)=>{var r=n(3738).default,i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6326:(e,t,n)=>{"use strict";n.d(t,{Tt:()=>r,YH:()=>a,fX:()=>o,sH:()=>i,zs:()=>s});function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}Object.create;function s(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(o){i={error:o}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s}function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,__webpack_require__.d(i,a),i}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+".8f3cb8fc.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="coursetawebportal:";__webpack_require__.l=(n,r,i,a)=>{if(e[n])e[n].push(r);else{var s,o;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(o=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var u=(t,r)=>{s.onerror=s.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=u.bind(null,s.onerror),s.onload=u.bind(null,s.onload),o&&document.head.appendChild(s)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/",(()=>{var e={792:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var a=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(a,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,a=n[0],s=n[1],o=n[2],l=0;if(a.some((t=>0!==e[t]))){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);if(o)o(__webpack_require__)}for(t&&t(n);l<a.length;l++)i=a[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkcoursetawebportal=self.webpackChunkcoursetawebportal||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(5043),t=__webpack_require__.t(e,2),n=__webpack_require__(4391),r=__webpack_require__(579);const i=(0,e.createContext)(),a=()=>(0,e.useContext)(i),s=t=>{let{children:n}=t;const[a,s]=(0,e.useState)({message:"",type:""});return(0,r.jsx)(i.Provider,{value:{showNotification:(e,t)=>{s({message:t,type:e}),setTimeout((()=>{s({message:"",type:""})}),5e3)},hideNotification:()=>{s({message:"",type:""})},notification:a},children:n})},o={success:(0,r.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"}),danger:(0,r.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 11.793a1 1 0 1 1-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L8.586 10 6.293 7.707a1 1 0 0 1 1.414-1.414L10 8.586l2.293-2.293a1 1 0 0 1 1.414 1.414L11.414 10l2.293 2.293Z"}),warning:(0,r.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-4a1 1 0 0 1-2 0V6a1 1 0 0 1 2 0v5Z"})},l=()=>{const{notification:e,hideNotification:t}=a();if(!e.message||!e.type)return null;const n=o[e.type];return(0,r.jsxs)("div",{className:"fixed top-0 right-0 mt-4 mr-4 z-[1000] flex items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800 ".concat({success:"text-green-500 bg-green-100",danger:"text-red-500 bg-red-100",warning:"text-orange-500 bg-orange-100"}[e.type]),role:"alert",children:[(0,r.jsxs)("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg dark:text-white",children:[(0,r.jsx)("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",children:n}),(0,r.jsxs)("span",{className:"sr-only",children:[e.type," icon"]})]}),(0,r.jsx)("div",{className:"ml-3 text-sm font-normal",children:e.message}),(0,r.jsxs)("button",{type:"button",class:"ms-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700","data-dismiss-target":"#toast-success",onClick:t,"aria-label":"Close",children:[(0,r.jsx)("span",{class:"sr-only",children:"Close"}),(0,r.jsx)("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,r.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})})]})]})};var c,d=__webpack_require__(7950),u=__webpack_require__.t(d,2);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(c||(c={}));const f="popstate";function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function g(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(OG){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function v(e,t,n,r){return void 0===n&&(n=null),h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function b(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function y(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function x(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=c.Pop,l=null,d=u();function u(){return(s.state||{idx:null}).idx}function g(){o=c.Pop;let e=u(),t=null==e?null:e-d;d=e,l&&l({action:o,location:x.location,delta:t})}function y(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:b(e);return n=n.replace(/ $/,"%20"),p(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,s.replaceState(h({},s.state,{idx:d}),""));let x={get action(){return o},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(f,g),l=e,()=>{i.removeEventListener(f,g),l=null}},createHref:e=>t(i,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=c.Push;let r=v(x.location,e,t);n&&n(r,e),d=u()+1;let h=m(r,d),f=x.createHref(r);try{s.pushState(h,"",f)}catch(Zb){if(Zb instanceof DOMException&&"DataCloneError"===Zb.name)throw Zb;i.location.assign(f)}a&&l&&l({action:o,location:x.location,delta:1})},replace:function(e,t){o=c.Replace;let r=v(x.location,e,t);n&&n(r,e),d=u();let i=m(r,d),h=x.createHref(r);s.replaceState(i,"",h),a&&l&&l({action:o,location:x.location,delta:0})},go:e=>s.go(e)};return x}var w;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(w||(w={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function k(e,t,n){void 0===n&&(n="/");let r=L(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;let i=_(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=j(r);a=F(i[s],e)}return a}function _(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(p(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=B([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),_(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:M(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))i(e,t,r);else i(e,t)})),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=S(r.join("/")),o=[];return o.push(...s.map((e=>""===e?a:[a,e].join("/")))),i&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const C=/^:[\w-]+$/,A=3,P=2,E=1,T=10,N=-2,I=e=>"*"===e;function M(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=N),t&&(r+=P),n.filter((e=>!I(e))).reduce(((e,t)=>e+(C.test(t)?A:""===t?E:T)),r)}function F(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let s=0;s<n.length;++s){let e=n[s],o=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let d=e.route;a.push({params:r,pathname:B([i,c.pathname]),pathnameBase:U(B([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=B([i,c.pathnameBase]))}return a}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:s,pattern:e}}function j(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Zb){return g(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Zb+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function z(e,t){let n=O(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function G(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=y(e):(i=h({},e),p(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),p(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),p(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let a,s=""===e||""===i.pathname,o=s?"/":i.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?y(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:W(r),hash:H(i)}}(i,a),c=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Y=["post","put","patch","delete"],X=(new Set(Y),["get",...Y]);new Set(X),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const K=e.createContext(null);const Q=e.createContext(null);const J=e.createContext(null);const $=e.createContext(null);const Z=e.createContext({outlet:null,matches:[],isDataRoute:!1});const ee=e.createContext(null);function te(){return null!=e.useContext($)}function ne(){return te()||p(!1),e.useContext($).location}function re(t){e.useContext(J).static||e.useLayoutEffect(t)}function ie(){let{isDataRoute:t}=e.useContext(Z);return t?function(){let{router:t}=ge(fe.UseNavigateStable),n=ve(pe.UseNavigateStable),r=e.useRef(!1);re((()=>{r.current=!0}));let i=e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,q({fromRouteId:n},i)))}),[t,n]);return i}():function(){te()||p(!1);let t=e.useContext(K),{basename:n,future:r,navigator:i}=e.useContext(J),{matches:a}=e.useContext(Z),{pathname:s}=ne(),o=JSON.stringify(z(a,r.v7_relativeSplatPath)),l=e.useRef(!1);return re((()=>{l.current=!0})),e.useCallback((function(e,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof e)return void i.go(e);let a=G(e,JSON.parse(o),s,"path"===r.relative);null==t&&"/"!==n&&(a.pathname="/"===a.pathname?n:B([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}),[n,i,o,s,t])}()}const ae=e.createContext(null);function se(){let{matches:t}=e.useContext(Z),n=t[t.length-1];return n?n.params:{}}function oe(t,n,r,i){te()||p(!1);let{navigator:a}=e.useContext(J),{matches:s}=e.useContext(Z),o=s[s.length-1],l=o?o.params:{},d=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,h=ne();if(n){var f;let e="string"===typeof n?y(n):n;"/"===d||(null==(f=e.pathname)?void 0:f.startsWith(d))||p(!1),u=e}else u=h;let g=u.pathname||"/",m=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=k(t,{pathname:m});let b=he(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:B([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:B([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,i);return n&&b?e.createElement($.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:c.Pop}},b):b}function le(){let t=function(){var t;let n=e.useContext(ee),r=me(pe.UseRouteError),i=ve(pe.UseRouteError);if(void 0!==n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=V(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}const ce=e.createElement(le,null);class de extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(Z.Provider,{value:this.props.routeContext},e.createElement(ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(t){let{routeContext:n,match:r,children:i}=t,a=e.useContext(K);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Z.Provider,{value:n},i)}function he(t,n,r,i){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==t){var s;if(null==(s=r)||!s.errors)return null;t=r.matches}let o=t,l=null==(a=r)?void 0:a.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||p(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(d=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((t,i,a)=>{let s,u=!1,h=null,f=null;var p;r&&(s=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ce,c&&(d<0&&0===a?(p="route-fallback",!1||be[p]||(be[p]=!0),u=!0,f=null):d===a&&(u=!0,f=i.route.hydrateFallbackElement||null)));let g=n.concat(o.slice(0,a+1)),m=()=>{let n;return n=s?h:u?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(ue,{match:i,routeContext:{outlet:t,matches:g,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?e.createElement(de,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var fe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fe||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function ge(t){let n=e.useContext(K);return n||p(!1),n}function me(t){let n=e.useContext(Q);return n||p(!1),n}function ve(t){let n=function(t){let n=e.useContext(Z);return n||p(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||p(!1),r.route.id}const be={};t.startTransition;function ye(t){let{to:n,replace:r,state:i,relative:a}=t;te()||p(!1);let{future:s,static:o}=e.useContext(J),{matches:l}=e.useContext(Z),{pathname:c}=ne(),d=ie(),u=G(n,z(l,s.v7_relativeSplatPath),c,"path"===a),h=JSON.stringify(u);return e.useEffect((()=>d(JSON.parse(h),{replace:r,state:i,relative:a})),[d,h,a,r,i]),null}function xe(t){return function(t){let n=e.useContext(Z).outlet;return n?e.createElement(ae.Provider,{value:t},n):n}(t.context)}function we(e){p(!1)}function ke(t){let{basename:n="/",children:r=null,location:i,navigationType:a=c.Pop,navigator:s,static:o=!1,future:l}=t;te()&&p(!1);let d=n.replace(/^\/*/,"/"),u=e.useMemo((()=>({basename:d,navigator:s,static:o,future:q({v7_relativeSplatPath:!1},l)})),[d,l,s,o]);"string"===typeof i&&(i=y(i));let{pathname:h="/",search:f="",hash:g="",state:m=null,key:v="default"}=i,b=e.useMemo((()=>{let e=L(h,d);return null==e?null:{location:{pathname:e,search:f,hash:g,state:m,key:v},navigationType:a}}),[d,h,f,g,m,v,a]);return null==b?null:e.createElement(J.Provider,{value:u},e.createElement($.Provider,{children:r,value:b}))}function _e(e){let{children:t,location:n}=e;return oe(Se(t),n)}new Promise((()=>{}));e.Component;function Se(t,n){void 0===n&&(n=[]);let r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let a=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,Se(t.props.children,a));t.type!==we&&p(!1),t.props.index&&t.props.children&&p(!1);let s={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=Se(t.props.children,a)),r.push(s)})),r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(OG){}new Map;const Ce=t.startTransition;u.flushSync,t.useId;function Ae(t){let{basename:n,children:r,future:i,window:a}=t,s=e.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),x((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=y(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),v("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:b(t))}),(function(e,t){g("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),o)));let l=s.current,[c,d]=e.useState({action:l.action,location:l.location}),{v7_startTransition:u}=i||{},h=e.useCallback((e=>{u&&Ce?Ce((()=>d(e))):d(e)}),[d,u]);return e.useLayoutEffect((()=>l.listen(h)),[l,h]),e.createElement(ke,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Pe,Ee;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ee||(Ee={}));const Te=__webpack_require__.p+"static/media/Courseta_Logo.5483926c7849651443f7.png",Ne=!1,Ie=!1,Me="${JSCORE_VERSION}",Fe=function(e,t){if(!e)throw Re(t)},Re=function(e){return new Error("Firebase Database ("+Me+") INTERNAL ASSERT FAILED: "+e)},je=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,d=(3&t)<<4|s>>4;let u=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(u=64)),r.push(n[c],n[d],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(je(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new De;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(e){const t=je(e);return Le.encodeByteArray(t,!0)},ze=function(e){return Oe(e).replace(/\./g,"")},Ge=function(e){try{return Le.decodeString(e,!0)}catch(OG){console.error("base64Decode failed: ",OG)}return null};function Be(e){return Ue(void 0,e)}function Ue(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ue(e[n],t[n]));return e}const We=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,He=()=>{try{return We()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(OG){return}const t=e&&Ge(e[1]);return t&&JSON.parse(t)})()}catch(OG){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(OG))}},Ve=e=>{var t,n;return null===(n=null===(t=He())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ye=e=>{const t=Ve(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Xe=()=>{var e;return null===(e=He())||void 0===e?void 0:e.config},qe=e=>{var t;return null===(t=He())||void 0===t?void 0:t["_".concat(e)]};class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Qe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(a)),""].join(".")}function Je(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $e(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Ze(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function et(){return!0===Ne||!0===Ie}function tt(){return!function(){var e;const t=null===(e=He())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch(OG){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nt(){try{return"object"===typeof indexedDB}catch(OG){return!1}}class rt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(at,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new rt(n,a,t)}}const at=/\{\$([^}]+)}/g;function st(e){return JSON.parse(e)}function ot(e){return JSON.stringify(e)}const lt=function(e){let t={},n={},r={},i="";try{const a=e.split(".");t=st(Ge(a[0])||""),n=st(Ge(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(OG){}return{header:t,claims:n,data:r,signature:i}};function ct(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ut(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ht(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ft(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(pt(n)&&pt(a)){if(!ft(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pt(e){return null!==e&&"object"===typeof e}function gt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function mt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function vt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class bt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let d=0;d<16;d++)n[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)n[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const e=n[d-3]^n[d-8]^n[d-14]^n[d-16];n[d]=4294967295&(e<<1|e>>>31)}let r,i,a=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(r=l^s&(o^l),i=1518500249):(r=s^o^l,i=1859775393):d<60?(r=s&o|l&(s|o),i=2400959708):(r=s^o^l,i=3395469782);const e=(a<<5|a>>>27)+r+c+i+n[d]&4294967295;c=l,l=o,o=4294967295&(s<<30|s>>>2),s=a,a=e}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let a=this.inbuf_;for(;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++a,++r,a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class yt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=xt),void 0===r.error&&(r.error=xt),void 0===r.complete&&(r.complete=xt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(OG){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(OG){"undefined"!==typeof console&&console.error&&console.error(OG)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function xt(){}function wt(e,t){return"".concat(e," failed: ").concat(t," argument ")}const kt=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function _t(e){return e&&e._delegate?e._delegate:e}class St{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ct="[DEFAULT]";class At{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ke;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(OG){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(OG){if(r)return null;throw OG}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ct})}catch(OG){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(OG){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ct?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;return this.component?this.component.multipleInstances?e:Ct:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new At(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Et=[];var Tt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Tt||(Tt={}));const Nt={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},It=Tt.INFO,Mt={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},Ft=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Mt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class Rt{constructor(e){this.name=e,this._logLevel=It,this._logHandler=Ft,this._userLogHandler=null,Et.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Nt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...t),this._logHandler(this,Tt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...t),this._logHandler(this,Tt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...t),this._logHandler(this,Tt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...t),this._logHandler(this,Tt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...t),this._logHandler(this,Tt.ERROR,...t)}}const jt=(e,t)=>t.some((t=>e instanceof t));let Lt,Dt;const Ot=new WeakMap,zt=new WeakMap,Gt=new WeakMap,Bt=new WeakMap,Ut=new WeakMap;let Wt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return zt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Gt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ht(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dt||(Dt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Xt(this),n),Yt(Ot.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yt(e.apply(Xt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(Xt(this),t,...r);return Gt.set(a,t.sort?t.sort():[t]),Yt(a)}}function Vt(e){return"function"===typeof e?Ht(e):(e instanceof IDBTransaction&&function(e){if(zt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));zt.set(e,t)}(e),jt(e,Lt||(Lt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Wt):e)}function Yt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Yt(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&Ot.set(t,e)})).catch((()=>{})),Ut.set(t,e),t}(e);if(Bt.has(e))return Bt.get(e);const t=Vt(e);return t!==e&&(Bt.set(e,t),Ut.set(t,e)),t}const Xt=e=>Ut.get(e);const qt=["get","getKey","getAll","getAllKeys","count"],Kt=["put","add","delete","clear"],Qt=new Map;function Jt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Qt.get(t))return Qt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Kt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!qt.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return Qt.set(t,a),a}Wt=(e=>({...e,get:(t,n,r)=>Jt(t,n)||e.get(t,n,r),has:(t,n)=>!!Jt(t,n)||e.has(t,n)}))(Wt);class $t{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Zt="@firebase/app",en="0.9.27",tn=new Rt("@firebase/app"),nn="[DEFAULT]",rn={[Zt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,sn=new Map;function on(e,t){try{e.container.addComponent(t)}catch(OG){tn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),OG)}}function ln(e){const t=e.name;if(sn.has(t))return tn.debug("There were multiple attempts to register component ".concat(t,".")),!1;sn.set(t,e);for(const n of an.values())on(n,e);return!0}function cn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const dn=new it("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class un{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new St("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}const hn="10.8.0";function fn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:nn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw dn.create("bad-app-name",{appName:String(i)});if(n||(n=Xe()),!n)throw dn.create("no-options");const a=an.get(i);if(a){if(ft(n,a.options)&&ft(r,a.config))return a;throw dn.create("duplicate-app",{appName:i})}const s=new Pt(i);for(const l of sn.values())s.addComponent(l);const o=new un(n,r,s);return an.set(i,o),o}function pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;const t=an.get(e);if(!t&&e===nn&&Xe())return fn();if(!t)throw dn.create("no-app",{appName:e});return t}function gn(e,t,n){var r;let i=null!==(r=rn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void tn.warn(e.join(" "))}ln(new St("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const mn="firebase-heartbeat-database",vn=1,bn="firebase-heartbeat-store";let yn=null;function xn(){return yn||(yn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=Yt(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Yt(s.result),e.oldVersion,e.newVersion,Yt(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(mn,vn,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(bn)}catch(OG){console.warn(OG)}}}).catch((e=>{throw dn.create("idb-open",{originalErrorMessage:e.message})}))),yn}async function wn(e,t){try{const n=(await xn()).transaction(bn,"readwrite"),r=n.objectStore(bn);await r.put(t,kn(e)),await n.done}catch(OG){if(OG instanceof rt)tn.warn(OG.message);else{const t=dn.create("idb-set",{originalErrorMessage:null===OG||void 0===OG?void 0:OG.message});tn.warn(t.message)}}}function kn(e){return"".concat(e.name,"!").concat(e.options.appId)}class _n{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Cn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Sn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),An(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),An(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ze(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Sn(){return(new Date).toISOString().substring(0,10)}class Cn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!nt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Zb){t(Zb)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await xn()).transaction(bn),n=await t.objectStore(bn).get(kn(e));return await t.done,n}catch(OG){if(OG instanceof rt)tn.warn(OG.message);else{const t=dn.create("idb-get",{originalErrorMessage:null===OG||void 0===OG?void 0:OG.message});tn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function An(e){return ze(JSON.stringify({version:2,heartbeats:e})).length}var Pn;Pn="",ln(new St("platform-logger",(e=>new $t(e)),"PRIVATE")),ln(new St("heartbeat",(e=>new _n(e)),"PRIVATE")),gn(Zt,en,Pn),gn(Zt,en,"esm2017"),gn("fire-js","");gn("firebase","10.8.0","app");var En=__webpack_require__(6326);function Tn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nn=Tn,In=new it("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mn=new Rt("@firebase/auth");function Fn(e){if(Mn.logLevel<=Tt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mn.error("Auth (".concat(hn,"): ").concat(e),...n)}}function Rn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Dn(e,...n)}function jn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Dn(e,...n)}function Ln(e,t,n){const r=Object.assign(Object.assign({},Nn()),{[t]:n});return new it("auth","Firebase",r).create(t,{appName:e.name})}function Dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return In.create(e,...n)}function On(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Dn(t,...r)}}function zn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Fn(t),new Error(t)}function Gn(e,t){e||zn(t)}function Bn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Un(){return"http:"===Wn()||"https:"===Wn()}function Wn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Hn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Un()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Vn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gn(t>e,"Short delay should be less than long delay!"),this.isMobile=$e()||Ze()}get(){return Hn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yn(e,t){Gn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Xn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Kn=new Vn(3e4,6e4);function Qn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Jn(e,t,n,r){return $n(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=gt(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Xn.fetch()(er(e,e.config.apiHost,n,s),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function $n(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},qn),t);try{const t=new nr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw rr(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw rr(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw rr(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw rr(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Ln(e,o,s);Rn(e,o)}}catch(OG){if(OG instanceof rt)throw OG;Rn(e,"network-request-failed",{message:String(OG)})}}async function Zn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Jn(e,t,n,r,i);return"mfaPendingCredential"in a&&Rn(e,"multi-factor-auth-required",{_serverResponse:a}),a}function er(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Yn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function tr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(jn(this.auth,"network-request-failed"))),Kn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function rr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jn(e,t,r);return i.customData._tokenResponse=n,i}function ir(e){return void 0!==e&&void 0!==e.enterprise}class ar{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function sr(e,t){return Jn(e,"GET","/v2/recaptchaConfig",Qn(e,t))}function or(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(OG){}}function lr(e){return 1e3*Number(e)}function cr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Fn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ge(n);return e?JSON.parse(e):(Fn("Failed to decode base64 JWT payload"),null)}catch(OG){return Fn("Caught error parsing JWT payload as JSON",null===OG||void 0===OG?void 0:OG.toString()),null}}async function dr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(OG){throw OG instanceof rt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(OG)&&e.auth.currentUser===e&&await e.auth.signOut(),OG}}class ur{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(OG){return void((null===OG||void 0===OG?void 0:OG.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class hr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=or(this.lastLoginAt),this.creationTime=or(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await dr(e,async function(e,t){return Jn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));On(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?function(e){return e.map((e=>{var{providerId:t}=e,n=(0,En.Tt)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}(a.providerUserInfo):[],o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!l&&c,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new hr(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(e,u)}class pr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){On(e.idToken,"internal-error"),On("undefined"!==typeof e.idToken,"internal-error"),On("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=cr(e);return On(t,"internal-error"),On("undefined"!==typeof t.exp,"internal-error"),On("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return On(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await $n(e,{},(async()=>{const n=gt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=er(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Xn.fetch()(a,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new pr;return n&&(On("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(On("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(On("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pr,this.toJSON())}_performRefresh(){return zn("not implemented")}}function gr(e,t){On("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class mr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,En.Tt)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await dr(this,this.stsTokenManager.getToken(this.auth,e));return On(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=_t(e),r=await n.getIdToken(t),i=cr(r);On(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:or(lr(i.auth_time)),issuedAtTime:or(lr(i.iat)),expirationTime:or(lr(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=_t(e);await fr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(On(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){On(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await fr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await dr(this,async function(e,t){return Jn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,c;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:y,isAnonymous:x,providerData:w,stsTokenManager:k}=t;On(b&&k,e,"internal-error");const _=pr.fromJSON(this.name,k);On("string"===typeof b,e,"internal-error"),gr(d,e.name),gr(u,e.name),On("boolean"===typeof y,e,"internal-error"),On("boolean"===typeof x,e,"internal-error"),gr(h,e.name),gr(f,e.name),gr(p,e.name),gr(g,e.name),gr(m,e.name),gr(v,e.name);const S=new mr({uid:b,auth:e,email:u,emailVerified:y,displayName:d,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map((e=>Object.assign({},e)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new pr;r.updateFromServerResponse(t);const i=new mr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await fr(i),i}}const vr=new Map;function br(e){Gn(e instanceof Function,"Expected a class definition");let t=vr.get(e);return t?(Gn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vr.set(e,t),t)}class yr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yr.type="NONE";const xr=yr;function wr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class kr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=wr(this.userKey,r.apiKey,i),this.fullPersistenceKey=wr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new kr(br(xr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||br(xr);const a=wr(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){const n=mr._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(l){}}))),new kr(i,e,n)):new kr(i,e,n)}}function _r(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Sr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Tr(t))return"Blackberry";if(Nr(t))return"Webos";if(Cr(t))return"Safari";if((t.includes("chrome/")||Ar(t))&&!t.includes("edge/"))return"Chrome";if(Er(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/firefox\//i.test(e)}function Cr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/crios\//i.test(e)}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/iemobile/i.test(e)}function Er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/android/i.test(e)}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/blackberry/i.test(e)}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/webos/i.test(e)}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Mr(){return function(){const e=Je();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return Ir(e)||Er(e)||Nr(e)||Tr(e)||/windows phone/i.test(e)||Pr(e)}function Rr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_r(Je());break;case"Worker":t="".concat(_r(Je()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(hn,"/").concat(r)}class jr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(OG){r(OG)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(OG){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===OG||void 0===OG?void 0:OG.message})}}}class Lr{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Dr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zr(this),this.idTokenSubscription=new zr(this),this.beforeStateQueue=new jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=In,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=br(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await kr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(OG){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==a||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(OG){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(OG)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return On(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(OG){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fr(e)}catch(OG){if((null===OG||void 0===OG?void 0:OG.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?_t(e):null;return t&&On(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&On(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(br(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Jn(e,"GET","/v2/passwordPolicy",Qn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Lr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new it("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Jn(e,"POST","/v2/accounts:revokeToken",Qn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&br(e)||this._popupRedirectResolver;On(t,this,"argument-error"),this.redirectPersistenceManager=await kr.create(this,[br(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(On(s,this,"internal-error"),s.then((()=>{a||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return On(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Mn.logLevel<=Tt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mn.warn("Auth (".concat(hn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Or(e){return _t(e)}class zr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new yt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return On(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Br(e){return Gr.loadJS(e)}function Ur(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Wr{constructor(e){this.type="recaptcha-enterprise",this.auth=Or(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;ir(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{sr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ar(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&ir(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Gr.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Br(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Hr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Wr(e);let a;try{a=await i.verify(n)}catch(Zb){a=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Vr(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Hr(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Hr(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Yr(e,t,n){const r=Or(e);On(r._canInitEmulator,r,"emulator-config-failed"),On(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Xr(t),{host:s,port:o}=function(e){const t=Xr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:qr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:qr(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Kr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,t){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}async function Qr(e,t){return Jn(e,"POST","/v1/accounts:signUp",t)}async function Jr(e,t){return Zn(e,"POST","/v1/accounts:signInWithPassword",Qn(e,t))}async function $r(e,t){return Jn(e,"POST","/v1/accounts:sendOobCode",Qn(e,t))}async function Zr(e,t){return $r(e,t)}async function ei(e,t){return $r(e,t)}class ti extends Kr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ti(e,t,"password")}static _fromEmailAndCode(e,t){return new ti(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Vr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Jr);case"emailLink":return async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithEmailLink",Qn(e,t))}(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Vr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qr);case"emailLink":return async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithEmailLink",Qn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ni(e,t){return Zn(e,"POST","/v1/accounts:signInWithIdp",Qn(e,t))}class ri extends Kr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ri(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,En.Tt)(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new ri(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return ni(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ni(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ni(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gt(t)}return e}}const ii={USER_NOT_FOUND:"user-not-found"};class ai extends Kr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ai({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ai({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithPhoneNumber",Qn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Zn(e,"POST","/v1/accounts:signInWithPhoneNumber",Qn(e,t));if(n.temporaryProof)throw rr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Zn(e,"POST","/v1/accounts:signInWithPhoneNumber",Qn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ii)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ai({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class si{constructor(e){var t,n,r,i,a,s;const o=mt(vt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);On(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=mt(vt(e)).link,n=t?mt(vt(t)).deep_link_id:null,r=mt(vt(e)).deep_link_id;return(r?mt(vt(r)).link:null)||r||n||t||e}(e);try{return new si(t)}catch(n){return null}}}class oi{constructor(){this.providerId=oi.PROVIDER_ID}static credential(e,t){return ti._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=si.parseLink(t);return On(n,"argument-error"),ti._fromEmailAndCode(e,n.code,n.tenantId)}}oi.PROVIDER_ID="password",oi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class li{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ci extends li{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class di extends ci{constructor(){super("facebook.com")}static credential(e){return ri._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return di.credential(t.oauthAccessToken)}catch(n){return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com",di.PROVIDER_ID="facebook.com";class ui extends ci{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ri._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ui.credential(n,r)}catch(i){return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com",ui.PROVIDER_ID="google.com";class hi extends ci{constructor(){super("github.com")}static credential(e){return ri._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return hi.credential(t.oauthAccessToken)}catch(n){return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com",hi.PROVIDER_ID="github.com";class fi extends ci{constructor(){super("twitter.com")}static credential(e,t){return ri._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fi.credential(n,r)}catch(i){return null}}}async function pi(e,t){return Zn(e,"POST","/v1/accounts:signUp",Qn(e,t))}fi.TWITTER_SIGN_IN_METHOD="twitter.com",fi.PROVIDER_ID="twitter.com";class gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await mr._fromIdTokenResponse(e,n,r),a=mi(n);return new gi({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=mi(n);return new gi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function mi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vi extends rt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vi(e,t,n,r)}}function bi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw vi._fromErrorAndOperation(e,n,t,r);throw n}))}async function yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await dr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gi._forOperation(e,"link",r)}async function xi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const a=await dr(e,bi(r,i,t,e),n);On(a.idToken,r,"internal-error");const s=cr(a.idToken);On(s,r,"internal-error");const{sub:o}=s;return On(e.uid===o,r,"user-mismatch"),gi._forOperation(e,i,a)}catch(OG){throw(null===OG||void 0===OG?void 0:OG.code)==="auth/".concat("user-not-found")&&Rn(r,"user-mismatch"),OG}}async function wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await bi(e,r,t),a=await gi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function ki(e,t){return wi(Or(e),t)}async function _i(e,t){return xi(_t(e),t)}function Si(e,t,n){var r;On((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),On("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(On(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(On(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ci(e){const t=Or(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ai(e,t,n){const r=Or(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){On(t.handleCodeInApp,r,"argument-error"),t&&Si(r,e,t)}(i,n),await Vr(r,i,"getOobCode",ei)}async function Pi(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const a=await dr(e,async function(e,t){return Jn(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(a,!0)}new WeakMap;const Ei="__sak";class Ti{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ei,"1"),this.storage.removeItem(Ei),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ni extends Ti{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Je();return Cr(e)||Ir(e)}()&&function(){try{return!(!window||window===window.top)}catch(OG){return!1}}(),this.fallbackToPolling=Fr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Mr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ni.type="LOCAL";const Ii=Ni;class Mi extends Ti{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Mi.type="SESSION";const Fi=Mi;class Ri{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ri(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ri.receivers=[];class Li{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((s,o)=>{const l=ji("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function Di(){return window}function Oi(){return"undefined"!==typeof Di().WorkerGlobalScope&&"function"===typeof Di().importScripts}const zi="firebaseLocalStorageDb",Gi="firebaseLocalStorage",Bi="fbase_key";class Ui{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Wi(e,t){return e.transaction([Gi],t?"readwrite":"readonly").objectStore(Gi)}function Hi(){const e=indexedDB.open(zi,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Gi,{keyPath:Bi})}catch(OG){n(OG)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Gi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(zi);return new Ui(e).toPromise()}(),t(await Hi()))}))}))}async function Vi(e,t,n){const r=Wi(e,!0).put({[Bi]:t,value:n});return new Ui(r).toPromise()}function Yi(e,t){const n=Wi(e,!0).delete(t);return new Ui(n).toPromise()}class Xi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Hi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(OG){if(t++>3)throw OG;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Oi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ri._getInstance(Oi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Li(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hi();return await Vi(e,Ei,"1"),await Yi(e,Ei),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Vi(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Wi(e,!1).get(t),r=await new Ui(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Yi(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Wi(e,!1).getAll();return new Ui(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Xi.type="LOCAL";const qi=Xi;Ur("rcb"),new Vn(3e4,6e4);const Ki="recaptcha";async function Qi(e,t,n){var r;const i=await n.verify();try{let a;if(On("string"===typeof i,e,"argument-error"),On(n.type===Ki,e,"argument-error"),a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){On("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Jn(e,"POST","/v2/accounts/mfaEnrollment:start",Qn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{On("signin"===t.type,e,"internal-error");const n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;On(n,e,"missing-multi-factor-info");const s=await function(e,t){return Jn(e,"POST","/v2/accounts/mfaSignIn:start",Qn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Jn(e,"POST","/v1/accounts:sendVerificationCode",Qn(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ji{constructor(e){this.providerId=Ji.PROVIDER_ID,this.auth=Or(e)}verifyPhoneNumber(e,t){return Qi(this.auth,e,_t(t))}static credential(e,t){return ai._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ji.credentialFromTaggedObject(t)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ai._fromTokenResponse(n,r):null}}function $i(e,t){return t?br(t):(On(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ji.PROVIDER_ID="phone",Ji.PHONE_SIGN_IN_METHOD="phone";class Zi extends Kr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ni(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ni(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ea(e){return wi(e.auth,new Zi(e),e.bypassAuthState)}function ta(e){const{auth:t,user:n}=e;return On(n,t,"internal-error"),xi(n,new Zi(e),e.bypassAuthState)}async function na(e){const{auth:t,user:n}=e;return On(n,t,"internal-error"),yi(n,new Zi(e),e.bypassAuthState)}class ra{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(OG){this.reject(OG)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(OG){this.reject(OG)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ea;case"linkViaPopup":case"linkViaRedirect":return na;case"reauthViaPopup":case"reauthViaRedirect":return ta;default:Rn(this.auth,"internal-error")}}resolve(e){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ia=new Vn(2e3,1e4);class aa extends ra{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return On(e,this.auth,"internal-error"),e}async onExecution(){Gn(1===this.filter.length,"Popup operations only handle one event");const e=ji();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(jn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ia.get())};e()}}aa.currentPopupAction=null;const sa="pendingRedirect",oa=new Map;class la extends ra{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=oa.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ua(t),r=da(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(OG){e=()=>Promise.reject(OG)}oa.set(this.auth._key(),e)}return this.bypassAuthState||oa.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ca(e,t){oa.set(e._key(),t)}function da(e){return br(e._redirectPersistence)}function ua(e){return wr(sa,e.config.apiKey,e.name)}async function ha(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Or(e),i=$i(r,t),a=new la(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class fa{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ga(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ga(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(jn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pa(e))}saveEventToCache(e){this.cachedEventUids.add(pa(e)),this.lastProcessedEventTime=Date.now()}}function pa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ga(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const ma=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,va=/^https?/;async function ba(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Jn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ya(r))return}catch(n){}Rn(e,"unauthorized-domain")}function ya(e){const t=Bn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!va.test(n))return!1;if(ma.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const xa=new Vn(3e4,6e4);function wa(){const e=Di().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ka(e){return new Promise(((t,n)=>{var r,i,a;function s(){wa(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wa(),n(jn(e,"network-request-failed"))},timeout:xa.get()})}if(null===(i=null===(r=Di().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Di().gapi)||void 0===a?void 0:a.load)){const t=Ur("iframefcb");return Di()[t]=()=>{gapi.load?s():n(jn(e,"network-request-failed"))},Br("".concat(Gr.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw _a=null,e}))}let _a=null;const Sa=new Vn(5e3,15e3),Ca="__/auth/iframe",Aa="emulator/auth/iframe",Pa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ea=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ta(e){const t=e.config;On(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Yn(t,Aa):"https://".concat(e.config.authDomain,"/").concat(Ca),r={apiKey:t.apiKey,appName:e.name,v:hn},i=Ea.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(gt(r).slice(1))}async function Na(e){const t=await function(e){return _a=_a||ka(e),_a}(e),n=Di().gapi;return On(n,e,"internal-error"),t.open({where:document.body,url:Ta(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pa,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=jn(e,"network-request-failed"),a=Di().setTimeout((()=>{r(i)}),Sa.get());function s(){Di().clearTimeout(a),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Ia={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ma{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(OG){}}}function Fa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Ia),{width:r.toString(),height:i.toString(),top:a,left:s}),c=Je().toLowerCase();n&&(o=Ar(c)?"_blank":n),Sr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Ir(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ma(null);const u=window.open(t||"",o,d);On(u,e,"popup-blocked");try{u.focus()}catch(OG){}return new Ma(u)}const Ra="__/auth/handler",ja="emulator/auth/handler",La=encodeURIComponent("fac");async function Da(e,t,n,r,i,a){On(e.config.authDomain,e,"auth-domain-config-required"),On(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:hn,eventId:i};if(t instanceof li){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",ut(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof ci){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const d of Object.keys(o))void 0===o[d]&&delete o[d];const l=await e._getAppCheckToken(),c=l?"#".concat(La,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ra);return Yn(t,ja)}(e),"?").concat(gt(o).slice(1)).concat(c)}const Oa="webStorageSupport";const za=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fi,this._completeRedirectFn=ha,this._overrideRedirectResult=ca}async _openPopup(e,t,n,r){var i;Gn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Fa(e,await Da(e,t,n,Bn(),r),ji())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Di().location.href=e}(await Da(e,t,n,Bn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Gn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Na(e),n=new fa(e);return t.register("authEvent",(t=>{On(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Oa,{type:Oa},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Oa];void 0!==i&&t(!!i),Rn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ba(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fr()||Cr()||Ir()}};var Ga="@firebase/auth",Ba="1.6.0";class Ua{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){On(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wa=qe("authIdTokenMaxAge")||300;let Ha=null;var Va;!function(e){Gr=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=jn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Va="Browser",ln(new St("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;On(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:Va,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rr(Va)},c=new Dr(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(br);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ln(new St("auth-internal",(e=>(e=>new Ua(e))(Or(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),gn(Ga,Ba,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Va)),gn(Ga,Ba,"esm2017");var Ya,Xa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},qa={},Ka=Ka||{},Qa=Xa||self;function Ja(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function $a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Za="closure_uid_"+(1e9*Math.random()>>>0),es=0;function ts(e,t,n){return e.call.apply(e.bind,arguments)}function ns(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function rs(e,t,n){return(rs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ts:ns).apply(null,arguments)}function is(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function as(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ss(){this.s=this.s,this.o=this.o}ss.prototype.s=!1,ss.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Za)&&e[Za]||(e[Za]=++es)}(this)},ss.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const os=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ls(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function cs(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Ja(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ds(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ds.prototype.h=function(){this.defaultPrevented=!0};var us=function(){if(!Qa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Qa.addEventListener("test",e,t),Qa.removeEventListener("test",e,t)}catch(gP){}return e}();function hs(e){return/^[\s\xa0]*$/.test(e)}function fs(){var e=Qa.navigator;return e&&(e=e.userAgent)?e:""}function ps(e){return-1!=fs().indexOf(e)}function gs(e){return gs[" "](e),e}gs[" "]=function(){};var ms,vs,bs=ps("Opera"),ys=ps("Trident")||ps("MSIE"),xs=ps("Edge"),ws=xs||ys,ks=ps("Gecko")&&!(-1!=fs().toLowerCase().indexOf("webkit")&&!ps("Edge"))&&!(ps("Trident")||ps("MSIE"))&&!ps("Edge"),_s=-1!=fs().toLowerCase().indexOf("webkit")&&!ps("Edge");function Ss(){var e=Qa.document;return e?e.documentMode:void 0}e:{var Cs="",As=function(){var e=fs();return ks?/rv:([^\);]+)(\)|;)/.exec(e):xs?/Edge\/([\d\.]+)/.exec(e):ys?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):_s?/WebKit\/(\S+)/.exec(e):bs?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(As&&(Cs=As?As[1]:""),ys){var Ps=Ss();if(null!=Ps&&Ps>parseFloat(Cs)){ms=String(Ps);break e}}ms=Cs}if(Qa.document&&ys){var Es=Ss();vs=Es||(parseInt(ms,10)||void 0)}else vs=void 0;var Ts=vs;function Ns(e,t){if(ds.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ks){e:{try{gs(t.nodeName);var i=!0;break e}catch(Ez){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Is[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ns.$.h.call(this)}}as(Ns,ds);var Is={2:"touch",3:"pen",4:"mouse"};Ns.prototype.h=function(){Ns.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ms="closure_listenable_"+(1e6*Math.random()|0),Fs=0;function Rs(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Fs,this.fa=this.ia=!1}function js(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ls(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ds(e){const t={};for(const n in e)t[n]=e[n];return t}const Os="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zs(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Os.length;t++)n=Os[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Gs(e){this.src=e,this.g={},this.h=0}function Bs(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=os(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(js(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Us(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Gs.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=Us(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Rs(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Ws="closure_lm_"+(1e6*Math.random()|0),Hs={};function Vs(e,t,n,r,i){if(r&&r.once)return Xs(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Vs(e,t[a],n,r,i);return null}return n=eo(n),e&&e[Ms]?e.O(t,n,$a(r)?!!r.capture:!!r,i):Ys(e,t,n,!1,r,i)}function Ys(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=$a(i)?!!i.capture:!!i,o=$s(e);if(o||(e[Ws]=o=new Gs(e)),(n=o.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Js;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)us||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Qs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xs(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Xs(e,t[a],n,r,i);return null}return n=eo(n),e&&e[Ms]?e.P(t,n,$a(r)?!!r.capture:!!r,i):Ys(e,t,n,!0,r,i)}function qs(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)qs(e,t[a],n,r,i);else r=$a(r)?!!r.capture:!!r,n=eo(n),e&&e[Ms]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Us(a=e.g[t],n,r,i))&&(js(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=$s(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Us(t,n,r,i)),(n=-1<e?t[e]:null)&&Ks(n))}function Ks(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ms])Bs(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Qs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$s(t))?(Bs(n,e),0==n.h&&(n.src=null,t[Ws]=null)):js(e)}}}function Qs(e){return e in Hs?Hs[e]:Hs[e]="on"+e}function Js(e,t){if(e.fa)e=!0;else{t=new Ns(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ks(e),e=n.call(r,t)}return e}function $s(e){return(e=e[Ws])instanceof Gs?e:null}var Zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(e){return"function"===typeof e?e:(e[Zs]||(e[Zs]=function(t){return e.handleEvent(t)}),e[Zs])}function to(){ss.call(this),this.i=new Gs(this),this.S=this,this.J=null}function no(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ds(t,e);else if(t instanceof ds)t.target=t.target||e;else{var i=t;zs(t=new ds(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=ro(s,r,!0,t)&&i}if(i=ro(s=t.g=e,r,!0,t)&&i,i=ro(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ro(s=t.g=n[a],r,!1,t)&&i}function ro(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.fa&&s.capture==n){var o=s.listener,l=s.la||s.src;s.ia&&Bs(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}as(to,ss),to.prototype[Ms]=!0,to.prototype.removeEventListener=function(e,t,n,r){qs(this,e,t,n,r)},to.prototype.N=function(){if(to.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)js(n[r]);delete t.g[e],t.h--}}this.J=null},to.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},to.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var io=Qa.JSON.stringify;function ao(){var e=fo;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var so=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new oo),(e=>e.reset()));class oo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function lo(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function co(e){Qa.setTimeout((()=>{throw e}),0)}let uo,ho=!1,fo=new class{constructor(){this.h=this.g=null}add(e,t){const n=so.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},po=()=>{const e=Qa.Promise.resolve(void 0);uo=()=>{e.then(go)}};var go=()=>{for(var e;e=ao();){try{e.h.call(e.g)}catch(gP){co(gP)}var t=so;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ho=!1};function mo(e,t){to.call(this),this.h=e||1,this.g=t||Qa,this.j=rs(this.qb,this),this.l=Date.now()}function vo(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function bo(e,t,n){if("function"===typeof e)n&&(e=rs(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=rs(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qa.setTimeout(e,t||0)}function yo(e){e.g=bo((()=>{e.g=null,e.i&&(e.i=!1,yo(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}as(mo,to),(Ya=mo.prototype).ga=!1,Ya.T=null,Ya.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),no(this,"tick"),this.ga&&(vo(this),this.start()))}},Ya.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ya.N=function(){mo.$.N.call(this),vo(this),delete this.g};class xo extends ss{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(Qa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wo(e){ss.call(this),this.h=e,this.g={}}as(wo,ss);var ko=[];function _o(e,t,n,r){Array.isArray(n)||(n&&(ko[0]=n.toString()),n=ko);for(var i=0;i<n.length;i++){var a=Vs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function So(e){Ls(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ks(e)}),e),e.g={}}function Co(){this.g=!0}function Ao(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return io(n)}catch(dP){return t}}(e,n)+(r?" "+r:"")}))}wo.prototype.N=function(){wo.$.N.call(this),So(this)},wo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Co.prototype.Ea=function(){this.g=!1},Co.prototype.info=function(){};var Po={},Eo=null;function To(){return Eo=Eo||new to}function No(e){ds.call(this,Po.Ta,e)}function Io(e){const t=To();no(t,new No(t))}function Mo(e,t){ds.call(this,Po.STAT_EVENT,e),this.stat=t}function Fo(e){const t=To();no(t,new Mo(t,e))}function Ro(e,t){ds.call(this,Po.Ua,e),this.size=t}function jo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Qa.setTimeout((function(){e()}),t)}Po.Ta="serverreachability",as(No,ds),Po.STAT_EVENT="statevent",as(Mo,ds),Po.Ua="timingevent",as(Ro,ds);var Lo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Do={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Oo(){}function zo(e){return e.h||(e.h=e.i())}function Go(){}Oo.prototype.h=null;var Bo,Uo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wo(){ds.call(this,"d")}function Ho(){ds.call(this,"c")}function Vo(){}function Yo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new wo(this),this.P=qo,e=ws?125:void 0,this.V=new mo(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xo}function Xo(){this.i=null,this.g="",this.h=!1}as(Wo,ds),as(Ho,ds),as(Vo,Oo),Vo.prototype.g=function(){return new XMLHttpRequest},Vo.prototype.i=function(){return{}},Bo=new Vo;var qo=45e3,Ko={},Qo={};function Jo(e,t,n){e.L=1,e.A=ml(ul(t)),e.u=n,e.S=!0,$o(e,null)}function $o(e,t){e.G=Date.now(),nl(e),e.B=ul(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Tl(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Xo,e.g=Tc(e.l,n?t:null,!e.u),0<e.O&&(e.M=new xo(rs(e.Pa,e,e.g),e.O)),_o(e.U,e.g,"readystatechange",e.nb),t=e.I?Ds(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Io(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var d=c[0];c=c[1];var u=d.split("_");s=2<=u.length&&"type"==u[1]?s+(d+"=")+c+"&":s+(d+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Zo(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function el(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=tl(e,n),r==Qo){4==t&&(e.s=4,Fo(14),i=!1),Ao(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ko){e.s=4,Fo(15),Ao(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ao(e.j,e.m,r,null),ol(e,r)}Zo(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Fo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),wc(t),t.M=!0,Fo(11))):(Ao(e.j,e.m,n,"[Invalid Chunked Response]"),sl(e),al(e))}function tl(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Qo:(n=Number(t.substring(n,r)),isNaN(n)?Ko:(r+=1)+n>t.length?Qo:(t=t.slice(r,r+n),e.o=r+n,t))}function nl(e){e.Y=Date.now()+e.P,rl(e,e.P)}function rl(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=jo(rs(e.lb,e),t)}function il(e){e.C&&(Qa.clearTimeout(e.C),e.C=null)}function al(e){0==e.l.H||e.J||Sc(e.l,e)}function sl(e){il(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,vo(e.V),So(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ol(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ll(n.i,e)))if(!e.K&&Ll(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;_c(n),fc(n)}xc(n),Fo(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=jo(rs(n.ib,n),6e3));if(1>=jl(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Ac(n,11)}else if((e.K||n.g==e)&&_c(n),!hs(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const d=c[5];null!=d&&"number"===typeof d&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.i;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Dl(a,a.h),a.h=null))}if(r.F){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,gl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Ec(r,r.J?r.pa:null,r.Y),s.K){Ol(r.i,s);var o=s,l=r.L;l&&o.setTimeout(l),o.C&&(il(o),nl(o)),r.g=s}else yc(r);0<n.j.length&&gc(n)}else"stop"!=c[0]&&"close"!=c[0]||Ac(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ac(n,7):hc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Io()}catch(c){}}function ll(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ja(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ja(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ja(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ya=Yo.prototype).setTimeout=function(e){this.P=e},Ya.nb=function(e){e=e.target;const t=this.M;t&&3==sc(e)?t.l():this.Pa(e)},Ya.Pa=function(e){try{if(e==this.g)e:{const d=sc(this.g);var t=this.g.Ia();this.g.da();if(!(3>d)&&(3!=d||ws||this.g&&(this.h.h||this.g.ja()||oc(this.g)))){this.J||4!=d||7==t||Io(),il(this);var n=this.g.da();this.ca=n;t:if(Zo(this)){var r=oc(this.g);e="";var i=r.length,a=4==sc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){sl(this),al(this);var s="";break t}this.h.i=new Qa.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,a,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s}))}(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hs(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Fo(12),sl(this),al(this);break e}Ao(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ol(this,n)}this.S?(el(this,d,s),ws&&this.i&&3==d&&(_o(this.U,this.V,"tick",this.mb),this.V.start())):(Ao(this.j,this.m,s,null),ol(this,s)),4==d&&sl(this),this.i&&!this.J&&(4==d?Sc(this.l,this):(this.i=!1,nl(this)))}else(function(e){const t={};e=(e.g&&2<=sc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(hs(e[r]))continue;var n=lo(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Fo(12)):(this.s=0,Fo(13)),sl(this),al(this)}}}catch(Iz){}},Ya.mb=function(){if(this.g){var e=sc(this.g),t=this.g.ja();this.o<t.length&&(il(this),el(this,e,t),this.i&&4!=e&&nl(this))}},Ya.cancel=function(){this.J=!0,sl(this)},Ya.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Io(),Fo(17)),sl(this),this.s=2,al(this)):rl(this,this.Y-e)};var cl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof dl){this.h=e.h,hl(this,e.j),this.s=e.s,this.g=e.g,fl(this,e.m),this.l=e.l;var t=e.i,n=new Cl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),pl(this,n),this.o=e.o}else e&&(t=String(e).match(cl))?(this.h=!1,hl(this,t[1]||"",!0),this.s=vl(t[2]||""),this.g=vl(t[3]||"",!0),fl(this,t[4]),this.l=vl(t[5]||"",!0),pl(this,t[6]||"",!0),this.o=vl(t[7]||"")):(this.h=!1,this.i=new Cl(null,this.h))}function ul(e){return new dl(e)}function hl(e,t,n){e.j=n?vl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function fl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function pl(e,t,n){t instanceof Cl?(e.i=t,function(e,t){t&&!e.j&&(Al(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Pl(this,t),Tl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=bl(t,_l)),e.i=new Cl(t,e.h))}function gl(e,t,n){e.i.set(t,n)}function ml(e){return gl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bl(t,xl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(bl(t,xl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bl(n,"/"==n.charAt(0)?kl:wl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",bl(n,Sl)),e.join("")};var xl=/[#\/\?@]/g,wl=/[#\?:]/g,kl=/[#\?]/g,_l=/[#\?@]/g,Sl=/#/g;function Cl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Al(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Pl(e,t){Al(e),t=Nl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function El(e,t){return Al(e),t=Nl(e,t),e.g.has(t)}function Tl(e,t,n){Pl(e,t),0<n.length&&(e.i=null,e.g.set(Nl(e,t),ls(n)),e.h+=n.length)}function Nl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ya=Cl.prototype).add=function(e,t){Al(this),this.i=null,e=Nl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ya.forEach=function(e,t){Al(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ya.ta=function(){Al(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ya.Z=function(e){Al(this);let t=[];if("string"===typeof e)El(this,e)&&(t=t.concat(this.g.get(Nl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ya.set=function(e,t){return Al(this),this.i=null,El(this,e=Nl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ya.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ya.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Il=class{constructor(e,t){this.g=e,this.map=t}};function Ml(e){this.l=e||Fl,Qa.PerformanceNavigationTiming?e=0<(e=Qa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Qa.g&&Qa.g.Ka&&Qa.g.Ka()&&Qa.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Fl=10;function Rl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function jl(e){return e.h?1:e.g?e.g.size:0}function Ll(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Dl(e,t){e.g?e.g.add(t):e.h=t}function Ol(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function zl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ls(e.i)}Ml.prototype.cancel=function(){if(this.i=zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Gl=class{stringify(e){return Qa.JSON.stringify(e,void 0)}parse(e){return Qa.JSON.parse(e,void 0)}};function Bl(){this.g=new Gl}function Ul(e,t,n){const r=n||"";try{ll(e,(function(e,n){let i=e;$a(e)&&(i=io(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(OG){throw t.push(r+"type="+encodeURIComponent("_badmap")),OG}}function Wl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Ez){}}function Hl(e){this.l=e.ec||null,this.j=e.ob||!1}function Vl(e,t){to.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Yl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}as(Hl,Oo),Hl.prototype.g=function(){return new Vl(this.l,this.j)},Hl.prototype.i=function(e){return function(){return e}}({}),as(Vl,to);var Yl=0;function Xl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ql(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Kl(e)}function Kl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ya=Vl.prototype).open=function(e,t){if(this.readyState!=Yl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Kl(this)},Ya.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Qa).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ya.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ql(this)),this.readyState=Yl},Ya.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Kl(this)),this.g&&(this.readyState=3,Kl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Qa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ya.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ql(this):Kl(this),3==this.readyState&&Xl(this)}},Ya.Za=function(e){this.g&&(this.response=this.responseText=e,ql(this))},Ya.Ya=function(e){this.g&&(this.response=e,ql(this))},Ya.ka=function(){this.g&&ql(this)},Ya.setRequestHeader=function(e,t){this.v.append(e,t)},Ya.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ya.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ql=Qa.JSON.parse;function Jl(e){to.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$l,this.L=this.M=!1}as(Jl,to);var $l="",Zl=/^https?$/i,ec=["POST","PUT"];function tc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,nc(e),ic(e)}function nc(e){e.F||(e.F=!0,no(e,"complete"),no(e,"error"))}function rc(e){if(e.h&&"undefined"!=typeof Ka&&(!e.C[1]||4!=sc(e)||2!=e.da()))if(e.v&&4==sc(e))bo(e.La,0,e);else if(no(e,"readystatechange"),4==sc(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(cl)[1]||null;!i&&Qa.self&&Qa.self.location&&(i=Qa.self.location.protocol.slice(0,-1)),r=!Zl.test(i?i.toLowerCase():"")}n=r}if(n)no(e,"complete"),no(e,"success");else{e.m=6;try{var a=2<sc(e)?e.g.statusText:""}catch(dP){a=""}e.j=a+" ["+e.da()+"]",nc(e)}}finally{ic(e)}}}function ic(e,t){if(e.g){ac(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||no(e,"ready");try{n.onreadystatechange=r}catch(OG){}}}function ac(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Qa.clearTimeout(e.A),e.A=null)}function sc(e){return e.g?e.g.readyState:0}function oc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case $l:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function lc(e){let t="";return Ls(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function cc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gl(e,t,n))}function dc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function uc(e){this.Ga=0,this.j=[],this.l=new Co,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dc("baseRetryDelayMs",5e3,e),this.hb=dc("retryDelaySeedMs",1e4,e),this.eb=dc("forwardChannelMaxRetries",2,e),this.xa=dc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ml(e&&e.concurrentRequestLimit),this.Ja=new Bl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function hc(e){if(pc(e),3==e.H){var t=e.W++,n=ul(e.I);if(gl(n,"SID",e.K),gl(n,"RID",t),gl(n,"TYPE","terminate"),vc(e,n),(t=new Yo(e,e.l,t)).L=2,t.A=ml(ul(n)),n=!1,Qa.navigator&&Qa.navigator.sendBeacon)try{n=Qa.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Qa.Image&&((new Image).src=t.A,n=!0),n||(t.g=Tc(t.l,null),t.g.ha(t.A)),t.G=Date.now(),nl(t)}Pc(e)}function fc(e){e.g&&(wc(e),e.g.cancel(),e.g=null)}function pc(e){fc(e),e.u&&(Qa.clearTimeout(e.u),e.u=null),_c(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Qa.clearTimeout(e.m),e.m=null)}function gc(e){if(!Rl(e.i)&&!e.m){e.m=!0;var t=e.Na;uo||po(),ho||(uo(),ho=!0),fo.add(t,e),e.C=0}}function mc(e,t){var n;n=t?t.m:e.W++;const r=ul(e.I);gl(r,"SID",e.K),gl(r,"RID",n),gl(r,"AID",e.V),vc(e,r),e.o&&e.s&&cc(r,e.o,e.s),n=new Yo(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=bc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Dl(e.i,n),Jo(n,r,t)}function vc(e,t){e.na&&Ls(e.na,(function(e,n){gl(t,n,e)})),e.h&&ll({},(function(e,n){gl(t,n,e)}))}function bc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?rs(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Ul(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function yc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;uo||po(),ho||(uo(),ho=!0),fo.add(t,e),e.A=0}}function xc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=jo(rs(e.Ma,e),Cc(e,e.A)),e.A++,!0)}function wc(e){null!=e.B&&(Qa.clearTimeout(e.B),e.B=null)}function kc(e){e.g=new Yo(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ul(e.wa);gl(t,"RID","rpc"),gl(t,"SID",e.K),gl(t,"AID",e.V),gl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&gl(t,"TO",e.qa),gl(t,"TYPE","xmlhttp"),vc(e,t),e.o&&e.s&&cc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=ml(ul(t)),n.u=null,n.S=!0,$o(n,e)}function _c(e){null!=e.v&&(Qa.clearTimeout(e.v),e.v=null)}function Sc(e,t){var n=null;if(e.g==t){_c(e),wc(e),e.g=null;var r=2}else{if(!Ll(e.i,t))return;n=t.F,Ol(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;no(r=To(),new Ro(r,n)),gc(e)}else yc(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(jl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=jo(rs(e.Na,e,t),Cc(e,e.C)),e.C++,!0))}(e,t)||2==r&&xc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ac(e,5);break;case 4:Ac(e,10);break;case 3:Ac(e,6);break;default:Ac(e,2)}}function Cc(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ac(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=rs(e.pb,e);n||(n=new dl("//www.google.com/images/cleardot.gif"),Qa.location&&"http"==Qa.location.protocol||hl(n,"https"),ml(n)),function(e,t){const n=new Co;if(Qa.Image){const r=new Image;r.onload=is(Wl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=is(Wl,n,r,"TestLoadImage: error",!1,t),r.onabort=is(Wl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=is(Wl,n,r,"TestLoadImage: timeout",!1,t),Qa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Fo(2);e.H=0,e.h&&e.h.za(t),Pc(e),pc(e)}function Pc(e){if(e.H=0,e.ma=[],e.h){const t=zl(e.i);0==t.length&&0==e.j.length||(cs(e.ma,t),cs(e.ma,e.j),e.i.i.length=0,ls(e.j),e.j.length=0),e.h.ya()}}function Ec(e,t,n){var r=n instanceof dl?ul(n):new dl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),fl(r,r.m);else{var i=Qa.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new dl(null);r&&hl(a,r),t&&(a.g=t),i&&fl(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&gl(r,n,t),gl(r,"VER",e.ra),vc(e,r),r}function Tc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Jl(new Hl({ob:n})):new Jl(e.va)).Oa(e.J),t}function Nc(){}function Ic(){if(ys&&!(10<=Number(Ts)))throw Error("Environmental error: no available transport.")}function Mc(e,t){to.call(this),this.g=new uc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!hs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!hs(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new jc(this)}function Fc(e){Wo.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rc(){Ho.call(this),this.status=1}function jc(e){this.g=e}function Lc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Dc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Oc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Ya=Jl.prototype).Oa=function(e){this.M=e},Ya.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Bo.g(),this.C=this.u?zo(this.u):zo(Bo),this.g.onreadystatechange=rs(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(Ez){return void tc(this,Ez)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Qa.FormData&&e instanceof Qa.FormData,!(0<=os(ec,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ac(this),0<this.B&&((this.L=function(e){return ys&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rs(this.ua,this)):this.A=bo(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Ez){tc(this,Ez)}},Ya.ua=function(){"undefined"!=typeof Ka&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,no(this,"timeout"),this.abort(8))},Ya.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,no(this,"complete"),no(this,"abort"),ic(this))},Ya.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ic(this,!0)),Jl.$.N.call(this)},Ya.La=function(){this.s||(this.G||this.v||this.l?rc(this):this.kb())},Ya.kb=function(){rc(this)},Ya.isActive=function(){return!!this.g},Ya.da=function(){try{return 2<sc(this)?this.g.status:-1}catch(pP){return-1}},Ya.ja=function(){try{return this.g?this.g.responseText:""}catch(pP){return""}},Ya.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ql(t)}},Ya.Ia=function(){return this.m},Ya.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ya=uc.prototype).ra=8,Ya.H=1,Ya.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Yo(this,this.l,e);let a=this.s;if(this.U&&(a?(a=Ds(a),zs(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=bc(this,i,t),gl(n=ul(this.I),"RID",e),gl(n,"CVER",22),this.F&&gl(n,"X-HTTP-Session-Id",this.F),vc(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(lc(a)))+"&"+t:this.o&&cc(n,this.o,a)),Dl(this.i,i),this.bb&&gl(n,"TYPE","init"),this.P?(gl(n,"$req",t),gl(n,"SID","null"),i.aa=!0,Jo(i,n,null)):Jo(i,n,t),this.H=2}}else 3==this.H&&(e?mc(this,e):0==this.j.length||Rl(this.i)||mc(this))},Ya.Ma=function(){if(this.u=null,kc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=jo(rs(this.jb,this),e)}},Ya.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fo(10),fc(this),kc(this))},Ya.ib=function(){null!=this.v&&(this.v=null,fc(this),xc(this),Fo(19))},Ya.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Fo(2)):(this.l.info("Failed to ping google.com"),Fo(1))},Ya.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ya=Nc.prototype).Ba=function(){},Ya.Aa=function(){},Ya.za=function(){},Ya.ya=function(){},Ya.isActive=function(){return!0},Ya.Va=function(){},Ic.prototype.g=function(e,t){return new Mc(e,t)},as(Mc,to),Mc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Fo(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ec(e,null,e.Y),gc(e)},Mc.prototype.close=function(){hc(this.g)},Mc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=io(e),e=n);t.j.push(new Il(t.fb++,e)),3==t.H&&gc(t)},Mc.prototype.N=function(){this.g.h=null,delete this.j,hc(this.g),delete this.g,Mc.$.N.call(this)},as(Fc,Wo),as(Rc,Ho),as(jc,Nc),jc.prototype.Ba=function(){no(this.g,"a")},jc.prototype.Aa=function(e){no(this.g,new Fc(e))},jc.prototype.za=function(e){no(this.g,new Rc)},jc.prototype.ya=function(){no(this.g,"b")},as(Lc,(function(){this.blockSize=-1})),Lc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Lc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Dc(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Dc(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Dc(this,r),i=0;break}}this.h=i,this.i+=t},Lc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var zc={};function Gc(e){return-128<=e&&128>e?function(e,t){var n=zc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Oc([0|e],0>e?-1:0)})):new Oc([0|e],0>e?-1:0)}function Bc(e){if(isNaN(e)||!isFinite(e))return Wc;if(0>e)return qc(Bc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Uc;return new Oc(t,0)}var Uc=4294967296,Wc=Gc(0),Hc=Gc(1),Vc=Gc(16777216);function Yc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Xc(e){return-1==e.h}function qc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Oc(n,~e.h).add(Hc)}function Kc(e,t){return e.add(qc(t))}function Qc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Jc(e,t){this.g=e,this.h=t}function $c(e,t){if(Yc(t))throw Error("division by zero");if(Yc(e))return new Jc(Wc,Wc);if(Xc(e))return t=$c(qc(e),t),new Jc(qc(t.g),qc(t.h));if(Xc(t))return t=$c(e,qc(t)),new Jc(qc(t.g),t.h);if(30<e.g.length){if(Xc(e)||Xc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Hc,r=t;0>=r.X(e);)n=Zc(n),r=Zc(r);var i=ed(n,1),a=ed(r,1);for(r=ed(r,2),n=ed(n,2);!Yc(r);){var s=a.add(r);0>=s.X(e)&&(i=i.add(n),a=s),r=ed(r,1),n=ed(n,1)}return t=Kc(e,i.R(t)),new Jc(i,t)}for(i=Wc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(a=Bc(n)).R(t);Xc(s)||0<s.X(e);)s=(a=Bc(n-=r)).R(t);Yc(a)&&(a=Hc),i=i.add(a),e=Kc(e,s)}return new Jc(i,e)}function Zc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Oc(n,e.h)}function ed(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Oc(i,e.h)}(Ya=Oc.prototype).ea=function(){if(Xc(this))return-qc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Uc+r)*t,t*=Uc}return e},Ya.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Yc(this))return"0";if(Xc(this))return"-"+qc(this).toString(e);for(var t=Bc(Math.pow(e,6)),n=this,r="";;){var i=$c(n,t).g,a=((0<(n=Kc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Yc(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Ya.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ya.X=function(e){return Xc(e=Kc(this,e))?-1:Yc(e)?0:1},Ya.abs=function(){return Xc(this)?qc(this):this},Ya.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),s=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new Oc(n,-2147483648&n[n.length-1]?-1:0)},Ya.R=function(e){if(Yc(this)||Yc(e))return Wc;if(Xc(this))return Xc(e)?qc(this).R(qc(e)):qc(qc(this).R(e));if(Xc(e))return qc(this.R(qc(e)));if(0>this.X(Vc)&&0>e.X(Vc))return Bc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,s=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,Qc(n,2*r+2*i),n[2*r+2*i+1]+=a*l,Qc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*o,Qc(n,2*r+2*i+1),n[2*r+2*i+2]+=a*o,Qc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Oc(n,0)},Ya.gb=function(e){return $c(this,e).h},Ya.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Oc(n,this.h&e.h)},Ya.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Oc(n,this.h|e.h)},Ya.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Oc(n,this.h^e.h)},Ic.prototype.createWebChannel=Ic.prototype.g,Mc.prototype.send=Mc.prototype.u,Mc.prototype.open=Mc.prototype.m,Mc.prototype.close=Mc.prototype.close,Lo.NO_ERROR=0,Lo.TIMEOUT=8,Lo.HTTP_ERROR=6,Do.COMPLETE="complete",Go.EventType=Uo,Uo.OPEN="a",Uo.CLOSE="b",Uo.ERROR="c",Uo.MESSAGE="d",to.prototype.listen=to.prototype.O,Jl.prototype.listenOnce=Jl.prototype.P,Jl.prototype.getLastError=Jl.prototype.Sa,Jl.prototype.getLastErrorCode=Jl.prototype.Ia,Jl.prototype.getStatus=Jl.prototype.da,Jl.prototype.getResponseJson=Jl.prototype.Wa,Jl.prototype.getResponseText=Jl.prototype.ja,Jl.prototype.send=Jl.prototype.ha,Jl.prototype.setWithCredentials=Jl.prototype.Oa,Lc.prototype.digest=Lc.prototype.l,Lc.prototype.reset=Lc.prototype.reset,Lc.prototype.update=Lc.prototype.j,Oc.prototype.add=Oc.prototype.add,Oc.prototype.multiply=Oc.prototype.R,Oc.prototype.modulo=Oc.prototype.gb,Oc.prototype.compare=Oc.prototype.X,Oc.prototype.toNumber=Oc.prototype.ea,Oc.prototype.toString=Oc.prototype.toString,Oc.prototype.getBits=Oc.prototype.D,Oc.fromNumber=Bc,Oc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return qc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Bc(Math.pow(n,8)),i=Wc,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),o=parseInt(t.substring(a,a+s),n);8>s?(s=Bc(Math.pow(n,s)),i=i.R(s).add(Bc(o))):i=(i=i.R(r)).add(Bc(o))}return i};var td=qa.createWebChannelTransport=function(){return new Ic},nd=qa.getStatEventTarget=function(){return To()},rd=qa.ErrorCode=Lo,id=qa.EventType=Do,ad=qa.Event=Po,sd=qa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},od=(qa.FetchXmlHttpFactory=Hl,qa.WebChannel=Go),ld=qa.XhrIo=Jl,cd=qa.Md5=Lc,dd=qa.Integer=Oc;const ud="@firebase/firestore";class hd{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hd.UNAUTHENTICATED=new hd(null),hd.GOOGLE_CREDENTIALS=new hd("google-credentials-uid"),hd.FIRST_PARTY=new hd("first-party-uid"),hd.MOCK_USER=new hd("mock-user");let fd="10.8.0";const pd=new Rt("@firebase/firestore");function gd(){return pd.logLevel}function md(e){if(pd.logLevel<=Tt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(yd);pd.debug("Firestore (".concat(fd,"): ").concat(e),...i)}}function vd(e){if(pd.logLevel<=Tt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(yd);pd.error("Firestore (".concat(fd,"): ").concat(e),...i)}}function bd(e){if(pd.logLevel<=Tt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(yd);pd.warn("Firestore (".concat(fd,"): ").concat(e),...i)}}function yd(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function xd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(fd,") INTERNAL ASSERTION FAILED: ")+e;throw vd(t),new Error(t)}function wd(e,t){e||xd()}function kd(e,t){return e}const _d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sd extends rt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Cd{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ad{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Pd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hd.UNAUTHENTICATED)))}shutdown(){}}class Ed{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Td{constructor(e){this.t=e,this.currentUser=hd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Cd;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cd,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{md("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(md("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cd)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(md("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(wd("string"==typeof t.accessToken),new Ad(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wd(null===e||"string"==typeof e),new hd(e)}}class Nd{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=hd.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Id{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Nd(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(hd.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Md{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fd{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&md("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,md("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{md("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):md("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(wd("string"==typeof e.token),this.R=e.token,new Md(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class jd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Rd(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ld(e,t){return e<t?-1:e>t?1:0}function Dd(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Od{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Sd(_d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Sd(_d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Sd(_d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Sd(_d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Od.fromMillis(Date.now())}static fromDate(e){return Od.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Od(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ld(this.nanoseconds,e.nanoseconds):Ld(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zd{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zd(e)}static min(){return new zd(new Od(0,0))}static max(){return new zd(new Od(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gd{constructor(e,t,n){void 0===t?t=0:t>e.length&&xd(),void 0===n?n=e.length-t:n>e.length-t&&xd(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Gd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gd?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bd extends Gd{construct(e,t,n){return new Bd(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Sd(_d.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Bd(e)}static emptyPath(){return new Bd([])}}const Ud=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wd extends Gd{construct(e,t,n){return new Wd(e,t,n)}static isValidIdentifier(e){return Ud.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wd.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wd(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Sd(_d.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Sd(_d.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Sd(_d.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Sd(_d.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wd(t)}static emptyPath(){return new Wd([])}}class Hd{constructor(e){this.path=e}static fromPath(e){return new Hd(Bd.fromString(e))}static fromName(e){return new Hd(Bd.fromString(e).popFirst(5))}static empty(){return new Hd(Bd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bd.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bd.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Hd(new Bd(e.slice()))}}class Vd{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Vd.UNKNOWN_ID=-1;function Yd(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=zd.fromTimestamp(1e9===r?new Od(n+1,0):new Od(n,r));return new qd(i,Hd.empty(),t)}function Xd(e){return new qd(e.readTime,e.key,-1)}class qd{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new qd(zd.min(),Hd.empty(),-1)}static max(){return new qd(zd.max(),Hd.empty(),-1)}}function Kd(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Hd.comparator(e.documentKey,t.documentKey),0!==n?n:Ld(e.largestBatchId,t.largestBatchId))}const Qd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $d(e){if(e.code!==_d.FAILED_PRECONDITION||e.message!==Qd)throw e;md("LocalStore","Unexpectedly lost primary lease")}class Zd{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Zd(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Zd?t:Zd.resolve(t)}catch(e){return Zd.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Zd.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Zd.reject(t)}static resolve(e){return new Zd(((t,n)=>{t(e)}))}static reject(e){return new Zd(((t,n)=>{n(e)}))}static waitFor(e){return new Zd(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=Zd.resolve(!1);for(const n of e)t=t.next((e=>e?Zd.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Zd(((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{a[l]=e,++s,s===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new Zd(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class eu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Cd,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ru(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=lu(t.target.error);this.V.reject(new ru(e,n))}}static open(e,t,n,r){try{return new eu(t,e.transaction(r,n))}catch(e){throw new ru(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(md("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new au(t)}}class tu{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===tu.S(Je())&&vd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return md("SimpleDb","Removing database:",e),su(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!nt())return!1;if(tu.C())return!0;const e=Je(),t=tu.S(e),n=0<t&&t<10,r=tu.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(md("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ru(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Sd(_d.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Sd(_d.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ru(e,r))},r.onupgradeneeded=e=>{md("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{md("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let a=0;for(;;){++a;try{this.db=await this.O(e);const t=eu.open(this.db,e,i?"readonly":"readwrite",n),a=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Zd.reject(e)))).toPromise();return a.catch((()=>{})),await t.m,a}catch(e){const t=e,n="FirebaseError"!==t.name&&a<3;if(md("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class nu{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return su(this.k.delete())}}class ru extends Sd{constructor(e,t){super(_d.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function iu(e){return"IndexedDbTransactionError"===e.name}class au{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(md("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(md("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),su(n)}add(e){return md("SimpleDb","ADD",this.store.name,e,e),su(this.store.add(e))}get(e){return su(this.store.get(e)).next((t=>(void 0===t&&(t=null),md("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return md("SimpleDb","DELETE",this.store.name,e),su(this.store.delete(e))}count(){return md("SimpleDb","COUNT",this.store.name),su(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Zd(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Zd(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){md("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Zd(((n,r)=>{t.onerror=e=>{const t=lu(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Zd(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const a=new nu(i),s=t(i.primaryKey,i.value,a);if(s instanceof Zd){const e=s.catch((e=>(a.done(),Zd.reject(e))));n.push(e)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}})).next((()=>Zd.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function su(e){return new Zd(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=lu(e.target.error);n(t)}}))}let ou=!1;function lu(e){const t=tu.S(Je());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Sd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ou||(ou=!0,setTimeout((()=>{throw e}),0)),e}}return e}class cu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function du(e){return null==e}function uu(e){return 0===e&&1/e==-1/0}function hu(e){return"number"==typeof e&&Number.isInteger(e)&&!uu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}cu._e=-1;const fu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gu=pu;function mu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class yu{constructor(e,t){this.comparator=e,this.root=t||wu.EMPTY}insert(e,t){return new yu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wu.BLACK,null,null))}remove(e){return new yu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:wu.RED,this.left=null!=r?r:wu.EMPTY,this.right=null!=i?i:wu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new wu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return wu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xd();if(this.right.isRed())throw xd();const e=this.left.check();if(e!==this.right.check())throw xd();return e+(this.isRed()?0:1)}}wu.EMPTY=null,wu.RED=!0,wu.BLACK=!1,wu.EMPTY=new class{constructor(){this.size=0}get key(){throw xd()}get value(){throw xd()}get color(){throw xd()}get left(){throw xd()}get right(){throw xd()}copy(e,t,n,r,i){return this}insert(e,t,n){return new wu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ku{constructor(e){this.comparator=e,this.data=new yu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _u(this.data.getIterator())}getIteratorFrom(e){return new _u(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ku))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ku(this.comparator);return t.data=e,t}}class _u{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Su{constructor(e){this.fields=e,e.sort(Wd.comparator)}static empty(){return new Su([])}unionWith(e){let t=new ku(Wd.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Su(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Dd(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Cu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Au{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Cu("Invalid base64 string: "+e):e}}(e);return new Au(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Au(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ld(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Au.EMPTY_BYTE_STRING=new Au("");const Pu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eu(e){if(wd(!!e),"string"==typeof e){let t=0;const n=Pu.exec(e);if(wd(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Tu(e.seconds),nanos:Tu(e.nanos)}}function Tu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Nu(e){return"string"==typeof e?Au.fromBase64String(e):Au.fromUint8Array(e)}function Iu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Mu(e){const t=e.mapValue.fields.__previous_value__;return Iu(t)?Mu(t):t}function Fu(e){const t=Eu(e.mapValue.fields.__local_write_time__.timestampValue);return new Od(t.seconds,t.nanos)}class Ru{constructor(e,t,n,r,i,a,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}class ju{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ju("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ju&&e.projectId===this.projectId&&e.database===this.database}}const Lu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Du(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Iu(e)?4:Ju(e)?9007199254740991:10:xd()}function Ou(e,t){if(e===t)return!0;const n=Du(e);if(n!==Du(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fu(e).isEqual(Fu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Eu(e.timestampValue),r=Eu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Nu(e.bytesValue).isEqual(Nu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Tu(e.geoPointValue.latitude)===Tu(t.geoPointValue.latitude)&&Tu(e.geoPointValue.longitude)===Tu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Tu(e.integerValue)===Tu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Tu(e.doubleValue),r=Tu(t.doubleValue);return n===r?uu(n)===uu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Dd(e.arrayValue.values||[],t.arrayValue.values||[],Ou);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(mu(n)!==mu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ou(n[i],r[i])))return!1;return!0}(e,t);default:return xd()}}function zu(e,t){return void 0!==(e.values||[]).find((e=>Ou(e,t)))}function Gu(e,t){if(e===t)return 0;const n=Du(e),r=Du(t);if(n!==r)return Ld(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ld(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Tu(e.integerValue||e.doubleValue),r=Tu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bu(e.timestampValue,t.timestampValue);case 4:return Bu(Fu(e),Fu(t));case 5:return Ld(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Nu(e),r=Nu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ld(n[i],r[i]);if(0!==e)return e}return Ld(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ld(Tu(e.latitude),Tu(t.latitude));return 0!==n?n:Ld(Tu(e.longitude),Tu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Gu(n[i],r[i]);if(e)return e}return Ld(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Lu.mapValue&&t===Lu.mapValue)return 0;if(e===Lu.mapValue)return 1;if(t===Lu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=Ld(r[s],a[s]);if(0!==e)return e;const t=Gu(n[r[s]],i[a[s]]);if(0!==t)return t}return Ld(r.length,a.length)}(e.mapValue,t.mapValue);default:throw xd()}}function Bu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ld(e,t);const n=Eu(e),r=Eu(t),i=Ld(n.seconds,r.seconds);return 0!==i?i:Ld(n.nanos,r.nanos)}function Uu(e){return Wu(e)}function Wu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Eu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Nu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Hd.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Wu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Wu(e.fields[i]));return n+"}"}(e.mapValue):xd()}function Hu(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Vu(e){return!!e&&"integerValue"in e}function Yu(e){return!!e&&"arrayValue"in e}function Xu(e){return!!e&&"nullValue"in e}function qu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ku(e){return!!e&&"mapValue"in e}function Qu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vu(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Qu(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Qu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ju(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class $u{constructor(e){this.value=e}static empty(){return new $u({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ku(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qu(t)}setAll(e){let t=Wd.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Qu(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ku(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ou(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ku(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){vu(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new $u(Qu(this.value))}}function Zu(e){const t=[];return vu(e.fields,((e,n)=>{const r=new Wd([e]);if(Ku(n)){const e=Zu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Su(t)}class eh{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new eh(e,0,zd.min(),zd.min(),zd.min(),$u.empty(),0)}static newFoundDocument(e,t,n,r){return new eh(e,1,t,zd.min(),n,r,0)}static newNoDocument(e,t){return new eh(e,2,t,zd.min(),zd.min(),$u.empty(),0)}static newUnknownDocument(e,t){return new eh(e,3,t,zd.min(),zd.min(),$u.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(zd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$u.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$u.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof eh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new eh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class th{constructor(e,t){this.position=e,this.inclusive=t}}function nh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?Hd.comparator(Hd.fromName(s.referenceValue),n.key):Gu(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function rh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ou(e.position[n],t.position[n]))return!1;return!0}class ih{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ah(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class sh{}class oh extends sh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new gh(e,t,n):"array-contains"===t?new yh(e,n):"in"===t?new xh(e,n):"not-in"===t?new wh(e,n):"array-contains-any"===t?new kh(e,n):new oh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new mh(e,n):new vh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Gu(t,this.value)):null!==t&&Du(this.value)===Du(t)&&this.matchesComparison(Gu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xd()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lh extends sh{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new lh(e,t)}matches(e){return ch(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ch(e){return"and"===e.op}function dh(e){return uh(e)&&ch(e)}function uh(e){for(const t of e.filters)if(t instanceof lh)return!1;return!0}function hh(e){if(e instanceof oh)return e.field.canonicalString()+e.op.toString()+Uu(e.value);if(dh(e))return e.filters.map((e=>hh(e))).join(",");{const t=e.filters.map((e=>hh(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function fh(e,t){return e instanceof oh?function(e,t){return t instanceof oh&&e.op===t.op&&e.field.isEqual(t.field)&&Ou(e.value,t.value)}(e,t):e instanceof lh?function(e,t){return t instanceof lh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&fh(n,t.filters[r])),!0)}(e,t):void xd()}function ph(e){return e instanceof oh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Uu(e.value))}(e):e instanceof lh?function(e){return e.op.toString()+" {"+e.getFilters().map(ph).join(" ,")+"}"}(e):"Filter"}class gh extends oh{constructor(e,t,n){super(e,t,n),this.key=Hd.fromName(n.referenceValue)}matches(e){const t=Hd.comparator(e.key,this.key);return this.matchesComparison(t)}}class mh extends oh{constructor(e,t){super(e,"in",t),this.keys=bh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vh extends oh{constructor(e,t){super(e,"not-in",t),this.keys=bh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Hd.fromName(e.referenceValue)))}class yh extends oh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yu(t)&&zu(t.arrayValue,this.value)}}class xh extends oh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zu(this.value.arrayValue,t)}}class wh extends oh{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zu(this.value.arrayValue,t)}}class kh extends oh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>zu(this.value.arrayValue,e)))}}class _h{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.ce=null}}function Sh(e){return new _h(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ch(e){const t=kd(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>hh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),du(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Uu(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Uu(e))).join(",")),t.ce=e}return t.ce}function Ah(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ah(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!fh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rh(e.startAt,t.startAt)&&rh(e.endAt,t.endAt)}function Ph(e){return Hd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Eh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Th(e,t,n,r,i,a,s,o){return new Eh(e,t,n,r,i,a,s,o)}function Nh(e){return new Eh(e)}function Ih(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Mh(e){return null!==e.collectionGroup}function Fh(e){const t=kd(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ku(Wd.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new ih(r,n))})),e.has(Wd.keyField().canonicalString())||t.le.push(new ih(Wd.keyField(),n))}return t.le}function Rh(e){const t=kd(e);return t.he||(t.he=jh(t,Fh(e))),t.he}function jh(e,t){if("F"===e.limitType)return Sh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ih(e.field,t)}));const n=e.endAt?new th(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new th(e.startAt.position,e.startAt.inclusive):null;return Sh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Lh(e,t){const n=e.filters.concat([t]);return new Eh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Dh(e,t,n){return new Eh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Oh(e,t){return Ah(Rh(e),Rh(t))&&e.limitType===t.limitType}function zh(e){return"".concat(Ch(Rh(e)),"|lt:").concat(e.limitType)}function Gh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ph(e))).join(", "),"]")),du(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Uu(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Uu(e))).join(",")),"Target(".concat(t,")")}(Rh(e)),"; limitType=").concat(e.limitType,")")}function Bh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Hd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Fh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=nh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Fh(e),t))&&!(e.endAt&&!function(e,t,n){const r=nh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Fh(e),t))}(e,t)}function Uh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wh(e){return(t,n)=>{let r=!1;for(const i of Fh(e)){const e=Hh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Hh(e,t,n){const r=e.field.isKeyField()?Hd.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gu(r,i):xd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xd()}}class Vh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vu(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return bu(this.inner)}size(){return this.innerSize}}const Yh=new yu(Hd.comparator);function Xh(){return Yh}const qh=new yu(Hd.comparator);function Kh(){let e=qh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Qh(e){let t=qh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Jh(){return Zh()}function $h(){return Zh()}function Zh(){return new Vh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ef=new yu(Hd.comparator),tf=new ku(Hd.comparator);function nf(){let e=tf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const rf=new ku(Ld);function af(){return rf}function sf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uu(t)?"-0":t}}function of(e){return{integerValue:""+e}}function lf(e,t){return hu(t)?of(t):sf(e,t)}class cf{constructor(){this._=void 0}}function df(e,t,n){return e instanceof ff?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Iu(t)&&(t=Mu(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pf?gf(e,t):e instanceof mf?vf(e,t):function(e,t){const n=hf(e,t),r=yf(n)+yf(e.Ie);return Vu(n)&&Vu(e.Ie)?of(r):sf(e.serializer,r)}(e,t)}function uf(e,t,n){return e instanceof pf?gf(e,t):e instanceof mf?vf(e,t):n}function hf(e,t){return e instanceof bf?function(e){return Vu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ff extends cf{}class pf extends cf{constructor(e){super(),this.elements=e}}function gf(e,t){const n=xf(t);for(const r of e.elements)n.some((e=>Ou(e,r)))||n.push(r);return{arrayValue:{values:n}}}class mf extends cf{constructor(e){super(),this.elements=e}}function vf(e,t){let n=xf(t);for(const r of e.elements)n=n.filter((e=>!Ou(e,r)));return{arrayValue:{values:n}}}class bf extends cf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function yf(e){return Tu(e.integerValue||e.doubleValue)}function xf(e){return Yu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class wf{constructor(e,t){this.field=e,this.transform=t}}class kf{constructor(e,t){this.version=e,this.transformResults=t}}class _f{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _f}static exists(e){return new _f(void 0,e)}static updateTime(e){return new _f(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Cf{}function Af(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Lf(e.key,_f.none()):new If(e.key,e.data,_f.none());{const n=e.data,r=$u.empty();let i=new ku(Wd.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Mf(e.key,r,new Su(i.toArray()),_f.none())}}function Pf(e,t,n){e instanceof If?function(e,t,n){const r=e.value.clone(),i=Rf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mf?function(e,t,n){if(!Sf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Rf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ff(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ef(e,t,n,r){return e instanceof If?function(e,t,n,r){if(!Sf(e.precondition,t))return n;const i=e.value.clone(),a=jf(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Mf?function(e,t,n,r){if(!Sf(e.precondition,t))return n;const i=jf(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ff(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Sf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Tf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=hf(r.transform,e||null);null!=i&&(null===n&&(n=$u.empty()),n.set(r.field,i))}return n||null}function Nf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Dd(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pf&&t instanceof pf||e instanceof mf&&t instanceof mf?Dd(e.elements,t.elements,Ou):e instanceof bf&&t instanceof bf?Ou(e.Ie,t.Ie):e instanceof ff&&t instanceof ff}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class If extends Cf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Mf extends Cf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ff(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Rf(e,t,n){const r=new Map;wd(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,uf(s,o,n[i]))}return r}function jf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,df(e,a,t))}return r}class Lf extends Cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Df extends Cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Of{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Pf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ef(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ef(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=$h();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=Af(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(zd.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),nf())}isEqual(e){return this.batchId===e.batchId&&Dd(this.mutations,e.mutations,((e,t)=>Nf(e,t)))&&Dd(this.baseMutations,e.baseMutations,((e,t)=>Nf(e,t)))}}class zf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){wd(e.mutations.length===n.length);let r=ef;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new zf(e,t,n,r)}}class Gf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Bf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Uf,Wf;function Hf(e){switch(e){default:return xd();case _d.CANCELLED:case _d.UNKNOWN:case _d.DEADLINE_EXCEEDED:case _d.RESOURCE_EXHAUSTED:case _d.INTERNAL:case _d.UNAVAILABLE:case _d.UNAUTHENTICATED:return!1;case _d.INVALID_ARGUMENT:case _d.NOT_FOUND:case _d.ALREADY_EXISTS:case _d.PERMISSION_DENIED:case _d.FAILED_PRECONDITION:case _d.ABORTED:case _d.OUT_OF_RANGE:case _d.UNIMPLEMENTED:case _d.DATA_LOSS:return!0}}function Vf(e){if(void 0===e)return vd("GRPC error has no .code"),_d.UNKNOWN;switch(e){case Uf.OK:return _d.OK;case Uf.CANCELLED:return _d.CANCELLED;case Uf.UNKNOWN:return _d.UNKNOWN;case Uf.DEADLINE_EXCEEDED:return _d.DEADLINE_EXCEEDED;case Uf.RESOURCE_EXHAUSTED:return _d.RESOURCE_EXHAUSTED;case Uf.INTERNAL:return _d.INTERNAL;case Uf.UNAVAILABLE:return _d.UNAVAILABLE;case Uf.UNAUTHENTICATED:return _d.UNAUTHENTICATED;case Uf.INVALID_ARGUMENT:return _d.INVALID_ARGUMENT;case Uf.NOT_FOUND:return _d.NOT_FOUND;case Uf.ALREADY_EXISTS:return _d.ALREADY_EXISTS;case Uf.PERMISSION_DENIED:return _d.PERMISSION_DENIED;case Uf.FAILED_PRECONDITION:return _d.FAILED_PRECONDITION;case Uf.ABORTED:return _d.ABORTED;case Uf.OUT_OF_RANGE:return _d.OUT_OF_RANGE;case Uf.UNIMPLEMENTED:return _d.UNIMPLEMENTED;case Uf.DATA_LOSS:return _d.DATA_LOSS;default:return xd()}}(Wf=Uf||(Uf={}))[Wf.OK=0]="OK",Wf[Wf.CANCELLED=1]="CANCELLED",Wf[Wf.UNKNOWN=2]="UNKNOWN",Wf[Wf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wf[Wf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wf[Wf.NOT_FOUND=5]="NOT_FOUND",Wf[Wf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wf[Wf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wf[Wf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wf[Wf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wf[Wf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wf[Wf.ABORTED=10]="ABORTED",Wf[Wf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wf[Wf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wf[Wf.INTERNAL=13]="INTERNAL",Wf[Wf.UNAVAILABLE=14]="UNAVAILABLE",Wf[Wf.DATA_LOSS=15]="DATA_LOSS";let Yf=null;function Xf(){return new TextEncoder}const qf=new dd([4294967295,4294967295],0);function Kf(e){const t=Xf().encode(e),n=new cd;return n.update(t),new Uint8Array(n.digest())}function Qf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new dd([n,r],0),new dd([i,a],0)]}class Jf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new $f("Invalid padding: ".concat(t));if(n<0)throw new $f("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new $f("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new $f("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=dd.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(dd.fromNumber(n)));return 1===r.compare(qf)&&(r=new dd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Kf(e),[n,r]=Qf(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Jf(i,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.Te)return;const t=Kf(e),[n,r]=Qf(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class $f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ep.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Zf(zd.min(),r,new yu(Ld),Xh(),nf())}}class ep{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ep(n,t,nf(),nf(),nf())}}class tp{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class np{constructor(e,t){this.targetId=e,this.fe=t}}class rp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Au.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ip{constructor(){this.ge=0,this.pe=op(),this.ye=Au.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=nf(),t=nf(),n=nf();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xd()}})),new ep(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=op()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,wd(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class ap{constructor(e){this.Le=e,this.ke=new Map,this.qe=Xh(),this.Qe=sp(),this.Ke=new yu(Ld)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:xd()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Ph(i))if(0===n){const e=new Hd(i.path);this.We(t,e,eh.newNoDocument(e,zd.min()))}else wd(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Yf||Yf.tt(function(e,t,n,r,i){var a,s,o,l,c,d;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(o=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(d=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==d?d:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=Nu(n).toUint8Array()}catch(e){if(e instanceof Cu)return bd("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Jf(a,r,i)}catch(e){return bd(e instanceof $f?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Ph(i.target)){const t=new Hd(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,eh.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=nf();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Zf(e,t,this.Ke,this.qe,n);return this.qe=Xh(),this.Qe=sp(),this.Ke=new yu(Ld),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new ip,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new ku(Ld),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||md("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ip),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function sp(){return new yu(Hd.comparator)}function op(){return new yu(Hd.comparator)}const lp={asc:"ASCENDING",desc:"DESCENDING"},cp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dp={and:"AND",or:"OR"};class up{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hp(e,t){return e.useProto3Json||du(t)?t:{value:t}}function fp(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function pp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function gp(e,t){return fp(e,t.toTimestamp())}function mp(e){return wd(!!e),zd.fromTimestamp(function(e){const t=Eu(e);return new Od(t.seconds,t.nanos)}(e))}function vp(e,t){return bp(e,t).canonicalString()}function bp(e,t){const n=function(e){return new Bd(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function yp(e){const t=Bd.fromString(e);return wd(zp(t)),t}function xp(e,t){return vp(e.databaseId,t.path)}function wp(e,t){const n=yp(t);if(n.get(1)!==e.databaseId.projectId)throw new Sd(_d.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Sd(_d.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Hd(Cp(n))}function kp(e,t){return vp(e.databaseId,t)}function _p(e){const t=yp(e);return 4===t.length?Bd.emptyPath():Cp(t)}function Sp(e){return new Bd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cp(e){return wd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ap(e,t,n){return{name:xp(e,t),fields:n.value.mapValue.fields}}function Pp(e,t){let n;if(t instanceof If)n={update:Ap(e,t.key,t.value)};else if(t instanceof Lf)n={delete:xp(e,t.key)};else if(t instanceof Mf)n={update:Ap(e,t.key,t.data),updateMask:Op(t.fieldMask)};else{if(!(t instanceof Df))return xd();n={verify:xp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ff)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bf)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw xd()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xd()}(e,t.precondition)),n}function Ep(e,t){return{documents:[kp(e,t.path)]}}function Tp(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kp(e,i);const a=function(e){if(0!==e.length)return Dp(lh.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:jp(e.field),direction:Mp(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=hp(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Np(e){let t=_p(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wd(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Ip(e);return t instanceof lh&&dh(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new ih(Lp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,du(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new th(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new th(n,t)}(n.endAt)),Th(t,i,s,a,o,"F",l,c)}function Ip(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Lp(e.unaryFilter.field);return oh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Lp(e.unaryFilter.field);return oh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Lp(e.unaryFilter.field);return oh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Lp(e.unaryFilter.field);return oh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return xd()}}(e):void 0!==e.fieldFilter?function(e){return oh.create(Lp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xd()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return lh.create(e.compositeFilter.filters.map((e=>Ip(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return xd()}}(e.compositeFilter.op))}(e):xd()}function Mp(e){return lp[e]}function Fp(e){return cp[e]}function Rp(e){return dp[e]}function jp(e){return{fieldPath:e.canonicalString()}}function Lp(e){return Wd.fromServerFormat(e.fieldPath)}function Dp(e){return e instanceof oh?function(e){if("=="===e.op){if(qu(e.value))return{unaryFilter:{field:jp(e.field),op:"IS_NAN"}};if(Xu(e.value))return{unaryFilter:{field:jp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qu(e.value))return{unaryFilter:{field:jp(e.field),op:"IS_NOT_NAN"}};if(Xu(e.value))return{unaryFilter:{field:jp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jp(e.field),op:Fp(e.op),value:e.value}}}(e):e instanceof lh?function(e){const t=e.getFilters().map((e=>Dp(e)));return 1===t.length?t[0]:{compositeFilter:{op:Rp(e.op),filters:t}}}(e):xd()}function Op(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function zp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Gp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zd.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zd.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Au.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Gp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bp{constructor(e){this.ct=e}}function Up(e){const t=Np({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Dh(t,t.limit,"L"):t}class Wp{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Tu(e.integerValue));else if("doubleValue"in e){const n=Tu(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),uu(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Nu(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Ju(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):xd()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Hd.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Wp.bt=new Wp;class Hp{constructor(){this._n=new Vp}addToCollectionParentIndex(e,t){return this._n.add(t),Zd.resolve()}getCollectionParents(e,t){return Zd.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Zd.resolve()}deleteFieldIndex(e,t){return Zd.resolve()}deleteAllFieldIndexes(e){return Zd.resolve()}createTargetIndexes(e,t){return Zd.resolve()}getDocumentsMatchingTarget(e,t){return Zd.resolve(null)}getIndexType(e,t){return Zd.resolve(0)}getFieldIndexes(e,t){return Zd.resolve([])}getNextCollectionGroupToUpdate(e){return Zd.resolve(null)}getMinOffset(e,t){return Zd.resolve(qd.min())}getMinOffsetFromCollectionGroup(e,t){return Zd.resolve(qd.min())}updateCollectionGroup(e,t,n){return Zd.resolve()}updateIndexEntries(e,t){return Zd.resolve()}}class Vp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ku(Bd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ku(Bd.comparator)).toArray()}}new Uint8Array(0);class Yp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Yp(e,Yp.DEFAULT_COLLECTION_PERCENTILE,Yp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Yp.DEFAULT_COLLECTION_PERCENTILE=10,Yp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yp.DEFAULT=new Yp(41943040,Yp.DEFAULT_COLLECTION_PERCENTILE,Yp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yp.DISABLED=new Yp(-1,0,0);class Xp{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Xp(0)}static Bn(){return new Xp(-1)}}class qp{constructor(){this.changes=new Vh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,eh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Zd.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Kp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Qp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ef(n.mutation,e,Su.empty(),Od.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,nf()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nf();const r=Jh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Kh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Jh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,nf())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Xh();const a=Zh(),s=Zh();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Mf)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Ef(s.mutation,t,s.mutation.getFieldMask(),Od.now())):a.set(t.key,Su.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Kp(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Zh();let r=new yu(((e,t)=>e-t)),i=nf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||Su.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||nf()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=$h();l.forEach((e=>{if(!i.has(e)){const r=Af(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Zd.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Hd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Zd.resolve(Jh());let s=-1,o=i;return a.next((t=>Zd.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Zd.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,nf()))).next((e=>({batchId:s,changes:Qh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Hd(t)).next((e=>{let t=Kh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Kh();return this.indexManager.getCollectionParents(e,i).next((s=>Zd.forEach(s,(s=>{const o=function(e,t){return new Eh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,eh.newInvalidDocument(r)))}));let n=Kh();return e.forEach(((e,r)=>{const a=i.get(e);void 0!==a&&Ef(a.mutation,r,Su.empty(),Od.now()),Bh(t,r)&&(n=n.insert(e,r))})),n}))}}class Jp{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Zd.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:mp(e.createTime)}}(t)),Zd.resolve()}getNamedQuery(e,t){return Zd.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Up(e.bundledQuery),readTime:mp(e.readTime)}}(t)),Zd.resolve()}}class $p{constructor(){this.overlays=new yu(Hd.comparator),this.hr=new Map}getOverlay(e,t){return Zd.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Jh();return Zd.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Zd.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Zd.resolve()}getOverlaysForCollection(e,t,n){const r=Jh(),i=t.length+1,a=new Hd(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Zd.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new yu(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Jh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Jh(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Zd.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Gf(t,n));let i=this.hr.get(t);void 0===i&&(i=nf(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Zp{constructor(){this.Pr=new ku(eg.Ir),this.Tr=new ku(eg.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new eg(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new eg(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Hd(new Bd([])),n=new eg(t,e),r=new eg(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Hd(new Bd([])),n=new eg(t,e),r=new eg(t,e+1);let i=nf();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new eg(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class eg{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Hd.comparator(e.key,t.key)||Ld(e.pr,t.pr)}static Er(e,t){return Ld(e.pr,t.pr)||Hd.comparator(e.key,t.key)}}class tg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new ku(eg.Ir)}checkEmpty(e){return Zd.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Of(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.wr=this.wr.add(new eg(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Zd.resolve(a)}lookupMutationBatch(e,t){return Zd.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Zd.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Zd.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Zd.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new eg(t,0),r=new eg(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Zd.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ku(Ld);return t.forEach((e=>{const t=new eg(e,0),r=new eg(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Zd.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Hd.isDocumentKey(i)||(i=i.child(""));const a=new eg(new Hd(i),0);let s=new ku(Ld);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),a),Zd.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){wd(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Zd.forEach(t.mutations,(r=>{const i=new eg(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new eg(t,0),r=this.wr.firstAfterOrEqual(n);return Zd.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Zd.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ng{constructor(e){this.vr=e,this.docs=new yu(Hd.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Zd.resolve(n?n.document.mutableCopy():eh.newInvalidDocument(t))}getEntries(e,t){let n=Xh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():eh.newInvalidDocument(e))})),Zd.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Xh();const a=t.path,s=new Hd(a.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Kd(Xd(s),n)<=0||(r.has(s.key)||Bh(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Zd.resolve(i)}getAllFromCollectionGroup(e,t,n,r){xd()}Fr(e,t){return Zd.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new rg(this)}getSize(e){return Zd.resolve(this.size)}}class rg extends qp{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Zd.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class ig{constructor(e){this.persistence=e,this.Mr=new Vh((e=>Ch(e)),Ah),this.lastRemoteSnapshotVersion=zd.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Zp,this.targetCount=0,this.Br=Xp.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Zd.resolve()}getLastRemoteSnapshotVersion(e){return Zd.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Zd.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Zd.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Zd.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new Xp(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Zd.resolve()}updateTargetData(e,t){return this.qn(t),Zd.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Zd.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Zd.waitFor(i).next((()=>r))}getTargetCount(e){return Zd.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Zd.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Zd.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Zd.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Zd.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Zd.resolve(n)}containsKey(e,t){return Zd.resolve(this.Nr.containsKey(t))}}class ag{constructor(e,t){this.Lr={},this.overlays={},this.kr=new cu(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ig(this),this.indexManager=new Hp,this.remoteDocumentCache=function(e){return new ng(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Bp(t),this.$r=new Jp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $p,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new tg(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){md("MemoryPersistence","Starting transaction:",e);const r=new sg(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Zd.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class sg extends Jd{constructor(e){super(),this.currentSequenceNumber=e}}class og{constructor(e){this.persistence=e,this.zr=new Zp,this.jr=null}static Hr(e){return new og(e)}get Jr(){if(this.jr)return this.jr;throw xd()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Zd.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Zd.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Zd.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zd.forEach(this.Jr,(n=>{const r=Hd.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,zd.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Zd.or([()=>Zd.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class lg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=nf(),r=nf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new lg(e,t.fromCache,n,r)}}class cg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dg{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=tt()?8:tu.v(Je())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new cg;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(gd()<=Tt.DEBUG&&md("QueryEngine","SDK will not create cache indexes for query:",Gh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Zd.resolve()):(gd()<=Tt.DEBUG&&md("QueryEngine","Query:",Gh(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(gd()<=Tt.DEBUG&&md("QueryEngine","The SDK decides to create cache indexes for query:",Gh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rh(t))):Zd.resolve())}ji(e,t){if(Ih(t))return Zd.resolve(null);let n=Rh(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Dh(t,null,"F"),n=Rh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=nf(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.Zi(t,r);return this.Xi(t,a,i,n.readTime)?this.ji(e,Dh(t,null,"F")):this.es(e,a,t,n)}))))})))))}Hi(e,t,n,r){return Ih(t)||r.isEqual(zd.min())?Zd.resolve(null):this.zi.getDocuments(e,n).next((i=>{const a=this.Zi(t,i);return this.Xi(t,a,n,r)?Zd.resolve(null):(gd()<=Tt.DEBUG&&md("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gh(t)),this.es(e,a,t,Yd(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new ku(Wh(e));return t.forEach(((t,r)=>{Bh(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return gd()<=Tt.DEBUG&&md("QueryEngine","Using full collection scan to execute query:",Gh(t)),this.zi.getDocumentsMatchingQuery(e,t,qd.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class ug{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new yu(Ld),this.rs=new Vh((e=>Ch(e)),Ah),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qp(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function hg(e,t,n,r){return new ug(e,t,n,r)}async function fg(e,t){const n=kd(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let s=nf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function pg(e){const t=kd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function gg(e,t,n){let r=nf(),i=nf();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Xh();return n.forEach(((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(zd.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):md("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),{cs:r,ls:i}}))}function mg(e,t){const n=kd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function vg(e,t){const n=kd(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Zd.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Gp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function bg(e,t,n){const r=kd(e),i=r.ns.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!iu(e))throw e;md("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function yg(e,t,n){const r=kd(e);let i=zd.min(),a=nf();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=kd(e),i=r.rs.get(n);return void 0!==i?Zd.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Rh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:zd.min(),n?a:nf()))).next((e=>(xg(r,Uh(t),e),{documents:e,hs:a})))))}function xg(e,t,n){let r=e.ss.get(t)||zd.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class wg{constructor(){this.activeTargetIds=af()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kg{constructor(){this.no=new wg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new wg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _g{io(e){}shutdown(){}}class Sg{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){md("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){md("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cg=null;function Ag(){return null===Cg?Cg=268435456+Math.round(2147483648*Math.random()):Cg++,"0x"+Cg.toString(16)}const Pg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Eg{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Tg="WebChannelConnection";class Ng extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const a=Ag(),s=this.bo(e,t.toUriEncodedString());md("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),s,n);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,s,o,n).then((t=>(md("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t)),(t=>{throw bd("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,a){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Pg[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Ag();return new Promise(((a,s)=>{const o=new ld;o.setWithCredentials(!0),o.listenOnce(id.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case rd.NO_ERROR:const t=o.getResponseJson();md(Tg,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case rd.TIMEOUT:md(Tg,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Sd(_d.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const n=o.getStatus();if(md(Tg,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(_d).indexOf(t)>=0?t:_d.UNKNOWN}(t.status);s(new Sd(e,t.message))}else s(new Sd(_d.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Sd(_d.UNAVAILABLE,"Connection failed."));break;default:xd()}}finally{md(Tg,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);md(Tg,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Ag(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=td(),s=nd(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");md(Tg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const d=a.createWebChannel(c,o);let u=!1,h=!1;const f=new Eg({lo:t=>{h?md(Tg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(u||(md(Tg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),d.open(),u=!0),md(Tg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),d.send(t))},ho:()=>d.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(d,od.EventType.OPEN,(()=>{h||md(Tg,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(d,od.EventType.CLOSE,(()=>{h||(h=!0,md(Tg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(d,od.EventType.ERROR,(t=>{h||(h=!0,bd(Tg,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Sd(_d.UNAVAILABLE,"The operation could not be completed")))})),p(d,od.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];wd(!!i);const a=i,s=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){md(Tg,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Uf[e];if(void 0!==t)return Vf(t)}(t),i=s.message;void 0===n&&(n=_d.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.Vo(new Sd(n,i)),d.close()}else md(Tg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(s,ad.STAT_EVENT,(t=>{t.stat===sd.PROXY?md(Tg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===sd.NOPROXY&&md(Tg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Ig(){return"undefined"!=typeof document?document:null}function Mg(e){return new up(e,!0)}class Fg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&md("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class Rg{constructor(e,t,n,r,i,a,s,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Fg(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===_d.RESOURCE_EXHAUSTED?(vd(t.toString()),vd("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===_d.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Sd(_d.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return md("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(md("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jg extends Rg{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:xd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(wd(void 0===t||"string"==typeof t),Au.fromBase64String(t||"")):(wd(void 0===t||t instanceof Uint8Array),Au.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?_d.UNKNOWN:Vf(e.code);return new Sd(t,e.message||"")}(s);n=new rp(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=wp(e,r.document.name),a=mp(r.document.updateTime),s=r.document.createTime?mp(r.document.createTime):zd.min(),o=new $u({mapValue:{fields:r.document.fields}}),l=eh.newFoundDocument(i,a,s,o),c=r.targetIds||[],d=r.removedTargetIds||[];n=new tp(c,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=wp(e,r.document),a=r.readTime?mp(r.readTime):zd.min(),s=eh.newNoDocument(i,a),o=r.removedTargetIds||[];n=new tp([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=wp(e,r.document),a=r.removedTargetIds||[];n=new tp([],a,i,null)}else{if(!("filter"in t))return xd();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Bf(r,i),s=e.targetId;n=new np(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return zd.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?zd.min():t.readTime?mp(t.readTime):zd.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=Sp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ph(r)?{documents:Ep(e,r)}:{query:Tp(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=pp(e,t.resumeToken);const r=hp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(zd.min())>0){n.readTime=fp(e,t.snapshotVersion.toTimestamp());const r=hp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xd()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=Sp(this.serializer),t.removeTarget=e,this.t_(t)}}class Lg extends Rg{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(wd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(wd(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?mp(e.updateTime):mp(t);return n.isEqual(zd.min())&&(n=mp(t)),new kf(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=mp(e.commitTime);return this.listener.T_(n,t)}return wd(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Sp(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Pp(this.serializer,e)))};this.t_(t)}}class Dg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Sd(_d.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,s]=i;return this.connection.So(e,bp(t,n),r,a,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===_d.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Sd(_d.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[s,o]=a;return this.connection.vo(e,bp(t,n),r,s,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===_d.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Sd(_d.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Og{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(vd(t),this.g_=!1):md("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class zg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{qg(this)&&(md("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=kd(e);t.v_.add(4),await Bg(t),t.x_.set("Unknown"),t.v_.delete(4),await Gg(t)}(this))}))})),this.x_=new Og(n,r)}}async function Gg(e){if(qg(e))for(const t of e.F_)await t(!0)}async function Bg(e){for(const t of e.F_)await t(!1)}function Ug(e,t){const n=kd(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Xg(n)?Yg(n):hm(n).Jo()&&Hg(n,t))}function Wg(e,t){const n=kd(e),r=hm(n);n.C_.delete(t),r.Jo()&&Vg(n,t),0===n.C_.size&&(r.Jo()?r.Xo():qg(n)&&n.x_.set("Unknown"))}function Hg(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zd.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hm(e).c_(t)}function Vg(e,t){e.O_.Oe(t),hm(e).l_(t)}function Yg(e){e.O_=new ap({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),hm(e).start(),e.x_.p_()}function Xg(e){return qg(e)&&!hm(e).Ho()&&e.C_.size>0}function qg(e){return 0===kd(e).v_.size}function Kg(e){e.O_=void 0}async function Qg(e){e.C_.forEach(((t,n)=>{Hg(e,t)}))}async function Jg(e,t){Kg(e),Xg(e)?(e.x_.S_(t),Yg(e)):e.x_.set("Unknown")}async function $g(e,t,n){if(e.x_.set("Online"),t instanceof rp&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){md("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Zg(e,n)}else if(t instanceof tp?e.O_.$e(t):t instanceof np?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(zd.min()))try{const t=await pg(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Au.EMPTY_BYTE_STRING,r.snapshotVersion)),Vg(e,t);const i=new Gp(r.target,t,n,r.sequenceNumber);Hg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){md("RemoteStore","Failed to raise snapshot:",t),await Zg(e,t)}}async function Zg(e,t,n){if(!iu(t))throw t;e.v_.add(1),await Bg(e),e.x_.set("Offline"),n||(n=()=>pg(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{md("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Gg(e)}))}function em(e,t){return t().catch((n=>Zg(e,n,t)))}async function tm(e){const t=kd(e),n=fm(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;nm(t);)try{const e=await mg(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,rm(t,e)}catch(e){await Zg(t,e)}im(t)&&am(t)}function nm(e){return qg(e)&&e.D_.length<10}function rm(e,t){e.D_.push(t);const n=fm(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function im(e){return qg(e)&&!fm(e).Ho()&&e.D_.length>0}function am(e){fm(e).start()}async function sm(e){fm(e).d_()}async function om(e){const t=fm(e);for(const n of e.D_)t.I_(n.mutations)}async function lm(e,t,n){const r=e.D_.shift(),i=zf.from(r,t,n);await em(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await tm(e)}async function cm(e,t){t&&fm(e).P_&&await async function(e,t){if(function(e){return Hf(e)&&e!==_d.ABORTED}(t.code)){const n=e.D_.shift();fm(e).Zo(),await em(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await tm(e)}}(e,t),im(e)&&am(e)}async function dm(e,t){const n=kd(e);n.asyncQueue.verifyOperationInProgress(),md("RemoteStore","RemoteStore received new credentials");const r=qg(n);n.v_.add(3),await Bg(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Gg(n)}async function um(e,t){const n=kd(e);t?(n.v_.delete(2),await Gg(n)):t||(n.v_.add(2),await Bg(n),n.x_.set("Unknown"))}function hm(e){return e.N_||(e.N_=function(e,t,n){const r=kd(e);return r.R_(),new jg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Qg.bind(null,e),To:Jg.bind(null,e),u_:$g.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),Xg(e)?Yg(e):e.x_.set("Unknown")):(await e.N_.stop(),Kg(e))}))),e.N_}function fm(e){return e.B_||(e.B_=function(e,t,n){const r=kd(e);return r.R_(),new Lg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:sm.bind(null,e),To:cm.bind(null,e),E_:om.bind(null,e),T_:lm.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await tm(e)):(await e.B_.stop(),e.D_.length>0&&(md("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class pm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Cd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new pm(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sd(_d.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gm(e,t){if(vd("AsyncQueue","".concat(t,": ").concat(e)),iu(e))return new Sd(_d.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class mm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Hd.comparator(t.key,n.key):(e,t)=>Hd.comparator(e.key,t.key),this.keyedMap=Kh(),this.sortedSet=new yu(this.comparator)}static emptySet(e){return new mm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new mm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class vm{constructor(){this.L_=new yu(Hd.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):xd():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class bm{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new bm(e,t,mm.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ym{constructor(){this.q_=void 0,this.Q_=[]}}class xm{constructor(){this.queries=new Vh((e=>zh(e)),Oh),this.onlineState="Unknown",this.K_=new Set}}async function wm(e,t){const n=kd(e),r=t.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new ym),i)try{a.q_=await n.onListen(r)}catch(e){const n=gm(e,"Initialization of query '".concat(Gh(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,a),a.Q_.push(t),t.U_(n.onlineState),a.q_&&t.W_(a.q_)&&Cm(n)}async function km(e,t){const n=kd(e),r=t.query;let i=!1;const a=n.queries.get(r);if(a){const e=a.Q_.indexOf(t);e>=0&&(a.Q_.splice(e,1),i=0===a.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function _m(e,t){const n=kd(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&Cm(n)}function Sm(e,t,n){const r=kd(e),i=r.queries.get(t);if(i)for(const a of i.Q_)a.onError(n);r.queries.delete(t)}function Cm(e){e.K_.forEach((e=>{e.next()}))}class Am{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new bm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=bm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Pm{constructor(e){this.key=e}}class Em{constructor(e){this.key=e}}class Tm{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=nf(),this.mutatedKeys=nf(),this.ua=Wh(e),this.ca=new mm(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new vm,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),d=Bh(this.query,t)?t:null,u=!!c&&this.mutatedKeys.has(c.key),h=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let f=!1;c&&d?c.data.isEqual(d.data)?u!==h&&(n.track({type:3,doc:d}),f=!0):this.Ia(c,d)||(n.track({type:2,doc:d}),f=!0,(o&&this.ua(d,o)>0||l&&this.ua(d,l)<0)&&(s=!0)):!c&&d?(n.track({type:0,doc:d}),f=!0):c&&!d&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(d?(a=a.add(d),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:a,Pa:n,Xi:s,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const a=e.Pa.k_();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xd()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const s=t&&!r?this.Ea():[],o=0===this.aa.size&&this.current&&!r?1:0,l=o!==this._a;return this._a=o,0!==a.length||l?{snapshot:new bm(this.query,e.ca,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:s}:{da:s}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new vm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=nf(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new Em(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new Pm(n))})),t}Ra(e){this.oa=e.hs,this.aa=nf();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return bm.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Nm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Im{constructor(e){this.key=e,this.ma=!1}}class Mm{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new Vh((e=>zh(e)),Oh),this.pa=new Map,this.ya=new Set,this.wa=new yu(Hd.comparator),this.Sa=new Map,this.ba=new Zp,this.Da={},this.Ca=new Map,this.va=Xp.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function Fm(e,t){const n=Jm(e);let r,i;const a=n.ga.get(t);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Va();else{const e=await vg(n.localStore,Rh(t)),a=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Rm(n,t,r,"current"===a,e.resumeToken),n.isPrimaryClient&&Ug(n.remoteStore,e)}return i}async function Rm(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await yg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return Vm(e,t.targetId,o.da),o.snapshot}(e,t,n,r);const a=await yg(e.localStore,t,!0),s=new Tm(t,a.hs),o=s.ha(a.documents),l=ep.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);Vm(e,n,c.da);const d=new Nm(t,n,s);return e.ga.set(t,d),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function jm(e,t){const n=kd(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!Oh(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await bg(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Wg(n.remoteStore,r.targetId),Wm(n,r.targetId)})).catch($d)):(Wm(n,r.targetId),await bg(n.localStore,r.targetId,!0))}async function Lm(e,t){const n=kd(e);try{const e=await function(e,t){const n=kd(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,a.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Au.EMPTY_BYTE_STRING,zd.min()).withLastLimboFreeSnapshotVersion(zd.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,a)&&s.push(n.Qr.updateTargetData(e,c))}));let o=Xh(),l=nf();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(gg(e,a,t.documentUpdates).next((e=>{o=e.cs,l=e.ls}))),!r.isEqual(zd.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Zd.waitFor(s).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(wd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?wd(r.ma):e.removedDocuments.size>0&&(wd(r.ma),r.ma=!1))})),await qm(n,e,t)}catch(e){await $d(e)}}function Dm(e,t,n){const r=kd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=kd(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&Cm(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Om(e,t,n){const r=kd(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),a=i&&i.key;if(a){let e=new yu(Hd.comparator);e=e.insert(a,eh.newNoDocument(a,zd.min()));const n=nf().add(a),i=new Zf(zd.min(),new Map,new yu(Ld),e,n);await Lm(r,i),r.wa=r.wa.remove(a),r.Sa.delete(t),Xm(r)}else await bg(r.localStore,t,!1).then((()=>Wm(r,t,n))).catch($d)}async function zm(e,t){const n=kd(e),r=t.batch.batchId;try{const e=await function(e,t){const n=kd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=Zd.resolve();return a.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);wd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=nf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Um(n,r,null),Bm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qm(n,e)}catch(e){await $d(e)}}async function Gm(e,t,n){const r=kd(e);try{const e=await function(e,t){const n=kd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(wd(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Um(r,t,n),Bm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await qm(r,e)}catch(n){await $d(n)}}function Bm(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function Um(e,t,n){const r=kd(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Wm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||Hm(e,t)}))}function Hm(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(Wg(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Xm(e))}function Vm(e,t,n){for(const r of n)r instanceof Pm?(e.ba.addReference(r.key,t),Ym(e,r)):r instanceof Em?(md("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Hm(e,r.key)):xd()}function Ym(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(md("SyncEngine","New document in limbo: "+n),e.ya.add(r),Xm(e))}function Xm(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new Hd(Bd.fromString(t)),r=e.va.next();e.Sa.set(r,new Im(n)),e.wa=e.wa.insert(n,r),Ug(e.remoteStore,new Gp(Rh(Nh(n.path)),r,"TargetPurposeLimboResolution",cu._e))}}async function qm(e,t,n){const r=kd(e),i=[],a=[],s=[];r.ga.isEmpty()||(r.ga.forEach(((e,o)=>{s.push(r.Ma(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=lg.Ki(o.targetId,e);a.push(t)}})))})),await Promise.all(s),r.fa.u_(i),await async function(e,t){const n=kd(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Zd.forEach(t,(t=>Zd.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Zd.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!iu(e))throw e;md("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,a))}async function Km(e,t){const n=kd(e);if(!n.currentUser.isEqual(t)){md("SyncEngine","User change. New user:",t.toKey());const e=await fg(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new Sd(_d.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await qm(n,e.us)}}function Qm(e,t){const n=kd(e),r=n.Sa.get(t);if(r&&r.ma)return nf().add(r.key);{let e=nf();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}function Jm(e){const t=kd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Om.bind(null,t),t.fa.u_=_m.bind(null,t.eventManager),t.fa.xa=Sm.bind(null,t.eventManager),t}function $m(e){const t=kd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gm.bind(null,t),t}class Zm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Mg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return hg(this.persistence,new dg,e.initialUser,this.serializer)}createPersistence(e){return new ag(og.Hr,this.serializer)}createSharedClientState(e){return new kg}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ev{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Dm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Km.bind(null,this.syncEngine),await um(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xm}createDatastore(e){const t=Mg(e.databaseInfo.databaseId),n=function(e){return new Ng(e)}(e.databaseInfo);return function(e,t,n,r){return new Dg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new zg(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Dm(this.syncEngine,e,0)),Sg.D()?new Sg:new _g)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new Mm(e,t,n,r,i,a);return s&&(o.Fa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=kd(e);md("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Bg(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class tv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):vd("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class nv{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=hd.UNAUTHENTICATED,this.clientId=jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{md("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(md("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Sd(_d.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=gm(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function rv(e,t){e.asyncQueue.verifyOperationInProgress(),md("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await fg(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function iv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await sv(e);md("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>dm(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>dm(t.remoteStore,n))),e._onlineComponents=t}function av(e){return"FirebaseError"===e.name?e.code===_d.FAILED_PRECONDITION||e.code===_d.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function sv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){md("FirestoreClient","Using user provided OfflineComponentProvider");try{await rv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!av(n))throw n;bd("Error using user provided cache. Falling back to memory cache: "+n),await rv(e,new Zm)}}else md("FirestoreClient","Using default OfflineComponentProvider"),await rv(e,new Zm);return e._offlineComponents}async function ov(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(md("FirestoreClient","Using user provided OnlineComponentProvider"),await iv(e,e._uninitializedComponentsProvider._online)):(md("FirestoreClient","Using default OnlineComponentProvider"),await iv(e,new ev))),e._onlineComponents}function lv(e){return ov(e).then((e=>e.syncEngine))}async function cv(e){const t=await ov(e),n=t.eventManager;return n.onListen=Fm.bind(null,t.syncEngine),n.onUnlisten=jm.bind(null,t.syncEngine),n}function dv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Cd;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new tv({next:a=>{t.enqueueAndForget((()=>km(e,s)));const o=a.docs.has(n);!o&&a.fromCache?i.reject(new Sd(_d.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&a.fromCache&&r&&"server"===r.source?i.reject(new Sd(_d.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new Am(Nh(n.path),a,{includeMetadataChanges:!0,Z_:!0});return wm(e,s)}(await cv(e),e.asyncQueue,t,n,r))),r.promise}function uv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Cd;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new tv({next:n=>{t.enqueueAndForget((()=>km(e,s))),n.fromCache&&"server"===r.source?i.reject(new Sd(_d.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Am(n,a,{includeMetadataChanges:!0,Z_:!0});return wm(e,s)}(await cv(e),e.asyncQueue,t,n,r))),r.promise}function hv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const fv=new Map;function pv(e,t,n){if(!n)throw new Sd(_d.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function gv(e){if(!Hd.isDocumentKey(e))throw new Sd(_d.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function mv(e){if(Hd.isDocumentKey(e))throw new Sd(_d.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function vv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":xd()}function bv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Sd(_d.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vv(e);throw new Sd(_d.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class yv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Sd(_d.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Sd(_d.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Sd(_d.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Sd(_d.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Sd(_d.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Sd(_d.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Sd(_d.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Sd(_d.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Pd;switch(e.type){case"firstParty":return new Id(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Sd(_d.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fv.get(e);t&&(md("ComponentProvider","Removing Datastore"),fv.delete(e),t.terminate())}(this),Promise.resolve()}}class wv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new wv(this.firestore,e,this._query)}}class kv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _v(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kv(this.firestore,e,this._key)}}class _v extends wv{constructor(e,t,n){super(e,t,Nh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kv(this.firestore,null,new Hd(e))}withConverter(e){return new _v(this.firestore,e,this._path)}}function Sv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_t(e),pv("collection","path",t),e instanceof xv){const n=Bd.fromString(t,...r);return mv(n),new _v(e,null,n)}{if(!(e instanceof kv||e instanceof _v))throw new Sd(_d.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bd.fromString(t,...r));return mv(n),new _v(e.firestore,null,n)}}function Cv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_t(e),1===arguments.length&&(t=jd.newId()),pv("doc","path",t),e instanceof xv){const n=Bd.fromString(t,...r);return gv(n),new kv(e,null,new Hd(n))}{if(!(e instanceof kv||e instanceof _v))throw new Sd(_d.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bd.fromString(t,...r));return gv(n),new kv(e.firestore,e instanceof _v?e.converter:null,new Hd(n))}}class Av{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Fg(this,"async_queue_retry"),this._u=()=>{const e=Ig();e&&md("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=Ig();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=Ig();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new Cd;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(OG){if(!iu(OG))throw OG;md("AsyncQueue","Operation failed with retryable error: "+OG)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vd("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=pm.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&xd()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}class Pv extends xv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Av,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Nv(this),this._firestoreClient.terminate()}}function Ev(e,t){const n="string"==typeof e?e:t||"(default)",r=cn("object"==typeof e?e:pn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ye("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=bv(e,xv))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==s&&bd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=hd.MOCK_USER;else{t=Qe(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Sd(_d.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new hd(a)}e._authCredentials=new Ed(new Ad(t,n))}}(r,...e)}return r}function Tv(e){return e._firestoreClient||Nv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Nv(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Ru(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,hv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new nv(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Iv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Iv(Au.fromBase64String(e))}catch(e){throw new Sd(_d.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Iv(Au.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Sd(_d.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wd(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fv{constructor(e){this._methodName=e}}class Rv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Sd(_d.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Sd(_d.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ld(this._lat,e._lat)||Ld(this._long,e._long)}}const jv=/^__.*__$/;class Lv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Mf(e,this.data,this.fieldMask,t,this.fieldTransforms):new If(e,this.data,t,this.fieldTransforms)}}class Dv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Mf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ov(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xd()}}class zv{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new zv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return rb(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(Ov(this.du)&&jv.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Gv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Mg(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zv({du:e,methodName:t,wu:n,path:Wd.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bv(e){const t=e._freezeSettings(),n=Mg(e._databaseId);return new Gv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Uv(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Su(a.merge||a.mergeFields?2:0,t,n,i);Zv("Data must be an object, but it was:",s,r);const o=Jv(r,s);let l,c;if(a.merge)l=new Su(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=eb(t,r,n);if(!s.contains(i))throw new Sd(_d.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ib(e,i)||e.push(i)}l=new Su(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Lv(new $u(o),l,c)}class Wv extends Fv{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wv}}function Hv(e,t,n){return new zv({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Vv extends Fv{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=Hv(this,e,!0),n=this.bu.map((e=>Qv(e,t))),r=new pf(n);return new wf(e.path,r)}isEqual(e){return e instanceof Vv&&ft(this.bu,e.bu)}}class Yv extends Fv{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=Hv(this,e,!0),n=this.bu.map((e=>Qv(e,t))),r=new mf(n);return new wf(e.path,r)}isEqual(e){return e instanceof Yv&&ft(this.bu,e.bu)}}function Xv(e,t,n,r){const i=e.Su(1,t,n);Zv("Data must be an object, but it was:",i,r);const a=[],s=$u.empty();vu(r,((e,r)=>{const o=nb(t,e,n);r=_t(r);const l=i.fu(o);if(r instanceof Wv)a.push(o);else{const e=Qv(r,l);null!=e&&(a.push(o),s.set(o,e))}}));const o=new Su(a);return new Dv(s,o,i.fieldTransforms)}function qv(e,t,n,r,i,a){const s=e.Su(1,t,n),o=[eb(t,r,n)],l=[i];if(a.length%2!=0)throw new Sd(_d.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<a.length;h+=2)o.push(eb(t,a[h])),l.push(a[h+1]);const c=[],d=$u.empty();for(let h=o.length-1;h>=0;--h)if(!ib(c,o[h])){const e=o[h];let t=l[h];t=_t(t);const n=s.fu(e);if(t instanceof Wv)c.push(e);else{const r=Qv(t,n);null!=r&&(c.push(e),d.set(e,r))}}const u=new Su(c);return new Dv(d,u,s.fieldTransforms)}function Kv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Qv(n,e.Su(r?4:3,t))}function Qv(e,t){if($v(e=_t(e)))return Zv("Unsupported field value:",t,e),Jv(e,t);if(e instanceof Fv)return function(e,t){if(!Ov(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Qv(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=_t(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Od.fromDate(e);return{timestampValue:fp(t.serializer,n)}}if(e instanceof Od){const n=new Od(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fp(t.serializer,n)}}if(e instanceof Rv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Iv)return{bytesValue:pp(t.serializer,e._byteString)};if(e instanceof kv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:vp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(vv(e)))}(e,t)}function Jv(e,t){const n={};return bu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vu(e,((e,r)=>{const i=Qv(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $v(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Od||e instanceof Rv||e instanceof Iv||e instanceof kv||e instanceof Fv)}function Zv(e,t,n){if(!$v(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=vv(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function eb(e,t,n){if((t=_t(t))instanceof Mv)return t._internalPath;if("string"==typeof t)return nb(e,t);throw rb("Field path arguments must be of type string or ",e,!1,void 0,n)}const tb=new RegExp("[~\\*/\\[\\]]");function nb(e,t,n){if(t.search(tb)>=0)throw rb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Mv(...t.split("."))._internalPath}catch(as){throw rb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rb(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Sd(_d.INVALID_ARGUMENT,o+e+l)}function ib(e,t){return e.some((e=>e.isEqual(t)))}class ab{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ob("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sb extends ab{data(){return super.data()}}function ob(e,t){return"string"==typeof t?nb(e,t):t instanceof Mv?t._internalPath:t._delegate._internalPath}function lb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Sd(_d.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cb{}class db extends cb{}function ub(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof cb&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof fb)).length,n=e.filter((e=>e instanceof hb)).length;if(t>1||t>0&&n>0)throw new Sd(_d.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class hb extends db{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new hb(e,t,n)}_apply(e){const t=this._parse(e);return mb(e._query,t),new wv(e.firestore,e.converter,Lh(e._query,t))}_parse(e){const t=Bv(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Sd(_d.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){gb(s,a);const t=[];for(const n of s)t.push(pb(r,e,n));o={arrayValue:{values:t}}}else o=pb(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||gb(s,a),o=Kv(n,t,s,"in"===a||"not-in"===a);return oh.create(i,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class fb extends cb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fb(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:lh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)mb(n,i),n=Lh(n,i)}(e._query,t),new wv(e.firestore,e.converter,Lh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function pb(e,t,n){if("string"==typeof(n=_t(n))){if(""===n)throw new Sd(_d.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mh(t)&&-1!==n.indexOf("/"))throw new Sd(_d.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Bd.fromString(n));if(!Hd.isDocumentKey(r))throw new Sd(_d.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Hu(e,new Hd(r))}if(n instanceof kv)return Hu(e,n._key);throw new Sd(_d.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(vv(n),"."))}function gb(e,t){if(!Array.isArray(e)||0===e.length)throw new Sd(_d.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function mb(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Sd(_d.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Sd(_d.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class vb{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Du(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xd()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return vu(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Rv(Tu(e.latitude),Tu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Mu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const t=Eu(e);return new Od(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Bd.fromString(e);wd(zp(n));const r=new ju(n.get(1),n.get(3)),i=new Hd(n.popFirst(5));return r.isEqual(t)||vd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function bb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class yb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xb extends ab{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new wb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ob("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class wb extends xb{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class kb{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yb(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new wb(this._firestore,this._userDataWriter,n.key,n,new yb(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Sd(_d.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new wb(e._firestore,e._userDataWriter,n.doc.key,n.doc,new yb(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new wb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:_b(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function _b(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xd()}}function Sb(e){e=bv(e,kv);const t=bv(e.firestore,Pv);return dv(Tv(t),e._key).then((n=>Mb(t,e,n)))}class Cb extends vb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kv(this.firestore,null,t)}}function Ab(e){e=bv(e,wv);const t=bv(e.firestore,Pv),n=Tv(t),r=new Cb(t);return lb(e._query),uv(n,e._query).then((n=>new kb(t,r,e,n)))}function Pb(e,t,n){e=bv(e,kv);const r=bv(e.firestore,Pv),i=bb(e.converter,t,n);return Ib(r,[Uv(Bv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,_f.none())])}function Eb(e,t,n){e=bv(e,kv);const r=bv(e.firestore,Pv),i=Bv(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=_t(t))||t instanceof Mv?qv(i,"updateDoc",e._key,t,n,o):Xv(i,"updateDoc",e._key,t),Ib(r,[a.toMutation(e._key,_f.exists(!0))])}function Tb(e){return Ib(bv(e.firestore,Pv),[new Lf(e._key,_f.none())])}function Nb(e,t){const n=bv(e.firestore,Pv),r=Cv(e),i=bb(e.converter,t);return Ib(n,[Uv(Bv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,_f.exists(!1))]).then((()=>r))}function Ib(e,t){return function(e,t){const n=new Cd;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=$m(e);try{const e=await function(e,t){const n=kd(e),r=Od.now(),i=t.reduce(((e,t)=>e.add(t.key)),nf());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Xh(),l=nf();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{a=i;const s=[];for(const e of t){const t=Tf(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new Mf(e.key,t,Zu(t.value.mapValue),_f.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Qh(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new yu(Ld)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await qm(r,e.changes),await tm(r.remoteStore)}catch(e){const t=gm(e,"Failed to persist write");n.reject(t)}}(await lv(e),t,n))),n.promise}(Tv(e),t)}function Mb(e,t,n){const r=n.docs.get(t._key),i=new Cb(e);return new xb(e,i,t._key,r,new yb(n.hasPendingWrites,n.fromCache),t.converter)}function Fb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Vv("arrayUnion",t)}function Rb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Yv("arrayRemove",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fd=e}(hn),ln(new St("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new Pv(new Td(e.getProvider("auth-internal")),new Fd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Sd(_d.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),gn(ud,"4.4.2",e),gn(ud,"4.4.2","esm2017")}();const jb="@firebase/database",Lb="1.0.3";let Db="";function Ob(e){Db=e}class zb{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ot(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:st(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Gb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ct(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Bb=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new zb(t)}}catch(OG){}return new Gb},Ub=Bb("localStorage"),Wb=Bb("sessionStorage"),Hb=new Rt("@firebase/database"),Vb=function(){let e=1;return function(){return e++}}(),Yb=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Fe(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new bt;n.update(t);const r=n.digest();return Le.encodeByteArray(r)},Xb=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Xb.apply(null,n):e+="object"===typeof n?ot(n):n,e+=" "}return e};let qb=null,Kb=!0;const Qb=function(e,t){Fe(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Hb.logLevel=Tt.VERBOSE,qb=Hb.log.bind(Hb),t&&Wb.set("logging_enabled",!0)):"function"===typeof e?qb=e:(qb=null,Wb.remove("logging_enabled"))},Jb=function(){if(!0===Kb&&(Kb=!1,null===qb&&!0===Wb.get("logging_enabled")&&Qb(!0)),qb){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Xb.apply(null,t);qb(r)}},$b=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Jb(e,...n)}},Zb=function(){const e="FIREBASE INTERNAL ERROR: "+Xb(...arguments);Hb.error(e)},ey=function(){const e="FIREBASE FATAL ERROR: ".concat(Xb(...arguments));throw Hb.error(e),new Error(e)},ty=function(){const e="FIREBASE WARNING: "+Xb(...arguments);Hb.warn(e)},ny=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ry="[MIN_NAME]",iy="[MAX_NAME]",ay=function(e,t){if(e===t)return 0;if(e===ry||t===iy)return-1;if(t===ry||e===iy)return 1;{const n=fy(e),r=fy(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},sy=function(e,t){return e===t?0:e<t?-1:1},oy=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ot(t))},ly=function(e){if("object"!==typeof e||null===e)return ot(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=ot(t[r]),n+=":",n+=ly(e[t[r]]);return n+="}",n},cy=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function dy(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const uy=function(e){Fe(!ny(e),"Invalid JSON number");const t=1023;let n,r,i,a,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=a+t,i=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const o=[];for(s=52;s;s-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)o.push(r%2?1:0),r=Math.floor(r/2);o.push(n?1:0),o.reverse();const l=o.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const hy=new RegExp("^-?(0*)\\d{1,10}$"),fy=function(e){if(hy.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},py=function(e){try{e()}catch(OG){setTimeout((()=>{const t=OG.stack||"";throw ty("Exception was thrown by user callback.",t),OG}),Math.floor(0))}},gy=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class my{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){ty('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class vy{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Jb("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ty(e)}}class by{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}by.OWNER="owner";const yy="5",xy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wy="ac",ky="websocket",_y="long_polling";class Sy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ub.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ub.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Cy(e,t,n){let r;if(Fe("string"===typeof t,"typeof type must == string"),Fe("object"===typeof n,"typeof params must == object"),t===ky)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==_y)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return dy(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Ay{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ct(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Be(this.counters_)}}const Py={},Ey={};function Ty(e){const t=e.toString();return Py[t]||(Py[t]=new Ay),Py[t]}class Ny{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&py((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Iy="start";class My{constructor(e,t,n,r,i,a,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=a,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$b(e),this.stats_=Ty(t),this.urlFn=e=>(this.appCheckToken&&(e[wy]=this.appCheckToken),Cy(t,_y,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ny(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(et()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fy((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,a,s,o,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Iy)n.id=a,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,a]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Iy]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=yy,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[wy]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&xy.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){My.forceAllow_=!0}static forceDisallow(){My.forceDisallow_=!0}static isAvailable(){return!et()&&(!!My.forceAllow_||!My.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ot(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Oe(t),r=cy(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(et())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ot(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Fy{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,et())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Vb(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Fy.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(OG){Jb("frame writing exception"),OG.stack&&Jb(OG.stack),Jb(OG)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Jb("No IE domain setting required")}catch(OG){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){et()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Jb("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(OG){}}),Math.floor(1))}}let Ry=null;"undefined"!==typeof MozWebSocket?Ry=MozWebSocket:"undefined"!==typeof WebSocket&&(Ry=WebSocket);class jy{constructor(e,t,n,r,i,a,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$b(this.connId),this.stats_=Ty(t),this.connURL=jy.connectionURL_(t,a,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const a={};return a.v=yy,!et()&&"undefined"!==typeof location&&location.hostname&&xy.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[wy]=r),i&&(a.p=i),Cy(e,ky,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ub.set("previous_websocket_failure",!0);try{let e;if(et()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(yy,"/").concat(Db,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Ry(this.connURL,[],e)}catch(OG){this.log_("Error instantiating WebSocket.");const t=OG.message||OG.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){jy.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ry&&!jy.forceDisallow_}static previouslyFailed(){return Ub.isInMemoryStorage||!0===Ub.get("previous_websocket_failure")}markConnectionHealthy(){Ub.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=st(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Fe(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=ot(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=cy(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(OG){this.log_("Exception thrown from WebSocket.send():",OG.message||OG.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jy.responsesRequiredToBeHealthy=2,jy.healthyTimeout=3e4;class Ly{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[My,jy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=jy&&jy.isAvailable();let n=t&&!jy.previouslyFailed();if(e.webSocketOnly&&(t||ty("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[jy];else{const e=this.transports_=[];for(const t of Ly.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Ly.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ly.globalTransportInitialized_=!1;class Dy{constructor(e,t,n,r,i,a,s,o,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=a,this.onReady_=s,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$b("c:"+this.id+":"),this.transportManager_=new Ly(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=gy((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=oy("t",e),n=oy("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=oy("t",e),n=oy("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=oy("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Zb("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zb("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),yy!==n&&ty("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),gy((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gy((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ub.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Oy{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class zy{constructor(e){this.allowedEvents_=e,this.listeners_={},Fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Fe(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Gy extends zy{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||$e()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new Gy}getInitialEvent(e){return Fe("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const By=32,Uy=768;class Wy{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Hy(){return new Wy("")}function Vy(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Yy(e){return e.pieces_.length-e.pieceNum_}function Xy(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Wy(e.pieces_,t)}function qy(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ky(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Qy(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Wy(t,0)}function Jy(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Wy)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Wy(n,0)}function $y(e){return e.pieceNum_>=e.pieces_.length}function Zy(e,t){const n=Vy(e),r=Vy(t);if(null===n)return t;if(n===r)return Zy(Xy(e),Xy(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ex(e,t){if(Yy(e)!==Yy(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function tx(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Yy(e)>Yy(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class nx{constructor(e,t){this.errorPrefix_=t,this.parts_=Ky(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=kt(this.parts_[n]);rx(this)}}function rx(e){if(e.byteLength_>Uy)throw new Error(e.errorPrefix_+"has a key path longer than "+Uy+" bytes ("+e.byteLength_+").");if(e.parts_.length>By)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+By+") or object contains a cycle "+ix(e))}function ix(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class ax extends zy{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new ax}getInitialEvent(e){return Fe("visible"===e,"Unknown event type: "+e),[this.visible_]}}const sx=1e3;class ox extends Oy{constructor(e,t,n,r,i,a,s,o){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=s,this.authOverride_=o,this.id=ox.nextPersistentConnectionId_++,this.log_=$b("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sx,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o&&!et())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ax.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Gy.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(ot(i)),Fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Ke,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Fe(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const a=i.d,s=i.s;ox.warnOnListenWarnings_(a,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,a))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&ct(e,"w")){const n=dt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();ty("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=lt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=lt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ot(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Zb("Unrecognized action received from server: "+ot(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sx,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sx,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sx),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ox.nextConnectionId_++,i=this.lastSessionId;let a=!1,s=null;const o=function(){s?s.close():(a=!0,n())},l=function(e){Fe(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:o,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);a?Jb("getToken() completed but was canceled"):(Jb("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=l&&l.token,s=new Dy(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{ty(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Zb){this.log_("Failed to get token: "+Zb),a||(this.repoInfo_.nodeAdmin&&ty(Zb),o())}}}interrupt(e){Jb("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Jb("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ut(this.interruptReasons_)&&(this.reconnectDelay_=sx,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>ly(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Wy(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Jb("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Jb("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";et()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Db.replace(/\./g,"-")]=1,$e()?e["framework.cordova"]=1:Ze()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Gy.getInstance().currentlyOnline();return ut(this.interruptReasons_)&&e}}ox.nextPersistentConnectionId_=0,ox.nextConnectionId_=0;class lx{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new lx(e,t)}}class cx{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new lx(ry,e),r=new lx(ry,t);return 0!==this.compare(n,r)}minPost(){return lx.MIN}}let dx;class ux extends cx{static get __EMPTY_NODE(){return dx}static set __EMPTY_NODE(e){dx=e}compare(e,t){return ay(e.name,t.name)}isDefinedOn(e){throw Re("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return lx.MIN}maxPost(){return new lx(iy,dx)}makePost(e,t){return Fe("string"===typeof e,"KeyIndex indexValue must always be a string."),new lx(e,dx)}toString(){return".key"}}const hx=new ux;class fx{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else{if(0===a){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class px{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:px.RED,this.left=null!=r?r:gx.EMPTY_NODE,this.right=null!=i?i:gx.EMPTY_NODE}copy(e,t,n,r,i){return new px(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return gx.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return gx.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,px.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,px.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}px.RED=!0,px.BLACK=!1;class gx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gx.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new gx(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,px.BLACK,null,null))}remove(e){return new gx(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,px.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fx(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new fx(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new fx(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new fx(this.root_,null,this.comparator_,!0,e)}}function mx(e,t){return ay(e.name,t.name)}function vx(e,t){return ay(e,t)}let bx;gx.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new px(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const yx=function(e){return"number"===typeof e?"number:"+uy(e):"string:"+e},xx=function(e){if(e.isLeafNode()){const t=e.val();Fe("string"===typeof t||"number"===typeof t||"object"===typeof t&&ct(t,".sv"),"Priority must be a string or number.")}else Fe(e===bx||e.isEmpty(),"priority of unexpected type.");Fe(e===bx||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wx,kx,_x;class Sx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sx.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Fe(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),xx(this.priorityNode_)}static set __childrenNodeConstructor(e){wx=e}static get __childrenNodeConstructor(){return wx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Sx(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Sx.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $y(e)?this:".priority"===Vy(e)?this.priorityNode_:Sx.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Sx.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Vy(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Fe(".priority"!==n||1===Yy(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Sx.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xy(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yx(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?uy(this.value_):this.value_,this.lazyHash_=Yb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Sx.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Sx.__childrenNodeConstructor?-1:(Fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Sx.VALUE_TYPE_ORDER.indexOf(t),i=Sx.VALUE_TYPE_ORDER.indexOf(n);return Fe(r>=0,"Unknown leaf type: "+t),Fe(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Sx.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Cx=new class extends cx{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?ay(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return lx.MIN}maxPost(){return new lx(iy,new Sx("[PRIORITY-POST]",_x))}makePost(e,t){const n=kx(e);return new lx(t,new Sx("[PRIORITY-POST]",n))}toString(){return".priority"}},Ax=Math.log(2);class Px{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ax,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ex=function(e,t,n,r){e.sort(t);const i=function(t,r){const a=r-t;let s,o;if(0===a)return null;if(1===a)return s=e[t],o=n?n(s):s,new px(o,s.node,px.BLACK,null,null);{const l=parseInt(a/2,10)+t,c=i(t,l),d=i(l+1,r);return s=e[l],o=n?n(s):s,new px(o,s.node,px.BLACK,c,d)}},a=function(t){let r=null,a=null,s=e.length;const o=function(t,r){const a=s-t,o=s;s-=t;const c=i(a+1,o),d=e[a],u=n?n(d):d;l(new px(u,d.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(a=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?o(r,px.BLACK):(o(r,px.BLACK),o(r,px.RED))}return a}(new Px(e.length));return new gx(r||t,a)};let Tx;const Nx={};class Ix{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Fe(Nx&&Cx,"ChildrenNode.ts has not been loaded"),Tx=Tx||new Ix({".priority":Nx},{".priority":Cx}),Tx}get(e){const t=dt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof gx?t:null}hasIndex(e){return ct(this.indexSet_,e.toString())}addIndex(e,t){Fe(e!==hx,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(lx.Wrap);let a,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();a=r?Ex(n,e.getCompare()):Nx;const o=e.toString(),l=Object.assign({},this.indexSet_);l[o]=e;const c=Object.assign({},this.indexes_);return c[o]=a,new Ix(c,l)}addToIndexes(e,t){const n=ht(this.indexes_,((n,r)=>{const i=dt(this.indexSet_,r);if(Fe(i,"Missing index implementation for "+r),n===Nx){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(lx.Wrap);let a=r.getNext();for(;a;)a.name!==e.name&&n.push(a),a=r.getNext();return n.push(e),Ex(n,i.getCompare())}return Nx}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new lx(e.name,r))),i.insert(e,e.node)}}));return new Ix(n,this.indexSet_)}removeFromIndexes(e,t){const n=ht(this.indexes_,(n=>{if(n===Nx)return n;{const r=t.get(e.name);return r?n.remove(new lx(e.name,r)):n}}));return new Ix(n,this.indexSet_)}}let Mx;class Fx{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&xx(this.priorityNode_),this.children_.isEmpty()&&Fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Mx||(Mx=new Fx(new gx(vx),null,Ix.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Mx}updatePriority(e){return this.children_.isEmpty()?this:new Fx(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Mx:t}}getChild(e){const t=Vy(e);return null===t?this:this.getImmediateChild(t).getChild(Xy(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Fe(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new lx(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const a=r.isEmpty()?Mx:this.priorityNode_;return new Fx(r,a,i)}}updateChild(e,t){const n=Vy(e);if(null===n)return t;{Fe(".priority"!==Vy(e)||1===Yy(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Xy(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Cx,((a,s)=>{t[a]=s.val(e),n++,i&&Fx.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+yx(this.getPriority().val())+":"),this.forEachChild(Cx,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Yb(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new lx(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new lx(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new lx(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,lx.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,lx.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Rx?-1:0}withIndex(e){if(e===hx||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Fx(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===hx||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Cx),n=t.getIterator(Cx);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===hx?null:this.indexMap_.get(e.toString())}}Fx.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Rx=new class extends Fx{constructor(){super(new gx(vx),Fx.EMPTY_NODE,Ix.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Fx.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(lx,{MIN:{value:new lx(ry,Fx.EMPTY_NODE)},MAX:{value:new lx(iy,Rx)}}),ux.__EMPTY_NODE=Fx.EMPTY_NODE,Sx.__childrenNodeConstructor=Fx,bx=Rx,function(e){_x=e}(Rx);const jx=!0;function Lx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Fx.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Fe(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Sx(e,Lx(t))}if(e instanceof Array||!jx){let n=Fx.EMPTY_NODE;return dy(e,((t,r)=>{if(ct(e,t)&&"."!==t.substring(0,1)){const e=Lx(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Lx(t))}{const n=[];let r=!1;if(dy(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Lx(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new lx(e,i)))}})),0===n.length)return Fx.EMPTY_NODE;const i=Ex(n,mx,(e=>e.name),vx);if(r){const e=Ex(n,Cx.getCompare());return new Fx(i,Lx(t),new Ix({".priority":e},{".priority":Cx}))}return new Fx(i,Lx(t),Ix.Default)}}!function(e){kx=e}(Lx);class Dx extends cx{constructor(e){super(),this.indexPath_=e,Fe(!$y(e)&&".priority"!==Vy(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?ay(e.name,t.name):i}makePost(e,t){const n=Lx(e),r=Fx.EMPTY_NODE.updateChild(this.indexPath_,n);return new lx(t,r)}maxPost(){const e=Fx.EMPTY_NODE.updateChild(this.indexPath_,Rx);return new lx(iy,e)}toString(){return Ky(this.indexPath_,0).join("/")}}const Ox=new class extends cx{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?ay(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return lx.MIN}maxPost(){return lx.MAX}makePost(e,t){const n=Lx(e);return new lx(t,n)}toString(){return".value"}};function zx(e){return{type:"value",snapshotNode:e}}function Gx(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Bx(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ux(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Wx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Cx}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ry}hasEnd(){return this.endSet_}getIndexEndValue(){return Fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:iy}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Cx}copy(){const e=new Wx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Hx(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Cx?n="$priority":e.index_===Ox?n="$value":e.index_===hx?n="$key":(Fe(e.index_ instanceof Dx,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ot(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=ot(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+ot(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=ot(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+ot(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Vx(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Cx&&(t.i=e.index_.toString()),t}class Yx extends Oy{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=$b("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const a=Yx.getListenId_(e,n),s={};this.listens_[a]=s;const o=Hx(e._queryParams);this.restRequest_(i+".json",o,((e,t)=>{let o=t;if(404===e&&(o=null,e=null),null===e&&this.onDataUpdate_(i,o,!1,n),dt(this.listens_,a)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Yx.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Hx(e._queryParams),n=e._path.toString(),r=new Ke;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,a]=r;i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+gt(t);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=st(o.responseText)}catch(OG){ty("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&ty("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()}))}}class Xx{constructor(){this.rootNode_=Fx.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function qx(){return{value:null,children:new Map}}function Kx(e,t,n){if($y(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Vy(t);e.children.has(r)||e.children.set(r,qx());Kx(e.children.get(r),t=Xy(t),n)}}function Qx(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Qx(r,new Wy(t.toString()+"/"+e),n)}))}class Jx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&dy(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class $x{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Jx(e);const n=1e4+2e4*Math.random();gy(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;dy(e,((e,r)=>{r>0&&ct(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),gy(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Zx;function ew(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Zx||(Zx={}));class tw{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Zx.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if($y(this.path)){if(null!=this.affectedTree.value)return Fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Wy(e));return new tw(Hy(),t,this.revert)}}return Fe(Vy(this.path)===e,"operationForChild called for unrelated child."),new tw(Xy(this.path),this.affectedTree,this.revert)}}class nw{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Zx.OVERWRITE}operationForChild(e){return $y(this.path)?new nw(this.source,Hy(),this.snap.getImmediateChild(e)):new nw(this.source,Xy(this.path),this.snap)}}class rw{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Zx.MERGE}operationForChild(e){if($y(this.path)){const t=this.children.subtree(new Wy(e));return t.isEmpty()?null:t.value?new nw(this.source,Hy(),t.value):new rw(this.source,Hy(),t)}return Fe(Vy(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rw(this.source,Xy(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class iw{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($y(e))return this.isFullyInitialized()&&!this.filtered_;const t=Vy(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function aw(e,t,n,r,i,a){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Re("Should only compare child_ events.");const r=new lx(t.childName,t.snapshotNode),i=new lx(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function sw(e,t){return{eventCache:e,serverCache:t}}function ow(e,t,n,r){return sw(new iw(t,n,r),e.serverCache)}function lw(e,t,n,r){return sw(e.eventCache,new iw(t,n,r))}function cw(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function dw(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let uw;class hw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(uw||(uw=new gx(sy)),uw);this.value=e,this.children=t}static fromObject(e){let t=new hw(null);return dy(e,((e,n)=>{t=t.set(new Wy(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Hy(),value:this.value};if($y(e))return null;{const n=Vy(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Xy(e),t);if(null!=i){return{path:Jy(new Wy(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if($y(e))return this;{const t=Vy(e),n=this.children.get(t);return null!==n?n.subtree(Xy(e)):new hw(null)}}set(e,t){if($y(e))return new hw(t,this.children);{const n=Vy(e),r=(this.children.get(n)||new hw(null)).set(Xy(e),t),i=this.children.insert(n,r);return new hw(this.value,i)}}remove(e){if($y(e))return this.children.isEmpty()?new hw(null):new hw(null,this.children);{const t=Vy(e),n=this.children.get(t);if(n){const r=n.remove(Xy(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new hw(null):new hw(this.value,i)}return this}}get(e){if($y(e))return this.value;{const t=Vy(e),n=this.children.get(t);return n?n.get(Xy(e)):null}}setTree(e,t){if($y(e))return t;{const n=Vy(e),r=(this.children.get(n)||new hw(null)).setTree(Xy(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new hw(this.value,i)}}fold(e){return this.fold_(Hy(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Jy(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Hy(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if($y(e))return null;{const r=Vy(e),i=this.children.get(r);return i?i.findOnPath_(Xy(e),Jy(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Hy(),t)}foreachOnPath_(e,t,n){if($y(e))return this;{this.value&&n(t,this.value);const r=Vy(e),i=this.children.get(r);return i?i.foreachOnPath_(Xy(e),Jy(t,r),n):new hw(null)}}foreach(e){this.foreach_(Hy(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Jy(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class fw{constructor(e){this.writeTree_=e}static empty(){return new fw(new hw(null))}}function pw(e,t,n){if($y(t))return new fw(new hw(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let a=r.value;const s=Zy(i,t);return a=a.updateChild(s,n),new fw(e.writeTree_.set(i,a))}{const r=new hw(n),i=e.writeTree_.setTree(t,r);return new fw(i)}}}function gw(e,t,n){let r=e;return dy(n,((e,n)=>{r=pw(r,Jy(t,e),n)})),r}function mw(e,t){if($y(t))return fw.empty();{const n=e.writeTree_.setTree(t,new hw(null));return new fw(n)}}function vw(e,t){return null!=bw(e,t)}function bw(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Zy(n.path,t)):null}function yw(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Cx,((e,n)=>{t.push(new lx(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new lx(e,n.value))})),t}function xw(e,t){if($y(t))return e;{const n=bw(e,t);return new fw(null!=n?new hw(n):e.writeTree_.subtree(t))}}function ww(e){return e.writeTree_.isEmpty()}function kw(e,t){return _w(Hy(),e.writeTree_,t)}function _w(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Fe(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=_w(Jy(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Jy(e,".priority"),r)),n}}function Sw(e,t){return Dw(t,e)}function Cw(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Fe(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,a=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&Aw(t,r.path)?i=!1:tx(r.path,t.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=Ew(e.allWrites,Pw,Hy()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=mw(e.visibleWrites,r.path);else{dy(r.children,(t=>{e.visibleWrites=mw(e.visibleWrites,Jy(r.path,t))}))}return!0}return!1}function Aw(e,t){if(e.snap)return tx(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&tx(Jy(e.path,n),t))return!0;return!1}function Pw(e){return e.visible}function Ew(e,t,n){let r=fw.empty();for(let i=0;i<e.length;++i){const a=e[i];if(t(a)){const e=a.path;let t;if(a.snap)tx(n,e)?(t=Zy(n,e),r=pw(r,t,a.snap)):tx(e,n)&&(t=Zy(e,n),r=pw(r,Hy(),a.snap.getChild(t)));else{if(!a.children)throw Re("WriteRecord should have .snap or .children");if(tx(n,e))t=Zy(n,e),r=gw(r,t,a.children);else if(tx(e,n))if(t=Zy(e,n),$y(t))r=gw(r,Hy(),a.children);else{const e=dt(a.children,Vy(t));if(e){const n=e.getChild(Xy(t));r=pw(r,Hy(),n)}}}}}return r}function Tw(e,t,n,r,i){if(r||i){const a=xw(e.visibleWrites,t);if(!i&&ww(a))return n;if(i||null!=n||vw(a,Hy())){const a=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(tx(e.path,t)||tx(t,e.path))};return kw(Ew(e.allWrites,a,t),n||Fx.EMPTY_NODE)}return null}{const r=bw(e.visibleWrites,t);if(null!=r)return r;{const r=xw(e.visibleWrites,t);if(ww(r))return n;if(null!=n||vw(r,Hy())){return kw(r,n||Fx.EMPTY_NODE)}return null}}}function Nw(e,t,n,r){return Tw(e.writeTree,e.treePath,t,n,r)}function Iw(e,t){return function(e,t,n){let r=Fx.EMPTY_NODE;const i=bw(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Cx,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=xw(e.visibleWrites,t);return n.forEachChild(Cx,((e,t)=>{const n=kw(xw(i,new Wy(e)),t);r=r.updateImmediateChild(e,n)})),yw(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return yw(xw(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Mw(e,t,n,r){return function(e,t,n,r,i){Fe(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Jy(t,n);if(vw(e.visibleWrites,a))return null;{const t=xw(e.visibleWrites,a);return ww(t)?i.getChild(n):kw(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Fw(e,t){return function(e,t){return bw(e.visibleWrites,t)}(e.writeTree,Jy(e.treePath,t))}function Rw(e,t,n,r,i,a){return function(e,t,n,r,i,a,s){let o;const l=xw(e.visibleWrites,t),c=bw(l,Hy());if(null!=c)o=c;else{if(null==n)return[];o=kw(l,n)}if(o=o.withIndex(s),o.isEmpty()||o.isLeafNode())return[];{const e=[],t=s.getCompare(),n=a?o.getReverseIteratorFrom(r,s):o.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,a)}function jw(e,t,n){return function(e,t,n,r){const i=Jy(t,n),a=bw(e.visibleWrites,i);if(null!=a)return a;if(r.isCompleteForChild(n))return kw(xw(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Lw(e,t){return Dw(Jy(e.treePath,t),e.writeTree)}function Dw(e,t){return{treePath:e,writeTree:t}}class Ow{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Fe("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Fe(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ux(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Bx(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Gx(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Re("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ux(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const zw=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Gw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new iw(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jw(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:dw(this.viewCache_),i=Rw(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Bw(e,t,n,r,i){const a=new Ow;let s,o;if(n.type===Zx.OVERWRITE){const l=n;l.source.fromUser?s=Hw(e,t,l.path,l.snap,r,i,a):(Fe(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered()&&!$y(l.path),s=Ww(e,t,l.path,l.snap,r,i,o,a))}else if(n.type===Zx.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,a,s){let o=t;return r.foreach(((r,l)=>{const c=Jy(n,r);Vw(t,Vy(c))&&(o=Hw(e,o,c,l,i,a,s))})),r.foreach(((r,l)=>{const c=Jy(n,r);Vw(t,Vy(c))||(o=Hw(e,o,c,l,i,a,s))})),o}(e,t,l.path,l.children,r,i,a):(Fe(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),s=Xw(e,t,l.path,l.children,r,i,o,a))}else if(n.type===Zx.ACK_USER_WRITE){const o=n;s=o.revert?function(e,t,n,r,i,a){let s;if(null!=Fw(r,n))return t;{const o=new Gw(r,t,i),l=t.eventCache.getNode();let c;if($y(n)||".priority"===Vy(n)){let n;if(t.serverCache.isFullyInitialized())n=Nw(r,dw(t));else{const e=t.serverCache.getNode();Fe(e instanceof Fx,"serverChildren would be complete if leaf node"),n=Iw(r,e)}c=e.filter.updateFullNode(l,n,a)}else{const i=Vy(n);let d=jw(r,i,t.serverCache);null==d&&t.serverCache.isCompleteForChild(i)&&(d=l.getImmediateChild(i)),c=null!=d?e.filter.updateChild(l,i,d,Xy(n),o,a):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Fx.EMPTY_NODE,Xy(n),o,a):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Nw(r,dw(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,a)))}return s=t.serverCache.isFullyInitialized()||null!=Fw(r,Hy()),ow(t,c,s,e.filter.filtersNodes())}}(e,t,o.path,r,i,a):function(e,t,n,r,i,a,s){if(null!=Fw(i,n))return t;const o=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if($y(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ww(e,t,n,l.getNode().getChild(n),i,a,o,s);if($y(n)){let r=new hw(null);return l.getNode().forEachChild(hx,((e,t)=>{r=r.set(new Wy(e),t)})),Xw(e,t,n,r,i,a,o,s)}return t}{let c=new hw(null);return r.foreach(((e,t)=>{const r=Jy(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),Xw(e,t,n,c,i,a,o,s)}}(e,t,o.path,o.affectedTree,r,i,a)}else{if(n.type!==Zx.LISTEN_COMPLETE)throw Re("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const a=t.serverCache,s=lw(t,a.getNode(),a.isFullyInitialized()||$y(n),a.isFiltered());return Uw(e,s,n,r,zw,i)}(e,t,n.path,r,a)}const l=a.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=cw(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(zx(cw(t)))}}(t,s,l),{viewCache:s,changes:l}}function Uw(e,t,n,r,i,a){const s=t.eventCache;if(null!=Fw(r,n))return t;{let o,l;if($y(n))if(Fe(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=dw(t),i=Iw(r,n instanceof Fx?n:Fx.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),i,a)}else{const n=Nw(r,dw(t));o=e.filter.updateFullNode(t.eventCache.getNode(),n,a)}else{const c=Vy(n);if(".priority"===c){Fe(1===Yy(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const a=Mw(r,n,i,l);o=null!=a?e.filter.updatePriority(i,a):s.getNode()}else{const d=Xy(n);let u;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Mw(r,n,s.getNode(),l);u=null!=e?s.getNode().getImmediateChild(c).updateChild(d,e):s.getNode().getImmediateChild(c)}else u=jw(r,c,t.serverCache);o=null!=u?e.filter.updateChild(s.getNode(),c,u,d,i,a):s.getNode()}}return ow(t,o,s.isFullyInitialized()||$y(n),e.filter.filtersNodes())}}function Ww(e,t,n,r,i,a,s,o){const l=t.serverCache;let c;const d=s?e.filter:e.filter.getIndexedFilter();if($y(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),e,null)}else{const e=Vy(n);if(!l.isCompleteForPath(n)&&Yy(n)>1)return t;const i=Xy(n),a=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?d.updatePriority(l.getNode(),a):d.updateChild(l.getNode(),e,a,i,zw,null)}const u=lw(t,c,l.isFullyInitialized()||$y(n),d.filtersNodes());return Uw(e,u,n,i,new Gw(i,u,a),o)}function Hw(e,t,n,r,i,a,s){const o=t.eventCache;let l,c;const d=new Gw(i,t,a);if($y(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=ow(t,c,!0,e.filter.filtersNodes());else{const i=Vy(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=ow(t,c,o.isFullyInitialized(),o.isFiltered());else{const a=Xy(n),c=o.getNode().getImmediateChild(i);let u;if($y(a))u=r;else{const e=d.getCompleteChild(i);u=null!=e?".priority"===qy(a)&&e.getChild(Qy(a)).isEmpty()?e:e.updateChild(a,r):Fx.EMPTY_NODE}if(c.equals(u))l=t;else{l=ow(t,e.filter.updateChild(o.getNode(),i,u,a,d,s),o.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Vw(e,t){return e.eventCache.isCompleteForChild(t)}function Yw(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Xw(e,t,n,r,i,a,s,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=$y(n)?r:new hw(null).setTree(n,r);const d=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(d.hasChild(n)){const l=Yw(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ww(e,c,new Wy(n),l,i,a,s,o)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!d.hasChild(n)&&!l){const l=Yw(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ww(e,c,new Wy(n),l,i,a,s,o)}})),c}function qw(e,t){const n=dw(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!$y(t)&&!n.getImmediateChild(Vy(t)).isEmpty())?n.getChild(t):null}function Kw(e,t,n,r){t.type===Zx.MERGE&&null!==t.source.queryId&&(Fe(dw(e.viewCache_),"We should always have a full cache before handling merges"),Fe(cw(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,a=Bw(e.processor_,i,t,n,r);var s,o;return s=e.processor_,o=a.viewCache,Fe(o.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Fe(o.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Fe(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,Qw(e,a.changes,a.viewCache.eventCache.getNode(),null)}function Qw(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],a=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),aw(e,i,"child_removed",t,r,n),aw(e,i,"child_added",t,r,n),aw(e,i,"child_moved",a,r,n),aw(e,i,"child_changed",t,r,n),aw(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Jw,$w;function Zw(e,t,n,r){const i=t.source.queryId;if(null!==i){const a=e.views.get(i);return Fe(null!=a,"SyncTree gave us an op for an invalid query."),Kw(a,t,n,r)}{let i=[];for(const a of e.views.values())i=i.concat(Kw(a,t,n,r));return i}}function ek(e,t){let n=null;for(const r of e.views.values())n=n||qw(r,t);return n}class tk{constructor(e){this.listenProvider_=e,this.syncPointTree_=new hw(null),this.pendingWriteTree_={visibleWrites:fw.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nk(e,t,n,r,i){return function(e,t,n,r,i){Fe(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=pw(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ok(e,new nw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function rk(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Cw(e.pendingWriteTree_,t)){let t=new hw(null);return null!=r.snap?t=t.set(Hy(),!0):dy(r.children,(e=>{t=t.set(new Wy(e),!0)})),ok(e,new tw(r.path,t,n))}return[]}function ik(e,t,n){return ok(e,new nw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ak(e,t,n,r){const i=dk(e,r);if(null!=i){const r=uk(i),a=r.path,s=r.queryId,o=Zy(a,t);return hk(e,a,new nw(ew(s),o,n))}return[]}function sk(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=ek(n,Zy(e,t));if(r)return r}));return Tw(r,t,i,n,!0)}function ok(e,t){return lk(t,e.syncPointTree_,null,Sw(e.pendingWriteTree_,Hy()))}function lk(e,t,n,r){if($y(e.path))return ck(e,t,n,r);{const i=t.get(Hy());null==n&&null!=i&&(n=ek(i,Hy()));let a=[];const s=Vy(e.path),o=e.operationForChild(s),l=t.children.get(s);if(l&&o){const e=n?n.getImmediateChild(s):null,t=Lw(r,s);a=a.concat(lk(o,l,e,t))}return i&&(a=a.concat(Zw(i,e,r,n))),a}}function ck(e,t,n,r){const i=t.get(Hy());null==n&&null!=i&&(n=ek(i,Hy()));let a=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,o=Lw(r,t),l=e.operationForChild(t);l&&(a=a.concat(ck(l,i,s,o)))})),i&&(a=a.concat(Zw(i,e,r,n))),a}function dk(e,t){return e.tagToQueryMap.get(t)}function uk(e){const t=e.indexOf("$");return Fe(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Wy(e.substr(0,t))}}function hk(e,t,n){const r=e.syncPointTree_.get(t);Fe(r,"Missing sync point for query tag that we're tracking");return Zw(r,n,Sw(e.pendingWriteTree_,t),null)}class fk{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new fk(t)}node(){return this.node_}}class pk{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Jy(this.path_,e);return new pk(this.syncTree_,t)}node(){return sk(this.syncTree_,this.path_)}}const gk=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},mk=function(e,t,n){return e&&"object"===typeof e?(Fe(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?vk(e[".sv"],t,n):"object"===typeof e[".sv"]?bk(e[".sv"],t):void Fe(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},vk=function(e,t,n){if("timestamp"===e)return n.timestamp;Fe(!1,"Unexpected server value: "+e)},bk=function(e,t,n){e.hasOwnProperty("increment")||Fe(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Fe(!1,"Unexpected increment value: "+r);const i=t.node();if(Fe(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return"number"!==typeof a?r:a+r},yk=function(e,t,n,r){return wk(t,new pk(n,e),r)},xk=function(e,t,n){return wk(e,new fk(t),n)};function wk(e,t,n){const r=e.getPriority().val(),i=mk(r,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const r=e,a=mk(r.getValue(),t,n);return a!==r.getValue()||i!==r.getPriority().val()?new Sx(a,Lx(i)):e}{const r=e;return a=r,i!==r.getPriority().val()&&(a=a.updatePriority(new Sx(i))),r.forEachChild(Cx,((e,r)=>{const i=wk(r,t.getImmediateChild(e),n);i!==r&&(a=a.updateImmediateChild(e,i))})),a}}class kk{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function _k(e,t){let n=t instanceof Wy?t:new Wy(t),r=e,i=Vy(n);for(;null!==i;){const e=dt(r.node.children,i)||{children:{},childCount:0};r=new kk(i,r,e),n=Xy(n),i=Vy(n)}return r}function Sk(e){return e.node.value}function Ck(e,t){e.node.value=t,Nk(e)}function Ak(e){return e.node.childCount>0}function Pk(e,t){dy(e.node.children,((n,r)=>{t(new kk(n,e,r))}))}function Ek(e,t,n,r){n&&!r&&t(e),Pk(e,(e=>{Ek(e,t,!0,r)})),n&&r&&t(e)}function Tk(e){return new Wy(null===e.parent?e.name:Tk(e.parent)+"/"+e.name)}function Nk(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Sk(e)&&!Ak(e)}(n),i=ct(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Nk(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Nk(e))}(e.parent,e.name,e)}const Ik=/[\[\].#$\/\u0000-\u001F\u007F]/,Mk=/[\[\].#$\u0000-\u001F\u007F]/,Fk=10485760,Rk=function(e){return"string"===typeof e&&0!==e.length&&!Ik.test(e)},jk=function(e){return"string"===typeof e&&0!==e.length&&!Mk.test(e)},Lk=function(e,t,n){const r=n instanceof Wy?new nx(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+ix(r));if("function"===typeof t)throw new Error(e+"contains a function "+ix(r)+" with contents = "+t.toString());if(ny(t))throw new Error(e+"contains "+t.toString()+" "+ix(r));if("string"===typeof t&&t.length>Fk/3&&kt(t)>Fk)throw new Error(e+"contains a string greater than "+Fk+" utf8 bytes "+ix(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(dy(t,((t,a)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Rk(t)))throw new Error(e+" contains an invalid key ("+t+") "+ix(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=kt(t),rx(e)}(r,t),Lk(e,a,r),function(e){const t=e.parts_.pop();e.byteLength_-=kt(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+ix(r)+" in addition to actual children.")}},Dk=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Rk(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),jk(e)}(n))throw new Error(wt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ok{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zk(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],a=i.getPath();null===n||ex(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Gk(e,t,n){zk(e,n),Bk(e,(e=>tx(e,t)||tx(t,e)))}function Bk(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Uk(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Uk(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();qb&&Jb("event: "+n.toString()),py(r)}}}const Wk="repo_interrupt",Hk=25;class Vk{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ok,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qx(),this.transactionQueueTree_=new kk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Yk(e,t,n){if(e.stats_=Ty(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Yx(e.repoInfo_,((t,n,r,i)=>{Kk(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Qk(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ot(n)}catch(OG){throw new Error("Invalid authOverride provided: "+OG)}}e.persistentConnection_=new ox(e.repoInfo_,t,((t,n,r,i)=>{Kk(e,t,n,r,i)}),(t=>{Qk(e,t)}),(t=>{!function(e,t){dy(t,((t,n)=>{Jk(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Ey[n]||(Ey[n]=t()),Ey[n]}(e.repoInfo_,(()=>new $x(e.stats_,e.server_))),e.infoData_=new Xx,e.infoSyncTree_=new tk({startListening:(t,n,r,i)=>{let a=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(a=ik(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),a},stopListening:()=>{}}),Jk(e,"connected",!1),e.serverSyncTree_=new tk({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const a=i(n,r);Gk(e.eventQueue_,t._path,a)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Xk(e){const t=e.infoData_.getNode(new Wy(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function qk(e){return gk({timestamp:Xk(e)})}function Kk(e,t,n,r,i){e.dataUpdateCount++;const a=new Wy(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=ht(n,(e=>Lx(e)));s=function(e,t,n,r){const i=dk(e,r);if(i){const r=uk(i),a=r.path,s=r.queryId,o=Zy(a,t),l=hw.fromObject(n);return hk(e,a,new rw(ew(s),o,l))}return[]}(e.serverSyncTree_,a,t,i)}else{const t=Lx(n);s=ak(e.serverSyncTree_,a,t,i)}else if(r){const t=ht(n,(e=>Lx(e)));s=function(e,t,n){const r=hw.fromObject(n);return ok(e,new rw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,t)}else{const t=Lx(n);s=ik(e.serverSyncTree_,a,t)}let o=a;s.length>0&&(o=r_(e,a)),Gk(e.eventQueue_,o,s)}function Qk(e,t){Jk(e,"connected",t),!1===t&&function(e){e_(e,"onDisconnectEvents");const t=qk(e),n=qx();Qx(e.onDisconnect_,Hy(),((r,i)=>{const a=yk(r,i,e.serverSyncTree_,t);Kx(n,r,a)}));let r=[];Qx(n,Hy(),((t,n)=>{r=r.concat(ik(e.serverSyncTree_,t,n));const i=l_(e,t);r_(e,i)})),e.onDisconnect_=qx(),Gk(e.eventQueue_,Hy(),r)}(e)}function Jk(e,t,n){const r=new Wy("/.info/"+t),i=Lx(n);e.infoData_.updateSnapshot(r,i);const a=ik(e.infoSyncTree_,r,i);Gk(e.eventQueue_,r,a)}function $k(e){return e.nextWriteId_++}function Zk(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Wk)}function e_(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Jb(t,...r)}function t_(e,t,n){return sk(e.serverSyncTree_,t,n)||Fx.EMPTY_NODE}function n_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||o_(e,t),Sk(t)){const n=a_(e,t);Fe(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=t_(e,t,r);let a=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Fe(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Zy(t,e.path);a=a.updateChild(r,e.currentOutputSnapshotRaw)}const o=a.val(!0),l=t;e.server_.put(l.toString(),o,(r=>{e_(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(rk(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();o_(e,_k(e.transactionQueueTree_,t)),n_(e,e.transactionQueueTree_),Gk(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)py(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{ty("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}r_(e,t)}}),s)}(e,Tk(t),n)}else Ak(t)&&Pk(t,(t=>{n_(e,t)}))}function r_(e,t){const n=i_(e,t),r=Tk(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const a=t.filter((e=>0===e.status)),s=a.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const a=t[l],c=Zy(n,a.path);let d,u=!1;if(Fe(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)u=!0,d=a.abortReason,i=i.concat(rk(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=Hk)u=!0,d="maxretry",i=i.concat(rk(e.serverSyncTree_,a.currentWriteId,!0));else{const n=t_(e,a.path,s);a.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Lk("transaction failed: Data returned ",r,a.path);let t=Lx(r);"object"===typeof r&&null!=r&&ct(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=a.currentWriteId,l=qk(e),c=xk(t,n,l);a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=c,a.currentWriteId=$k(e),s.splice(s.indexOf(o),1),i=i.concat(nk(e.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally)),i=i.concat(rk(e.serverSyncTree_,o,!0))}else u=!0,d="nodata",i=i.concat(rk(e.serverSyncTree_,a.currentWriteId,!0))}Gk(e.eventQueue_,n,i),i=[],u&&(t[l].status=2,o=t[l].unwatcher,setTimeout(o,Math.floor(0)),t[l].onComplete&&("nodata"===d?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(d),!1,null)))))}var o;o_(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)py(r[l]);n_(e,e.transactionQueueTree_)}(e,a_(e,n),r),r}function i_(e,t){let n,r=e.transactionQueueTree_;for(n=Vy(t);null!==n&&void 0===Sk(r);)r=_k(r,n),n=Vy(t=Xy(t));return r}function a_(e,t){const n=[];return s_(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function s_(e,t,n){const r=Sk(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Pk(t,(t=>{s_(e,t,n)}))}function o_(e,t){const n=Sk(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ck(t,n.length>0?n:void 0)}Pk(t,(t=>{o_(e,t)}))}function l_(e,t){const n=Tk(i_(e,t)),r=_k(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{c_(e,t)})),c_(e,r),Ek(r,(t=>{c_(e,t)})),n}function c_(e,t){const n=Sk(t);if(n){const r=[];let i=[],a=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Fe(a===t-1,"All SENT items should be at beginning of queue."),a=t,n[t].status=3,n[t].abortReason="set"):(Fe(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(rk(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Ck(t,void 0):n.length=a+1,Gk(e.eventQueue_,Tk(t),i);for(let e=0;e<r.length;e++)py(r[e])}}const d_=function(e,t){const n=u_(e),r=n.namespace;"firebase.com"===n.domain&&ey(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||ey("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ty("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Sy(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Wy(n.pathString)}},u_=function(e){let t="",n="",r="",i="",a="",s=!0,o="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(o=e.substring(0,c-1),e=e.substring(c+2));let d=e.indexOf("/");-1===d&&(d=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(d,u)),d<u&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(OG){}t+="/"+e}return t}(e.substring(d,u)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ty("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,u)));c=t.indexOf(":"),c>=0?(s="https"===o||"wss"===o,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:o,pathString:i,namespace:a}},h_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class f_{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return $y(this._path)?null:qy(this._path)}get ref(){return new p_(this._repo,this._path)}get _queryIdentifier(){const e=Vx(this._queryParams),t=ly(e);return"{}"===t?"default":t}get _queryObject(){return Vx(this._queryParams)}isEqual(e){if(!((e=_t(e))instanceof f_))return!1;const t=this._repo===e._repo,n=ex(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class p_ extends f_{constructor(e,t){super(e,t,new Wx,!1)}get parent(){const e=Qy(this._path);return null===e?null:new p_(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}!function(e){Fe(!Jw,"__referenceConstructor has already been defined"),Jw=e}(p_),function(e){Fe(!$w,"__referenceConstructor has already been defined"),$w=e}(p_);const g_="FIREBASE_DATABASE_EMULATOR_HOST",m_={};let v_=!1;function b_(e,t,n,r,i){let a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||ey("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jb("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,o,l=d_(a,i),c=l.repoInfo;"undefined"!==typeof process&&(o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[g_]),o?(s=!0,a="http://".concat(o,"?ns=").concat(c.namespace),l=d_(a,i),c=l.repoInfo):s=!l.repoInfo.secure;const d=i&&s?new by(by.OWNER):new vy(e.name,e.options,t);Dk("Invalid Firebase Database URL",l),$y(l.path)||ey("Database URL must point to the root of a Firebase Database (not including a child path).");const u=function(e,t,n,r){let i=m_[t.name];i||(i={},m_[t.name]=i);let a=i[e.toURLString()];a&&ey("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Vk(e,v_,n,r),i[e.toURLString()]=a,a}(c,e,d,new my(e.name,n));return new y_(u,e)}class y_{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Yk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new p_(this._repo,Hy())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=m_[t];n&&n[e.key]===e||ey("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Zk(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ey("Cannot call "+e+" on a deleted database.")}}ox.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ox.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Ob(hn),ln(new St("database",((e,t)=>{let{instanceIdentifier:n}=t;return b_(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),gn(jb,Lb,e),gn(jb,Lb,"esm2017")}();const x_="functions";class w_{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(OG){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(OG){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const k_="us-central1";class __{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:k_,a=arguments.length>5?arguments[5]:void 0;this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new w_(t,n,r),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(i);this.customDomain=e.origin,this.region=k_}catch(OG){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}const S_="@firebase/functions",C_="0.11.1";!function(e,t){ln(new St(x_,((t,n)=>{let{instanceIdentifier:r}=n;const i=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),s=t.getProvider("messaging-internal"),o=t.getProvider("app-check-internal");return new __(i,a,s,o,r,e)}),"PUBLIC").setMultipleInstances(!0)),gn(S_,C_,t),gn(S_,C_,"esm2017")}(fetch.bind(self));const A_="firebasestorage.googleapis.com",P_="storageBucket";class E_ extends rt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(I_(e),"Firebase Storage: ".concat(t," (").concat(I_(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,E_.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return I_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var T_,N_;function I_(e){return"storage/"+e}function M_(){return new E_(T_.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function F_(){return new E_(T_.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R_(){return new E_(T_.CANCELED,"User canceled the upload/download.")}function j_(){return new E_(T_.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function L_(e){return new E_(T_.INVALID_ARGUMENT,e)}function D_(){return new E_(T_.APP_DELETED,"The Firebase app was deleted.")}function O_(e,t){return new E_(T_.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function z_(e){throw new E_(T_.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(T_||(T_={}));class G_{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=G_.makeFromUrl(e,t)}catch(OG){return new G_(e,"")}if(""===n.path)return n;throw r=e,new E_(T_.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(t===A_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new G_(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new E_(T_.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class B_{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function U_(e){return"string"===typeof e||e instanceof String}function W_(e){return H_()&&e instanceof Blob}function H_(){return"undefined"!==typeof Blob}function V_(e,t,n,r){if(r<t)throw L_("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw L_("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Y_(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function X_(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function q_(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(N_||(N_={}));class K_{constructor(e,t,n,r,i,a,s,o,l,c,d){let u=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.retry=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Q_(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===N_.NO_ERROR,i=n.getStatus();if(!t||q_(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===N_.ABORT;return void e(!1,new Q_(!1,null,t))}const a=-1!==this.successCodes_.indexOf(i);e(!0,new Q_(a,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(OG){r(OG)}else if(null!==i){const e=M_();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?D_():R_())}else{r(F_())}};this.canceled_?t(0,new Q_(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return 2===o}let c=!1;function d(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function u(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){a&&clearTimeout(a)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void d.call(null,e,...n);if(l()||s)return h(),void d.call(null,e,...n);let a;r<64&&(r*=2),1===o?(o=2,a=0):a=1e3*(r+Math.random()),u(a)}let p=!1;function g(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),u(0)):e||(o=1)))}return u(0),a=setTimeout((()=>{s=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Q_{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function J_(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function $_(){const e=J_();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(H_())return new Blob(n);throw new E_(T_.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Z_(e){if("undefined"===typeof atob)throw t="base-64",new E_(T_.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const eS={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tS{constructor(e,t){this.data=e,this.contentType=t||null}}function nS(e,t){switch(e){case eS.RAW:return new tS(rS(t));case eS.BASE64:case eS.BASE64URL:return new tS(iS(e,t));case eS.DATA_URL:return new tS(function(e){const t=new aS(e);return t.base64?iS(eS.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(OG){throw O_(eS.DATA_URL,"Malformed data URL.")}return rS(t)}(t.rest)}(t),new aS(t).contentType)}throw M_()}function rS(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function iS(e,t){switch(e){case eS.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw O_(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case eS.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw O_(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Z_(t)}catch(OG){if(OG.message.includes("polyfill"))throw OG;throw O_(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class aS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw O_(eS.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class sS{constructor(e,t){let n=0,r="";W_(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(W_(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new sS(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new sS(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(H_()){const e=t.map((e=>e instanceof sS?e.data_:e));return new sS($_.apply(null,e))}{const e=t.map((e=>U_(e)?nS(eS.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new sS(r,!0)}}uploadData(){return this.data_}}function oS(e){let t;try{t=JSON.parse(e)}catch(OG){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function lS(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function cS(e,t){return t}class dS{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||cS}}let uS=null;function hS(){if(uS)return uS;const e=[];e.push(new dS("bucket")),e.push(new dS("generation")),e.push(new dS("metageneration")),e.push(new dS("name","fullPath",!0));const t=new dS("name");t.xform=function(e,t){return function(e){return!U_(e)||e.length<2?e:lS(e)}(t)},e.push(t);const n=new dS("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new dS("timeCreated")),e.push(new dS("updated")),e.push(new dS("md5Hash",null,!0)),e.push(new dS("cacheControl",null,!0)),e.push(new dS("contentDisposition",null,!0)),e.push(new dS("contentEncoding",null,!0)),e.push(new dS("contentLanguage",null,!0)),e.push(new dS("contentType",null,!0)),e.push(new dS("metadata","customMetadata",!0)),uS=e,uS}function fS(e,t,n){const r={type:"file"},i=n.length;for(let a=0;a<i;a++){const e=n[a];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new G_(n,r);return t._makeStorageReference(i)}})}(r,e),r}function pS(e,t,n){const r=oS(t);if(null===r)return null;return fS(e,r,n)}function gS(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class mS{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vS(e){if(!e)throw M_()}function bS(e,t){return function(n,r){const i=pS(e,r,t);return vS(null!==i),i}}function yS(e,t){return function(n,r){const i=pS(e,r,t);return vS(null!==i),function(e,t,n,r){const i=oS(t);if(null===i)return null;if(!U_(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const s=encodeURIComponent;return a.split(",").map((t=>{const i=e.bucket,a=e.fullPath;return Y_("/b/"+s(i)+"/o/"+s(a),n,r)+X_({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function xS(e){return function(t,n){let r;var i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new E_(T_.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new E_(T_.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new E_(T_.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new E_(T_.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function wS(e){const t=xS(e);return function(n,r){let i=t(n,r);var a;return 404===n.getStatus()&&(a=e.path,i=new E_(T_.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function kS(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function _S(e,t,n,r,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+o;const l=kS(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+gS(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",d="\r\n--"+o+"--",u=sS.getBlob(c,r,d);if(null===u)throw j_();const h={name:l.fullPath},f=Y_(a,e.host,e._protocol),p=e.maxUploadRetryTime,g=new mS(f,"POST",bS(e,n),p);return g.urlParams=h,g.headers=s,g.body=u.uploadData(),g.errorHandler=xS(t),g}let SS=null;class CS{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=N_.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=N_.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=N_.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw z_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw z_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw z_("cannot .getStatus() before sending");try{return this.xhr_.status}catch(OG){return-1}}getResponse(){if(!this.sent_)throw z_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw z_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class AS extends CS{initXhr(){this.xhr_.responseType="text"}}function PS(){return SS?SS():new AS}class ES{constructor(e,t){this._service=e,this._location=t instanceof G_?t:G_.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ES(e,t)}get root(){const e=new G_(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lS(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new G_(this._location.bucket,e);return new ES(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new E_(T_.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function TS(e,t,n){e._throwIfRoot("uploadBytes");const r=_S(e.storage,e._location,hS(),new sS(t,!0),n);return e.storage.makeRequestWithTokens(r,PS).then((t=>({metadata:t,ref:e})))}function NS(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Y_(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new mS(r,"GET",yS(e,n),i);return a.errorHandler=wS(t),a}(e.storage,e._location,hS());return e.storage.makeRequestWithTokens(t,PS).then((e=>{if(null===e)throw new E_(T_.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function IS(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Y_(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new mS(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=wS(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,PS)}function MS(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new G_(e._location.bucket,n);return new ES(e.storage,r)}function FS(e,t){if(e instanceof LS){const n=e;if(null==n._bucket)throw new E_(T_.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+P_+"' property when initializing the app?");const r=new ES(n,n._bucket);return null!=t?FS(r,t):r}return void 0!==t?MS(e,t):e}function RS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof LS)return new ES(e,t);throw L_("To use ref(service, url), the first argument must be a Storage instance.")}return FS(e,t)}function jS(e,t){const n=null===t||void 0===t?void 0:t[P_];return null==n?null:G_.makeFromBucketSpec(n,e)}class LS{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=A_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?G_.makeFromBucketSpec(r,this._host):jS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=G_.makeFromBucketSpec(this._url,e):this._bucket=jS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){V_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){V_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ES(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new B_(D_());{const a=function(e,t,n,r,i,a){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=X_(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new K_(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then((()=>this._requests.delete(a)),(()=>this._requests.delete(a))),a}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const DS="@firebase/storage",OS="0.12.1",zS="storage";function GS(e,t,n){return TS(e=_t(e),t,n)}function BS(e){return NS(e=_t(e))}function US(e,t){return RS(e=_t(e),t)}function WS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn(),t=arguments.length>1?arguments[1]:void 0;e=_t(e);const n=cn(e,zS).getImmediate({identifier:t}),r=Ye("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Qe(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function HS(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new LS(r,i,a,n,hn)}ln(new St(zS,HS,"PUBLIC").setMultipleInstances(!0)),gn(DS,OS,""),gn(DS,OS,"esm2017");const VS="users",YS="pendingRegistrations",XS="classRooms",qS="assessments",KS="scenarios",QS="schools",JS="grades",$S="templates",ZS="questionaires",eC="modules",tC=fn({apiKey:"AIzaSyBVclQhxRiKdjTlRRsuqCvu4Ji_lwHm56s",authDomain:"virtualedu-54837.firebaseapp.com",databaseURL:"https://virtualedu-54837-default-rtdb.firebaseio.com",projectId:"virtualedu-54837",storageBucket:"virtualedu-54837.appspot.com",messagingSenderId:"3368073778",appId:"1:3368073778:web:b767758719c67298e59a2b",measurementId:"G-DQ0CB6F6HR"}),nC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();const t=cn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=cn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ft(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Rn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:za,persistence:[qi,Ii,Fi]}),r=qe("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Wa)return;const r=null===t||void 0===t?void 0:t.token;Ha!==r&&(Ha=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){_t(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){_t(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const a=Ve("auth");return a&&Yr(n,"http://".concat(a)),n}(tC),rC=Ev(tC),iC=WS(tC),aC=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn(),t=arguments.length>1?arguments[1]:void 0;const n=cn(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Ye("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=_t(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&ey("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ey('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new by(by.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Qe(r.mockUserToken,e.app.options.projectId);a=new by(t)}!function(e,t,n,r){e.repoInfo_=new Sy("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}(n,...e)}}(tC),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k_;const n=cn(_t(e),x_).getImmediate({identifier:t}),r=Ye("functions");r&&function(e,t,n){!function(e,t,n){e.emulatorOrigin="http://".concat(t,":").concat(n)}(_t(e),t,n)}(n,...r)}(tC),e.createContext());function sC(){return(0,e.useContext)(aC)}function oC(t){let{children:n}=t;const[i,a]=(0,e.useState)();(0,e.useEffect)((()=>{console.log(i?"User is logged in":"User is not logged in")}),[i]),(0,e.useEffect)((()=>{const e=function(e,t,n,r){return _t(e).onAuthStateChanged(t,n,r)}(nC,(e=>{a(e),console.log(e?"User has logged in":"User has logged out")}));return e}),[]);const s={currentUser:i,login:async function(e,t){return await function(e,t,n){return ki(_t(e),oi.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ci(e),t}))}(nC,e,t)},logout:async function(){return await function(e){return _t(e).signOut()}(nC)},register:async function(e,t){return await async function(e,t,n){const r=Or(e),i=Vr(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pi),a=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ci(e),t})),s=await gi._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}(nC,e,t)}};return(0,r.jsx)(aC.Provider,{value:s,children:n})}const lC=async()=>[...(await Ab(Sv(rC,VS))).docs.map((e=>({id:e.id,...e.data(),isPending:!1}))),...(await Ab(Sv(rC,YS))).docs.map((e=>({id:e.id,...e.data(),isPending:!0})))],cC=async e=>{const t=US(iC,e);try{return await BS(t)}catch(Zb){return console.error(Zb),null}},dC=async(e,t)=>{const n=US(iC,"".concat(t,"/").concat(e.name));try{await GS(n,e)}catch(OG){console.error("Error uploading file to firebase: "+OG)}},uC=async(e,t)=>{const n=US(iC,"".concat(t,"/").concat(e));try{return await function(e){return IS(e=_t(e))}(n),!0}catch(Zb){return console.error("Error deleting file",Zb),!1}},hC=async(e,t)=>{const n=await Nb(Sv(rC,XS),t),r=Cv(rC,VS,e);return await Eb(r,{attendingClasses:Fb(n.id)}),n.id},fC=async(e,t)=>{if(!e||""===e)return console.error("Fetch data object called with empty id: "+t),null;console.log(e);const n=Cv(rC,t,e),r=await Sb(n);return r.exists()?{id:e,...r.data()}:(console.error("Doc was empty!"),null)},pC=async(e,t)=>{if(!e||e.length<=0)return[];const n=await Promise.all(e.map((async e=>await fC(e,t))));return n.filter((e=>null!==e))},gC=async e=>{try{const t=await Ab(Sv(rC,e));return t.docs.map((e=>e.id))}catch(Zb){return console.error("Error getting document IDs: ",Zb),[]}},mC=async(e,t,n)=>{const r={...e};if(delete r.id,n){const e=Cv(Sv(rC,t),n);return await Pb(e,r),n}return(await Nb(Sv(rC,t),r)).id},vC=async(e,t,n)=>{const r={...n};delete r.id;const i=Cv(rC,t,e);await Eb(i,r)},bC=async(e,t)=>{const n=Cv(rC,t,e);await Tb(n)},yC=(0,e.createContext)();function xC(){return(0,e.useContext)(yC)}function wC(t){let{children:n}=t;const[i,a]=(0,e.useState)(null);return(0,e.useEffect)((()=>nC.onAuthStateChanged((async e=>{if(console.log(e?"User logged in":"User logged out"),e){const t=await fC(e.uid,VS);a(t)}else a(null)}))),[]),(0,r.jsx)(yC.Provider,{value:i,children:n})}const kC=()=>{const t=(0,e.useRef)(),n=(0,e.useRef)(),{login:i}=sC(),[s,o]=(0,e.useState)(""),[l,c]=(0,e.useState)(!1),{showNotification:d}=a(),u=ie(),h=xC();return(0,e.useEffect)((()=>{h&&u("/main")}),[h]),(0,r.jsx)("section",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen flex flex-col items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:[(0,r.jsx)("img",{className:"w-60 h-70 mb-8",src:Te,alt:"Courseta Logo"}),(0,r.jsx)("div",{className:"w-full min-w-[500px] bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[(0,r.jsx)("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Sign in to your account"}),s&&(0,r.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,r.jsx)("strong",{className:"font-bold",children:"Error! "}),(0,r.jsx)("span",{className:"block sm:inline",children:s})]}),(0,r.jsxs)("form",{className:"space-y-4 md:space-y-6",onSubmit:async function(e){e.preventDefault();try{o(""),c(!0);const e=await i(t.current.value,n.current.value);console.log("Successfully logged in!",e.user.uid),d("success","Login was successful!")}catch(r){o("Failed to sign in. Please check your email and password."),console.error(r)}c(!1)},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),(0,r.jsx)("input",{ref:t,type:"email",id:"email",autoComplete:"username",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"name@company.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),(0,r.jsx)("input",{ref:n,type:"password",id:"password",autoComplete:"current-password",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,r.jsx)("button",{type:"submit",disabled:l,className:"w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center disabled:bg-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:l?"Signing in...":"Sign in"})]}),(0,r.jsxs)("div",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Forgot your password?",(0,r.jsx)("a",{href:"/forgotpassword",onClick:e=>{e.preventDefault(),u("/forgotpassword")},className:"font-medium text-blue-600 hover:underline dark:text-blue-500",children:"Click here!"})]})]})})]})})};function _C(){const e=ie();return(0,r.jsx)("div",{className:"bg-white dark:bg-gray-900 h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"mb-4 text-7xl tracking-tight font-extrabold lg:text-9xl text-primary-600 dark:text-primary-500",children:"404"}),(0,r.jsx)("p",{className:"mb-4 text-3xl tracking-tight font-bold text-gray-900 md:text-4xl dark:text-white",children:"Something's missing."}),(0,r.jsx)("p",{className:"mb-4 text-lg font-light text-gray-500 dark:text-gray-400",children:"Sorry, we can't find that page. But don't worry, you'll find lots to explore on our other pages. "}),(0,r.jsx)("button",{onClick:()=>e(-1),className:"inline-flex text-white bg-primary-600 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:focus:ring-primary-900 my-4",children:"Return to previous page"})]})})}const SC=e=>{let{roles:t}=e;const n=xC();return n?t&&t.length>0&&!t.includes(n.roleName)?(0,r.jsx)(ye,{to:"/unauthorized"}):(0,r.jsx)(xe,{}):(0,r.jsx)(ye,{to:"/signin"})},CC=__webpack_require__.p+"static/media/22.91db70ac48abf695d34f.png";function AC(){const t=xC(),{showNotification:n}=a(),[i,s]=(0,e.useState)(null),[o,l]=(ie(),(0,e.useState)([])),[c,d]=(0,e.useState)([]),[u,h]=(0,e.useState)(""),[f,p]=(0,e.useState)(""),[g,m]=(0,e.useState)("");(0,e.useEffect)((()=>{null!==t&&void 0!==t&&t.attendingClasses&&Promise.all(null===t||void 0===t?void 0:t.attendingClasses.map((e=>(async e=>{const t=Cv(rC,"classRooms",e),n=await Sb(t);return n.exists()?{id:n.id,...n.data()}:(console.error("Classroom not found:",e),null)})(e)))).then((e=>l(e))).catch((e=>{console.error("Error fetching class names:",e),n("danger","Failed to fetch class names")}))}),[null===t||void 0===t?void 0:t.attendingClasses,n]),(0,e.useEffect)((()=>{null!==t&&void 0!==t&&t.grades&&Promise.all(null===t||void 0===t?void 0:t.grades.map((e=>(async e=>{const t=Cv(rC,"grades",e),n=await Sb(t);return n.exists()?{id:n.id,...n.data()}:(console.error("Grade not found:",e),null)})(e)))).then((e=>d(e))).catch((e=>{console.error("Error fetching grades:",e),n("danger","Failed to fetch grades")}))}),[null===t||void 0===t?void 0:t.grades,n]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{class:"grid grid-cols-1 px-4 pt-6 xl:grid-cols-3 xl:gap-4 dark:bg-gray-900",children:[(0,r.jsx)("div",{class:"mb-4 col-span-full xl:mb-2",children:(0,r.jsx)("h1",{class:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white",children:"User settings"})}),(0,r.jsxs)("div",{class:"col-span-full xl:col-auto",children:[(0,r.jsx)("div",{class:"p-4 mb-4 bg-white border border-gray-200 rounded-lg shadow-sm 2xl:col-span-2 dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:(0,r.jsxs)("div",{class:"items-center sm:flex xl:block 2xl:flex sm:space-x-4 xl:space-x-0 2xl:space-x-4",children:[(0,r.jsx)("img",{className:"object-cover w-36 h-36 rounded-lg",src:(null===t||void 0===t?void 0:t.photo_url)||CC,alt:"Profile"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{class:"mb-1 text-xl font-bold text-gray-900 dark:text-white",children:"Profile picture"}),(0,r.jsx)("div",{class:"mb-4 text-sm text-gray-500 dark:text-gray-400"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("input",{type:"file",onChange:async e=>{const r=e.target.files[0];if(!r)return;const i=US(iC,"profileImages/".concat(t.id));try{await GS(i,r);const e=await BS(i);await Eb(Cv(rC,"users",t.id),{photo_url:e}),n("success","Profile picture uploaded successfully.")}catch(Zb){console.error("Error uploading profile picture:",Zb),n("danger","Failed to upload profile picture.")}},className:"hidden",id:"upload-profile-picture",accept:"image/*"}),(0,r.jsx)("label",{htmlFor:"upload-profile-picture",className:"cursor-pointer inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Upload picture"})]})]})]})}),(0,r.jsxs)("div",{className:"p-4 mb-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold dark:text-white",children:"Attending Classes"}),(0,r.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o.map(((e,t)=>(0,r.jsx)("li",{className:"py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsxs)("svg",{className:"w-5 h-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,r.jsx)("path",{d:"M4 2a1 1 0 011-1h10a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V2z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011 1v11a1 1 0 001 1h10a1 1 0 001-1V6a1 1 0 112 0v11a3 3 0 01-3 3H5a3 3 0 01-3-3V6a1 1 0 011-1z",clipRule:"evenodd"})]})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("span",{className:"block text-base font-semibold text-gray-900 truncate dark:text-white",children:e.className})})]})},t)))})]}),(0,r.jsxs)("div",{className:"p-4 mb-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold dark:text-white",children:"Recent Grades"}),(0,r.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:c.map(((e,t)=>(0,r.jsx)("li",{className:"py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsxs)("svg",{className:"w-5 h-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M2 5a2 2 0 012-2h12a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V5z",clipRule:"evenodd"}),(0,r.jsx)("path",{d:"M4 9h12v2H4z"})]})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("span",{className:"block text-base font-semibold text-gray-900 truncate dark:text-white",children:(null===e||void 0===e?void 0:e.assessmentID)||"No Grades yet"})})]})},t)))})]})]}),(0,r.jsxs)("div",{class:"col-span-2",children:[(0,r.jsxs)("div",{class:"p-4 mb-4 bg-white border border-gray-200 rounded-lg shadow-sm 2xl:col-span-2 dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:[(0,r.jsx)("h3",{class:"mb-4 text-xl font-semibold dark:text-white",children:"General information"}),(0,r.jsx)("form",{action:"#",children:(0,r.jsxs)("div",{class:"grid grid-cols-6 gap-6",children:[(0,r.jsxs)("div",{class:"col-span-6 sm:col-span-3",children:[(0,r.jsx)("label",{for:"first-name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"First Name"}),(0,r.jsx)("input",{type:"text",name:"first-name",id:"first-name",disabled:!0,class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:null===t||void 0===t?void 0:t.firstName,required:!0})]}),(0,r.jsxs)("div",{class:"col-span-6 sm:col-span-3",children:[(0,r.jsx)("label",{for:"last-name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Last Name"}),(0,r.jsx)("input",{type:"text",name:"last-name",id:"last-name",disabled:!0,class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:null===t||void 0===t?void 0:t.lastName,required:!0})]}),(0,r.jsxs)("div",{class:"col-span-6 sm:col-span-3",children:[(0,r.jsx)("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",id:"email",disabled:!0,class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:null===t||void 0===t?void 0:t.email,required:!0})]}),(0,r.jsxs)("div",{class:"col-span-6 sm:col-span-3",children:[(0,r.jsx)("label",{for:"organization",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Organization"}),(0,r.jsx)("input",{type:"text",name:"organization",id:"organization",disabled:!0,class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:null===t||void 0===t?void 0:t.schoolName,required:!0})]}),(0,r.jsxs)("div",{class:"col-span-6 sm:col-span-3",children:[(0,r.jsx)("label",{for:"role",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Role"}),(0,r.jsx)("input",{type:"text",name:"role",id:"role",disabled:!0,class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:null===t||void 0===t?void 0:t.roleName,required:!0})]})]})})]}),(0,r.jsxs)("div",{class:"p-4 mb-4 bg-white border border-gray-200 rounded-lg shadow-sm 2xl:col-span-2 dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:[(0,r.jsx)("h3",{class:"mb-4 text-xl font-semibold dark:text-white",children:"Password information"}),(0,r.jsx)("form",{action:"#",onSubmit:async e=>{if(e.preventDefault(),f!==g)return void n("danger","New passwords do not match.");const t=nC.currentUser,r=oi.credential(t.email,u);try{await _i(t,r),await function(e,t){return Pi(_t(e),null,t)}(t,f),n("success","Password updated successfully!"),h(""),p(""),m("")}catch(Zb){n("danger","Failed to update password. "+Zb.message),console.error("Error updating password:",Zb)}},children:(0,r.jsxs)("div",{class:"grid grid-cols-6 gap-6",children:[(0,r.jsxs)("div",{class:"col-span-6 sm:col-span-3",children:[(0,r.jsx)("label",{for:"current-password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Current password"}),(0,r.jsx)("input",{type:"password",name:"current-password",id:"current-password",value:u,onChange:e=>h(e.target.value),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0})]}),(0,r.jsxs)("div",{class:"col-span-6 sm:col-span-3",children:[(0,r.jsx)("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"New password"}),(0,r.jsx)("input",{type:"password",name:"new-password",id:"new-password",value:f,onChange:e=>p(e.target.value),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0}),(0,r.jsxs)("div",{"data-popover":!0,id:"popover-password",role:"tooltip",class:"absolute z-10 invisible inline-block text-sm font-light text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 w-72 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400",children:[(0,r.jsxs)("div",{class:"p-3 space-y-2",children:[(0,r.jsx)("h3",{class:"font-semibold text-gray-900 dark:text-white",children:"Must have at least 6 characters"}),(0,r.jsxs)("div",{class:"grid grid-cols-4 gap-2",children:[(0,r.jsx)("div",{class:"h-1 bg-orange-300 dark:bg-orange-400"}),(0,r.jsx)("div",{class:"h-1 bg-orange-300 dark:bg-orange-400"}),(0,r.jsx)("div",{class:"h-1 bg-gray-200 dark:bg-gray-600"}),(0,r.jsx)("div",{class:"h-1 bg-gray-200 dark:bg-gray-600"})]}),(0,r.jsx)("p",{children:"It\u2019s better to have:"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{class:"flex items-center mb-1",children:[(0,r.jsx)("svg",{class:"w-4 h-4 mr-2 text-green-400 dark:text-green-500","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})}),"Upper & lower case letters"]}),(0,r.jsxs)("li",{class:"flex items-center mb-1",children:[(0,r.jsx)("svg",{class:"w-4 h-4 mr-2 text-gray-300 dark:text-gray-400","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})}),"A symbol (#$&)"]}),(0,r.jsxs)("li",{class:"flex items-center",children:[(0,r.jsx)("svg",{class:"w-4 h-4 mr-2 text-gray-300 dark:text-gray-400","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})}),"A longer password (min. 12 chars.)"]})]})]}),(0,r.jsx)("div",{"data-popper-arrow":!0})]})]}),(0,r.jsxs)("div",{class:"col-span-6 sm:col-span-3",children:[(0,r.jsx)("label",{for:"confirm-password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Confirm password"}),(0,r.jsx)("input",{type:"password",name:"confirm-password",id:"confirm-password",value:g,onChange:e=>m(e.target.value),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0})]}),(0,r.jsx)("div",{class:"col-span-6 sm:col-full",children:(0,r.jsx)("button",{class:"text-white bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",type:"submit",children:"Confirm new Password"})})]})})]})]})]})})}var PC=__webpack_require__(2580);const EC={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let TC;const NC=new Uint8Array(16);function IC(){if(!TC&&(TC="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!TC))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return TC(NC)}const MC=[];for(let IU=0;IU<256;++IU)MC.push((IU+256).toString(16).slice(1));function FC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return MC[e[t+0]]+MC[e[t+1]]+MC[e[t+2]]+MC[e[t+3]]+"-"+MC[e[t+4]]+MC[e[t+5]]+"-"+MC[e[t+6]]+MC[e[t+7]]+"-"+MC[e[t+8]]+MC[e[t+9]]+"-"+MC[e[t+10]]+MC[e[t+11]]+MC[e[t+12]]+MC[e[t+13]]+MC[e[t+14]]+MC[e[t+15]]}const RC=function(e,t,n){if(EC.randomUUID&&!t&&!e)return EC.randomUUID();const r=(e=e||{}).random||(e.rng||IC)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return FC(r)},jC=(0,e.createContext)();function LC(){return(0,e.useContext)(jC)}function DC(t){let{children:n}=t;const[i,a]=(0,e.useState)([]),[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(null),[d,u]=(0,e.useState)([]),[h,f]=(0,e.useState)([]),[p,g]=(0,e.useState)([]),[m,v]=(0,e.useState)([]),[b,y]=(0,e.useState)([]),[x,w]=(0,e.useState)([]),k=xC();(0,e.useEffect)((()=>{(async()=>{if(k){const t=await pC(k.attendingClasses,XS);if(a(t),k.schoolID){const e=await fC(k.schoolID,QS);c(e)}if("Student"===k.roleName)g([k]);else if("Admin"===k.roleName){const e=await lC();g(e)}if("Teacher"===k.roleName||"Admin"===k.roleName){var e;const t=await gC(QS),n=await pC(t,QS);if(u(n),(null===(e=k.templates)||void 0===e?void 0:e.length)>0){const e=await pC(k.templates,$S);y(e)}}const n=await gC(ZS),r=await pC(n,ZS);w(r)}})()}),[k]),(0,e.useEffect)((()=>{(async()=>{if((null===i||void 0===i?void 0:i.length)>0){const e=i.map((async e=>await pC(e.assessments,qS))),t=(await Promise.all(e)).flat();v(t)}})()}),[i]),(0,e.useEffect)((()=>{(async()=>{if(p.length>0){const e=await Promise.all(p.map((async e=>{const t=await pC(e.grades,JS);return[e.id,t]}))),t=Object.fromEntries(e);console.log(t),o(t)}})()}),[p]),(0,e.useEffect)((()=>{(async()=>{if(l){if("Teacher"===k.roleName){const e=await pC(l.attendees,VS);g(e)}const e=await pC(l.availableScenarios,KS);f(e)}})()}),[l]);return(0,r.jsx)(jC.Provider,{value:{courses:i,grades:s,setGrades:o,school:l,schools:d,setCourses:a,users:p,assignments:m,templates:b,setTemplates:y,scenarios:h,getUserData:e=>p.find((t=>t.id==e)),getUserListData:e=>p.filter((t=>e.includes(t.id))),addCourse:async e=>{const t={className:e,schoolID:k.schoolID,attendees:[k.id]},n=await hC(k.id,t);a([...i,{...t,id:n}])},deleteCourse:async e=>{const t=p.map((t=>{const n=Array.isArray(t.attendingClasses)?t.attendingClasses.filter((t=>t!==e.id)):[];return{...t,attendingClasses:n}}));if(g(t),a(i.filter((t=>t.id!==e.id))),Array.isArray(e.attendees))for(const n of e.attendees)await vC(n,VS,{attendingClasses:Rb(e.id)});await bC(e.id,XS)},deleteTemplate:async e=>{const t=b.filter((t=>t.id!==e));console.log(t),y(t),await bC(e,$S),await vC(k.id,VS,{templates:Rb(e)})},addUser:async e=>{const t=RC();await mC(e,YS,t),g([...p,{...e,isPending:!0,id:t}]),console.log("Pending registration added with token: ",t)},deleteUser:async e=>{if(e.isPending)await bC(e.id,YS),g(p.filter((t=>t.id!==e.id)));else{if(await vC(l.id,QS,{attendees:Rb(e.id)}),c({...l,attendees:l.attendees.filter((t=>t!==e.id))}),Array.isArray(e.attendingClasses))for(const t of e.attendingClasses)await vC(t,XS,{attendees:Rb(e.id)});else console.log("No attending classes for user with ID ".concat(e.id));a(i.map((t=>Array.isArray(e.attendingClasses)&&e.attendingClasses.includes(t.id)?{...t,attendees:t.attendees.filter((t=>t!==e.id))}:t))),await bC(e.id,VS),g(p.filter((t=>t.id!==e.id)))}},questionnaires:x,setScenarios:f,setSchool:c},children:n})}function OC(t){var n,i,s;let{onClose:o,currentUser:l}=t;const{showNotification:c}=a(),d=["Admin","Teacher","Student"],u={Admin:"1212",Teacher:"33",Student:"22"},{schools:h,addUser:f}=LC(),[p,g]=(0,e.useState)({firstName:"",lastName:"",email:"",roleName:"",roleID:"",schoolName:"",schoolID:""}),[m,v]=(0,e.useState)([]),b="Admin"===l.roleName?d:d.filter((e=>"Admin"!==e)),[y,x]=(0,e.useState)(!1);(0,e.useEffect)((()=>{const e=p.roleName&&p.roleID,t=p.schoolName&&p.schoolID;x(e&&t)}),[p.roleName,p.roleID,p.schoolName,p.schoolID]),(0,e.useEffect)((()=>{console.log(p)}),[p]);return(0,r.jsx)("div",{id:"createUserdefaultModal",tabIndex:"-1","aria-hidden":"true",className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center ".concat(o?"":"hidden"),children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen relative p-4 w-full max-w-2xl h-full md:h-auto",children:(0,r.jsxs)("div",{className:"relative p-4 w-full max-w-2xl h-full md:h-auto bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center pb-4 mb-4 rounded-t border-b sm:mb-5 dark:border-gray-600",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Add user"}),(0,r.jsxs)("button",{onClick:o,type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"createUserdefaultModal",children:[(0,r.jsx)("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),(0,r.jsx)("span",{className:"sr-only",children:"Close modal"})]})]}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await f(p),g({}),c("success","User added successfully and pending registration created!")}catch(Zb){console.error("Error adding pending registration: ",Zb),c("danger","Failed to add pending registration.")}},children:[(0,r.jsxs)("div",{className:"grid gap-4 mb-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"firstname",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Firstname"}),(0,r.jsx)("input",{type:"text",name:"firstname",id:"firstname",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"John",required:!0,value:null!==(n=p.firstName)&&void 0!==n?n:"",onChange:e=>{g({...p,firstName:e.target.value})}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"lastname",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Lastname"}),(0,r.jsx)("input",{type:"text",name:"lastname",id:"lastname",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Doe",required:!0,value:null!==(i=p.lastName)&&void 0!==i?i:"",onChange:e=>g({...p,lastName:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",id:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"name@company.com",required:!0,value:null!==(s=p.email)&&void 0!==s?s:"",onChange:e=>g({...p,email:e.target.value})})]}),(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",htmlFor:"role",children:"Assign Role"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:b.map(((e,t)=>(0,r.jsxs)("div",{className:"flex items-center mr-4",children:[(0,r.jsx)("input",{id:"role-".concat(e),type:"radio",value:e,name:"role",className:"w-4 h-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800",onChange:()=>g({...p,roleName:e,roleID:u[e]}),checked:p.roleName===e}),(0,r.jsx)("label",{htmlFor:"role-".concat(e),className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:e})]},e)))})]}),(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",htmlFor:"school",children:"Assign School"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:"Admin"===(null===l||void 0===l?void 0:l.roleName)?h.map((e=>(0,r.jsxs)("div",{className:"flex items-center mr-4",children:[(0,r.jsx)("input",{id:"school-".concat(e.id),type:"radio",value:e.id,name:"schoolId",className:"w-4 h-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800",onChange:()=>g({...p,schoolName:e.name,schoolID:e.id}),checked:p.schoolID===e.id}),(0,r.jsx)("label",{htmlFor:"school-".concat(e.id),className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:e.name})]},e.id))):h.filter((e=>e.name===(null===l||void 0===l?void 0:l.schoolName))).map((e=>(0,r.jsxs)("div",{className:"flex items-center mr-4",children:[(0,r.jsx)("input",{id:"school-".concat(e.id),type:"radio",value:e.id,name:"schoolId",className:"w-4 h-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800",onChange:()=>g({...p,schoolName:e.name,schoolID:e.id}),checked:p.schoolID===e.id}),(0,r.jsx)("label",{htmlFor:"school-".concat(e.id),className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:e.name})]},e.id)))})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{type:"submit",disabled:!y,className:"w-full text-white bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Add user"}),(0,r.jsx)("button",{onClick:o,type:"button",className:"w-full inline-flex justify-center text-gray-500 items-center bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",children:"Discard"})]})]})]})})})}function zC(t){let{onClose:n,user:i,currentUserRole:s}=t;const{showNotification:o}=a(),l=(0,e.useRef)(),[c,d]=(0,e.useState)("");if((0,e.useEffect)((()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&n()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[n]),!i)return null;const u=async()=>{const e=await(async()=>{try{const e=Cv(Ev(),"pendingRegistrations",i.id);if(!(await Sb(e)).exists())return console.error("No pending registration found for the user."),void o("danger","No pending invitation found.");const t="http://courseta.com/#/register?token=".concat(i.id),n={url:t,handleCodeInApp:!0};return await Ai(nC,i.email,n),o("success","Invitation link has been sent!"),t}catch(Zb){return console.error("Error sending invitation link:",Zb),o("danger","Error sending the invitation link."),null}})();return d(e),e};return(0,r.jsx)("div",{id:"readUserModal",tabIndex:"-1","aria-hidden":"true",className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center",ref:l,children:(0,r.jsx)("div",{className:"relative p-4 max-w-2xl h-full md:h-auto",onClick:e=>e.stopPropagation(),children:(0,r.jsx)("div",{id:"readUserModal",tabindex:"-1","aria-hidden":"true",className:" items-center justify-center ".concat(i?"":"hidden"," w-full overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full"),children:(0,r.jsx)("div",{class:"relative  h-full max-w-3xl p-4 md:h-auto",children:(0,r.jsxs)("div",{class:"relative p-4 bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5",children:[(0,r.jsxs)("div",{class:"flex justify-between mb-4 rounded-t sm:mb-5",children:[(0,r.jsxs)("div",{class:"flex items-center",children:[(0,r.jsx)("img",{className:"w-36 h-36 mr-2 rounded-full sm:mr-4",src:(null===i||void 0===i?void 0:i.photo_url)||"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='36' height='36' fill='currentColor' class='bi bi-person-circle' viewBox='0 0 16 16'><path d='M13.468 12.37C12.853 11.19 11.34 10 8 10s-4.853 1.19-5.468 2.37C1.778 13.123 0 14.884 0 16.5V17h16v-.5c0-1.616-1.778-3.377-2.532-4.13z'/><path fill-rule='evenodd' d='M8 9a3 3 0 100-6 3 3 0 000 6z'/><path fill-rule='evenodd' d='M8 1a7 7 0 100 14A7 7 0 008 1zM1 8a7 7 0 1114 0A7 7 0 011 8z'/></svg>",alt:"Profile"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{class:"text-lg font-bold text-gray-900 md:text-xl dark:text-white",children:i.firstName+" "+i.lastName}),(0,r.jsx)("p",{class:"text-base font-light text-gray-500 dark:text-gray-400",children:i.roleName})]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("button",{type:"button",onClick:n,class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 inline-flex dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"readUserModal",children:[(0,r.jsx)("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})}),(0,r.jsx)("span",{class:"sr-only",children:"Close modal"})]})})]}),(0,r.jsx)("div",{class:"grid gap-4 mb-4 sm:grid-cols-2 sm:gap-6 sm:mb-5",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{class:"sr-only",children:"Role"}),(0,r.jsxs)("dd",{class:"flex items-center mb-2 font-light text-gray-500 dark:text-gray-400",children:[(0,r.jsxs)("svg",{class:"w-4 h-4 mr-1.5 text-gray-400 dark:text-gray-500","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z","clip-rule":"evenodd"}),(0,r.jsx)("path",{d:"M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"})]}),i.email]}),(0,r.jsx)("dt",{class:"sr-only",children:"School"}),(0,r.jsxs)("dd",{class:"flex items-center mb-4 font-light text-gray-500 dark:text-gray-400 sm:mb-5",children:[(0,r.jsx)("svg",{class:"w-4 h-4 mr-1.5 text-gray-400 dark:text-gray-500","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})}),i.schoolName]}),"Admin"===i.roleName?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("dt",{className:"mb-2 leading-none text-gray-500 dark:text-gray-400",children:"Database ID"}),(0,r.jsx)("dd",{className:"mb-4 font-medium text-gray-900 sm:mb-5 dark:text-white",children:i.id})]}):null]})}),(0,r.jsxs)("div",{class:"flex items-center justify-between",children:[(0,r.jsxs)("div",{class:"flex items-center space-x-3 sm:space-x-4",children:["Student"!==s&&(0,r.jsx)("button",{onClick:async()=>{try{const e=Cv(Ev(),"pendingRegistrations",i.id),t=await Sb(e);if(await u()&&o("success","Invitation link has been generated!"),!t.exists())return console.error("No pending registration found for the user."),void o("danger","No pending invitation found.");const n={url:"http://coursetavr.com/#/register?token=".concat(i.id),handleCodeInApp:!0};await Ai(nC,i.email,n),o("success","Invitation link has been sent!")}catch(Zb){console.error("Error sending invitation link:",Zb),o("danger","Error sending the invitation link.")}},type:"button",className:"text-white inline-flex items-center bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Send Invite Link"}),c&&(0,r.jsxs)("div",{className:"text-center p-4 mb-4 text-sm text-blue-700 bg-blue-100 rounded-lg dark:bg-blue-200 dark:text-blue-800",role:"alert",children:[(0,r.jsx)("span",{className:"font-medium",children:"Invitation URL: "})," ",c]})]}),(0,r.jsx)("div",{class:"flex items-center space-x-3 sm:space-x-4",children:(0,r.jsxs)("a",{href:"mailto:".concat(i.email),class:"text-white inline-flex items-center bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:[(0,r.jsxs)("svg",{"aria-hidden":"true",class:"w-5 h-5 mr-1 -ml-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule":"evenodd"})]}),"Send Email"]})})]})]})})})})})}var GC=__webpack_require__(3751);const BC="-";function UC(e){const t=function(e){const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]},i=function(e,t){if(!t)return e;return e.map((e=>{let[n,r]=e;return[n,r.map((e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;return[t+n,r]}))):e))]}))}(Object.entries(e.classGroups),n);return i.forEach((e=>{let[n,i]=e;VC(i,r,n,t)})),r}(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:function(e){const n=e.split(BC);return""===n[0]&&1!==n.length&&n.shift(),WC(n,t)||function(e){if(HC.test(e)){const t=HC.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}(e)},getConflictingClassGroupIds:function(e,t){const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}}function WC(e,t){var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),a=i?WC(e.slice(1),i):void 0;if(a)return a;if(0===t.validators.length)return;const s=e.join(BC);return null===(n=t.validators.find((e=>{let{validator:t}=e;return t(s)})))||void 0===n?void 0:n.classGroupId}const HC=/^\[(.+)\]$/;function VC(e,t,n,r){e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return e.isThemeGetter?void VC(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((e=>{let[i,a]=e;VC(a,YC(t,i),n,r)}))}else{(""===e?t:YC(t,e)).classGroupId=n}}))}function YC(e,t){let n=e;return t.split(BC).forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n}function XC(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;function i(i,a){n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)}return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}}const qC="!";function KC(e){const t=e.separator,n=1===t.length,r=t[0],i=t.length;return function(e){const a=[];let s,o=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===o){if(c===r&&(n||e.slice(u,u+i)===t)){a.push(e.slice(l,u)),l=u+i;continue}if("/"===c){s=u;continue}}"["===c?o++:"]"===c&&o--}const c=0===a.length?e:e.substring(l),d=c.startsWith(qC);return{modifiers:a,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:s&&s>l?s-l:void 0}}}const QC=/\s+/;function JC(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=$C(e))&&(r&&(r+=" "),r+=t);return r}function $C(e){if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=$C(e[r]))&&(n&&(n+=" "),n+=t);return n}function ZC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,a,s,o=function(t){const r=n.reduce(((e,t)=>t(e)),e());return i=function(e){return{cache:XC(e.cacheSize),splitModifiers:KC(e),...UC(e)}}(r),a=i.cache.get,s=i.cache.set,o=l,l(t)};function l(e){const t=a(e);if(t)return t;const n=function(e,t){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=new Set;return e.trim().split(QC).map((e=>{const{modifiers:t,hasImportantModifier:i,baseClassName:a,maybePostfixModifierPosition:s}=n(e);let o=r(s?a.substring(0,s):a),l=Boolean(s);if(!o){if(!s)return{isTailwindClass:!1,originalClassName:e};if(o=r(a),!o)return{isTailwindClass:!1,originalClassName:e};l=!1}const c=function(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t}(t).join(":");return{isTailwindClass:!0,modifierId:i?c+qC:c,classGroupId:o,originalClassName:e,hasPostfixModifier:l}})).reverse().filter((e=>{if(!e.isTailwindClass)return!0;const{modifierId:t,classGroupId:n,hasPostfixModifier:r}=e,s=t+n;return!a.has(s)&&(a.add(s),i(n,r).forEach((e=>a.add(t+e))),!0)})).reverse().map((e=>e.originalClassName)).join(" ")}(e,i);return s(e,n),n}return function(){return o(JC.apply(null,arguments))}}function eA(e){const t=t=>t[e]||[];return t.isThemeGetter=!0,t}const tA=/^\[(?:([a-z-]+):)?(.+)\]$/i,nA=/^\d+\/\d+$/,rA=new Set(["px","full","screen"]),iA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oA=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function cA(e){return uA(e)||rA.has(e)||nA.test(e)}function dA(e){return SA(e,"length",CA)}function uA(e){return Boolean(e)&&!Number.isNaN(Number(e))}function hA(e){return SA(e,"number",uA)}function fA(e){return Boolean(e)&&Number.isInteger(Number(e))}function pA(e){return e.endsWith("%")&&uA(e.slice(0,-1))}function gA(e){return tA.test(e)}function mA(e){return iA.test(e)}const vA=new Set(["length","size","percentage"]);function bA(e){return SA(e,vA,AA)}function yA(e){return SA(e,"position",AA)}const xA=new Set(["image","url"]);function wA(e){return SA(e,xA,EA)}function kA(e){return SA(e,"",PA)}function _A(){return!0}function SA(e,t,n){const r=tA.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))}function CA(e){return aA.test(e)&&!sA.test(e)}function AA(){return!1}function PA(e){return oA.test(e)}function EA(e){return lA.test(e)}Symbol.toStringTag;function TA(){const e=eA("colors"),t=eA("spacing"),n=eA("blur"),r=eA("brightness"),i=eA("borderColor"),a=eA("borderRadius"),s=eA("borderSpacing"),o=eA("borderWidth"),l=eA("contrast"),c=eA("grayscale"),d=eA("hueRotate"),u=eA("invert"),h=eA("gap"),f=eA("gradientColorStops"),p=eA("gradientColorStopPositions"),g=eA("inset"),m=eA("margin"),v=eA("opacity"),b=eA("padding"),y=eA("saturate"),x=eA("scale"),w=eA("sepia"),k=eA("skew"),_=eA("space"),S=eA("translate"),C=()=>["auto",gA,t],A=()=>[gA,t],P=()=>["",cA,dA],E=()=>["auto",uA,gA],T=()=>["","0",gA],N=()=>[uA,hA],I=()=>[uA,gA];return{cacheSize:500,separator:":",theme:{colors:[_A],spacing:[cA,dA],blur:["none","",mA,gA],brightness:N(),borderColor:[e],borderRadius:["none","","full",mA,gA],borderSpacing:A(),borderWidth:P(),contrast:N(),grayscale:T(),hueRotate:I(),invert:T(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[pA,dA],inset:C(),margin:C(),opacity:N(),padding:A(),saturate:N(),scale:N(),sepia:T(),skew:I(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",gA]}],container:["container"],columns:[{columns:[mA]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",gA]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fA,gA]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",gA]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",fA,gA]}],"grid-cols":[{"grid-cols":[_A]}],"col-start-end":[{col:["auto",{span:["full",fA,gA]},gA]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[_A]}],"row-start-end":[{row:["auto",{span:[fA,gA]},gA]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",gA]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",gA]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",gA,t]}],"min-w":[{"min-w":[gA,t,"min","max","fit"]}],"max-w":[{"max-w":[gA,t,"none","full","min","max","fit","prose",{screen:[mA]},mA]}],h:[{h:[gA,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[gA,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[gA,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[gA,t,"auto","min","max","fit"]}],"font-size":[{text:["base",mA,dA]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hA]}],"font-family":[{font:[_A]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",gA]}],"line-clamp":[{"line-clamp":["none",uA,hA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cA,gA]}],"list-image":[{"list-image":["none",gA]}],"list-style-type":[{list:["none","disc","decimal",gA]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cA,dA]}],"underline-offset":[{"underline-offset":["auto",cA,gA]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gA]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gA]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",yA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[cA,gA]}],"outline-w":[{outline:[cA,dA]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[cA,dA]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",mA,kA]}],"shadow-color":[{shadow:[_A]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",mA,gA]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",gA]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",gA]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",gA]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[fA,gA]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gA]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gA]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gA]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[cA,dA,hA]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const NA=ZC(TA);function IA(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function MA(e){if(!IA(e))return e;const t={};for(const n in e)t[n]=MA(e[n]);return t}function FA(e,t){if(IA(t)&&0===Object.keys(t).length)return MA({...e,...t});const n={...e,...t};if(IA(t)&&IA(e))for(const r in t)IA(t[r])&&r in e&&IA(e[r])?n[r]=FA(e[r],t[r]):n[r]=IA(t[r])?MA(t[r]):t[r];return n}const RA={accordion:{root:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",flush:{off:"rounded-lg border",on:"border-b"}},content:{base:"py-5 px-5 last:rounded-b-lg dark:bg-gray-900 first:rounded-t-lg"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between first:rounded-t-lg last:rounded-b-lg py-5 px-5 text-left font-medium text-gray-500 dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"bg-transparent dark:bg-transparent"},heading:"",open:{off:"",on:"text-gray-900 bg-gray-100 dark:bg-gray-800 dark:text-white"}}},alert:{base:"flex flex-col gap-2 p-4 text-sm",borderAccent:"border-t-4",closeButton:{base:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg p-1.5 focus:ring-2",icon:"w-5 h-5",color:{info:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",gray:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",failure:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",success:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",warning:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",red:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",green:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",yellow:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",blue:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",cyan:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",pink:"bg-pink-100 text-pink-500 hover:bg-pink-200 focus:ring-pink-400 dark:bg-pink-200 dark:text-pink-600 dark:hover:bg-pink-300",lime:"bg-lime-100 text-lime-500 hover:bg-lime-200 focus:ring-lime-400 dark:bg-lime-200 dark:text-lime-600 dark:hover:bg-lime-300",dark:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-200 dark:text-gray-600 dark:hover:bg-gray-300",indigo:"bg-indigo-100 text-indigo-500 hover:bg-indigo-200 focus:ring-indigo-400 dark:bg-indigo-200 dark:text-indigo-600 dark:hover:bg-indigo-300",purple:"bg-purple-100 text-purple-500 hover:bg-purple-200 focus:ring-purple-400 dark:bg-purple-200 dark:text-purple-600 dark:hover:bg-purple-300",teal:"bg-teal-100 text-teal-500 hover:bg-teal-200 focus:ring-teal-400 dark:bg-teal-200 dark:text-teal-600 dark:hover:bg-teal-300",light:"bg-gray-50 text-gray-500 hover:bg-gray-100 focus:ring-gray-200 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-white"}},color:{info:"text-cyan-700 bg-cyan-100 border-cyan-500 dark:bg-cyan-200 dark:text-cyan-800",gray:"text-gray-700 bg-gray-100 border-gray-500 dark:bg-gray-700 dark:text-gray-300",failure:"text-red-700 bg-red-100 border-red-500 dark:bg-red-200 dark:text-red-800",success:"text-green-700 bg-green-100 border-green-500 dark:bg-green-200 dark:text-green-800",warning:"text-yellow-700 bg-yellow-100 border-yellow-500 dark:bg-yellow-200 dark:text-yellow-800",red:"text-red-700 bg-red-100 border-red-500 dark:bg-red-200 dark:text-red-800",green:"text-green-700 bg-green-100 border-green-500 dark:bg-green-200 dark:text-green-800",yellow:"text-yellow-700 bg-yellow-100 border-yellow-500 dark:bg-yellow-200 dark:text-yellow-800",blue:"text-cyan-700 bg-cyan-100 border-cyan-500 dark:bg-cyan-200 dark:text-cyan-800",cyan:"text-cyan-700 bg-cyan-100 border-cyan-500 dark:bg-cyan-200 dark:text-cyan-800",pink:"text-pink-700 bg-pink-100 border-pink-500 dark:bg-pink-200 dark:text-pink-800",lime:"text-lime-700 bg-lime-100 border-lime-500 dark:bg-lime-200 dark:text-lime-800",dark:"text-gray-200 bg-gray-800 border-gray-600 dark:bg-gray-900 dark:text-gray-300",indigo:"text-indigo-700 bg-indigo-100 border-indigo-500 dark:bg-indigo-200 dark:text-indigo-800",purple:"text-purple-700 bg-purple-100 border-purple-500 dark:bg-purple-200 dark:text-purple-800",teal:"text-teal-700 bg-teal-100 border-teal-500 dark:bg-teal-200 dark:text-teal-800",light:"text-gray-600 bg-gray-50 border-gray-400 dark:bg-gray-500 dark:text-gray-200"},icon:"mr-3 inline h-5 w-5 flex-shrink-0",rounded:"rounded-lg",wrapper:"flex items-center"},avatar:{root:{base:"flex justify-center items-center space-x-4 rounded",bordered:"p-1 ring-2",rounded:"rounded-full",color:{dark:"ring-gray-800 dark:ring-gray-800",failure:"ring-red-500 dark:ring-red-700",gray:"ring-gray-500 dark:ring-gray-400",info:"ring-cyan-400 dark:ring-cyan-800",light:"ring-gray-300 dark:ring-gray-500",purple:"ring-purple-500 dark:ring-purple-600",success:"ring-green-500 dark:ring-green-500",warning:"ring-yellow-300 dark:ring-yellow-500",pink:"ring-pink-500 dark:ring-pink-500"},img:{base:"rounded",off:"relative overflow-hidden bg-gray-100 dark:bg-gray-600",on:"",placeholder:"absolute w-auto h-auto text-gray-400 -bottom-1"},size:{xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-20 h-20",xl:"w-36 h-36"},stacked:"ring-2 ring-gray-300 dark:ring-gray-500",statusPosition:{"bottom-left":"-bottom-1 -left-1","bottom-center":"-bottom-1 center","bottom-right":"-bottom-1 -right-1","top-left":"-top-1 -left-1","top-center":"-top-1 center","top-right":"-top-1 -right-1","center-right":"center -right-1",center:"center center","center-left":"center -left-1"},status:{away:"bg-yellow-400",base:"absolute h-3.5 w-3.5 rounded-full border-2 border-white dark:border-gray-800",busy:"bg-red-400",offline:"bg-gray-400",online:"bg-green-400"},initials:{text:"font-medium text-gray-600 dark:text-gray-300",base:"inline-flex overflow-hidden relative justify-center items-center bg-gray-100 dark:bg-gray-600"}},group:{base:"flex -space-x-4"},groupCounter:{base:"relative flex items-center justify-center w-10 h-10 text-xs font-medium text-white bg-gray-700 rounded-full ring-2 ring-gray-300 hover:bg-gray-600 dark:ring-gray-500"}},badge:{root:{base:"flex h-fit items-center gap-1 font-semibold",color:{info:"bg-cyan-100 text-cyan-800 dark:bg-cyan-200 dark:text-cyan-800 group-hover:bg-cyan-200 dark:group-hover:bg-cyan-300",gray:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 group-hover:bg-gray-200 dark:group-hover:bg-gray-600",failure:"bg-red-100 text-red-800 dark:bg-red-200 dark:text-red-900 group-hover:bg-red-200 dark:group-hover:bg-red-300",success:"bg-green-100 text-green-800 dark:bg-green-200 dark:text-green-900 group-hover:bg-green-200 dark:group-hover:bg-green-300",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-200 dark:text-yellow-900 group-hover:bg-yellow-200 dark:group-hover:bg-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-200 dark:text-indigo-900 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-300",purple:"bg-purple-100 text-purple-800 dark:bg-purple-200 dark:text-purple-900 group-hover:bg-purple-200 dark:group-hover:bg-purple-300",pink:"bg-pink-100 text-pink-800 dark:bg-pink-200 dark:text-pink-900 group-hover:bg-pink-200 dark:group-hover:bg-pink-300",blue:"bg-cyan-100 text-cyan-800 dark:bg-cyan-200 dark:text-cyan-900 group-hover:bg-cyan-200 dark:group-hover:bg-cyan-300",cyan:"bg-cyan-100 text-cyan-800 dark:bg-cyan-200 dark:text-cyan-900 group-hover:bg-cyan-200 dark:group-hover:bg-cyan-300",dark:"bg-gray-600 text-gray-100 dark:bg-gray-900 dark:text-gray-200 group-hover:bg-gray-500 dark:group-hover:bg-gray-700",light:"bg-gray-200 text-gray-800 dark:bg-gray-400 dark:text-gray-900 group-hover:bg-gray-300 dark:group-hover:bg-gray-500",green:"bg-green-100 text-green-800 dark:bg-green-200 dark:text-green-900 group-hover:bg-green-200 dark:group-hover:bg-green-300",lime:"bg-lime-100 text-lime-800 dark:bg-lime-200 dark:text-lime-900 group-hover:bg-lime-200 dark:group-hover:bg-lime-300",red:"bg-red-100 text-red-800 dark:bg-red-200 dark:text-red-900 group-hover:bg-red-200 dark:group-hover:bg-red-300",teal:"bg-teal-100 text-teal-800 dark:bg-teal-200 dark:text-teal-900 group-hover:bg-teal-200 dark:group-hover:bg-teal-300",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-200 dark:text-yellow-900 group-hover:bg-yellow-200 dark:group-hover:bg-yellow-300"},href:"group",size:{xs:"p-1 text-xs",sm:"p-1.5 text-sm"}},icon:{off:"rounded px-2 py-0.5",on:"rounded-full p-1.5",size:{xs:"w-3 h-3",sm:"w-3.5 h-3.5"}}},blockquote:{root:{base:"text-xl italic font-semibold text-gray-900 dark:text-white"}},breadcrumb:{root:{base:"",list:"flex items-center"},item:{base:"group flex items-center",chevron:"mx-1 h-4 w-4 text-gray-400 group-first:hidden md:mx-2",href:{off:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",on:"flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},icon:"mr-2 h-4 w-4"}},button:{base:"group flex items-stretch items-center justify-center p-0.5 text-center font-medium relative focus:z-10 focus:outline-none",fullSized:"w-full",color:{dark:"text-white bg-gray-800 border border-transparent enabled:hover:bg-gray-900 focus:ring-4 focus:ring-gray-300 dark:bg-gray-800 dark:enabled:hover:bg-gray-700 dark:focus:ring-gray-800 dark:border-gray-700",failure:"text-white bg-red-700 border border-transparent enabled:hover:bg-red-800 focus:ring-4 focus:ring-red-300 dark:bg-red-600 dark:enabled:hover:bg-red-700 dark:focus:ring-red-900",gray:"text-gray-900 bg-white border border-gray-200 enabled:hover:bg-gray-100 enabled:hover:text-cyan-700 :ring-cyan-700 focus:text-cyan-700 dark:bg-transparent dark:text-gray-400 dark:border-gray-600 dark:enabled:hover:text-white dark:enabled:hover:bg-gray-700 focus:ring-2",info:"text-white bg-cyan-700 border border-transparent enabled:hover:bg-cyan-800 focus:ring-4 focus:ring-cyan-300 dark:bg-cyan-600 dark:enabled:hover:bg-cyan-700 dark:focus:ring-cyan-800",light:"text-gray-900 bg-white border border-gray-300 enabled:hover:bg-gray-100 focus:ring-4 focus:ring-cyan-300 dark:bg-gray-600 dark:text-white dark:border-gray-600 dark:enabled:hover:bg-gray-700 dark:enabled:hover:border-gray-700 dark:focus:ring-gray-700",purple:"text-white bg-purple-700 border border-transparent enabled:hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 dark:bg-purple-600 dark:enabled:hover:bg-purple-700 dark:focus:ring-purple-900",success:"text-white bg-green-700 border border-transparent enabled:hover:bg-green-800 focus:ring-4 focus:ring-green-300 dark:bg-green-600 dark:enabled:hover:bg-green-700 dark:focus:ring-green-800",warning:"text-white bg-yellow-400 border border-transparent enabled:hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 dark:focus:ring-yellow-900",blue:"text-white bg-blue-700 border border-transparent enabled:hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",cyan:"text-cyan-900 bg-white border border-cyan-300 enabled:hover:bg-cyan-100 focus:ring-4 focus:ring-cyan-300 dark:bg-cyan-600 dark:text-white dark:border-cyan-600 dark:enabled:hover:bg-cyan-700 dark:enabled:hover:border-cyan-700 dark:focus:ring-cyan-700",green:"text-green-900 bg-white border border-green-300 enabled:hover:bg-green-100 focus:ring-4 focus:ring-green-300 dark:bg-green-600 dark:text-white dark:border-green-600 dark:enabled:hover:bg-green-700 dark:enabled:hover:border-green-700 dark:focus:ring-green-700",indigo:"text-indigo-900 bg-white border border-indigo-300 enabled:hover:bg-indigo-100 focus:ring-4 focus:ring-indigo-300 dark:bg-indigo-600 dark:text-white dark:border-indigo-600 dark:enabled:hover:bg-indigo-700 dark:enabled:hover:border-indigo-700 dark:focus:ring-indigo-700",lime:"text-lime-900 bg-white border border-lime-300 enabled:hover:bg-lime-100 focus:ring-4 focus:ring-lime-300 dark:bg-lime-600 dark:text-white dark:border-lime-600 dark:enabled:hover:bg-lime-700 dark:enabled:hover:border-lime-700 dark:focus:ring-lime-700",pink:"text-pink-900 bg-white border border-pink-300 enabled:hover:bg-pink-100 focus:ring-4 focus:ring-pink-300 dark:bg-pink-600 dark:text-white dark:border-pink-600 dark:enabled:hover:bg-pink-700 dark:enabled:hover:border-pink-700 dark:focus:ring-pink-700",red:"text-red-900 bg-white border border-red-300 enabled:hover:bg-red-100 focus:ring-4 focus:ring-red-300 dark:bg-red-600 dark:text-white dark:border-red-600 dark:enabled:hover:bg-red-700 dark:enabled:hover:border-red-700 dark:focus:ring-red-700",teal:"text-teal-900 bg-white border border-teal-300 enabled:hover:bg-teal-100 focus:ring-4 focus:ring-teal-300 dark:bg-teal-600 dark:text-white dark:border-teal-600 dark:enabled:hover:bg-teal-700 dark:enabled:hover:border-teal-700 dark:focus:ring-teal-700",yellow:"text-yellow-900 bg-white border border-yellow-300 enabled:hover:bg-yellow-100 focus:ring-4 focus:ring-yellow-300 dark:bg-yellow-600 dark:text-white dark:border-yellow-600 dark:enabled:hover:bg-yellow-700 dark:enabled:hover:border-yellow-700 dark:focus:ring-yellow-700"},disabled:"cursor-not-allowed opacity-50",isProcessing:"cursor-wait",spinnerSlot:"absolute h-full top-0 flex items-center animate-fade-in",spinnerLeftPosition:{xs:"left-2",sm:"left-3",md:"left-4",lg:"left-5",xl:"left-6"},gradient:{cyan:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",failure:"text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-red-300 dark:focus:ring-red-800",info:"text-white bg-gradient-to-r from-cyan-500 via-cyan-600 to-cyan-700 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800 ",lime:"text-gray-900 bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-lime-300 dark:focus:ring-lime-800",pink:"text-white bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-pink-300 dark:focus:ring-pink-800",purple:"text-white bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-purple-300 dark:focus:ring-purple-800",success:"text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-green-300 dark:focus:ring-green-800",teal:"text-white bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-teal-300 dark:focus:ring-teal-800"},gradientDuoTone:{cyanToBlue:"text-white bg-gradient-to-r from-cyan-500 to-cyan-500 enabled:hover:bg-gradient-to-bl focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",greenToBlue:"text-white bg-gradient-to-br from-green-400 to-cyan-600 enabled:hover:bg-gradient-to-bl focus:ring-4 focus:ring-green-200 dark:focus:ring-green-800",pinkToOrange:"text-white bg-gradient-to-br from-pink-500 to-orange-400 enabled:hover:bg-gradient-to-bl focus:ring-4 focus:ring-pink-200 dark:focus:ring-pink-800",purpleToBlue:"text-white bg-gradient-to-br from-purple-600 to-cyan-500 enabled:hover:bg-gradient-to-bl focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",purpleToPink:"text-white bg-gradient-to-r from-purple-500 to-pink-500 enabled:hover:bg-gradient-to-l focus:ring-4 focus:ring-purple-200 dark:focus:ring-purple-800",redToYellow:"text-gray-900 bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 enabled:hover:bg-gradient-to-bl focus:ring-4 focus:ring-red-100 dark:focus:ring-red-400",tealToLime:"text-gray-900 bg-gradient-to-r from-teal-200 to-lime-200 enabled:hover:bg-gradient-to-l enabled:hover:from-teal-200 enabled:hover:to-lime-200 enabled:hover:text-gray-900 focus:ring-4 focus:ring-lime-200 dark:focus:ring-teal-700"},inner:{base:"flex items-stretch items-center transition-all duration-200",position:{none:"",start:"rounded-r-none",middle:"rounded-none",end:"rounded-l-none"},outline:"border border-transparent",isProcessingPadding:{xs:"pl-8",sm:"pl-10",md:"pl-12",lg:"pl-16",xl:"pl-20"}},label:"ml-2 inline-flex h-4 w-4 items-center justify-center rounded-full bg-cyan-200 text-xs font-semibold text-cyan-800",outline:{color:{gray:"border border-gray-900 dark:border-white",default:"border-0",light:""},off:"",on:"flex justify-center bg-white text-gray-900 transition-all duration-75 ease-in group-enabled:group-hover:bg-opacity-0 group-enabled:group-hover:text-inherit dark:bg-gray-900 dark:text-white w-full",pill:{off:"rounded-md",on:"rounded-full"}},pill:{off:"rounded-lg",on:"rounded-full"},size:{xs:"text-xs px-2 py-1",sm:"text-sm px-3 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-5 py-2.5",xl:"text-base px-6 py-3"}},buttonGroup:{base:"inline-flex",position:{none:"focus:ring-2",start:"rounded-r-none",middle:"rounded-none border-l-0 pl-0",end:"rounded-l-none border-l-0 pl-0"}},card:{root:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700"},img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},carousel:{root:{base:"relative h-full w-full",leftControl:"absolute top-0 left-0 flex h-full items-center justify-center px-4 focus:outline-none",rightControl:"absolute top-0 right-0 flex h-full items-center justify-center px-4 focus:outline-none"},indicators:{active:{off:"bg-white/50 hover:bg-white dark:bg-gray-800/50 dark:hover:bg-gray-800",on:"bg-white dark:bg-gray-800"},base:"h-3 w-3 rounded-full",wrapper:"absolute bottom-5 left-1/2 flex -translate-x-1/2 space-x-3"},item:{base:"absolute top-1/2 left-1/2 block w-full -translate-x-1/2 -translate-y-1/2",wrapper:{off:"w-full flex-shrink-0 transform cursor-default snap-center",on:"w-full flex-shrink-0 transform cursor-grab snap-center"}},control:{base:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70 sm:h-10 sm:w-10",icon:"h-5 w-5 text-white dark:text-gray-800 sm:h-6 sm:w-6"},scrollContainer:{base:"flex h-full snap-mandatory overflow-y-hidden overflow-x-scroll scroll-smooth rounded-lg",snap:"snap-x"}},checkbox:{root:{base:"h-4 w-4 rounded focus:ring-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 bg-gray-100",color:{default:"focus:ring-cyan-600 dark:ring-offset-gray-800 dark:focus:ring-cyan-600 text-cyan-600",dark:"focus:ring-gray-800 dark:ring-offset-gray-800 dark:focus:ring-gray-800 text-gray-800",failure:"focus:ring-red-900 dark:ring-offset-red-900 dark:focus:ring-red-900 text-red-900",gray:"focus:ring-gray-900 dark:ring-offset-gray-900 dark:focus:ring-gray-900 text-gray-900",info:"focus:ring-cyan-800 dark:ring-offset-gray-800 dark:focus:ring-cyan-800 text-cyan-800",light:"focus:ring-gray-900 dark:ring-offset-gray-900 dark:focus:ring-gray-900 text-gray-900",purple:"focus:ring-purple-600 dark:ring-offset-purple-600 dark:focus:ring-purple-600 text-purple-600",success:"focus:ring-green-800 dark:ring-offset-green-800 dark:focus:ring-green-800 text-green-800",warning:"focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400 text-yellow-400",blue:"focus:ring-blue-600 dark:ring-offset-blue-700 dark:focus:ring-blue-700 text-blue-700",cyan:"focus:ring-cyan-600 dark:ring-offset-cyan-600 dark:focus:ring-cyan-600 text-cyan-600",green:"focus:ring-green-600 dark:ring-offset-green-600 dark:focus:ring-green-600 text-green-600",indigo:"focus:ring-indigo-700 dark:ring-offset-indigo-700 dark:focus:ring-indigo-700 text-indigo-700",lime:"focus:ring-lime-700 dark:ring-offset-lime-700 dark:focus:ring-lime-700 text-lime-700",pink:"focus:ring-pink-600 dark:ring-offset-pink-600 dark:focus:ring-pink-600 text-pink-600",red:"focus:ring-red-600 dark:ring-offset-red-600 dark:focus:ring-red-600 text-red-600",teal:"focus:ring-teal-600 dark:ring-offset-teal-600 dark:focus:ring-teal-600 text-teal-600",yellow:"focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400 text-yellow-400"}}},datepicker:{root:{base:"relative"},popup:{root:{base:"absolute top-10 z-50 block pt-2",inline:"relative top-0 z-auto",inner:"inline-block rounded-lg bg-white p-4 shadow-lg dark:bg-gray-700"},header:{base:"",title:"px-2 py-3 text-center font-semibold text-gray-900 dark:text-white",selectors:{base:"flex justify-between mb-2",button:{base:"text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch",prev:"",next:"",view:""}}},view:{base:"p-1"},footer:{base:"flex mt-2 space-x-2",button:{base:"w-full rounded-lg px-5 py-2 text-center text-sm font-medium focus:ring-4 focus:ring-cyan-300",today:"bg-cyan-700 text-white hover:bg-cyan-800 dark:bg-cyan-600 dark:hover:bg-cyan-700",clear:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"}}},views:{days:{header:{base:"grid grid-cols-7 mb-1",title:"dow h-6 text-center text-sm font-medium leading-6 text-gray-500 dark:text-gray-400"},items:{base:"grid w-64 grid-cols-7",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600 ",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},months:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},years:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600 text-gray-900",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},decades:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9  hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600 text-gray-900",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}}}},darkThemeToggle:{root:{base:"rounded-lg p-2.5 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-700",icon:"h-5 w-5"}},dropdown:{arrowIcon:"ml-2 h-4 w-4",content:"py-1 focus:outline-none",floating:{animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"z-10 w-fit rounded divide-y divide-gray-100 shadow focus:outline-none",content:"py-1 text-sm text-gray-700 dark:text-gray-200",divider:"my-1 h-px bg-gray-100 dark:bg-gray-600",header:"block py-2 px-4 text-sm text-gray-700 dark:text-gray-200",hidden:"invisible opacity-0",item:{container:"",base:"flex items-center justify-start py-2 px-4 text-sm text-gray-700 cursor-pointer w-full hover:bg-gray-100 focus:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600 focus:outline-none dark:hover:text-white dark:focus:bg-gray-600 dark:focus:text-white",icon:"mr-2 h-4 w-4"},style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},target:"w-fit"},inlineWrapper:"flex items-center"},fileInput:{root:{base:"flex"},field:{base:"relative w-full",input:{base:"rounded-lg overflow-hidden block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"sm:text-xs",md:"text-sm",lg:"sm:text-md"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},floatingLabel:{input:{default:{filled:{sm:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-gray-300 bg-gray-50 px-2.5 pb-2.5 pt-5 text-xs text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-500",md:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-gray-300 bg-gray-50 px-2.5 pb-2.5 pt-5 text-sm text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-500"},outlined:{sm:"border-1 peer block w-full appearance-none rounded-lg border-gray-300 bg-transparent px-2.5 pb-2.5 pt-4 text-xs text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500",md:"border-1 peer block w-full appearance-none rounded-lg border-gray-300 bg-transparent px-2.5 pb-2.5 pt-4 text-sm text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500"},standard:{sm:"block py-2.5 px-0 w-full text-xs text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",md:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"}},success:{filled:{sm:"block rounded-t-lg px-2.5 pb-2.5 pt-5 w-full text-xs text-gray-900 bg-gray-50 dark:bg-gray-700 border-0 border-b-2 border-green-600 dark:border-green-500 appearance-none dark:text-white dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600 peer",md:"block rounded-t-lg px-2.5 pb-2.5 pt-5 w-full text-sm text-gray-900 bg-gray-50 dark:bg-gray-700 border-0 border-b-2 border-green-600 dark:border-green-500 appearance-none dark:text-white dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600 peer"},outlined:{sm:"block px-2.5 pb-2.5 pt-4 w-full text-xs text-gray-900 bg-transparent rounded-lg border-1 border-green-600 appearance-none dark:text-white dark:border-green-500 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600 peer",md:"block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-green-600 appearance-none dark:text-white dark:border-green-500 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600 peer"},standard:{sm:"block py-2.5 px-0 w-full text-xs text-gray-900 bg-transparent border-0 border-b-2 border-green-600 appearance-none dark:text-white dark:border-green-500 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600 peer",md:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-green-600 appearance-none dark:text-white dark:border-green-500 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600 peer"}},error:{filled:{sm:"block rounded-t-lg px-2.5 pb-2.5 pt-5 w-full text-xs text-gray-900 bg-gray-50 dark:bg-gray-700 border-0 border-b-2 appearance-none dark:text-white dark:border-red-500 focus:outline-none focus:ring-0 border-red-600 focus:border-red-600 dark:focus-border-red-500 peer",md:"block rounded-t-lg px-2.5 pb-2.5 pt-5 w-full text-sm text-gray-900 bg-gray-50 dark:bg-gray-700 border-0 border-b-2 appearance-none dark:text-white dark:border-red-500 focus:outline-none focus:ring-0 border-red-600 focus:border-red-600 dark:focus-border-red-500 peer"},outlined:{sm:"block px-2.5 pb-2.5 pt-4 w-full text-xs text-gray-900 bg-transparent rounded-lg border-1 appearance-none dark:text-white dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600 peer",md:"block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 appearance-none dark:text-white dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600 peer"},standard:{sm:"block py-2.5 px-0 w-full text-xs text-gray-900 bg-transparent border-0 border-b-2 border-red-600 appearance-none dark:text-white dark:border-red-500 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600 peer",md:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-red-600 appearance-none dark:text-white dark:border-red-500 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600 peer"}}},label:{default:{filled:{sm:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 transition-transform text-xs text-gray-500  duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500",md:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 transition-transform text-sm text-gray-500 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500"},outlined:{sm:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 transition-transform bg-white px-2 text-xs text-gray-500 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 peer-focus:text-blue-600 dark:bg-gray-900 dark:text-gray-400 peer-focus:dark:text-blue-500",md:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 transition-transform bg-white px-2 text-sm text-gray-500 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 peer-focus:text-blue-600 dark:bg-gray-900 dark:text-gray-400 peer-focus:dark:text-blue-500"},standard:{sm:"absolute text-xs text-gray-500 dark:text-gray-400  transition-transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] duration-300 peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",md:"absolute text-sm text-gray-500 dark:text-gray-400  transition-transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] duration-300 peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"}},success:{filled:{sm:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 transition-transform text-sm text-green-600 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-green-500",md:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 transition-transform text-sm text-green-600 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-green-500"},outlined:{sm:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 transition-transform bg-white px-2 text-sm text-green-600 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-green-500",md:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 transition-transform bg-white px-2 text-sm text-green-600 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-green-500"},standard:{sm:"absolute text-xs text-green-600 dark:text-green-500  transition-transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] duration-300 peer-focus:left-0 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",md:"absolute text-sm text-green-600 dark:text-green-500  transition-transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] duration-300 peer-focus:left-0 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"}},error:{filled:{sm:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 transition-transform text-xs text-red-600 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-red-500",md:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 transition-transform text-xs text-red-600 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-red-500"},outlined:{sm:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 transition-transform bg-white px-2 text-xs text-red-600 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-red-500",md:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 transition-transform bg-white px-2 text-xs text-red-600 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-red-500"},standard:{sm:"absolute text-xs text-red-600 dark:text-red-500  transition-transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] duration-300 peer-focus:left-0 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",md:"absolute text-sm text-red-600 dark:text-red-500  transition-transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] duration-300 peer-focus:left-0 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"}}},helperText:{default:"mt-2 text-xs text-gray-600 dark:text-gray-400",success:"mt-2 text-xs text-green-600 dark:text-green-400",error:"mt-2 text-xs text-red-600 dark:text-red-400"}},footer:{root:{base:"w-full rounded-lg bg-white shadow dark:bg-gray-800 md:flex md:items-center md:justify-between",container:"w-full p-6",bgDark:"bg-gray-800"},groupLink:{base:"flex flex-wrap text-sm text-gray-500 dark:text-white",link:{base:"last:mr-0 md:mr-6 me-4",href:"hover:underline"},col:"flex-col space-y-4"},icon:{base:"text-gray-500 dark:hover:text-white",size:"h-5 w-5"},title:{base:"mb-6 text-sm font-semibold uppercase text-gray-500 dark:text-white"},divider:{base:"w-full my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"},copyright:{base:"text-sm text-gray-500 dark:text-gray-400 sm:text-center",href:"ml-1 hover:underline",span:"ml-1"},brand:{base:"mb-4 flex items-center sm:mb-0",img:"mr-3 h-8",span:"self-center whitespace-nowrap text-2xl font-semibold text-gray-800 dark:text-white"}},helperText:{root:{base:"mt-2 text-sm",colors:{gray:"text-gray-500 dark:text-gray-400",info:"text-cyan-700 dark:text-cyan-800",success:"text-green-600 dark:text-green-500",failure:"text-red-600 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600"}}},kbd:{root:{base:"px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500",icon:"inline-block"}},label:{root:{base:"text-sm font-medium",disabled:"opacity-50",colors:{default:"text-gray-900 dark:text-white",info:"text-cyan-500 dark:text-cyan-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"}}},listGroup:{root:{base:"list-none rounded-lg border border-gray-200 bg-white text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-left"},item:{base:"[&>*]:first:rounded-t-lg [&>*]:last:rounded-b-lg [&>*]:last:border-b-0",link:{base:"flex items-center w-full border-b border-gray-200 py-2 px-4 dark:border-gray-600",active:{off:"hover:bg-gray-100 hover:text-cyan-700 focus:text-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-700 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500",on:"bg-cyan-700 text-white dark:bg-gray-800"},disabled:{off:"",on:"hover:bg-gray-100 text-gray-900 hover:text-gray-900 focus:text-gray-900 bg-gray-100 cursor-not-allowed"},href:{off:"",on:""},icon:"mr-2 h-4 w-4 fill-current"}}},list:{root:{base:"space-y-1 text-gray-500 list-inside dark:text-gray-400",ordered:{off:"list-disc",on:"list-decimal"},horizontal:"flex flex-wrap items-center space-x-4 space-y-0 justify-center list-none",unstyled:"list-none",nested:"ps-5 mt-2"}},modal:{root:{base:"fixed top-0 right-0 left-0 z-50 h-modal h-screen overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900 bg-opacity-50 dark:bg-opacity-80",off:"hidden"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative rounded-lg bg-white shadow dark:bg-gray-700 flex flex-col max-h-[90vh]"},body:{base:"p-6 flex-1 overflow-auto",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t dark:border-gray-600 border-b p-5",popup:"p-2 border-b-0",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"}},navbar:{root:{base:"bg-white px-2 py-2.5 dark:border-gray-700 dark:bg-gray-800 sm:px-4",rounded:{on:"rounded",off:""},bordered:{on:"border",off:""},inner:{base:"mx-auto flex flex-wrap items-center justify-between",fluid:{on:"",off:"container"}}},brand:{base:"flex items-center"},collapse:{base:"w-full md:block md:w-auto",list:"mt-4 flex flex-col md:mt-0 md:flex-row md:space-x-8 md:text-sm md:font-medium",hidden:{on:"hidden",off:""}},link:{base:"block py-2 pr-4 pl-3 md:p-0",active:{on:"bg-cyan-700 text-white dark:text-white md:bg-transparent md:text-cyan-700",off:"border-b border-gray-100  text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:border-0 md:hover:bg-transparent md:hover:text-cyan-700 md:dark:hover:bg-transparent md:dark:hover:text-white"},disabled:{on:"text-gray-400 hover:cursor-not-allowed dark:text-gray-600",off:""}},toggle:{base:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 md:hidden",icon:"h-6 w-6 shrink-0"}},pagination:{base:"",layout:{table:{base:"text-sm text-gray-700 dark:text-gray-400",span:"font-semibold text-gray-900 dark:text-white"}},pages:{base:"xs:mt-0 mt-2 inline-flex items-center -space-x-px",showIcon:"inline-flex",previous:{base:"ml-0 rounded-l-lg border border-gray-300 bg-white py-2 px-3 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",icon:"h-5 w-5"},next:{base:"rounded-r-lg border border-gray-300 bg-white py-2 px-3 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",icon:"h-5 w-5"},selector:{base:"w-12 border border-gray-300 bg-white py-2 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",active:"bg-cyan-50 text-cyan-600 hover:bg-cyan-100 hover:text-cyan-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white",disabled:"opacity-50 cursor-normal"}}},progress:{base:"w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",label:"mb-1 flex justify-between font-medium dark:text-white",bar:"rounded-full text-center font-medium leading-none text-cyan-300 dark:text-cyan-100 space-x-2",color:{dark:"bg-gray-600 dark:bg-gray-300",blue:"bg-blue-600",red:"bg-red-600 dark:bg-red-500",green:"bg-green-600 dark:bg-green-500",yellow:"bg-yellow-400",indigo:"bg-indigo-600 dark:bg-indigo-500",purple:"bg-purple-600 dark:bg-purple-500",cyan:"bg-cyan-600",gray:"bg-gray-500",lime:"bg-lime-600",pink:"bg-pink-500",teal:"bg-teal-600"},size:{sm:"h-1.5",md:"h-2.5",lg:"h-4",xl:"h-6"}},radio:{root:{base:"h-4 w-4 border border-gray-300 focus:ring-2 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:focus:bg-cyan-600 dark:focus:ring-cyan-600 text-cyan-600"}},rangeSlider:{root:{base:"flex"},field:{base:"relative w-full",input:{base:"w-full bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700",sizes:{sm:"h-1 range-sm",md:"h-2",lg:"h-3 range-lg"}}}},rating:{root:{base:"flex items-center"},star:{empty:"text-gray-300 dark:text-gray-500",filled:"text-yellow-400",sizes:{sm:"w-5 h-5",md:"w-7 h-7",lg:"w-10 h-10"}}},ratingAdvanced:{base:"flex items-center",label:"text-sm font-medium text-cyan-600 dark:text-cyan-500",progress:{base:"mx-4 h-5 w-2/4 rounded bg-gray-200 dark:bg-gray-700",fill:"h-5 rounded bg-yellow-400",label:"text-sm font-medium text-cyan-600 dark:text-cyan-500"}},select:{base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"sm:text-md p-4"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},textInput:{base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},rightIcon:{base:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"sm:text-md p-4"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withRightIcon:{on:"pr-10",off:""},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},textarea:{base:"block w-full rounded-lg border disabled:cursor-not-allowed disabled:opacity-50 text-sm",colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}},toggleSwitch:{root:{base:"group relative flex items-center rounded-lg focus:outline-none",active:{on:"cursor-pointer",off:"cursor-not-allowed opacity-50"},label:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},toggle:{base:"toggle-bg rounded-full border group-focus:ring-4 group-focus:ring-cyan-500/25",checked:{on:"after:translate-x-full after:border-white",off:"border-gray-200 bg-gray-200 dark:border-gray-600 dark:bg-gray-700",color:{blue:" bg-cyan-700 border-cyan-700",dark:"bg-dark-700 border-dark-900",failure:"bg-red-700 border-red-900",gray:"bg-gray-500 border-gray-600",green:"bg-green-600 border-green-700",light:"bg-light-700 border-light-900",red:"bg-red-700 border-red-900",purple:"bg-purple-700 border-purple-900",success:"bg-green-500 border-green-500",yellow:"bg-yellow-400 border-yellow-400",warning:"bg-yellow-600 border-yellow-600",cyan:"bg-cyan-500 border-cyan-500",lime:"bg-lime-400 border-lime-400",indigo:"bg-indigo-400 border-indigo-400",teal:"bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4",info:"bg-cyan-600 border-cyan-600",pink:"bg-pink-600 border-pink-600"}},sizes:{sm:"w-9 h-5 after:absolute after:top-[2px] after:left-[2px] after:h-4 after:w-4",md:"w-11 h-6 after:absolute after:top-[2px] after:left-[2px] after:h-5 after:w-5",lg:"w-14 h-7 after:absolute after:top-0.5 after:left-[4px] after:h-6 after:w-6"}}},sidebar:{root:{base:"h-full",collapsed:{on:"w-16",off:"w-64"},inner:"h-full overflow-y-auto overflow-x-hidden rounded bg-gray-50 py-4 px-3 dark:bg-gray-800"},collapse:{button:"group flex w-full items-center rounded-lg p-2 text-base font-normal text-gray-900 transition duration-75 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",icon:{base:"h-6 w-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",open:{off:"",on:"text-gray-900"}},label:{base:"ml-3 flex-1 whitespace-nowrap text-left",icon:{base:"h-6 w-6 transition ease-in-out delay-0",open:{on:"rotate-180",off:""}}},list:"space-y-2 py-2"},cta:{base:"mt-6 rounded-lg p-4 bg-gray-100 dark:bg-gray-700",color:{blue:"bg-cyan-50 dark:bg-cyan-900",dark:"bg-dark-50 dark:bg-dark-900",failure:"bg-red-50 dark:bg-red-900",gray:"bg-alternative-50 dark:bg-alternative-900",green:"bg-green-50 dark:bg-green-900",light:"bg-light-50 dark:bg-light-900",red:"bg-red-50 dark:bg-red-900",purple:"bg-purple-50 dark:bg-purple-900",success:"bg-green-50 dark:bg-green-900",yellow:"bg-yellow-50 dark:bg-yellow-900",warning:"bg-yellow-50 dark:bg-yellow-900"}},item:{base:"flex items-center justify-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",active:"bg-gray-100 dark:bg-gray-700",collapsed:{insideCollapse:"group w-full pl-8 transition duration-75",noIcon:"font-bold"},content:{base:"px-3 flex-1 whitespace-nowrap"},icon:{base:"h-6 w-6 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",active:"text-gray-700 dark:text-gray-100"},label:"",listItem:""},items:{base:""},itemGroup:{base:"mt-4 space-y-2 border-t border-gray-200 pt-4 first:mt-0 first:border-t-0 first:pt-0 dark:border-gray-700"},logo:{base:"mb-5 flex items-center pl-2.5",collapsed:{on:"hidden",off:"self-center whitespace-nowrap text-xl font-semibold dark:text-white"},img:"mr-3 h-6 sm:h-7"}},spinner:{base:"inline animate-spin text-gray-200",color:{failure:"fill-red-600",gray:"fill-gray-600",info:"fill-cyan-600",pink:"fill-pink-600",purple:"fill-purple-600",success:"fill-green-500",warning:"fill-yellow-400"},light:{off:{base:"dark:text-gray-600",color:{failure:"",gray:"dark:fill-gray-300",info:"",pink:"",purple:"",success:"",warning:""}},on:{base:"",color:{failure:"",gray:"",info:"",pink:"",purple:"",success:"",warning:""}}},size:{xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-10 h-10"}},table:{root:{base:"w-full text-left text-sm text-gray-500 dark:text-gray-400",shadow:"absolute bg-white dark:bg-black w-full h-full top-0 left-0 rounded-lg drop-shadow-md -z-10",wrapper:"relative"},body:{base:"group/body",cell:{base:"group-first/body:group-first/row:first:rounded-tl-lg group-first/body:group-first/row:last:rounded-tr-lg group-last/body:group-last/row:first:rounded-bl-lg group-last/body:group-last/row:last:rounded-br-lg px-6 py-4"}},head:{base:"group/head text-xs uppercase text-gray-700 dark:text-gray-400",cell:{base:"group-first/head:first:rounded-tl-lg group-first/head:last:rounded-tr-lg bg-gray-50 dark:bg-gray-700 px-6 py-3"}},row:{base:"group/row",hovered:"hover:bg-gray-50 dark:hover:bg-gray-600",striped:"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700"}},tabs:{base:"flex flex-col gap-2",tablist:{base:"flex text-center",styles:{default:"flex-wrap border-b border-gray-200 dark:border-gray-700",underline:"flex-wrap -mb-px border-b border-gray-200 dark:border-gray-700",pills:"flex-wrap font-medium text-sm text-gray-500 dark:text-gray-400 space-x-2",fullWidth:"w-full text-sm font-medium divide-x divide-gray-200 shadow grid grid-flow-col dark:divide-gray-700 dark:text-gray-400 rounded-none"},tabitem:{base:"flex items-center justify-center p-4 rounded-t-lg text-sm font-medium first:ml-0 disabled:cursor-not-allowed disabled:text-gray-400 disabled:dark:text-gray-500 focus:ring-4 focus:ring-cyan-300 focus:outline-none",styles:{default:{base:"rounded-t-lg",active:{on:"bg-gray-100 text-cyan-600 dark:bg-gray-800 dark:text-cyan-500",off:"text-gray-500 hover:bg-gray-50 hover:text-gray-600 dark:text-gray-400 dark:hover:bg-gray-800  dark:hover:text-gray-300"}},underline:{base:"rounded-t-lg",active:{on:"text-cyan-600 rounded-t-lg border-b-2 border-cyan-600 active dark:text-cyan-500 dark:border-cyan-500",off:"border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}},pills:{base:"",active:{on:"rounded-lg bg-cyan-600 text-white",off:"rounded-lg hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-white"}},fullWidth:{base:"ml-0 first:ml-0 w-full rounded-none flex",active:{on:"p-4 text-gray-900 bg-gray-100 active dark:bg-gray-700 dark:text-white rounded-none",off:"bg-white hover:text-gray-700 hover:bg-gray-50 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700 rounded-none"}}},icon:"mr-2 h-5 w-5"}},tabitemcontainer:{base:"",styles:{default:"",underline:"",pills:"",fullWidth:""}},tabpanel:"py-3"},timeline:{root:{direction:{horizontal:"items-base sm:flex",vertical:"relative border-l border-gray-200 dark:border-gray-700"}},item:{root:{horizontal:"relative mb-6 sm:mb-0",vertical:"mb-10 ml-6"},content:{root:{base:"mt-3 sm:pr-8"},body:{base:"mb-4 text-base font-normal text-gray-500 dark:text-gray-400"},time:{base:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},title:{base:"text-lg font-semibold text-gray-900 dark:text-white"}},point:{horizontal:"flex items-center",line:"hidden h-0.5 w-full bg-gray-200 dark:bg-gray-700 sm:flex",marker:{base:{horizontal:"absolute -left-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700",vertical:"absolute -left-1.5 mt-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700"},icon:{base:"h-3 w-3 text-cyan-600 dark:text-cyan-300",wrapper:"absolute -left-3 flex h-6 w-6 items-center justify-center rounded-full bg-cyan-200 ring-8 ring-white dark:bg-cyan-900 dark:ring-gray-900"}},vertical:""}}},toast:{root:{base:"flex w-full max-w-xs items-center rounded-lg bg-white p-4 text-gray-500 shadow dark:bg-gray-800 dark:text-gray-400",closed:"opacity-0 ease-out"},toggle:{base:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg bg-white p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-900 focus:ring-2 focus:ring-gray-300 dark:bg-gray-800 dark:text-gray-500 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5 shrink-0"}},tooltip:{target:"w-fit",animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"absolute inline-block z-10 rounded-lg py-2 px-3 text-sm font-medium shadow-sm",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},content:"relative z-20"}},jA={theme:MA(RA)};function LA(){return jA.mode}function DA(e){e&&(jA.theme=FA(RA,e))}function OA(){return MA(jA.theme)}const zA=(0,e.createContext)(void 0);function GA(){const t=(0,e.useContext)(zA);if(!t)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return t}const BA=e=>{let{children:t,className:n,theme:i={},...a}=e;const{isOpen:s}=GA(),o=FA(OA().accordion.content,i);return(0,r.jsx)("div",{className:NA(o.base,n),"data-testid":"flowbite-accordion-content",hidden:!s,...a,children:t})},UA=t=>{let{children:n,...i}=t;const{alwaysOpen:a}=i,[s,o]=(0,e.useState)(i.isOpen),l=a?{...i,isOpen:s,setOpen:()=>o(!s)}:i;return(0,r.jsx)(zA.Provider,{value:l,children:n})},WA=e=>{let{as:t="h2",children:n,className:i,theme:a={},...s}=e;const{arrowIcon:o,flush:l,isOpen:c,setOpen:d}=GA(),u=FA(OA().accordion.title,a);return(0,r.jsxs)("button",{className:NA(u.base,u.flush[l?"on":"off"],u.open[c?"on":"off"],i),onClick:()=>"undefined"!==typeof d&&d(),type:"button",...s,children:[(0,r.jsx)(t,{className:u.heading,"data-testid":"flowbite-accordion-heading",children:n}),o&&(0,r.jsx)(o,{"aria-hidden":!0,className:NA(u.arrow.base,u.arrow.open[c?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]})},HA=t=>{let{alwaysOpen:n=!1,arrowIcon:i=GC.bv7,children:a,flush:s=!1,collapseAll:o=!1,className:l,theme:c={},...d}=t;const[u,h]=(0,e.useState)(o?-1:0),f=(0,e.useMemo)((()=>e.Children.map(a,((t,r)=>(0,e.cloneElement)(t,{alwaysOpen:n,arrowIcon:i,flush:s,isOpen:u===r,setOpen:()=>h(u===r?-1:r)})))),[n,i,a,s,u]),p=FA(OA().accordion.root,c);return(0,r.jsx)("div",{className:NA(p.base,p.flush[s?"on":"off"],l),"data-testid":"flowbite-accordion",...d,children:f})};HA.displayName="Accordion",UA.displayName="Accordion.Panel",WA.displayName="Accordion.Title",BA.displayName="Accordion.Content";const VA=Object.assign(HA,{Panel:UA,Title:WA,Content:BA}),YA=e=>{let{children:t,className:n,theme:i={},...a}=e;const s=FA(OA().avatar.group,i);return(0,r.jsx)("div",{"data-testid":"avatar-group-element",className:NA(s.base,n),...a,children:t})};YA.displayName="Avatar.Group";const XA=e=>{let{className:t,href:n,theme:i={},total:a,...s}=e;const o=FA(OA().avatar.groupCounter,i);return(0,r.jsxs)("a",{href:n,className:NA(o.base,t),...s,children:["+",a]})};XA.displayName="Avatar.GroupCounter";const qA=e=>{let{alt:t="",bordered:n=!1,children:i,className:a,color:s="light",img:o,placeholderInitials:l="",rounded:c=!1,size:d="md",stacked:u=!1,status:h,statusPosition:f="top-left",theme:p={},...g}=e;const m=FA(OA().avatar,p),v=NA(m.root.img.base,n&&m.root.bordered,n&&m.root.color[s],c&&m.root.rounded,u&&m.root.stacked,m.root.img.on,m.root.size[d]),b={className:NA(v,m.root.img.on),"data-testid":"flowbite-avatar-img"};return(0,r.jsxs)("div",{className:NA(m.root.base,a),"data-testid":"flowbite-avatar",...g,children:[(0,r.jsxs)("div",{className:"relative",children:[o?"string"===typeof o?(0,r.jsx)("img",{alt:t,src:o,...b}):o({alt:t,...b}):l?(0,r.jsx)("div",{className:NA(m.root.img.off,m.root.initials.base,u&&m.root.stacked,n&&m.root.bordered,n&&m.root.color[s],m.root.size[d],c&&m.root.rounded),"data-testid":"flowbite-avatar-initials-placeholder",children:(0,r.jsx)("span",{className:NA(m.root.initials.text),"data-testid":"flowbite-avatar-initials-placeholder-text",children:l})}):(0,r.jsx)("div",{className:NA(v,m.root.img.off),"data-testid":"flowbite-avatar-img",children:(0,r.jsx)("svg",{className:m.root.img.placeholder,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),h&&(0,r.jsx)("span",{"data-testid":"flowbite-avatar-status",className:NA(m.root.status.base,m.root.status[h],m.root.statusPosition[f])})]}),i&&(0,r.jsx)("div",{children:i})]})};qA.displayName="Avatar";Object.assign(qA,{Group:YA,Counter:XA});const KA=e=>{let{children:t,color:n="info",href:i,icon:a,size:s="xs",className:o,theme:l={},...c}=e;const d=FA(OA().badge,l),u=()=>(0,r.jsxs)("span",{className:NA(d.root.base,d.root.color[n],d.root.size[s],d.icon[a?"on":"off"],o),"data-testid":"flowbite-badge",...c,children:[a&&(0,r.jsx)(a,{"aria-hidden":!0,className:d.icon.size[s],"data-testid":"flowbite-badge-icon"}),t&&(0,r.jsx)("span",{children:t})]});return i?(0,r.jsx)("a",{className:d.root.href,href:i,children:(0,r.jsx)(u,{})}):(0,r.jsx)(u,{})};KA.displayName="Badge";const QA=e.forwardRef,JA=e=>{let{className:t,color:n="info",light:i,size:a="md",theme:s={},...o}=e;const l=FA(OA().spinner,s);return(0,r.jsx)("span",{role:"status",...o,children:(0,r.jsxs)("svg",{fill:"none",viewBox:"0 0 100 101",className:NA(l.base,l.color[n],l.light[i?"on":"off"].base,l.light[i?"on":"off"].color[n],l.size[a],t),children:[(0,r.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})})};JA.displayName="Spinner";const $A=QA(((t,n)=>{let{children:r,as:i,href:a,type:s="button",...o}=t;const l=i||(a?"a":"button");return(0,e.createElement)(l,{ref:n,href:a,type:s,...o},r)})),ZA=t=>{let{children:n,className:i,outline:a,pill:s,theme:o={},...l}=t;const c=(0,e.useMemo)((()=>e.Children.map(n,((t,r)=>(0,e.cloneElement)(t,{outline:a,pill:s,positionInGroup:0===r?"start":r===n.length-1?"end":"middle"})))),[n,a,s]),d=FA(OA().buttonGroup,o);return(0,r.jsx)("div",{className:NA(d.base,i),role:"group",...l,children:c})};ZA.displayName="Button.Group";const eP=(e,t)=>{var n;let{children:i,className:a,color:s="info",disabled:o,fullSized:l,isProcessing:c=!1,processingLabel:d="Loading...",processingSpinner:u,gradientDuoTone:h,gradientMonochrome:f,label:p,outline:g=!1,pill:m=!1,positionInGroup:v="none",size:b="md",theme:y={},...x}=e;const{buttonGroup:w,button:k}=OA(),_=FA(k,y),S=x;return(0,r.jsx)($A,{ref:t,disabled:o,className:NA(_.base,o&&_.disabled,!h&&!f&&_.color[s],h&&!f&&_.gradientDuoTone[h],!h&&f&&_.gradient[f],g&&(null!==(n=_.outline.color[s])&&void 0!==n?n:_.outline.color.default),_.pill[m?"on":"off"],l&&_.fullSized,w.position[v],a),...S,children:(0,r.jsx)("span",{className:NA(_.inner.base,_.outline[g?"on":"off"],_.outline.pill[g&&m?"on":"off"],_.size[b],g&&!_.outline.color[s]&&_.inner.outline,c&&_.isProcessing,c&&_.inner.isProcessingPadding[b],_.inner.position[v]),children:(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsx)("span",{className:NA(_.spinnerSlot,_.spinnerLeftPosition[b]),children:u||(0,r.jsx)(JA,{size:b})}),"undefined"!==typeof i?i:(0,r.jsx)("span",{"data-testid":"flowbite-button-label",className:NA(_.label),children:c?d:p})]})})})};eP.displayName="Button";const tP=QA(eP),nP=Object.assign(tP,{Group:ZA}),rP=e=>{let{children:t,...n}=e;return(0,r.jsx)(nP,{onClick:e=>{const t=e.target.closest('[role="banner"]');null===t||void 0===t||t.remove()},...n,children:t})};rP.displayName="Banner.CollapseButton";const iP=e=>{let{children:t,...n}=e;return(0,r.jsx)("div",{"data-testid":"flowbite-banner",role:"banner",tabIndex:-1,...n,children:t})};iP.displayName="Banner";Object.assign(iP,{CollapseButton:rP});const aP=(0,e.forwardRef)(((e,t)=>{let{children:n,className:i,href:a,icon:s,theme:o={},...l}=e;const c="undefined"!==typeof a,d=c?"a":"span",u=FA(OA().breadcrumb.item,o);return(0,r.jsxs)("li",{className:NA(u.base,i),...l,children:[(0,r.jsx)(GC.ngD,{"aria-hidden":!0,className:u.chevron,"data-testid":"flowbite-breadcrumb-separator"}),(0,r.jsxs)(d,{ref:t,className:u.href[c?"on":"off"],"data-testid":"flowbite-breadcrumb-item",href:a,children:[s&&(0,r.jsx)(s,{"aria-hidden":!0,className:u.icon}),n]})]})}));aP.displayName="Breadcrumb.Item";const sP=e=>{let{children:t,className:n,theme:i={},...a}=e;const s=FA(OA().breadcrumb.root,i);return(0,r.jsx)("nav",{"aria-label":"Breadcrumb",className:NA(s.base,n),...a,children:(0,r.jsx)("ol",{className:s.list,children:t})})};sP.displayName="Breadcrumb";const oP=Object.assign(sP,{Item:aP});lP=["renderImage","imgSrc","imgAlt","children","className","horizontal","href","theme"];var lP,cP,dP=function(e,t){return(dP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},uP=(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var a=typeof i;if("string"===a||"number"===a)e.push(i);else if(Array.isArray(i)&&i.length){var s=n.apply(null,i);s&&e.push(s)}else if("object"===a)for(var o in i)t.call(i,o)&&i[o]&&e.push(o)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(cP={path:undefined,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&cP.path)}},cP.exports),cP.exports);function hP(e,t,n){var r,i,a,s,o;function l(){var c=Date.now()-s;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(o=e.apply(a,i),a=i=null))}null==t&&(t=100);var c=function(){a=this,i=arguments,s=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(o=e.apply(a,i),a=i=null),o};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(o=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},c}hP.debounce=hP;var fP=hP;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".indiana-scroll-container {\n  overflow: auto; }\n  .indiana-scroll-container--dragging {\n    scroll-behavior: auto !important; }\n    .indiana-scroll-container--dragging > * {\n      pointer-events: none;\n      cursor: -webkit-grab;\n      cursor: grab; }\n  .indiana-scroll-container--hide-scrollbars {\n    overflow: hidden;\n    overflow: -moz-scrollbars-none;\n    -ms-overflow-style: none;\n    scrollbar-width: none; }\n    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {\n      display: none !important;\n      height: 0 !important;\n      width: 0 !important;\n      background: transparent !important;\n      -webkit-appearance: none !important; }\n  .indiana-scroll-container--native-scroll {\n    overflow: auto; }\n\n.indiana-dragging {\n  cursor: -webkit-grab;\n  cursor: grab; }\n");var pP,gP=(pP="indiana-scroll-container",function(e,t){if(!e)return pP;var n;"string"==typeof e?n=e:t=e;var r=pP;return n&&(r+="__"+n),r+(t?Object.keys(t).reduce((function(e,n){var i=t[n];return i&&(e+=" "+("boolean"==typeof i?r+"--"+n:r+"--"+n+"_"+i)),e}),""):"")});!function(t){function n(n){var r=t.call(this,n)||this;return r.onEndScroll=function(){r.scrolling=!1,!r.pressed&&r.started&&r.processEnd()},r.onScroll=function(e){var t=r.container.current;t.scrollLeft===r.scrollLeft&&t.scrollTop===r.scrollTop||(r.scrolling=!0,r.processScroll(e),r.onEndScroll())},r.onTouchStart=function(e){var t=r.props.nativeMobileScroll;if(r.isDraggable(e.target))if(r.internal=!0,t&&r.scrolling)r.pressed=!0;else{var n=e.touches[0];r.processClick(e,n.clientX,n.clientY),!t&&r.props.stopPropagation&&e.stopPropagation()}},r.onTouchEnd=function(e){var t=r.props.nativeMobileScroll;r.pressed&&(!r.started||r.scrolling&&t?r.pressed=!1:r.processEnd(),r.forceUpdate())},r.onTouchMove=function(e){var t=r.props.nativeMobileScroll;if(r.pressed&&(!t||!r.isMobile)){var n=e.touches[0];n&&r.processMove(e,n.clientX,n.clientY),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation()}},r.onMouseDown=function(e){r.isDraggable(e.target)&&r.isScrollable()&&(r.internal=!0,-1!==r.props.buttons.indexOf(e.button)&&(r.processClick(e,e.clientX,e.clientY),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation()))},r.onMouseMove=function(e){r.pressed&&(r.processMove(e,e.clientX,e.clientY),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation())},r.onMouseUp=function(e){r.pressed&&(r.started?r.processEnd():(r.internal=!1,r.pressed=!1,r.forceUpdate(),r.props.onClick&&r.props.onClick(e)),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation())},r.container=e.createRef(),r.onEndScroll=fP(r.onEndScroll,300),r.scrolling=!1,r.started=!1,r.pressed=!1,r.internal=!1,r.getRef=r.getRef.bind(r),r}(function(e,t){function n(){this.constructor=e}dP(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(n,t),n.prototype.componentDidMount=function(){var e=this.props.nativeMobileScroll,t=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("touchstart",this.onTouchStart,{passive:!1}),t.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},n.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},n.prototype.getElement=function(){return this.container.current},n.prototype.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},n.prototype.isDraggable=function(e){var t=this.props.ignoreElements;if(t){var n=e.closest(t);return null===n||n.contains(this.getElement())}return!0},n.prototype.isScrollable=function(){var e=this.container.current;return e&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)},n.prototype.processClick=function(e,t,n){var r=this.container.current;this.scrollLeft=r.scrollLeft,this.scrollTop=r.scrollTop,this.clientX=t,this.clientY=n,this.pressed=!0},n.prototype.processStart=function(e){void 0===e&&(e=!0);var t=this.props.onStartScroll;this.started=!0,e&&document.body.classList.add("indiana-dragging"),t&&t({external:!this.internal}),this.forceUpdate()},n.prototype.processScroll=function(e){if(this.started){var t=this.props.onScroll;t&&t({external:!this.internal})}else this.processStart(!1)},n.prototype.processMove=function(e,t,n){var r=this.props,i=r.horizontal,a=r.vertical,s=r.activationDistance,o=r.onScroll,l=this.container.current;this.started?(i&&(l.scrollLeft-=t-this.clientX),a&&(l.scrollTop-=n-this.clientY),o&&o({external:!this.internal}),this.clientX=t,this.clientY=n,this.scrollLeft=l.scrollLeft,this.scrollTop=l.scrollTop):(i&&Math.abs(t-this.clientX)>s||a&&Math.abs(n-this.clientY)>s)&&(this.clientX=t,this.clientY=n,this.processStart())},n.prototype.processEnd=function(){var e=this.props.onEndScroll;this.container.current&&e&&e({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},n.prototype.getRef=function(e){[this.container,this.props.innerRef].forEach((function(t){t&&("function"==typeof t?t(e):t.current=e)}))},n.prototype.render=function(){var t=this.props,n=t.children,r=t.draggingClassName,i=t.className,a=t.style,s=t.hideScrollbars,o=t.component;return e.createElement(o,{className:uP(i,this.pressed&&r,gP({dragging:this.pressed,"hide-scrollbars":s,"native-scroll":this.isMobile})),style:a,ref:this.getRef,onScroll:this.onScroll},n)},n.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]}}(e.PureComponent);const mP=()=>"undefined"!==typeof window,vP=(0,e.forwardRef)(((e,t)=>{let{className:n,color:i="default",theme:a={},...s}=e;const o=FA(OA().checkbox,a);return(0,r.jsx)("input",{ref:t,type:"checkbox",className:NA(o.root.base,o.root.color[i],n),...s})}));vP.displayName="Checkbox";const bP="light",yP="flowbite-theme-mode",xP="flowbite-theme-mode-sync",wP=()=>{const[t,n]=(0,e.useState)(CP(LA()));(0,e.useEffect)((()=>{_P(t),SP(t)}),[]),(t=>{let{key:n,onChange:r}=t;function i(e){let{key:t,newValue:i}=e;t===n&&r(i)}(0,e.useEffect)((()=>(window.addEventListener("storage",i),()=>window.removeEventListener("storage",i))),[])})({key:yP,onChange(e){if(e)return r(e)}}),kP((e=>n(e)));const r=e=>{n(e),_P(e),SP(e),document.dispatchEvent(new CustomEvent(xP,{detail:e}))};return{mode:t,computedMode:AP(t),setMode:r,toggleMode:()=>{let e=t;"auto"===e&&(e=AP(e)),e="dark"===e?"light":"dark",r(e)},clearMode:()=>{var e;const t=null!==(e=LA())&&void 0!==e?e:bP;r(t)}}},kP=t=>{(0,e.useEffect)((()=>{function e(e){const n=e.detail;t(n)}return document.addEventListener(xP,e),()=>document.removeEventListener(xP,e)}),[])},_P=e=>localStorage.setItem(yP,e),SP=e=>{"dark"===AP(e)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},CP=e=>{var t;if(!mP())return bP;const n=localStorage.getItem(yP);return null!==(t=null!==n&&void 0!==n?n:e)&&void 0!==t?t:bP},AP=e=>"auto"===e?PP():e,PP=()=>{var e,t;return null!==(e=(t=window).matchMedia)&&void 0!==e&&e.call(t,"(prefers-color-scheme: dark)").matches?"dark":"light"};(t=>{let{className:n,theme:i={},iconDark:a=GC.Q3K,iconLight:s=GC.Zt5,...o}=t;const l=function(){const[t,n]=(0,e.useState)(!1);return(0,e.useEffect)((()=>n(!0)),[]),t}(),{computedMode:c,toggleMode:d}=wP(),u=FA(OA().darkThemeToggle,i);return(0,r.jsxs)("button",{type:"button","aria-label":"Toggle dark mode","data-testid":"dark-theme-toggle",className:NA(u.root.base,n),onClick:d,...o,children:[(0,r.jsx)(a,{"aria-label":"Currently dark mode","data-active":l&&"dark"===c,className:NA(u.root.icon,"hidden dark:block")}),(0,r.jsx)(s,{"aria-label":"Currently light mode","data-active":l&&"light"===c,className:NA(u.root.icon,"dark:hidden")})]})}).displayName="DarkThemeToggle";const EP=e=>{var t;let{children:n,className:i,color:a="default",theme:s={},value:o,...l}=e;const c=FA(OA().helperText,s);return(0,r.jsx)("p",{className:NA(c.root.base,c.root.colors[a],i),...l,children:null!==(t=null!==o&&void 0!==o?o:n)&&void 0!==t?t:""})};EP.displayName="HelperText";const TP=(0,e.forwardRef)(((e,t)=>{let{addon:n,className:i,color:a="gray",helperText:s,icon:o,rightIcon:l,shadow:c,sizing:d="md",theme:u={},...h}=e;const f=FA(OA().textInput,u);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:NA(f.base,i),children:[n&&(0,r.jsx)("span",{className:f.addon,children:n}),(0,r.jsxs)("div",{className:f.field.base,children:[o&&(0,r.jsx)("div",{className:f.field.icon.base,children:(0,r.jsx)(o,{className:f.field.icon.svg})}),l&&(0,r.jsx)("div",{"data-testid":"right-icon",className:f.field.rightIcon.base,children:(0,r.jsx)(l,{className:f.field.rightIcon.svg})}),(0,r.jsx)("input",{className:NA(f.field.input.base,f.field.input.colors[a],f.field.input.sizes[d],f.field.input.withIcon[o?"on":"off"],f.field.input.withRightIcon[l?"on":"off"],f.field.input.withAddon[n?"on":"off"],f.field.input.withShadow[c?"on":"off"]),...h,ref:t})]})]}),s&&(0,r.jsx)(EP,{color:a,children:s})]})}));TP.displayName="TextInput";const NP=(0,e.createContext)(void 0);function IP(){const t=(0,e.useContext)(NP);if(!t)throw new Error("useDatePickerContext should be used within the DatePickerContext provider!");return t}var MP,FP;!function(e){e[e.Days=0]="Days",e[e.Months=1]="Months",e[e.Years=2]="Years",e[e.Decades=3]="Decades"}(MP||(MP={})),function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(FP||(FP={}));const RP=(e,t,n)=>{const r=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();if(t&&n){const e=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime(),i=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime();return r>=e&&r<=i}if(t){return r>=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()}if(n){return r<=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime()}return!0},jP=(e,t)=>(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),e.getTime()===t.getTime()),LP=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},DP=(e,t)=>{const n=new Date(e);return n.setFullYear(n.getFullYear()+t),n},OP=(e,t,n)=>{let r={day:"numeric",month:"long",year:"numeric"};return n&&(r=n),new Intl.DateTimeFormat(e,r).format(t)},zP=(e,t)=>{const n=e.getFullYear();return Math.floor(n/t)*t},GP=e=>{let{theme:t={}}=e;const{theme:n,weekStart:i,minDate:a,maxDate:s,viewDate:o,selectedDate:l,changeSelectedDate:c,language:d}=IP(),u=FA(n.views.days,t),h=((e,t)=>{const n=[],r=new Date(0);r.setDate(r.getDate()-r.getDay()+t);const i=new Intl.DateTimeFormat(e,{weekday:"short"});for(let a=0;a<7;a++)n.push(i.format(LP(r,a)));return n})(d,i),f=((e,t)=>{const n=new Date(e.getFullYear(),e.getMonth(),1);let r=n.getDay()-t;return r<0&&(r+=7),LP(n,-r)})(o,i);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:u.header.base,children:h.map(((e,t)=>(0,r.jsx)("span",{className:u.header.title,children:e},t)))}),(0,r.jsx)("div",{className:u.items.base,children:[...Array(42)].map(((e,t)=>{const n=LP(f,t),i=OP(d,n,{day:"numeric"}),o=jP(l,n),h=!RP(n,a,s);return(0,r.jsx)("button",{disabled:h,type:"button",className:NA(u.items.item.base,o&&u.items.item.selected,h&&u.items.item.disabled),onClick:()=>{h||c(n,!0)},children:i},t)}))})]})},BP=e=>{let{theme:t={}}=e;const{theme:n,selectedDate:i,viewDate:a,setViewDate:s,setView:o}=IP(),l=FA(n.views.decades,t);return(0,r.jsx)("div",{className:l.items.base,children:[...Array(12)].map(((e,t)=>{const n=zP(a,100)-10+10*t,c=new Date(n,0,1),d=DP(c,9),u=((e,t)=>{const n=e.getFullYear();return n>=t&&n<=t+9})(a,n),h=!RP(a,c,d);return(0,r.jsx)("button",{disabled:h,type:"button",className:NA(l.items.item.base,u&&l.items.item.selected,h&&l.items.item.disabled),onClick:()=>{h||(s(DP(a,n-i.getFullYear())),o(MP.Years))},children:n},t)}))})},UP=e=>{let{theme:t={}}=e;const{theme:n,minDate:i,maxDate:a,selectedDate:s,viewDate:o,language:l,setViewDate:c,setView:d}=IP(),u=FA(n.views.months,t);return(0,r.jsx)("div",{className:u.items.base,children:[...Array(12)].map(((e,t)=>{const n=new Date(o.getTime());n.setMonth(t);const h=OP(l,n,{month:"short"}),f=jP(s,n),p=!RP(n,i,a);return(0,r.jsx)("button",{disabled:p,type:"button",className:NA(u.items.item.base,f&&u.items.item.selected,p&&u.items.item.disabled),onClick:()=>{p||(c(n),d(MP.Days))},children:h},t)}))})},WP=e=>{let{theme:t={}}=e;const{theme:n,selectedDate:i,minDate:a,maxDate:s,viewDate:o,setViewDate:l,setView:c}=IP(),d=FA(n.views.years,t);return(0,r.jsx)("div",{className:d.items.base,children:[...Array(12)].map(((e,t)=>{const n=zP(o,10)-1+1*t,u=new Date(o.getTime());u.setFullYear(n);const h=jP(i,u),f=!RP(u,a,s);return(0,r.jsx)("button",{disabled:f,type:"button",className:NA(d.items.item.base,h&&d.items.item.selected,f&&d.items.item.disabled),onClick:()=>{f||(l(u),c(MP.Months))},children:n},t)}))})},HP=t=>{let{title:n,open:i,inline:a=!1,autoHide:s=!0,showClearButton:o=!0,labelClearButton:l="Clear",showTodayButton:c=!0,labelTodayButton:d="Today",defaultDate:u=new Date,minDate:h,maxDate:f,language:p="en",weekStart:g=FP.Sunday,className:m,theme:v={},onSelectedDateChanged:b,...y}=t;const x=FA(OA().datepicker,v);u=((e,t,n)=>(RP(e,t,n)||(t&&e<t?e=t:n&&e>n&&(e=n)),e))(u,h,f);const[w,k]=(0,e.useState)(i),[_,S]=(0,e.useState)(MP.Days),[C,A]=(0,e.useState)(u),[P,E]=(0,e.useState)(u),T=(0,e.useRef)(null),N=(0,e.useRef)(null),I=(e,t)=>{A(e),b&&b(e),s&&_===MP.Days&&1==t&&!a&&k(!1)},M=(e,t,n)=>{switch(e){case MP.Days:return new Date(((e,t)=>{const n=new Date(e);return n.setMonth(n.getMonth()+t),n})(t,n));case MP.Months:return new Date(DP(t,n));case MP.Years:return new Date(DP(t,10*n));case MP.Decades:return new Date(DP(t,100*n));default:return new Date(DP(t,10*n))}};return(0,e.useEffect)((()=>{const e=e=>{var t,n;const r=null===N||void 0===N||null===(t=N.current)||void 0===t?void 0:t.contains(e.target),i=null===T||void 0===T||null===(n=T.current)||void 0===n?void 0:n.contains(e.target);r||i||k(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[T,N,k]),(0,r.jsx)(NP.Provider,{value:{theme:x,language:p,minDate:h,maxDate:f,weekStart:g,isOpen:w,setIsOpen:k,view:_,setView:S,viewDate:P,setViewDate:E,selectedDate:C,setSelectedDate:A,changeSelectedDate:I},children:(0,r.jsxs)("div",{className:NA(x.root.base,m),children:[!a&&(0,r.jsx)(TP,{theme:x.root.input,icon:GC.Ylv,ref:T,onFocus:()=>{jP(P,C)||E(C),k(!0)},value:C&&OP(p,C),readOnly:!0,...y}),(w||a)&&(0,r.jsx)("div",{ref:N,className:NA(x.popup.root.base,a&&x.popup.root.inline),children:(0,r.jsxs)("div",{className:x.popup.root.inner,children:[(0,r.jsxs)("div",{className:x.popup.header.base,children:[n&&(0,r.jsx)("div",{className:x.popup.header.title,children:n}),(0,r.jsxs)("div",{className:x.popup.header.selectors.base,children:[(0,r.jsx)("button",{type:"button",className:NA(x.popup.header.selectors.button.base,x.popup.header.selectors.button.prev),onClick:()=>E(M(_,P,-1)),children:(0,r.jsx)(GC.AqJ,{})}),(0,r.jsx)("button",{type:"button",className:NA(x.popup.header.selectors.button.base,x.popup.header.selectors.button.view),onClick:()=>S((()=>{switch(_){case MP.Days:return MP.Months;case MP.Months:return MP.Years;case MP.Years:return MP.Decades}return _})()),children:(()=>{switch(_){case MP.Decades:return"".concat(zP(P,100)," - ").concat(zP(P,100)+90);case MP.Years:return"".concat(zP(P,10)," - ").concat(zP(P,10)+9);case MP.Months:return OP(p,P,{year:"numeric"});case MP.Days:default:return OP(p,P,{month:"long",year:"numeric"})}})()}),(0,r.jsx)("button",{type:"button",className:NA(x.popup.header.selectors.button.base,x.popup.header.selectors.button.next),onClick:()=>E(M(_,P,1)),children:(0,r.jsx)(GC.L2n,{})})]})]}),(0,r.jsx)("div",{className:x.popup.view.base,children:(e=>{switch(e){case MP.Decades:return(0,r.jsx)(BP,{theme:x.views.decades});case MP.Years:return(0,r.jsx)(WP,{theme:x.views.years});case MP.Months:return(0,r.jsx)(UP,{theme:x.views.months});case MP.Days:default:return(0,r.jsx)(GP,{theme:x.views.days})}})(_)}),(o||c)&&(0,r.jsxs)("div",{className:x.popup.footer.base,children:[c&&(0,r.jsx)("button",{type:"button",className:NA(x.popup.footer.button.base,x.popup.footer.button.today),onClick:()=>{const e=new Date;I(e,!0),E(e)},children:d}),o&&(0,r.jsx)("button",{type:"button",className:NA(x.popup.footer.button.base,x.popup.footer.button.clear),onClick:()=>{I(u,!0),u&&E(u)},children:l})]})]})})]})})};function VP(e){return qP(e)?(e.nodeName||"").toLowerCase():"#document"}function YP(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function XP(e){var t;return null==(t=(qP(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function qP(e){return e instanceof Node||e instanceof YP(e).Node}function KP(e){return e instanceof Element||e instanceof YP(e).Element}function QP(e){return e instanceof HTMLElement||e instanceof YP(e).HTMLElement}function JP(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof YP(e).ShadowRoot)}function $P(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=rE(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function ZP(e){return["table","td","th"].includes(VP(e))}function eE(e){const t=tE(),n=rE(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function tE(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function nE(e){return["html","body","#document"].includes(VP(e))}function rE(e){return YP(e).getComputedStyle(e)}function iE(e){return KP(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function aE(e){if("html"===VP(e))return e;const t=e.assignedSlot||e.parentNode||JP(e)&&e.host||XP(e);return JP(t)?t.host:t}function sE(e){const t=aE(e);return nE(t)?e.ownerDocument?e.ownerDocument.body:e.body:QP(t)&&$P(t)?t:sE(t)}function oE(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=sE(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),s=YP(i);return a?t.concat(s,s.visualViewport||[],$P(i)?i:[],s.frameElement&&n?oE(s.frameElement):[]):t.concat(i,oE(i,[],n))}function lE(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function cE(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&JP(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function dE(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function uE(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function hE(e){return!(0!==e.mozInputSource||!e.isTrusted)||(gE()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function fE(e){return!uE().includes("jsdom/")&&(!gE()&&0===e.width&&0===e.height||gE()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function pE(){return/apple/i.test(navigator.vendor)}function gE(){const e=/android/i;return e.test(dE())||e.test(uE())}function mE(){return dE().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function vE(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function bE(e){return(null==e?void 0:e.ownerDocument)||document}function yE(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function xE(e){return"composedPath"in e?e.composedPath()[0]:e.target}HP.displayName="Datepicker";const wE="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function kE(e){return QP(e)&&e.matches(wE)}function _E(e){e.preventDefault(),e.stopPropagation()}function SE(e){return!!e&&("combobox"===e.getAttribute("role")&&kE(e))}const CE=["start","end"],AE=["top","right","bottom","left"].reduce(((e,t)=>e.concat(t,t+"-"+CE[0],t+"-"+CE[1])),[]),PE=Math.min,EE=Math.max,TE=Math.round,NE=Math.floor,IE=e=>({x:e,y:e}),ME={left:"right",right:"left",bottom:"top",top:"bottom"},FE={start:"end",end:"start"};function RE(e,t,n){return EE(e,PE(t,n))}function jE(e,t){return"function"===typeof e?e(t):e}function LE(e){return e.split("-")[0]}function DE(e){return e.split("-")[1]}function OE(e){return"x"===e?"y":"x"}function zE(e){return"y"===e?"height":"width"}function GE(e){return["top","bottom"].includes(LE(e))?"y":"x"}function BE(e){return OE(GE(e))}function UE(e,t,n){void 0===n&&(n=!1);const r=DE(e),i=BE(e),a=zE(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=HE(s)),[s,HE(s)]}function WE(e){return e.replace(/start|end/g,(e=>FE[e]))}function HE(e){return e.replace(/left|right|bottom|top/g,(e=>ME[e]))}function VE(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function YE(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function XE(e,t,n){let{reference:r,floating:i}=e;const a=GE(t),s=BE(t),o=zE(s),l=LE(t),c="y"===a,d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:d,y:r.y-i.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:u};break;case"left":f={x:r.x-i.width,y:u};break;default:f={x:r.x,y:r.y}}switch(DE(t)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1)}return f}async function qE(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:f=0}=jE(t,e),p=VE(f),g=o[h?"floating"===u?"reference":"floating":u],m=YE(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(g)))||n?g:g.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{...s.floating,x:r,y:i}:s.reference,b=await(null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating)),y=await(null==a.isElement?void 0:a.isElement(b))&&await(null==a.getScale?void 0:a.getScale(b))||{x:1,y:1},x=YE(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:b,strategy:l}):v);return{top:(m.top-x.top+p.top)/y.y,bottom:(x.bottom-m.bottom+p.bottom)/y.y,left:(m.left-x.left+p.left)/y.x,right:(x.right-m.right+p.right)/y.x}}const KE=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=LE(n),o=DE(n),l="y"===GE(n),c=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,u=jE(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return o&&"number"===typeof p&&(f="end"===o?-1*p:p),l?{x:f*d,y:h*c}:{x:h*c,y:f*d}}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}};function QE(e){const t=rE(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=QP(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,o=TE(n)!==a||TE(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function JE(e){return KP(e)?e:e.contextElement}function $E(e){const t=JE(e);if(!QP(t))return IE(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=QE(t);let s=(a?TE(n.width):n.width)/r,o=(a?TE(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const ZE=IE(0);function eT(e){const t=YP(e);return tE()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ZE}function tT(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=JE(e);let s=IE(1);t&&(r?KP(r)&&(s=$E(r)):s=$E(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==YP(e))&&t}(a,n,r)?eT(a):IE(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,d=i.width/s.x,u=i.height/s.y;if(a){const e=YP(a),t=r&&KP(r)?YP(r):r;let n=e,i=n.frameElement;for(;i&&r&&t!==n;){const e=$E(i),t=i.getBoundingClientRect(),r=rE(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=a,c+=s,n=YP(i),i=n.frameElement}}return YE({width:d,height:u,x:l,y:c})}const nT=[":popover-open",":modal"];function rT(e){return nT.some((t=>{try{return e.matches(t)}catch(OG){return!1}}))}function iT(e){return tT(XP(e)).left+iE(e).scrollLeft}function aT(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=YP(e),r=XP(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const e=tE();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=XP(e),n=iE(e),r=e.ownerDocument.body,i=EE(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=EE(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+iT(e);const o=-n.scrollTop;return"rtl"===rE(r).direction&&(s+=EE(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}(XP(e));else if(KP(t))r=function(e,t){const n=tT(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=QP(e)?$E(e):IE(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=eT(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return YE(r)}function sT(e,t){const n=aE(e);return!(n===t||!KP(n)||nE(n))&&("fixed"===rE(n).position||sT(n,t))}function oT(e,t,n){const r=QP(t),i=XP(t),a="fixed"===n,s=tT(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=IE(0);if(r||!r&&!a)if(("body"!==VP(t)||$P(i))&&(o=iE(t)),r){const e=tT(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=iT(i));return{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function lT(e,t){return QP(e)&&"fixed"!==rE(e).position?t?t(e):e.offsetParent:null}function cT(e,t){const n=YP(e);if(!QP(e)||rT(e))return n;let r=lT(e,t);for(;r&&ZP(r)&&"static"===rE(r).position;)r=lT(r,t);return r&&("html"===VP(r)||"body"===VP(r)&&"static"===rE(r).position&&!eE(r))?n:r||function(e){let t=aE(e);for(;QP(t)&&!nE(t);){if(eE(t))return t;t=aE(t)}return null}(e)||n}const dT={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,s=XP(r),o=!!t&&rT(t.floating);if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=IE(1);const d=IE(0),u=QP(r);if((u||!u&&!a)&&(("body"!==VP(r)||$P(s))&&(l=iE(r)),QP(r))){const e=tT(r);c=$E(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}},getDocumentElement:XP,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let r=oE(e,[],!1).filter((e=>KP(e)&&"body"!==VP(e))),i=null;const a="fixed"===rE(e).position;let s=a?aE(e):e;for(;KP(s)&&!nE(s);){const t=rE(s),n=eE(s);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||$P(s)&&!n&&sT(e,s))?r=r.filter((e=>e!==s)):i=t,s=aE(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=a[0],o=a.reduce(((e,n)=>{const r=aT(t,n,i);return e.top=EE(r.top,e.top),e.right=PE(r.right,e.right),e.bottom=PE(r.bottom,e.bottom),e.left=EE(r.left,e.left),e}),aT(t,s,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:cT,getElementRects:async function(e){const t=this.getOffsetParent||cT,n=this.getDimensions;return{reference:oT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=QE(e);return{width:t,height:n}},getScale:$E,isElement:KP,isRTL:function(e){return"rtl"===rE(e).direction}};function uT(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=JE(e),d=i||a?[...c?oE(c):[],...oE(t)]:[];d.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));const u=c&&o?function(e,t){let n,r=null;const i=XP(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const{left:c,top:d,width:u,height:h}=e.getBoundingClientRect();if(o||t(),!u||!h)return;const f={rootMargin:-NE(d)+"px "+-NE(i.clientWidth-(c+u))+"px "+-NE(i.clientHeight-(d+h))+"px "+-NE(c)+"px",threshold:EE(0,PE(1,l))||1};let p=!0;function g(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return s();t?s(!1,t):n=setTimeout((()=>{s(!1,1e-7)}),100)}p=!1}try{r=new IntersectionObserver(g,{...f,root:i.ownerDocument})}catch(OG){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),a}(c,n):null;let h,f=-1,p=null;s&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let g=l?tT(e):null;return l&&function t(){const r=tT(e);!g||r.x===g.x&&r.y===g.y&&r.width===g.width&&r.height===g.height||n();g=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const hT=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,i;const{rects:a,middlewareData:s,placement:o,platform:l,elements:c}=t,{crossAxis:d=!1,alignment:u,allowedPlacements:h=AE,autoAlignment:f=!0,...p}=jE(e,t),g=void 0!==u||h===AE?function(e,t,n){return(e?[...n.filter((t=>DE(t)===e)),...n.filter((t=>DE(t)!==e))]:n.filter((e=>LE(e)===e))).filter((n=>!e||DE(n)===e||!!t&&WE(n)!==n))}(u||null,f,h):h,m=await qE(t,p),v=(null==(n=s.autoPlacement)?void 0:n.index)||0,b=g[v];if(null==b)return{};const y=UE(b,a,await(null==l.isRTL?void 0:l.isRTL(c.floating)));if(o!==b)return{reset:{placement:g[0]}};const x=[m[LE(b)],m[y[0]],m[y[1]]],w=[...(null==(r=s.autoPlacement)?void 0:r.overflows)||[],{placement:b,overflows:x}],k=g[v+1];if(k)return{data:{index:v+1,overflows:w},reset:{placement:k}};const _=w.map((e=>{const t=DE(e.placement);return[e.placement,t&&d?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),S=_.filter((e=>e[2].slice(0,DE(e[0])?2:3).every((e=>e<=0)))),C=(null==(i=S[0])?void 0:i[0])||_[0][0];return C!==o?{data:{index:v+1,overflows:w},reset:{placement:C}}:{}}}},fT=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=jE(e,t),c={x:n,y:r},d=await qE(t,l),u=GE(LE(i)),h=OE(u);let f=c[h],p=c[u];if(a){const e="y"===h?"bottom":"right";f=RE(f+d["y"===h?"top":"left"],f,f-d[e])}if(s){const e="y"===u?"bottom":"right";p=RE(p+d["y"===u?"top":"left"],p,p-d[e])}const g=o.fn({...t,[h]:f,[u]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},pT=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=jE(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const v=LE(i),b=LE(o)===o,y=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=h||(b||!g?[HE(o)]:function(e){const t=HE(e);return[WE(e),t,WE(t)]}(o));h||"none"===p||x.push(...function(e,t,n,r){const i=DE(e);let a=function(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:s;default:return[]}}(LE(e),"start"===n,r);return i&&(a=a.map((e=>e+"-"+i)),t&&(a=a.concat(a.map(WE)))),a}(o,g,p,y));const w=[o,...x],k=await qE(t,m),_=[];let S=(null==(r=a.flip)?void 0:r.overflows)||[];if(d&&_.push(k[v]),u){const e=UE(i,s,y);_.push(k[e[0]],k[e[1]])}if(S=[...S,{placement:i,overflows:_}],!_.every((e=>e<=0))){var C,A;const e=((null==(C=a.flip)?void 0:C.index)||0)+1,t=w[e];if(t)return{data:{index:e,overflows:S},reset:{placement:t}};let n=null==(A=S.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:A.placement;if(!n)switch(f){case"bestFit":{var P;const e=null==(P=S.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=o}if(i!==n)return{reset:{placement:n}}}return{}}}},gT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=jE(e,t)||{};if(null==c)return{};const u=VE(d),h={x:n,y:r},f=BE(i),p=zE(f),g=await s.getDimensions(c),m="y"===f,v=m?"top":"left",b=m?"bottom":"right",y=m?"clientHeight":"clientWidth",x=a.reference[p]+a.reference[f]-h[f]-a.floating[p],w=h[f]-a.reference[f],k=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let _=k?k[y]:0;_&&await(null==s.isElement?void 0:s.isElement(k))||(_=o.floating[y]||a.floating[p]);const S=x/2-w/2,C=_/2-g[p]/2-1,A=PE(u[v],C),P=PE(u[b],C),E=A,T=_-g[p]-P,N=_/2-g[p]/2+S,I=RE(E,N,T),M=!l.arrow&&null!=DE(i)&&N!==I&&a.reference[p]/2-(N<E?A:P)-g[p]/2<0,F=M?N<E?N-E:N-T:0;return{[f]:h[f]+F,data:{[f]:I,centerOffset:N-I-F,...M&&{alignmentOffset:F}},reset:M}}}),mT=(e,t,n)=>{const r=new Map,i={platform:dT,...n},a={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=XE(c,r,l),h=r,f={},p=0;for(let g=0;g<o.length;g++){const{name:n,fn:a}=o[g],{x:m,y:v,data:b,reset:y}=await a({x:d,y:u,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:t}});d=null!=m?m:d,u=null!=v?v:u,f={...f,[n]:{...f[n],...b}},y&&p<=50&&(p++,"object"===typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):y.rects),({x:d,y:u}=XE(c,h,l))),g=-1)}return{x:d,y:u,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:a})};var vT="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function bT(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!bT(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!bT(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function yT(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xT(e,t){const n=yT(e);return Math.round(t*n)/n}function wT(t){const n=e.useRef(t);return vT((()=>{n.current=t})),n}var kT=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],_T=kT.join(","),ST="undefined"===typeof Element,CT=ST?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,AT=!ST&&Element.prototype.getRootNode?function(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null===e||void 0===e?void 0:e.ownerDocument},PT=function e(t,n){var r;void 0===n&&(n=!0);var i=null===t||void 0===t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},ET=function(e,t,n){if(PT(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(_T));return t&&CT.call(e,_T)&&r.unshift(e),r=r.filter(n)},TT=function e(t,n,r){for(var i=[],a=Array.from(t);a.length;){var s=a.shift();if(!PT(s,!1))if("SLOT"===s.tagName){var o=s.assignedElements(),l=e(o.length?o:s.children,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:s,candidates:l})}else{CT.call(s,_T)&&r.filter(s)&&(n||!t.includes(s))&&i.push(s);var c=s.shadowRoot||"function"===typeof r.getShadowRoot&&r.getShadowRoot(s),d=!PT(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(c&&d){var u=e(!0===c?s.children:c.children,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:s,candidates:u})}else a.unshift.apply(a,s.children)}}return i},NT=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},IT=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null===e||void 0===e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!NT(e)?0:e.tabIndex},MT=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},FT=function(e){return"INPUT"===e.tagName},RT=function(e){return function(e){return FT(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||AT(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},jT=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},LT=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=CT.call(e,"details>summary:first-of-type")?e.parentElement:e;if(CT.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return jT(e)}else{if("function"===typeof r){for(var a=e;e;){var s=e.parentElement,o=AT(e);if(s&&!s.shadowRoot&&!0===r(s))return jT(e);e=e.assignedSlot?e.assignedSlot:s||o===e.ownerDocument?s:o.host}e=a}if(function(e){var t,n,r,i,a=e&&AT(e),s=null===(t=a)||void 0===t?void 0:t.host,o=!1;if(a&&a!==e)for(o=!!(null!==(n=s)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(s)||null!==e&&void 0!==e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!o&&s;){var l,c,d;o=!(null===(c=s=null===(l=a=AT(s))||void 0===l?void 0:l.host)||void 0===c||null===(d=c.ownerDocument)||void 0===d||!d.contains(s))}return o}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},DT=function(e,t){return!(t.disabled||PT(t)||function(e){return FT(e)&&"hidden"===e.type}(t)||LT(t,e)||function(e){var t="DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}));return t}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!CT.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},OT=function(e,t){return!(RT(t)||IT(t)<0||!DT(e,t))},zT=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},GT=function e(t){var n=[],r=[];return t.forEach((function(t,i){var a=!!t.scopeParent,s=a?t.scopeParent:t,o=function(e,t){var n=IT(e);return n<0&&t&&!NT(e)?0:n}(s,a),l=a?e(t.candidates):s;0===o?a?n.push.apply(n,l):n.push(s):r.push({documentOrder:i,tabIndex:o,item:t,isScope:a,content:l})})),r.sort(MT).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},BT=function(e,t){var n;return n=(t=t||{}).getShadowRoot?TT([e],t.includeContainer,{filter:OT.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:zT}):ET(e,t.includeContainer,OT.bind(null,t)),GT(n)};function UT(t){return e.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}),t)}const WT=t["useInsertionEffect".toString()]||(e=>e());function HT(t){const n=e.useRef((()=>{0}));return WT((()=>{n.current=t})),e.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}const VT="ArrowUp",YT="ArrowDown",XT="ArrowLeft",qT="ArrowRight";function KT(e,t,n){return Math.floor(e/t)!==n}function QT(e,t){return t<0||t>=e.current.length}function JT(e,t){return ZT(e,{disabledIndices:t})}function $T(e,t){return ZT(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ZT(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:a=1}=void 0===t?{}:t;const s=e.current,o=i?e=>i.includes(e):e=>{const t=s[e];return null==t||t.hasAttribute("disabled")||"true"===t.getAttribute("aria-disabled")};let l=n;do{l+=r?-a:a}while(l>=0&&l<=s.length-1&&o(l));return l}function eN(e,t){let{event:n,orientation:r,loop:i,cols:a,disabledIndices:s,minIndex:o,maxIndex:l,prevIndex:c,stopEvent:d=!1}=t,u=c;if(n.key===VT){if(d&&_E(n),-1===c)u=l;else if(u=ZT(e,{startingIndex:u,amount:a,decrement:!0,disabledIndices:s}),i&&(c-a<o||u<0)){const e=c%a,t=l%a,n=l-(t-e);u=t===e?l:t>e?n:n-a}QT(e,u)&&(u=c)}if(n.key===YT&&(d&&_E(n),-1===c?u=o:(u=ZT(e,{startingIndex:c,amount:a,disabledIndices:s}),i&&c+a>l&&(u=ZT(e,{startingIndex:c%a-a,amount:a,disabledIndices:s}))),QT(e,u)&&(u=c)),"both"===r){const t=NE(c/a);n.key===qT&&(d&&_E(n),c%a!==a-1?(u=ZT(e,{startingIndex:c,disabledIndices:s}),i&&KT(u,a,t)&&(u=ZT(e,{startingIndex:c-c%a-1,disabledIndices:s}))):i&&(u=ZT(e,{startingIndex:c-c%a-1,disabledIndices:s})),KT(u,a,t)&&(u=c)),n.key===XT&&(d&&_E(n),c%a!==0?(u=ZT(e,{startingIndex:c,disabledIndices:s,decrement:!0}),i&&KT(u,a,t)&&(u=ZT(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:s}))):i&&(u=ZT(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:s})),KT(u,a,t)&&(u=c));const r=NE(l/a)===t;QT(e,u)&&(u=i&&r?n.key===XT?l:ZT(e,{startingIndex:c-c%a-1,disabledIndices:s}):c)}return u}function tN(e,t,n){const r=[];let i=0;return e.forEach(((e,a)=>{let{width:s,height:o}=e,l=!1;for(n&&(i=0);!l;){const e=[];for(let n=0;n<s;n++)for(let r=0;r<o;r++)e.push(i+n+r*t);i%t+s<=t&&e.every((e=>null==r[e]))?(e.forEach((e=>{r[e]=a})),l=!0):i++}})),[...r]}function nN(e,t,n,r,i){if(-1===e)return-1;const a=n.indexOf(e);switch(i){case"tl":return a;case"tr":return a+t[e].width-1;case"bl":return a+(t[e].height-1)*r;case"br":return n.lastIndexOf(e)}}function rN(e,t){return t.flatMap(((t,n)=>e.includes(t)?[n]:[]))}let iN=0;function aN(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(iN);const a=()=>null==e?void 0:e.focus({preventScroll:n});i?a():iN=requestAnimationFrame(a)}var sN="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function oN(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const lN=e.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function cN(t){let{children:n,elementsRef:r,labelsRef:i}=t;const[a,s]=e.useState((()=>new Map)),o=e.useCallback((e=>{s((t=>new Map(t).set(e,null)))}),[]),l=e.useCallback((e=>{s((t=>{const n=new Map(t);return n.delete(e),n}))}),[]);return sN((()=>{const e=new Map(a);Array.from(e.keys()).sort(oN).forEach(((t,n)=>{e.set(t,n)})),function(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}(a,e)||s(e)}),[a]),e.createElement(lN.Provider,{value:e.useMemo((()=>({register:o,unregister:l,map:a,elementsRef:r,labelsRef:i})),[o,l,a,r,i])},n)}function dN(t){let{label:n}=void 0===t?{}:t;const[r,i]=e.useState(null),a=e.useRef(null),{register:s,unregister:o,map:l,elementsRef:c,labelsRef:d}=e.useContext(lN),u=e.useCallback((e=>{if(a.current=e,null!==r&&(c.current[r]=e,d)){var t;const i=void 0!==n;d.current[r]=i?n:null!=(t=null==e?void 0:e.textContent)?t:null}}),[r,c,d,n]);return sN((()=>{const e=a.current;if(e)return s(e),()=>{o(e)}}),[s,o]),sN((()=>{const e=a.current?l.get(a.current):null;null!=e&&i(e)}),[l]),e.useMemo((()=>({ref:u,index:null==r?-1:r})),[r,u])}const uN=[XT,qT],hN=[VT,YT];function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fN.apply(this,arguments)}let pN=!1,gN=0;const mN=()=>"floating-ui-"+gN++;const vN=t["useId".toString()]||function(){const[t,n]=e.useState((()=>pN?mN():void 0));return sN((()=>{null==t&&n(mN())}),[]),e.useEffect((()=>{pN||(pN=!0)}),[]),t};function bN(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const yN=e.createContext(null),xN=e.createContext(null),wN=()=>{var t;return(null==(t=e.useContext(yN))?void 0:t.id)||null},kN=()=>e.useContext(xN);function _N(e){return"data-floating-ui-"+e}function SN(t){const n=(0,e.useRef)(t);return sN((()=>{n.current=t})),n}const CN=_N("safe-polygon");function AN(e,t,n){return n&&!vE(n)?0:"number"===typeof e?e:null==e?void 0:e[t]}function PN(t,n){void 0===n&&(n={});const{open:r,onOpenChange:i,dataRef:a,events:s,elements:{domReference:o,floating:l},refs:c}=t,{enabled:d=!0,delay:u=0,handleClose:h=null,mouseOnly:f=!1,restMs:p=0,move:g=!0}=n,m=kN(),v=wN(),b=SN(h),y=SN(u),x=e.useRef(),w=e.useRef(),k=e.useRef(),_=e.useRef(),S=e.useRef(!0),C=e.useRef(!1),A=e.useRef((()=>{})),P=e.useCallback((()=>{var e;const t=null==(e=a.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[a]);e.useEffect((()=>{if(d)return s.on("openchange",e),()=>{s.off("openchange",e)};function e(e){let{open:t}=e;t||(clearTimeout(w.current),clearTimeout(_.current),S.current=!0)}}),[d,s]),e.useEffect((()=>{if(!d||!b.current||!r)return;function e(e){P()&&i(!1,e,"hover")}const t=bE(l).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[l,r,i,d,b,P]);const E=e.useCallback((function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");const r=AN(y.current,"close",x.current);r&&!k.current?(clearTimeout(w.current),w.current=setTimeout((()=>i(!1,e,n)),r)):t&&(clearTimeout(w.current),i(!1,e,n))}),[y,i]),T=e.useCallback((()=>{A.current(),k.current=void 0}),[]),N=e.useCallback((()=>{if(C.current){const e=bE(c.floating.current).body;e.style.pointerEvents="",e.removeAttribute(CN),C.current=!1}}),[c]);return e.useEffect((()=>{if(d&&KP(o)){const e=o;return r&&e.addEventListener("mouseleave",c),null==l||l.addEventListener("mouseleave",c),g&&e.addEventListener("mousemove",n,{once:!0}),e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",s),()=>{r&&e.removeEventListener("mouseleave",c),null==l||l.removeEventListener("mouseleave",c),g&&e.removeEventListener("mousemove",n),e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",s)}}function e(){return!!a.current.openEvent&&["click","mousedown"].includes(a.current.openEvent.type)}function n(e){if(clearTimeout(w.current),S.current=!1,f&&!vE(x.current)||p>0&&0===AN(y.current,"open"))return;const t=AN(y.current,"open",x.current);t?w.current=setTimeout((()=>{i(!0,e,"hover")}),t):i(!0,e,"hover")}function s(n){if(e())return;A.current();const i=bE(l);if(clearTimeout(_.current),b.current){r||clearTimeout(w.current),k.current=b.current({...t,tree:m,x:n.clientX,y:n.clientY,onClose(){N(),T(),E(n,!0,"safe-polygon")}});const e=k.current;return i.addEventListener("mousemove",e),void(A.current=()=>{i.removeEventListener("mousemove",e)})}("touch"!==x.current||!cE(l,n.relatedTarget))&&E(n)}function c(n){e()||null==b.current||b.current({...t,tree:m,x:n.clientX,y:n.clientY,onClose(){N(),T(),E(n)}})(n)}}),[o,l,d,t,f,p,g,E,T,N,i,r,m,y,b,a]),sN((()=>{var e;if(d&&r&&null!=(e=b.current)&&e.__options.blockPointerEvents&&P()){const e=bE(l).body;if(e.setAttribute(CN,""),e.style.pointerEvents="none",C.current=!0,KP(o)&&l){var t;const e=o,n=null==m||null==(t=m.nodesRef.current.find((e=>e.id===v)))||null==(t=t.context)?void 0:t.elements.floating;return n&&(n.style.pointerEvents=""),e.style.pointerEvents="auto",l.style.pointerEvents="auto",()=>{e.style.pointerEvents="",l.style.pointerEvents=""}}}}),[d,r,v,l,o,m,b,P]),sN((()=>{r||(x.current=void 0,T(),N())}),[r,T,N]),e.useEffect((()=>()=>{T(),clearTimeout(w.current),clearTimeout(_.current),N()}),[d,o,T,N]),e.useMemo((()=>{if(!d)return{};function e(e){x.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove(e){r||0===p||(clearTimeout(_.current),_.current=setTimeout((()=>{S.current||i(!0,e.nativeEvent,"hover")}),p))}},floating:{onMouseEnter(){clearTimeout(w.current)},onMouseLeave(e){E(e.nativeEvent,!1)}}}}),[d,p,r,i,E])}function EN(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}let TN=new WeakMap,NN=new WeakSet,IN={},MN=0;const FN=e=>e&&(e.host||FN(e.parentNode)),RN=(e,t)=>t.map((t=>{if(e.contains(t))return t;const n=FN(t);return e.contains(n)?n:null})).filter((e=>null!=e));function jN(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=bE(e[0]).body;return function(e,t,n,r){const i="data-floating-ui-inert",a=r?"inert":n?"aria-hidden":null,s=RN(t,e),o=new Set,l=new Set(s),c=[];IN[i]||(IN[i]=new WeakMap);const d=IN[i];return s.forEach((function e(t){t&&!o.has(t)&&(o.add(t),t.parentNode&&e(t.parentNode))})),function e(t){t&&!l.has(t)&&Array.prototype.forEach.call(t.children,(t=>{if(o.has(t))e(t);else{const e=a?t.getAttribute(a):null,n=null!==e&&"false"!==e,r=(TN.get(t)||0)+1,s=(d.get(t)||0)+1;TN.set(t,r),d.set(t,s),c.push(t),1===r&&n&&NN.add(t),1===s&&t.setAttribute(i,""),!n&&a&&t.setAttribute(a,"true")}}))}(t),o.clear(),MN++,()=>{c.forEach((e=>{const t=(TN.get(e)||0)-1,n=(d.get(e)||0)-1;TN.set(e,t),d.set(e,n),t||(!NN.has(e)&&a&&e.removeAttribute(a),NN.delete(e)),n||e.removeAttribute(i)})),MN--,MN||(TN=new WeakMap,TN=new WeakMap,NN=new WeakSet,IN={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const LN=()=>({getShadowRoot:!0,displayCheck:"function"===typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function DN(e,t){const n=BT(e,LN());"prev"===t&&n.reverse();const r=n.indexOf(lE(bE(e)));return n.slice(r+1)[0]}function ON(){return DN(document.body,"next")}function zN(){return DN(document.body,"prev")}function GN(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!cE(n,r)}function BN(e){BT(e,LN()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function UN(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const WN={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function HN(e){"Tab"===e.key&&(e.target,clearTimeout(undefined))}const VN=e.forwardRef((function(t,n){const[r,i]=e.useState();sN((()=>(pE()&&i("button"),document.addEventListener("keydown",HN),()=>{document.removeEventListener("keydown",HN)})),[]);const a={ref:n,tabIndex:0,role:r,"aria-hidden":!r||void 0,[_N("focus-guard")]:"",style:WN};return e.createElement("span",fN({},t,a))})),YN=e.createContext(null),XN=_N("portal");function qN(t){let{children:n,id:r,root:i=null,preserveTabOrder:a=!0}=t;const s=function(t){let{id:n,root:r}=void 0===t?{}:t;const[i,a]=e.useState(null),s=vN(),o=KN(),l=e.useRef(null);return sN((()=>()=>{null==i||i.remove(),queueMicrotask((()=>{l.current=null}))}),[i]),sN((()=>{if(l.current)return;const e=n?document.getElementById(n):null;if(!e)return;const t=document.createElement("div");t.id=s,t.setAttribute(XN,""),e.appendChild(t),l.current=t,a(t)}),[n,s]),sN((()=>{if(l.current)return;let e=r||(null==o?void 0:o.portalNode);e&&!KP(e)&&(e=e.current),e=e||document.body;let t=null;n&&(t=document.createElement("div"),t.id=n,e.appendChild(t));const i=document.createElement("div");i.id=s,i.setAttribute(XN,""),e=t||e,e.appendChild(i),l.current=i,a(i)}),[n,r,s,o]),i}({id:r,root:i}),[o,l]=e.useState(null),c=e.useRef(null),u=e.useRef(null),h=e.useRef(null),f=e.useRef(null),p=!!o&&!o.modal&&o.open&&a&&!(!i&&!s);return e.useEffect((()=>{if(s&&a&&(null==o||!o.modal))return s.addEventListener("focusin",e,!0),s.addEventListener("focusout",e,!0),()=>{s.removeEventListener("focusin",e,!0),s.removeEventListener("focusout",e,!0)};function e(e){if(s&&GN(e)){("focusin"===e.type?UN:BN)(s)}}}),[s,a,null==o?void 0:o.modal]),e.createElement(YN.Provider,{value:e.useMemo((()=>({preserveTabOrder:a,beforeOutsideRef:c,afterOutsideRef:u,beforeInsideRef:h,afterInsideRef:f,portalNode:s,setFocusManagerState:l})),[a,s])},p&&s&&e.createElement(VN,{"data-type":"outside",ref:c,onFocus:e=>{if(GN(e,s)){var t;null==(t=h.current)||t.focus()}else{const e=zN()||(null==o?void 0:o.refs.domReference.current);null==e||e.focus()}}}),p&&s&&e.createElement("span",{"aria-owns":s.id,style:WN}),s&&(0,d.createPortal)(n,s),p&&s&&e.createElement(VN,{"data-type":"outside",ref:u,onFocus:e=>{if(GN(e,s)){var t;null==(t=f.current)||t.focus()}else{const t=ON()||(null==o?void 0:o.refs.domReference.current);null==t||t.focus(),(null==o?void 0:o.closeOnFocusOut)&&(null==o||o.onOpenChange(!1,e.nativeEvent))}}}))}const KN=()=>e.useContext(YN),QN=20;let JN=[];function $N(e){JN=JN.filter((e=>e.isConnected)),e&&"body"!==VP(e)&&(JN.push(e),JN.length>QN&&(JN=JN.slice(-QN)))}function ZN(){return JN.slice().reverse().find((e=>e.isConnected))}const eI=e.forwardRef((function(t,n){return e.createElement("button",fN({},t,{type:"button",ref:n,tabIndex:-1,style:WN}))}));function tI(t){const{context:n,children:r,disabled:i=!1,order:a=["content"],guards:s=!0,initialFocus:o=0,returnFocus:l=!0,modal:c=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:u=!0}=t,{open:h,refs:f,nodeId:p,onOpenChange:g,events:m,dataRef:v,elements:{domReference:b,floating:y}}=n,x="number"===typeof o&&o<0,w=SE(b)&&x,k="undefined"===typeof HTMLElement||!("inert"in HTMLElement.prototype)||s,_=SN(a),S=SN(o),C=SN(l),A=kN(),P=KN(),E=e.useRef(null),T=e.useRef(null),N=e.useRef(!1),I=e.useRef(!1),M=null!=P,F=e.useCallback((function(e){return void 0===e&&(e=y),e?BT(e,LN()):[]}),[y]),R=e.useCallback((e=>{const t=F(e);return _.current.map((e=>b&&"reference"===e?b:y&&"floating"===e?y:t)).filter(Boolean).flat()}),[b,y,_,F]);function j(t){return!i&&d&&c?e.createElement(eI,{ref:"start"===t?E:T,onClick:e=>g(!1,e.nativeEvent)},"string"===typeof d?d:"Dismiss"):null}e.useEffect((()=>{if(i||!c)return;function e(e){if("Tab"===e.key){cE(y,lE(bE(y)))&&0===F().length&&!w&&_E(e);const t=R(),n=xE(e);"reference"===_.current[0]&&n===b&&(_E(e),e.shiftKey?aN(t[t.length-1]):aN(t[1])),"floating"===_.current[1]&&n===y&&e.shiftKey&&(_E(e),aN(t[0]))}}const t=bE(y);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[i,b,y,c,_,w,F,R]),e.useEffect((()=>{if(!i&&u)return y&&QP(b)?(b.addEventListener("focusout",t),b.addEventListener("pointerdown",e),!c&&y.addEventListener("focusout",t),()=>{b.removeEventListener("focusout",t),b.removeEventListener("pointerdown",e),!c&&y.removeEventListener("focusout",t)}):void 0;function e(){I.current=!0,setTimeout((()=>{I.current=!1}))}function t(e){const t=e.relatedTarget;queueMicrotask((()=>{const n=!(cE(b,t)||cE(y,t)||cE(t,y)||cE(null==P?void 0:P.portalNode,t)||null!=t&&t.hasAttribute(_N("focus-guard"))||A&&(EN(A.nodesRef.current,p).find((e=>{var n,r;return cE(null==(n=e.context)?void 0:n.elements.floating,t)||cE(null==(r=e.context)?void 0:r.elements.domReference,t)}))||function(e,t){var n;let r=[],i=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;i;){const t=e.find((e=>e.id===i));i=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(A.nodesRef.current,p).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t}))));t&&n&&!I.current&&t!==ZN()&&(N.current=!0,g(!1,e))}))}}),[i,b,y,c,p,A,P,g,u]),e.useEffect((()=>{var e;if(i)return;const t=Array.from((null==P||null==(e=P.portalNode)?void 0:e.querySelectorAll("["+_N("portal")+"]"))||[]);if(y){const e=[y,...t,E.current,T.current,_.current.includes("reference")||w?b:null].filter((e=>null!=e)),n=c||w?jN(e,k,!k):jN(e);return()=>{n()}}}),[i,b,y,c,_,P,w,k]),sN((()=>{if(i||!y)return;const e=lE(bE(y));queueMicrotask((()=>{const t=R(y),n=S.current,r=("number"===typeof n?t[n]:n.current)||y,i=cE(y,e);x||i||!h||aN(r,{preventScroll:r===y})}))}),[i,h,y,x,R,S]),sN((()=>{if(i||!y)return;let e=!1;const t=bE(y),n=lE(t),r=v.current;function a(t){let{reason:n,event:r,nested:i}=t;"escape-key"===n&&f.domReference.current&&$N(f.domReference.current),"hover"===n&&"mouseleave"===r.type&&(N.current=!0),"outside-press"===n&&(i?(N.current=!1,e=!0):N.current=!(hE(r)||fE(r)))}return $N(n),m.on("openchange",a),()=>{m.off("openchange",a);const n=lE(t),i=cE(y,n)||A&&EN(A.nodesRef.current,p).some((e=>{var t;return cE(null==(t=e.context)?void 0:t.elements.floating,n)}));(i||r.openEvent&&["click","mousedown"].includes(r.openEvent.type))&&f.domReference.current&&$N(f.domReference.current);const s=ZN();C.current&&!N.current&&QP(s)&&(s===n||n===t.body||i)&&aN(s,{cancelPrevious:!1,preventScroll:e})}}),[i,y,C,v,f,m,A,p]),sN((()=>{if(!i&&P)return P.setFocusManagerState({modal:c,closeOnFocusOut:u,open:h,onOpenChange:g,refs:f}),()=>{P.setFocusManagerState(null)}}),[i,P,c,h,g,f,u]),sN((()=>{if(i||!y||"function"!==typeof MutationObserver||x)return;const e=()=>{const e=y.getAttribute("tabindex");_.current.includes("floating")||lE(bE(y))!==f.domReference.current&&0===F().length?"0"!==e&&y.setAttribute("tabindex","0"):"-1"!==e&&y.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(y,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}),[i,y,f,_,F,x]);const L=!i&&k&&(M||c);return e.createElement(e.Fragment,null,L&&e.createElement(VN,{"data-type":"inside",ref:null==P?void 0:P.beforeInsideRef,onFocus:e=>{if(c){const e=R();aN("reference"===a[0]?e[0]:e[e.length-1])}else if(null!=P&&P.preserveTabOrder&&P.portalNode)if(N.current=!1,GN(e,P.portalNode)){const e=ON()||b;null==e||e.focus()}else{var t;null==(t=P.beforeOutsideRef.current)||t.focus()}}}),!w&&j("start"),r,j("end"),L&&e.createElement(VN,{"data-type":"inside",ref:null==P?void 0:P.afterInsideRef,onFocus:e=>{if(c)aN(R()[0]);else if(null!=P&&P.preserveTabOrder&&P.portalNode)if(u&&(N.current=!0),GN(e,P.portalNode)){const e=zN()||b;null==e||e.focus()}else{var t;null==(t=P.afterOutsideRef.current)||t.focus()}}}))}const nI=new Set,rI=e.forwardRef((function(t,n){let{lockScroll:r=!1,...i}=t;const a=vN();return sN((()=>{if(!r)return;nI.add(a);const e=/iP(hone|ad|od)|iOS/.test(dE()),t=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,s=t.left?parseFloat(t.left):window.pageXOffset,o=t.top?parseFloat(t.top):window.pageYOffset;if(t.overflow="hidden",i&&(t[n]=i+"px"),e){var l,c;const e=(null==(l=window.visualViewport)?void 0:l.offsetLeft)||0,n=(null==(c=window.visualViewport)?void 0:c.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(o-Math.floor(n))+"px",left:-(s-Math.floor(e))+"px",right:"0"})}return()=>{nI.delete(a),0===nI.size&&(Object.assign(t,{overflow:"",[n]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(s,o)))}}),[a,r]),e.createElement("div",fN({ref:n},i,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}}))}));function iI(e){return QP(e.target)&&"BUTTON"===e.target.tagName}function aI(e){return kE(e)}function sI(t,n){void 0===n&&(n={});const{open:r,onOpenChange:i,dataRef:a,elements:{domReference:s}}=t,{enabled:o=!0,event:l="click",toggle:c=!0,ignoreMouse:d=!1,keyboardHandlers:u=!0}=n,h=e.useRef(),f=e.useRef(!1);return e.useMemo((()=>o?{reference:{onPointerDown(e){h.current=e.pointerType},onMouseDown(e){0===e.button&&(vE(h.current,!0)&&d||"click"!==l&&(!r||!c||a.current.openEvent&&"mousedown"!==a.current.openEvent.type?(e.preventDefault(),i(!0,e.nativeEvent,"click")):i(!1,e.nativeEvent,"click")))},onClick(e){"mousedown"===l&&h.current?h.current=void 0:vE(h.current,!0)&&d||(!r||!c||a.current.openEvent&&"click"!==a.current.openEvent.type?i(!0,e.nativeEvent,"click"):i(!1,e.nativeEvent,"click"))},onKeyDown(e){h.current=void 0,e.defaultPrevented||!u||iI(e)||(" "!==e.key||aI(s)||(e.preventDefault(),f.current=!0),"Enter"===e.key&&i(!r||!c,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!u||iI(e)||aI(s)||" "===e.key&&f.current&&(f.current=!1,i(!r||!c,e.nativeEvent,"click"))}}}:{}),[o,a,l,d,u,s,c,r,i])}const oI={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},lI={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},cI=e=>{var t,n;return{escapeKey:"boolean"===typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"===typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function dI(t,n){void 0===n&&(n={});const{open:r,onOpenChange:i,nodeId:a,elements:{reference:s,domReference:o,floating:l},dataRef:c}=t,{enabled:d=!0,escapeKey:u=!0,outsidePress:h=!0,outsidePressEvent:f="pointerdown",referencePress:p=!1,referencePressEvent:g="pointerdown",ancestorScroll:m=!1,bubbles:v,capture:b}=n,y=kN(),x=HT("function"===typeof h?h:()=>!1),w="function"===typeof h?x:h,k=e.useRef(!1),_=e.useRef(!1),{escapeKey:S,outsidePress:C}=cI(v),{escapeKey:A,outsidePress:P}=cI(b),E=HT((e=>{if(!r||!d||!u||"Escape"!==e.key)return;const t=y?EN(y.nodesRef.current,a):[];if(!S&&(e.stopPropagation(),t.length>0)){let e=!0;if(t.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}i(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),T=HT((e=>{var t;const n=()=>{var t;E(e),null==(t=xE(e))||t.removeEventListener("keydown",n)};null==(t=xE(e))||t.addEventListener("keydown",n)})),N=HT((e=>{const t=k.current;k.current=!1;const n=_.current;if(_.current=!1,"click"===f&&n)return;if(t)return;if("function"===typeof w&&!w(e))return;const r=xE(e),s="["+_N("inert")+"]",c=bE(l).querySelectorAll(s);let d=KP(r)?r:null;for(;d&&!nE(d);){const e=aE(d);if(nE(e)||!KP(e))break;d=e}if(c.length&&KP(r)&&!r.matches("html,body")&&!cE(r,l)&&Array.from(c).every((e=>!cE(d,e))))return;if(QP(r)&&l){const t=r.clientWidth>0&&r.scrollWidth>r.clientWidth,n=r.clientHeight>0&&r.scrollHeight>r.clientHeight;let i=n&&e.offsetX>r.clientWidth;if(n){"rtl"===rE(r).direction&&(i=e.offsetX<=r.offsetWidth-r.clientWidth)}if(i||t&&e.offsetY>r.clientHeight)return}const u=y&&EN(y.nodesRef.current,a).some((t=>{var n;return yE(e,null==(n=t.context)?void 0:n.elements.floating)}));if(yE(e,l)||yE(e,o)||u)return;const h=y?EN(y.nodesRef.current,a):[];if(h.length>0){let e=!0;if(h.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}i(!1,e,"outside-press")})),I=HT((e=>{var t;const n=()=>{var t;N(e),null==(t=xE(e))||t.removeEventListener(f,n)};null==(t=xE(e))||t.addEventListener(f,n)}));return e.useEffect((()=>{if(!r||!d)return;function e(e){i(!1,e,"ancestor-scroll")}c.current.__escapeKeyBubbles=S,c.current.__outsidePressBubbles=C;const t=bE(l);u&&t.addEventListener("keydown",A?T:E,A),w&&t.addEventListener(f,P?I:N,P);let n=[];return m&&(KP(o)&&(n=oE(o)),KP(l)&&(n=n.concat(oE(l))),!KP(s)&&s&&s.contextElement&&(n=n.concat(oE(s.contextElement)))),n=n.filter((e=>{var n;return e!==(null==(n=t.defaultView)?void 0:n.visualViewport)})),n.forEach((t=>{t.addEventListener("scroll",e,{passive:!0})})),()=>{u&&t.removeEventListener("keydown",A?T:E,A),w&&t.removeEventListener(f,P?I:N,P),n.forEach((t=>{t.removeEventListener("scroll",e)}))}}),[c,l,o,s,u,w,f,r,i,m,d,S,C,E,A,T,N,P,I]),e.useEffect((()=>{k.current=!1}),[w,f]),e.useMemo((()=>d?{reference:{onKeyDown:E,[oI[g]]:e=>{p&&i(!1,e.nativeEvent,"reference-press")}},floating:{onKeyDown:E,onMouseDown(){_.current=!0},onMouseUp(){_.current=!0},[lI[f]]:()=>{k.current=!0}}}:{}),[d,p,f,g,i,E])}function uI(t){var n;void 0===t&&(t={});const{open:r=!1,onOpenChange:i,nodeId:a}=t;const[s,o]=e.useState(null),l=(null==(n=t.elements)?void 0:n.reference)||s,c=function(t){void 0===t&&(t={});const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,f]=e.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[p,g]=e.useState(i);bT(p,i)||g(i);const[m,v]=e.useState(null),[b,y]=e.useState(null),x=e.useCallback((e=>{e!==S.current&&(S.current=e,v(e))}),[]),w=e.useCallback((e=>{e!==C.current&&(C.current=e,y(e))}),[]),k=s||m,_=o||b,S=e.useRef(null),C=e.useRef(null),A=e.useRef(h),P=null!=c,E=wT(c),T=wT(a),N=e.useCallback((()=>{if(!S.current||!C.current)return;const e={placement:n,strategy:r,middleware:p};T.current&&(e.platform=T.current),mT(S.current,C.current,e).then((e=>{const t={...e,isPositioned:!0};I.current&&!bT(A.current,t)&&(A.current=t,d.flushSync((()=>{f(t)})))}))}),[p,n,r,T]);vT((()=>{!1===u&&A.current.isPositioned&&(A.current.isPositioned=!1,f((e=>({...e,isPositioned:!1}))))}),[u]);const I=e.useRef(!1);vT((()=>(I.current=!0,()=>{I.current=!1})),[]),vT((()=>{if(k&&(S.current=k),_&&(C.current=_),k&&_){if(E.current)return E.current(k,_,N);N()}}),[k,_,N,E,P]);const M=e.useMemo((()=>({reference:S,floating:C,setReference:x,setFloating:w})),[x,w]),F=e.useMemo((()=>({reference:k,floating:_})),[k,_]),R=e.useMemo((()=>{const e={position:r,left:0,top:0};if(!F.floating)return e;const t=xT(F.floating,h.x),n=xT(F.floating,h.y);return l?{...e,transform:"translate("+t+"px, "+n+"px)",...yT(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}}),[r,l,F.floating,h.x,h.y]);return e.useMemo((()=>({...h,update:N,refs:M,elements:F,floatingStyles:R})),[h,N,M,F,R])}(t),u=kN(),h=null!=wN(),f=HT(((e,t,n)=>{e&&(g.current.openEvent=t),m.emit("openchange",{open:e,event:t,reason:n,nested:h}),null==i||i(e,t,n)})),p=e.useRef(null),g=e.useRef({}),m=e.useState((()=>bN()))[0],v=vN(),b=e.useCallback((e=>{const t=KP(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;c.refs.setReference(t)}),[c.refs]),y=e.useCallback((e=>{(KP(e)||null===e)&&(p.current=e,o(e)),(KP(c.refs.reference.current)||null===c.refs.reference.current||null!==e&&!KP(e))&&c.refs.setReference(e)}),[c.refs]),x=e.useMemo((()=>({...c.refs,setReference:y,setPositionReference:b,domReference:p})),[c.refs,y,b]),w=e.useMemo((()=>({...c.elements,domReference:l})),[c.elements,l]),k=e.useMemo((()=>({...c,refs:x,elements:w,dataRef:g,nodeId:a,floatingId:v,events:m,open:r,onOpenChange:f})),[c,a,v,m,r,f,x,w]);return sN((()=>{const e=null==u?void 0:u.nodesRef.current.find((e=>e.id===a));e&&(e.context=k)})),e.useMemo((()=>({...c,context:k,refs:x,elements:w})),[c,x,w,k])}const hI="active",fI="selected";function pI(e,t,n){const r=new Map,i="item"===n;let a=e;if(i&&e){const{[hI]:t,[fI]:n,...r}=e;a=r}return{..."floating"===n&&{tabIndex:-1},...a,...t.map((t=>{const r=t?t[n]:null;return"function"===typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,a]=t;var s;i&&[hI,fI].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"===typeof a&&(null==(s=r.get(n))||s.push(a),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return null==(e=r.get(n))?void 0:e.map((e=>e(...i))).find((e=>void 0!==e))})):e[n]=a)})),e):e),{})}}function gI(t){void 0===t&&(t=[]);const n=t,r=e.useCallback((e=>pI(e,t,"reference")),n),i=e.useCallback((e=>pI(e,t,"floating")),n),a=e.useCallback((e=>pI(e,t,"item")),t.map((e=>null==e?void 0:e.item)));return e.useMemo((()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:a})),[r,i,a])}let mI=!1;function vI(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function bI(e,t){return vI(t,e===VT||e===YT,e===XT||e===qT)}function yI(e,t,n){return vI(t,e===YT,n?e===XT:e===qT)||"Enter"===e||" "===e||""===e}function xI(e,t,n){return vI(t,n?e===qT:e===XT,e===VT)}function wI(t,n){const{open:r,onOpenChange:i,refs:a,elements:{domReference:s,floating:o}}=t,{listRef:l,activeIndex:c,onNavigate:d=(()=>{}),enabled:u=!0,selectedIndex:h=null,allowEscape:f=!1,loop:p=!1,nested:g=!1,rtl:m=!1,virtual:v=!1,focusItemOnOpen:b="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:x=!0,disabledIndices:w,orientation:k="vertical",cols:_=1,scrollItemIntoView:S=!0,virtualItemRef:C,itemSizes:A,dense:P=!1}=n;const E=wN(),T=kN(),N=HT(d),I=e.useRef(b),M=e.useRef(null!=h?h:-1),F=e.useRef(null),R=e.useRef(!0),j=e.useRef(N),L=e.useRef(!!o),D=e.useRef(!1),O=e.useRef(!1),z=SN(w),G=SN(r),B=SN(S),[U,W]=e.useState(),[H,V]=e.useState(),Y=HT((function(e,t,n){void 0===n&&(n=!1);const r=e.current[t.current];r&&(v?(W(r.id),null==T||T.events.emit("virtualfocus",r),C&&(C.current=r)):aN(r,{preventScroll:!0,sync:!(!mE()||!pE())&&(mI||D.current)}),requestAnimationFrame((()=>{const e=B.current;e&&r&&(n||!R.current)&&(null==r.scrollIntoView||r.scrollIntoView("boolean"===typeof e?{block:"nearest",inline:"nearest"}:e))})))}));sN((()=>{document.createElement("div").focus({get preventScroll(){return mI=!0,!1}})}),[]),sN((()=>{u&&(r&&o?I.current&&null!=h&&(O.current=!0,M.current=h,N(h)):L.current&&(M.current=-1,j.current(null)))}),[u,r,o,h,N]),sN((()=>{if(u&&r&&o)if(null==c){if(D.current=!1,null!=h)return;if(L.current&&(M.current=-1,Y(l,M)),!L.current&&I.current&&(null!=F.current||!0===I.current&&null==F.current)){let e=0;const t=()=>{if(null==l.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(t)}e++}else M.current=null==F.current||yI(F.current,k,m)||g?JT(l,z.current):$T(l,z.current),F.current=null,N(M.current)};t()}}else QT(l,c)||(M.current=c,Y(l,M,O.current),O.current=!1)}),[u,r,o,c,h,g,l,k,m,N,Y,z]),sN((()=>{var e;if(!u||o||!T||v||!L.current)return;const t=T.nodesRef.current,n=null==(e=t.find((e=>e.id===E)))||null==(e=e.context)?void 0:e.elements.floating,r=lE(bE(o)),i=t.some((e=>e.context&&cE(e.context.elements.floating,r)));n&&!i&&R.current&&n.focus({preventScroll:!0})}),[u,o,T,E,v]),sN((()=>{if(u&&T&&v&&!E)return T.events.on("virtualfocus",e),()=>{T.events.off("virtualfocus",e)};function e(e){V(e.id),C&&(C.current=e)}}),[u,T,v,E,C]),sN((()=>{j.current=N,L.current=!!o})),sN((()=>{r||(F.current=null)}),[r]);const X=null!=c,q=e.useMemo((()=>{function e(e){if(!r)return;const t=l.current.indexOf(e);-1!==t&&N(t)}const t={onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...y&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;R.current&&"touch"!==t&&(M.current=-1,Y(l,M),N(null),v||aN(a.floating.current,{preventScroll:!0}))}}};return t}),[r,a,Y,y,l,N,v]);return e.useMemo((()=>{if(!u)return{};const e=z.current;function t(t){if(R.current=!1,D.current=!0,!G.current&&t.currentTarget===a.floating.current)return;if(g&&xI(t.key,k,m))return _E(t),i(!1,t.nativeEvent,"list-navigation"),void(QP(s)&&!v&&s.focus());const n=M.current,o=JT(l,e),c=$T(l,e);if("Home"===t.key&&(_E(t),M.current=o,N(M.current)),"End"===t.key&&(_E(t),M.current=c,N(M.current)),_>1){const n=A||Array.from({length:l.current.length},(()=>({width:1,height:1}))),r=tN(n,_,P),i=r.findIndex((t=>null!=t&&!(null!=e&&e.includes(t)))),a=r.reduce(((t,n,r)=>null==n||null!=e&&e.includes(n)?t:r),-1);if(M.current=r[eN({current:r.map((e=>null!=e?l.current[e]:null))},{event:t,orientation:k,loop:p,cols:_,disabledIndices:rN([...e||[],void 0],r),minIndex:i,maxIndex:a,prevIndex:nN(M.current,n,r,_,t.key===YT?"bl":t.key===qT?"tr":"tl"),stopEvent:!0})],N(M.current),"both"===k)return}if(bI(t.key,k)){if(_E(t),r&&!v&&lE(t.currentTarget.ownerDocument)===t.currentTarget)return M.current=yI(t.key,k,m)?o:c,void N(M.current);yI(t.key,k,m)?M.current=p?n>=c?f&&n!==l.current.length?-1:o:ZT(l,{startingIndex:n,disabledIndices:e}):Math.min(c,ZT(l,{startingIndex:n,disabledIndices:e})):M.current=p?n<=o?f&&-1!==n?l.current.length:c:ZT(l,{startingIndex:n,decrement:!0,disabledIndices:e}):Math.max(o,ZT(l,{startingIndex:n,decrement:!0,disabledIndices:e})),QT(l,M.current)?N(null):N(M.current)}}function n(e){"auto"===b&&hE(e.nativeEvent)&&(I.current=!0)}const o=v&&r&&X&&{"aria-activedescendant":H||U},c=l.current.find((e=>(null==e?void 0:e.id)===U));return{reference:{...o,onKeyDown(n){R.current=!1;const a=0===n.key.indexOf("Arrow"),s=function(e,t,n){return vI(t,n?e===XT:e===qT,e===YT)}(n.key,k,m),o=xI(n.key,k,m),d=bI(n.key,k),u=(g?s:d)||"Enter"===n.key||""===n.key.trim();if(v&&r){const e=null==T?void 0:T.nodesRef.current.find((e=>null==e.parentId)),r=T&&e?function(e,t){let n,r=-1;return function t(i,a){a>r&&(n=i,r=a),EN(e,i).forEach((e=>{t(e.id,a+1)}))}(t,0),e.find((e=>e.id===n))}(T.nodesRef.current,e.id):null;if(a&&r&&C){const e=new KeyboardEvent("keydown",{key:n.key,bubbles:!0});if(s||o){var f,p;const t=(null==(f=r.context)?void 0:f.elements.domReference)===n.currentTarget,i=o&&!t?null==(p=r.context)?void 0:p.elements.domReference:s?c:null;i&&(_E(n),i.dispatchEvent(e),V(void 0))}var b;if(d&&r.context)if(r.context.open&&r.parentId&&n.currentTarget!==r.context.elements.domReference)return _E(n),void(null==(b=r.context.elements.domReference)||b.dispatchEvent(e))}return t(n)}(r||x||!a)&&(u&&(F.current=g&&d?null:n.key),g?s&&(_E(n),r?(M.current=JT(l,e),N(M.current)):i(!0,n.nativeEvent,"list-navigation")):d&&(null!=h&&(M.current=h),_E(n),!r&&x?i(!0,n.nativeEvent,"list-navigation"):t(n),r&&N(M.current)))},onFocus(){r&&N(null)},onPointerDown:function(e){I.current=b,"auto"===b&&fE(e.nativeEvent)&&(I.current=!0)},onMouseDown:n,onClick:n},floating:{"aria-orientation":"both"===k?void 0:k,...!SE(s)&&o,onKeyDown:t,onPointerMove(){R.current=!0}},item:q}}),[s,a,U,H,z,G,l,u,k,m,v,r,X,g,h,x,f,_,p,b,N,i,q,T,C,A,P])}const kI=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function _I(t,n){var r;void 0===n&&(n={});const{open:i,floatingId:a}=t,{enabled:s=!0,role:o="dialog"}=n,l=null!=(r=kI.get(o))?r:o,c=vN(),d=null!=wN();return e.useMemo((()=>{if(!s)return{};const e={id:a,...l&&{role:l}};return"tooltip"===l||"label"===o?{reference:{["aria-"+("label"===o?"labelledby":"describedby")]:i?a:void 0},floating:e}:{reference:{"aria-expanded":i?"true":"false","aria-haspopup":"alertdialog"===l?"dialog":l,"aria-controls":i?a:void 0,..."listbox"===l&&{role:"combobox"},..."menu"===l&&{id:c},..."menu"===l&&d&&{role:"menuitem"},..."select"===o&&{"aria-autocomplete":"none"},..."combobox"===o&&{"aria-autocomplete":"list"}},floating:{...e,..."menu"===l&&{"aria-labelledby":c}},item(e){let{active:t,selected:n}=e;const r={role:"option",...t&&{id:a+"-option"}};switch(o){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}}}}),[s,o,l,i,a,c,d])}function SI(e,t){const[n,r]=e;let i=!1;const a=t.length;for(let s=0,o=a-1;s<a;o=s++){const[e,a]=t[s]||[0,0],[l,c]=t[o]||[0,0];a>=r!==c>=r&&n<=(l-e)*(r-a)/(c-a)+e&&(i=!i)}return i}function CI(e){void 0===e&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let i,a=!1,s=null,o=null,l=performance.now();const c=e=>{let{x:n,y:c,placement:d,elements:u,onClose:h,nodeId:f,tree:p}=e;return function(e){function g(){clearTimeout(i),h()}if(clearTimeout(i),!u.domReference||!u.floating||null==d||null==n||null==c)return;const{clientX:m,clientY:v}=e,b=[m,v],y=xE(e),x="mouseleave"===e.type,w=cE(u.floating,y),k=cE(u.domReference,y),_=u.domReference.getBoundingClientRect(),S=u.floating.getBoundingClientRect(),C=d.split("-")[0],A=n>S.right-S.width/2,P=c>S.bottom-S.height/2,E=function(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(b,_),T=S.width>_.width,N=S.height>_.height,I=(T?_:S).left,M=(T?_:S).right,F=(N?_:S).top,R=(N?_:S).bottom;if(w&&(a=!0,!x))return;if(k&&(a=!1),k&&!x)return void(a=!0);if(x&&KP(e.relatedTarget)&&cE(u.floating,e.relatedTarget))return;if(p&&EN(p.nodesRef.current,f).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if("top"===C&&c>=_.bottom-1||"bottom"===C&&c<=_.top+1||"left"===C&&n>=_.right-1||"right"===C&&n<=_.left+1)return g();let j=[];switch(C){case"top":j=[[I,_.top+1],[I,S.bottom-1],[M,S.bottom-1],[M,_.top+1]];break;case"bottom":j=[[I,S.top+1],[I,_.bottom-1],[M,_.bottom-1],[M,S.top+1]];break;case"left":j=[[S.right-1,R],[S.right-1,F],[_.left+1,F],[_.left+1,R]];break;case"right":j=[[_.right-1,R],[_.right-1,F],[S.left+1,F],[S.left+1,R]]}if(!SI([m,v],j)){if(a&&!E)return g();if(!x&&r){const t=function(e,t){const n=performance.now(),r=n-l;if(null===s||null===o||0===r)return s=e,o=t,l=n,null;const i=e-s,a=t-o,c=Math.sqrt(i*i+a*a);return s=e,o=t,l=n,c/r}(e.clientX,e.clientY);if(null!==t&&t<.1)return g()}SI([m,v],function(e){let[n,r]=e;switch(C){case"top":return[[T?n+t/2:A?n+4*t:n-4*t,r+t+1],[T?n-t/2:A?n+4*t:n-4*t,r+t+1],...[[S.left,A||T?S.bottom-t:S.top],[S.right,A?T?S.bottom-t:S.top:S.bottom-t]]];case"bottom":return[[T?n+t/2:A?n+4*t:n-4*t,r-t],[T?n-t/2:A?n+4*t:n-4*t,r-t],...[[S.left,A||T?S.top+t:S.bottom],[S.right,A?T?S.top+t:S.bottom:S.top+t]]];case"left":{const e=[n+t+1,N?r+t/2:P?r+4*t:r-4*t],i=[n+t+1,N?r-t/2:P?r+4*t:r-4*t];return[...[[P||N?S.right-t:S.left,S.top],[P?N?S.right-t:S.left:S.right-t,S.bottom]],e,i]}case"right":return[[n-t,N?r+t/2:P?r+4*t:r-4*t],[n-t,N?r-t/2:P?r+4*t:r-4*t],...[[P||N?S.left+t:S.right,S.top],[P?N?S.left+t:S.right:S.left+t,S.bottom]]]}}([n,c]))?!a&&r&&(i=window.setTimeout(g,40)):g()}}};return c.__options={blockPointerEvents:n},c}const AI=e=>{let{arrowRef:t,placement:n}=e;const r=[];var i;return r.push(KE(8)),r.push("auto"===n?hT():pT()),r.push(fT({padding:8})),null!==t&&void 0!==t&&t.current&&r.push({name:"arrow",options:i={element:t.current},fn(e){const{element:t,padding:n}="function"===typeof i?i(e):i;return t&&(r=t,{}.hasOwnProperty.call(r,"current"))?null!=t.current?gT({element:t.current,padding:n}).fn(e):{}:t?gT({element:t,padding:n}).fn(e):{};var r}}),r},PI=e=>{let{placement:t}=e;return"auto"===t?void 0:t},EI=e=>{let{placement:t}=e;return{top:"bottom",right:"left",bottom:"top",left:"right"}[t.split("-")[0]]},TI=e=>{let{open:t,arrowRef:n,placement:r="top",setOpen:i}=e;return uI({placement:PI({placement:r}),open:t,onOpenChange:i,whileElementsMounted:uT,middleware:AI({placement:r,arrowRef:n})})},NI=e=>{let{context:t,trigger:n,role:r="tooltip",interactions:i=[]}=e;return gI([sI(t,{enabled:"click"===n}),PN(t,{enabled:"hover"===n,handleClose:CI()}),dI(t),_I(t,{role:r}),...i])},II=(0,e.createContext)(void 0);function MI(){const t=(0,e.useContext)(II);if(!t)throw new Error("useDropdownContext should be used within the DropdownContext provider!");return t}const FI=e=>{var t;let{className:n,theme:i={},...a}=e;const{theme:s}=MI(),o=null!==(t=i.divider)&&void 0!==t?t:s.floating.divider;return(0,r.jsx)("div",{className:NA(o,n),...a})},RI=e=>{var t;let{children:n,className:i,theme:a={},...s}=e;const{theme:o}=MI(),l=null!==(t=a.header)&&void 0!==t?t:o.floating.header;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:NA(l,i),...s,children:n}),(0,r.jsx)(FI,{})]})},jI=e=>{let{children:t,className:n,icon:i,onClick:a,theme:s={},...o}=e;const{ref:l,index:c}=dN({label:"string"===typeof t?t:void 0}),{theme:d,activeIndex:u,dismissOnClick:h,getItemProps:f,handleSelect:p}=MI(),g=u===c,m=FA(d.floating.item,s),v=o;return(0,r.jsx)("li",{role:"menuitem",className:m.container,children:(0,r.jsxs)($A,{ref:l,className:NA(m.base,n),...v,...f({onClick:()=>{a&&a(),h&&p(null)}}),tabIndex:g?0:-1,children:[i&&(0,r.jsx)(i,{className:m.icon}),t]})})},LI={top:GC.cQk,right:GC.ngD,bottom:GC.zKo,left:GC.Y48},DI=t=>{let{refs:n,children:i,inline:a,theme:s,disabled:o,setButtonWidth:l,getReferenceProps:c,renderTrigger:d,...u}=t;const h=n.reference,f=c();if((0,e.useEffect)((()=>{h.current&&(null===l||void 0===l||l(h.current.clientWidth))}),[h,l]),d){const t=d(s);return(0,e.cloneElement)(t,{ref:n.setReference,disabled:o,...f,...t.props})}return a?(0,r.jsx)("button",{type:"button",ref:n.setReference,className:null===s||void 0===s?void 0:s.inlineWrapper,disabled:o,...f,children:i}):(0,r.jsx)(nP,{...u,disabled:o,type:"button",ref:n.setReference,...f,children:i})},OI=t=>{let{children:n,className:i,dismissOnClick:a=!0,theme:s={},renderTrigger:o,...l}=t;const[c,d]=(0,e.useState)(!1),[u,h]=(0,e.useState)(null),[f,p]=(0,e.useState)(null),[g,m]=(0,e.useState)(void 0),v=(0,e.useRef)([]),b=(0,e.useRef)([]),y=FA(OA().dropdown,s),x=l,w=l["data-testid"]||"flowbite-dropdown-target",{placement:k=(l.inline?"bottom-start":"bottom"),trigger:_="click",label:S,inline:C,arrowIcon:A=!0,...P}=x,E=(0,e.useCallback)((e=>{p(e),d(!1)}),[]),T=(0,e.useCallback)((e=>{c?h(e):E(e)}),[c,E]),{context:N,floatingStyles:I,refs:M}=TI({open:c,setOpen:d,placement:k}),F=wI(N,{listRef:v,activeIndex:u,selectedIndex:f,onNavigate:h}),R=function(t,n){var r;const{open:i,dataRef:a}=t,{listRef:s,activeIndex:o,onMatch:l,onTypingChange:c,enabled:d=!0,findMatch:u=null,resetMs:h=750,ignoreKeys:f=[],selectedIndex:p=null}=n,g=e.useRef(),m=e.useRef(""),v=e.useRef(null!=(r=null!=p?p:o)?r:-1),b=e.useRef(null),y=HT(l),x=HT(c),w=SN(u),k=SN(f);return sN((()=>{i&&(clearTimeout(g.current),b.current=null,m.current="")}),[i]),sN((()=>{var e;i&&""===m.current&&(v.current=null!=(e=null!=p?p:o)?e:-1)}),[i,p,o]),e.useMemo((()=>{if(!d)return{};function e(e){e?a.current.typing||(a.current.typing=e,x(e)):a.current.typing&&(a.current.typing=e,x(e))}function t(e,t,n){const r=w.current?w.current(t,n):t.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()))));return r?e.indexOf(r):-1}function n(n){const r=s.current;if(m.current.length>0&&" "!==m.current[0]&&(-1===t(r,r,m.current)?e(!1):" "===n.key&&_E(n)),null==r||k.current.includes(n.key)||1!==n.key.length||n.ctrlKey||n.metaKey||n.altKey)return;i&&" "!==n.key&&(_E(n),e(!0)),r.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&m.current===n.key&&(m.current="",v.current=b.current),m.current+=n.key,clearTimeout(g.current),g.current=setTimeout((()=>{m.current="",v.current=b.current,e(!1)}),h);const a=v.current,o=t(r,[...r.slice((a||0)+1),...r.slice(0,(a||0)+1)],m.current);-1!==o?(y(o),b.current=o):" "!==n.key&&(m.current="",e(!1))}return{reference:{onKeyDown:n},floating:{onKeyDown:n,onKeyUp(t){" "===t.key&&e(!1)}}}}),[d,i,a,s,h,k,w,y,x])}(N,{listRef:b,activeIndex:u,selectedIndex:f,onMatch:T}),{getReferenceProps:j,getFloatingProps:L,getItemProps:D}=NI({context:N,role:"menu",trigger:_,interactions:[F,R]}),O=(0,e.useMemo)((()=>{var e;const[t]=k.split("-");return null!==(e=LI[t])&&void 0!==e?e:GC.zKo}),[k]);return(0,r.jsxs)(II.Provider,{value:{theme:y,activeIndex:u,dismissOnClick:a,getItemProps:D,handleSelect:E},children:[(0,r.jsxs)(DI,{...P,refs:M,inline:C,theme:y,"data-testid":w,className:NA(y.floating.target,P.className),setButtonWidth:m,getReferenceProps:j,renderTrigger:o,children:[S,A&&(0,r.jsx)(O,{className:y.arrowIcon})]}),c&&(0,r.jsx)(tI,{context:N,modal:!1,children:(0,r.jsx)("div",{ref:M.setFloating,style:{...I,minWidth:g},"data-testid":"flowbite-dropdown","aria-expanded":c,...L({className:NA(y.floating.base,y.floating.animation,"duration-100",!c&&y.floating.hidden,y.floating.style.auto,i)}),children:(0,r.jsx)(cN,{elementsRef:v,labelsRef:b,children:(0,r.jsx)("ul",{className:y.content,tabIndex:-1,children:n})})})})]})};OI.displayName="Dropdown",RI.displayName="Dropdown.Header",FI.displayName="Dropdown.Divider";const zI=Object.assign(OI,{Item:jI,Header:RI,Divider:FI}),GI=(0,e.forwardRef)(((e,t)=>{let{className:n,color:i="gray",helperText:a,sizing:s="md",theme:o={},...l}=e;const c=FA(OA().fileInput,o);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:NA(c.root.base,n),children:(0,r.jsx)("div",{className:c.field.base,children:(0,r.jsx)("input",{className:NA(c.field.input.base,c.field.input.colors[i],c.field.input.sizes[s]),...l,type:"file",ref:t})})}),a&&(0,r.jsx)(EP,{color:i,children:a})]})}));GI.displayName="FileInput";const BI=(0,e.forwardRef)(((t,n)=>{let{label:i,helperText:a,color:s="default",sizing:o="md",variant:l,disabled:c=!1,theme:d={},className:u,...h}=t;const f=(0,e.useId)(),p=FA(OA().floatingLabel,d);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:NA("relative","standard"===l?"z-0":""),children:[(0,r.jsx)("input",{type:"text",id:h.id?h.id:"floatingLabel"+f,"aria-describedby":"outlined_success_help",className:NA(p.input[s][l][o],u),placeholder:" ","data-testid":"floating-label",disabled:c,...h,ref:n}),(0,r.jsx)("label",{htmlFor:h.id?h.id:"floatingLabel"+f,className:NA(p.label[s][l][o],u),children:i})]}),(0,r.jsx)("p",{id:"outlined_helper_text"+f,className:NA(p.helperText[s],u),children:a})]})}));function UI(e){let{theme:t}=e;return DA(t),null}function WI(e){let{mode:t}=e;return t&&function(e){jA.mode=e}(t),wP(),null}function HI(e){let{theme:t}=e;return DA(t),null}function VI(e){let{mode:t,theme:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(WI,{mode:t}),(0,r.jsx)(HI,{theme:n}),(0,r.jsx)(UI,{theme:n})]})}BI.displayName="FloatingLabel";const YI=e=>{let{children:t,theme:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(VI,{mode:null===n||void 0===n?void 0:n.mode,theme:null===n||void 0===n?void 0:n.theme}),t]})};YI.displayName="Flowbite";const XI=e=>{let{alt:t,className:n,children:i,href:a,name:s,src:o,theme:l={},...c}=e;const d=FA(OA().footer.brand,l);return(0,r.jsx)("div",{children:a?(0,r.jsxs)("a",{"data-testid":"flowbite-footer-brand",href:a,className:NA(d.base,n),...c,children:[(0,r.jsx)("img",{alt:t,src:o,className:d.img}),(0,r.jsx)("span",{"data-testid":"flowbite-footer-brand-span",className:d.span,children:s}),i]}):(0,r.jsx)("img",{alt:t,"data-testid":"flowbite-footer-brand",src:o,className:NA(d.img,n),...c})})},qI=e=>{let{by:t,className:n,href:i,theme:a={},year:s,...o}=e;const l=FA(OA().footer.copyright,a);return(0,r.jsxs)("div",{"data-testid":"flowbite-footer-copyright",className:NA(l.base,n),...o,children:["\xa9 ",s,i?(0,r.jsx)("a",{href:i,className:l.href,children:t}):(0,r.jsx)("span",{"data-testid":"flowbite-footer-copyright-span",className:l.span,children:t})]})},KI=e=>{let{className:t,theme:n={},...i}=e;const a=FA(OA().footer.divider,n);return(0,r.jsx)("hr",{"data-testid":"footer-divider",className:NA(a.base,t),...i})},QI=e=>{let{ariaLabel:t,className:n,href:i,icon:a,theme:s={},...o}=e;const l=FA(OA().footer.icon,s);return(0,r.jsx)("div",{children:i?(0,r.jsx)("a",{"aria-label":t,"data-testid":"flowbite-footer-icon",href:i,className:NA(l.base,n),...o,children:(0,r.jsx)(a,{className:l.size})}):(0,r.jsx)(a,{"data-testid":"flowbite-footer-icon",className:l.size,...o})})},JI=e=>{let{as:t="a",children:n,className:i,href:a,theme:s={},...o}=e;const l=FA(OA().footer.groupLink.link,s);return(0,r.jsx)("li",{className:NA(l.base,i),children:(0,r.jsx)(t,{href:a,className:l.href,...o,children:n})})},$I=e=>{let{children:t,className:n,col:i=!1,theme:a={},...s}=e;const o=FA(OA().footer.groupLink,a);return(0,r.jsx)("ul",{"data-testid":"footer-groupLink",className:NA(o.base,i&&o.col,n),...s,children:t})},ZI=e=>{let{as:t="h2",className:n,theme:i={},title:a,...s}=e;const o=FA(OA().footer.title,i);return(0,r.jsx)(t,{"data-testid":"flowbite-footer-title",className:NA(o.base,n),...s,children:a})},eM=e=>{let{bgDark:t=!1,children:n,className:i,container:a=!1,theme:s={},...o}=e;const l=FA(OA().footer,s);return(0,r.jsx)("footer",{"data-testid":"flowbite-footer",className:NA(l.root.base,t&&l.root.bgDark,a&&l.root.container,i),...o,children:n})};eM.displayName="Footer",qI.displayName="Footer.Copyright",JI.displayName="Footer.Link",XI.displayName="Footer.Brand",$I.displayName="Footer.LinkGroup",QI.displayName="Footer.Icon",ZI.displayName="Footer.Title",KI.displayName="Footer.Divider";Object.assign(eM,{Copyright:qI,Link:JI,LinkGroup:$I,Brand:XI,Icon:QI,Title:ZI,Divider:KI});const tM=e=>{let{children:t,className:n,theme:i={}}=e;const a=FA(OA().listGroup.item,i);return(0,r.jsx)("li",{className:NA(a.base,n),children:t})},nM=e=>{let{children:t,className:n,unstyled:i,nested:a,ordered:s,horizontal:o,theme:l={},...c}=e;const d=FA(OA().list,l),u=s?"ol":"ul";return(0,r.jsx)(u,{className:NA(d.root.base,d.root.ordered[s?"on":"off"],i&&d.root.unstyled,a&&d.root.nested,o&&d.root.horizontal,n),...c,children:t})};nM.displayName="List",tM.displayName="List.Item";Object.assign(nM,{Item:tM});const rM=e=>{let{active:t,children:n,className:i,href:a,icon:s,onClick:o,theme:l={},disabled:c,...d}=e;const u=FA(OA().listGroup.item,l),h="undefined"!==typeof a,f=h?"a":"button";return(0,r.jsx)("li",{className:NA(u.base,i),children:(0,r.jsxs)(f,{href:a,onClick:o,type:h?void 0:"button",disabled:c,className:NA(u.link.active[t?"on":"off"],u.link.disabled[c?"on":"off"],u.link.base,u.link.href[h?"on":"off"]),...d,children:[s&&(0,r.jsx)(s,{"aria-hidden":!0,"data-testid":"flowbite-list-group-item-icon",className:u.link.icon}),n]})})},iM=e=>{let{children:t,className:n,theme:i={},...a}=e;const s=FA(OA().listGroup,i);return(0,r.jsx)("ul",{className:NA(s.root.base,n),...a,children:t})};iM.displayName="ListGroup",rM.displayName="ListGroup.Item";Object.assign(iM,{Item:rM});const aM=(0,e.createContext)(void 0);function sM(){const t=(0,e.useContext)(aM);if(!t)throw new Error("useModalContext should be used within the ModalContext provider!");return t}const oM=e=>{let{children:t,className:n,theme:i={},...a}=e;const{theme:s,popup:o}=sM(),l=FA(s.body,i);return(0,r.jsx)("div",{className:NA(l.base,o&&[l.popup],n),...a,children:t})},lM=e=>{let{children:t,className:n,theme:i={},...a}=e;const{theme:s,popup:o}=sM(),l=FA(s.footer,i);return(0,r.jsx)("div",{className:NA(l.base,!o&&l.popup,n),...a,children:t})},cM=t=>{let{as:n="h3",children:i,className:a,theme:s={},id:o,...l}=t;const c=(0,e.useId)(),d=o||c,{theme:u,popup:h,onClose:f,setHeaderId:p}=sM(),g=FA(u.header,s);return(0,e.useLayoutEffect)((()=>(p(d),()=>p(void 0))),[d,p]),(0,r.jsxs)("div",{className:NA(g.base,h&&g.popup,a),...l,children:[(0,r.jsx)(n,{id:d,className:g.title,children:i}),(0,r.jsx)("button",{"aria-label":"Close",className:g.close.base,type:"button",onClick:f,children:(0,r.jsx)(GC.Mz4,{"aria-hidden":!0,className:g.close.icon})})]})},dM=(0,e.forwardRef)(((t,n)=>{let{children:i,className:a,dismissible:s=!1,onClose:o,popup:l,position:c="center",root:d,show:u,size:h="2xl",theme:f={},initialFocus:p,...g}=t;const[m,v]=(0,e.useState)(void 0),b=FA(OA().modal,f),{context:y}=uI({open:u,onOpenChange:()=>o&&o()}),x=UT([y.refs.setFloating,n]),w=sI(y),k=dI(y,{outsidePressEvent:"mousedown",enabled:s}),_=_I(y),{getFloatingProps:S}=gI([w,k,_]);return u?(0,r.jsx)(aM.Provider,{value:{theme:b,popup:l,onClose:o,setHeaderId:v},children:(0,r.jsx)(qN,{root:d,children:(0,r.jsx)(rI,{lockScroll:!0,"data-testid":"modal-overlay",className:NA(b.root.base,b.root.positions[c],u?b.root.show.on:b.root.show.off,a),...g,children:(0,r.jsx)(tI,{context:y,initialFocus:p,children:(0,r.jsx)("div",{ref:x,...S(g),"aria-labelledby":m,className:NA(b.content.base,b.root.sizes[h]),children:(0,r.jsx)("div",{className:b.content.inner,children:i})})})})})}):null}));dM.displayName="Modal",cM.displayName="Modal.Header",oM.displayName="Modal.Body",lM.displayName="Modal.Footer";Object.assign(dM,{Header:cM,Body:oM,Footer:lM});const uM=(0,e.createContext)(void 0);function hM(){const t=(0,e.useContext)(uM);if(!t)throw new Error("useNavBarContext should be used within the NavbarContext provider!");return t}const fM=e=>{let{as:t="a",children:n,className:i,theme:a={},...s}=e;const{theme:o}=hM(),l=FA(o.brand,a);return(0,r.jsx)(t,{className:NA(l.base,i),...s,children:n})},pM=e=>{let{children:t,className:n,theme:i={},...a}=e;const{theme:s,isOpen:o}=hM(),l=FA(s.collapse,i);return(0,r.jsx)("div",{"data-testid":"flowbite-navbar-collapse",className:NA(l.base,l.hidden[o?"off":"on"],n),...a,children:(0,r.jsx)("ul",{className:l.list,children:t})})},gM=e=>{let{active:t,as:n="a",disabled:i,children:a,className:s,theme:o={},...l}=e;const{theme:c}=hM(),d=FA(c.link,o);return(0,r.jsx)("li",{children:(0,r.jsx)(n,{className:NA(d.base,t&&d.active.on,!t&&!i&&d.active.off,d.disabled[i?"on":"off"],s),...l,children:a})})};var mM=__webpack_require__(6688);function vM(e){return(0,mM.k5)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}const bM=e=>{let{barIcon:t=vM,className:n,theme:i={},...a}=e;const{theme:s,isOpen:o,setIsOpen:l}=hM(),c=FA(s.toggle,i);return(0,r.jsxs)("button",{"data-testid":"flowbite-navbar-toggle",onClick:()=>{l(!o)},className:NA(c.base,n),...a,children:[(0,r.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,r.jsx)(t,{"aria-hidden":!0,className:c.icon})]})},yM=t=>{let{border:n,children:i,className:a,fluid:s=!1,menuOpen:o,rounded:l,theme:c={},...d}=t;const[u,h]=(0,e.useState)(o),f=FA(OA().navbar,c);return(0,r.jsx)(uM.Provider,{value:{theme:f,isOpen:u,setIsOpen:h},children:(0,r.jsx)("nav",{className:NA(f.root.base,f.root.bordered[n?"on":"off"],f.root.rounded[l?"on":"off"],a),...d,children:(0,r.jsx)("div",{className:NA(f.root.inner.base,f.root.inner.fluid[s?"on":"off"]),children:i})})})};yM.displayName="Navbar",fM.displayName="Navbar.Brand",pM.displayName="Navbar.Collapse",gM.displayName="Navbar.Link",bM.displayName="Navbar.Toggle";Object.assign(yM,{Brand:fM,Collapse:pM,Link:gM,Toggle:bM});const xM=e=>{let{active:t,children:n,className:i,onClick:a,theme:s={},...o}=e;const l=FA(OA().pagination,s);return(0,r.jsx)("button",{type:"button",className:NA(t&&l.pages.selector.active,i),onClick:a,...o,children:n})};xM.displayName="Pagination.Button";const wM=e=>{let{children:t,className:n,onClick:i,theme:a={},disabled:s=!1,...o}=e;const l=FA(OA().pagination,a);return(0,r.jsx)("button",{type:"button",className:NA(s&&l.pages.selector.disabled,n),disabled:s,onClick:i,...o,children:t})};wM.displayName="Pagination.Navigation";const kM=(e,t)=>e>=t?[]:[...Array(t-e+1).keys()].map((t=>t+e)),_M=e=>{let{className:t,currentPage:n,layout:i="pagination",nextLabel:a="Next",onPageChange:s,previousLabel:o="Previous",renderPaginationButton:l=(e=>(0,r.jsx)(xM,{...e})),showIcons:c=!1,theme:d={},totalPages:u,...h}=e;const f=FA(OA().pagination,d),p=Math.min(Math.max("pagination"===i?n+2:n+4,5),u),g=Math.max(1,p-4);return(0,r.jsxs)("nav",{className:NA(f.base,t),...h,children:["table"===i&&(0,r.jsxs)("div",{className:f.layout.table.base,children:["Showing ",(0,r.jsx)("span",{className:f.layout.table.span,children:g})," to\xa0",(0,r.jsx)("span",{className:f.layout.table.span,children:p})," of\xa0",(0,r.jsx)("span",{className:f.layout.table.span,children:u})," Entries"]}),(0,r.jsxs)("ul",{className:f.pages.base,children:[(0,r.jsx)("li",{children:(0,r.jsxs)(wM,{className:NA(f.pages.previous.base,c&&f.pages.showIcon),onClick:()=>{s(Math.max(n-1,1))},disabled:1===n,children:[c&&(0,r.jsx)(GC.UZh,{"aria-hidden":!0,className:f.pages.previous.icon}),o]})}),"pagination"===i&&kM(g,p).map((e=>(0,r.jsx)("li",{"aria-current":e===n?"page":void 0,children:l({className:NA(f.pages.selector.base,n===e&&f.pages.selector.active),active:e===n,onClick:()=>s(e),children:e})},e))),(0,r.jsx)("li",{children:(0,r.jsxs)(wM,{className:NA(f.pages.next.base,c&&f.pages.showIcon),onClick:()=>{s(Math.min(n+1,u))},disabled:n===u,children:[a,c&&(0,r.jsx)(GC.huF,{"aria-hidden":!0,className:f.pages.next.icon})]})})]})]})};_M.displayName="Pagination";Object.assign(_M,{Button:xM});const SM=(0,e.forwardRef)(((e,t)=>{let{className:n,theme:i={},...a}=e;const s=FA(OA().radio,i);return(0,r.jsx)("input",{ref:t,type:"radio",className:NA(s.root.base,n),...a})}));SM.displayName="Radio";const CM=(0,e.forwardRef)(((e,t)=>{let{className:n,sizing:i="md",theme:a={},...s}=e;const o=FA(OA().rangeSlider,a);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{"data-testid":"flowbite-range-slider",className:NA(o.root.base,n),children:(0,r.jsx)("div",{className:o.field.base,children:(0,r.jsx)("input",{ref:t,type:"range",className:NA(o.field.input.base,o.field.input.sizes[i]),...s})})})})}));CM.displayName="RangeSlider";const AM=e=>{let{children:t,className:n,percentFilled:i=0,theme:a={},...s}=e;const o=FA(OA().ratingAdvanced,a);return(0,r.jsxs)("div",{className:NA(o.base,n),...s,children:[(0,r.jsx)("span",{className:o.label,children:t}),(0,r.jsx)("div",{className:o.progress.base,children:(0,r.jsx)("div",{className:o.progress.fill,"data-testid":"flowbite-rating-fill",style:{width:"".concat(i,"%")}})}),(0,r.jsx)("span",{className:o.progress.label,children:"".concat(i,"%")})]})},PM=(0,e.createContext)(void 0);const EM=t=>{let{className:n,filled:i=!0,starIcon:a=GC.K7t,theme:s={},...o}=t;const{theme:l,size:c="sm"}=function(){const t=(0,e.useContext)(PM);if(!t)throw new Error("useRatingContext should be used within the RatingContext provider!");return t}(),d=FA(l.star,s);return(0,r.jsx)(a,{"data-testid":"flowbite-rating-star",className:NA(d.sizes[c],d[i?"filled":"empty"],n),...o})},TM=e=>{let{children:t,className:n,size:i="sm",theme:a={},...s}=e;const o=FA(OA().rating,a);return(0,r.jsx)(PM.Provider,{value:{theme:o,size:i},children:(0,r.jsx)("div",{className:NA(o.root.base,n),...s,children:t})})};TM.displayName="Rating",EM.displayName="Rating.Star",AM.displayName="Rating.Advanced";Object.assign(TM,{Star:EM,Advanced:AM});const NM=(0,e.forwardRef)(((e,t)=>{let{addon:n,children:i,className:a,color:s="gray",helperText:o,icon:l,shadow:c,sizing:d="md",theme:u={},...h}=e;const f=FA(OA().select,u);return(0,r.jsxs)("div",{className:NA(f.base,a),children:[n&&(0,r.jsx)("span",{className:f.addon,children:n}),(0,r.jsxs)("div",{className:f.field.base,children:[l&&(0,r.jsx)("div",{className:f.field.icon.base,children:(0,r.jsx)(l,{className:f.field.icon.svg})}),(0,r.jsx)("select",{className:NA(f.field.select.base,f.field.select.colors[s],f.field.select.sizes[d],f.field.select.withIcon[l?"on":"off"],f.field.select.withAddon[n?"on":"off"],f.field.select.withShadow[c?"on":"off"]),...h,ref:t,children:i}),o&&(0,r.jsx)(EP,{color:s,children:o})]})]})}));NM.displayName="Select";const IM=(0,e.createContext)(void 0);function MM(){const t=(0,e.useContext)(IM);if(!t)throw new Error("useSidebarContext should be used within the SidebarContext provider!");return t}const FM=e=>{let{children:t,color:n="info",className:i,theme:a={},...s}=e;const{theme:o,isCollapsed:l}=MM(),c=FA(o.cta,a);return(0,r.jsx)("div",{"data-testid":"sidebar-cta",hidden:l,className:NA(c.base,c.color[n],i),...s,children:t})};FM.displayName="Sidebar.CTA";const RM=t=>{let{animation:n="duration-300",arrow:i=!0,children:a,className:s,content:o,placement:l="top",style:c="dark",theme:d,trigger:u="hover",minWidth:h,...f}=t;const p=(0,e.useRef)(null),[g,m]=(0,e.useState)(!1),v=TI({open:g,placement:l,arrowRef:p,setOpen:m}),{context:b,middlewareData:{arrow:{x:y,y:x}={}},refs:w,strategy:k,update:_,x:S,y:C}=v,A=function(t,n){void 0===n&&(n={});const{open:r,onOpenChange:i,events:a,refs:s,elements:{domReference:o}}=t,{enabled:l=!0,visibleOnly:c=!0}=n,d=e.useRef(!1),u=e.useRef(),h=e.useRef(!0);return e.useEffect((()=>{if(!l)return;const e=YP(o);function t(){!r&&QP(o)&&o===lE(bE(o))&&(d.current=!0)}function n(){h.current=!0}return e.addEventListener("blur",t),e.addEventListener("keydown",n,!0),()=>{e.removeEventListener("blur",t),e.removeEventListener("keydown",n,!0)}}),[o,r,l]),e.useEffect((()=>{if(l)return a.on("openchange",e),()=>{a.off("openchange",e)};function e(e){let{reason:t}=e;"reference-press"!==t&&"escape-key"!==t||(d.current=!0)}}),[a,l]),e.useEffect((()=>()=>{clearTimeout(u.current)}),[]),e.useMemo((()=>l?{reference:{onPointerDown(e){fE(e.nativeEvent)||(h.current=!1)},onMouseLeave(){d.current=!1},onFocus(e){if(d.current)return;const t=xE(e.nativeEvent);if(c&&KP(t))try{if(pE()&&mE())throw Error();if(!t.matches(":focus-visible"))return}catch(OG){if(!h.current&&!kE(t))return}i(!0,e.nativeEvent,"focus")},onBlur(e){d.current=!1;const t=e.relatedTarget,n=KP(t)&&t.hasAttribute(_N("focus-guard"))&&"outside"===t.getAttribute("data-type");u.current=window.setTimeout((()=>{const r=lE(o?o.ownerDocument:document);(t||r!==o)&&(cE(s.floating.current,r)||cE(o,r)||n||i(!1,e.nativeEvent,"focus"))}))}}}:{}),[l,c,o,s,i])}(b),{getFloatingProps:P,getReferenceProps:E}=NI({context:b,role:"tooltip",trigger:u,interactions:[A]});return(0,e.useEffect)((()=>{if(w.reference.current&&w.floating.current&&g)return uT(w.reference.current,w.floating.current,_)}),[g,w.floating,w.reference,_]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:w.setReference,className:d.target,"data-testid":"flowbite-tooltip-target",...E(),children:a}),(0,r.jsxs)("div",{ref:w.setFloating,"data-testid":"flowbite-tooltip",...P({className:NA(d.base,n&&"".concat(d.animation," ").concat(n),!g&&d.hidden,d.style[c],s),style:{position:k,top:null!==C&&void 0!==C?C:" ",left:null!==S&&void 0!==S?S:" ",minWidth:h},...f}),children:[(0,r.jsx)("div",{className:d.content,children:o}),i&&(0,r.jsx)("div",{className:NA(d.arrow.base,"dark"===c&&d.arrow.style.dark,"light"===c&&d.arrow.style.light,"auto"===c&&d.arrow.style.auto),"data-testid":"flowbite-tooltip-arrow",ref:p,style:{top:null!==x&&void 0!==x?x:" ",left:null!==y&&void 0!==y?y:" ",right:" ",bottom:" ",[EI({placement:v.placement})]:d.arrow.placement},children:"\xa0"})]})]})},jM=e=>{let{animation:t="duration-300",arrow:n=!0,children:i,className:a,content:s,placement:o="top",style:l="dark",theme:c={},trigger:d="hover",...u}=e;const h=FA(OA().tooltip,c);return(0,r.jsx)(RM,{animation:t,arrow:n,content:s,placement:o,style:l,theme:h,trigger:d,className:a,...u,children:i})};jM.displayName="Tooltip";const LM=(0,e.createContext)(void 0);const DM=t=>{let{children:n,className:i,icon:a,label:s,chevronIcon:o=GC.bv7,renderChevronIcon:l,open:c=!1,theme:d={},...u}=t;const h=(0,e.useId)(),[f,p]=(0,e.useState)(c),{theme:g,isCollapsed:m}=MM(),v=FA(g.collapse,d);(0,e.useEffect)((()=>p(c)),[c]);return(0,r.jsxs)((e=>{let{children:t}=e;return(0,r.jsx)("li",{children:m&&!f?(0,r.jsx)(jM,{content:s,placement:"right",children:t}):t})}),{children:[(0,r.jsxs)("button",{id:"flowbite-sidebar-collapse-".concat(h),onClick:()=>p(!f),title:s,type:"button",className:NA(v.button,i),...u,children:[a&&(0,r.jsx)(a,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-collapse-icon",className:NA(v.icon.base,v.icon.open[f?"on":"off"])}),m?(0,r.jsx)("span",{className:"sr-only",children:s}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{"data-testid":"flowbite-sidebar-collapse-label",className:v.label.base,children:s}),l?l(v,f):(0,r.jsx)(o,{"aria-hidden":!0,className:NA(v.label.icon.base,v.label.icon.open[f?"on":"off"])})]})]}),(0,r.jsx)("ul",{"aria-labelledby":"flowbite-sidebar-collapse-".concat(h),hidden:!f,className:v.list,children:(0,r.jsx)(LM.Provider,{value:{isInsideCollapse:!0},children:n})})]})};DM.displayName="Sidebar.Collapse";const OM=e=>{let{id:t,theme:n,isCollapsed:i,tooltipChildren:a,children:s,...o}=e;return(0,r.jsx)("li",{...o,children:i?(0,r.jsx)(jM,{content:(0,r.jsx)(zM,{id:t,theme:n,children:a}),placement:"right",children:s}):s})},zM=e=>{let{id:t,theme:n,children:i}=e;return(0,r.jsx)("span",{"data-testid":"flowbite-sidebar-item-content",id:"flowbite-sidebar-item-".concat(t),className:NA(n.content.base),children:i})},GM=(0,e.forwardRef)(((t,n)=>{var i,a,s,o,l;let{active:c,as:d="a",children:u,className:h,icon:f,label:p,labelColor:g="info",theme:m={},...v}=t;const b=(0,e.useId)(),{theme:y,isCollapsed:x}=MM(),{isInsideCollapse:w}=function(){const t=(0,e.useContext)(LM);if(!t)throw new Error("useSidebarItemContext should be used within the SidebarItemContext provider!");return t}(),k=FA(y.item,m);return(0,r.jsx)(OM,{theme:k,className:k.listItem,id:b,isCollapsed:x,tooltipChildren:u,children:(0,r.jsxs)(d,{"aria-labelledby":"flowbite-sidebar-item-".concat(b),ref:n,className:NA(k.base,c&&k.active,!x&&w&&(null===(i=k.collapsed)||void 0===i?void 0:i.insideCollapse),h),...v,children:[f&&(0,r.jsx)(f,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-item-icon",className:NA(null===(a=k.icon)||void 0===a?void 0:a.base,c&&(null===(s=k.icon)||void 0===s?void 0:s.active))}),x&&!f&&(0,r.jsx)("span",{className:null===(o=k.collapsed)||void 0===o?void 0:o.noIcon,children:null!==(l=u.charAt(0).toLocaleUpperCase())&&void 0!==l?l:"?"}),!x&&(0,r.jsx)(zM,{id:b,theme:k,children:u}),!x&&p&&(0,r.jsx)(KA,{color:g,"data-testid":"flowbite-sidebar-label",hidden:x,className:k.label,children:p})]})})}));GM.displayName="Sidebar.Item";const BM=e=>{let{children:t,className:n,theme:i={},...a}=e;const{theme:s}=MM(),o=FA(s.itemGroup,i);return(0,r.jsx)("ul",{"data-testid":"flowbite-sidebar-item-group",className:NA(o.base,n),...a,children:(0,r.jsx)(LM.Provider,{value:{isInsideCollapse:!1},children:t})})};BM.displayName="Sidebar.ItemGroup";const UM=e=>{let{children:t,className:n,theme:i={},...a}=e;const{theme:s}=MM(),o=FA(s.items,i);return(0,r.jsx)("div",{className:NA(o.base,n),"data-testid":"flowbite-sidebar-items",...a,children:t})};UM.displayName="Sidebar.Items";const WM=t=>{let{children:n,className:i,href:a,img:s,imgAlt:o="",theme:l={},...c}=t;const d=(0,e.useId)(),{theme:u,isCollapsed:h}=MM(),f=FA(u.logo,l);return(0,r.jsxs)("a",{"aria-labelledby":"flowbite-sidebar-logo-".concat(d),href:a,className:NA(f.base,i),...c,children:[(0,r.jsx)("img",{alt:o,src:s,className:f.img}),(0,r.jsx)("span",{className:f.collapsed[h?"on":"off"],id:"flowbite-sidebar-logo-".concat(d),children:n})]})};WM.displayName="Sidebar.Logo";const HM=e=>{let{children:t,as:n="nav",collapseBehavior:i="collapse",collapsed:a=!1,theme:s={},className:o,...l}=e;const c=FA(OA().sidebar,s);return(0,r.jsx)(IM.Provider,{value:{theme:c,isCollapsed:a},children:(0,r.jsx)(n,{"aria-label":"Sidebar",hidden:a&&"hide"===i,className:NA(c.root.base,c.root.collapsed[a?"on":"off"],o),...l,children:(0,r.jsx)("div",{className:c.root.inner,children:t})})})};HM.displayName="Sidebar";Object.assign(HM,{Collapse:DM,CTA:FM,Item:GM,Items:UM,ItemGroup:BM,Logo:WM});const VM=(0,e.createContext)(void 0);const YM=(0,e.createContext)(void 0);function XM(){const t=(0,e.useContext)(YM);if(!t)throw new Error("useTableContext should be used within the TableContext provider!");return t}const qM=e=>{let{children:t,className:n,theme:i={},...a}=e;const{theme:s}=XM(),o=FA(s.body,i);return(0,r.jsx)(VM.Provider,{value:{theme:o},children:(0,r.jsx)("tbody",{className:NA(o.base,n),...a,children:t})})},KM=t=>{let{children:n,className:i,theme:a={},...s}=t;const{theme:o}=function(){const t=(0,e.useContext)(VM);if(!t)throw new Error("useTableBodyContext should be used within the TableBodyContext provider!");return t}(),l=FA(o.cell,a);return(0,r.jsx)("td",{className:NA(l.base,i),...s,children:n})},QM=(0,e.createContext)(void 0);const JM=e=>{let{children:t,className:n,theme:i={},...a}=e;const{theme:s}=XM(),o=FA(s.head,i);return(0,r.jsx)(QM.Provider,{value:{theme:o},children:(0,r.jsx)("thead",{className:NA(o.base,n),...a,children:(0,r.jsx)("tr",{children:t})})})},$M=t=>{let{children:n,className:i,theme:a={},...s}=t;const{theme:o}=function(){const t=(0,e.useContext)(QM);if(!t)throw new Error("useTableHeadContext should be used within the TableHeadContext provider!");return t}(),l=FA(o.cell,a);return(0,r.jsx)("th",{className:NA(l.base,i),...s,children:n})},ZM=e=>{let{children:t,className:n,theme:i={},...a}=e;const{theme:s,hoverable:o,striped:l}=XM(),c=FA(s.row,i);return(0,r.jsx)("tr",{"data-testid":"table-row-element",className:NA(c.base,l&&c.striped,o&&c.hovered,n),...a,children:t})},eF=e=>{let{children:t,className:n,striped:i,hoverable:a,theme:s={},...o}=e;const l=FA(OA().table,s);return(0,r.jsx)("div",{"data-testid":"table-element",className:NA(l.root.wrapper),children:(0,r.jsxs)(YM.Provider,{value:{theme:l,striped:i,hoverable:a},children:[(0,r.jsx)("div",{className:NA(l.root.shadow,n)}),(0,r.jsx)("table",{className:NA(l.root.base,n),...o,children:t})]})})};eF.displayName="Table",JM.displayName="Table.Head",qM.displayName="Table.Body",ZM.displayName="Table.Row",KM.displayName="Table.Cell",$M.displayName="Table.HeadCell";const tF=Object.assign(eF,{Head:JM,Body:qM,Row:ZM,Cell:KM,HeadCell:$M}),nF=e=>{let{children:t,className:n}=e;return(0,r.jsx)("div",{className:n,children:t})};nF.displayName="Tabs.Item";const rF=(0,e.forwardRef)(((t,n)=>{let{children:i,className:a,onActiveTabChange:s,style:o="default",theme:l={},...c}=t;const d=FA(OA().tabs,l),u=(0,e.useId)(),h=(0,e.useMemo)((()=>e.Children.map(e.Children.toArray(i),(e=>{let{props:t}=e;return t}))),[i]),f=(0,e.useRef)([]),[p,g]=(0,e.useState)(Math.max(0,h.findIndex((e=>e.active)))),[m,v]=(0,e.useState)(-1),b=e=>{g(e),s&&s(e)},y=d.tablist.tabitem.styles[o],x=d.tabitemcontainer.styles[o];return(0,e.useEffect)((()=>{var e;null===(e=f.current[m])||void 0===e||e.focus()}),[m]),(0,e.useImperativeHandle)(n,(()=>({setActiveTab:b}))),(0,r.jsxs)("div",{className:NA(d.base,a),children:[(0,r.jsx)("div",{"aria-label":"Tabs",role:"tablist",className:NA(d.tablist.base,d.tablist.styles[o],a),...c,children:h.map(((e,t)=>(0,r.jsxs)("button",{type:"button","aria-controls":"".concat(u,"-tabpanel-").concat(t),"aria-selected":t===p,className:NA(d.tablist.tabitem.base,y.base,t===p&&y.active.on,t!==p&&!e.disabled&&y.active.off),disabled:e.disabled,id:"".concat(u,"-tab-").concat(t),onClick:()=>(e=>{let{target:t}=e;b(t),v(t)})({target:t}),onKeyDown:e=>(e=>{let{event:t,target:n}=e;"ArrowLeft"===t.key&&v(Math.max(0,m-1)),"ArrowRight"===t.key&&v(Math.min(h.length-1,m+1)),"Enter"===t.key&&(b(n),v(n))})({event:e,target:t}),ref:e=>f.current[t]=e,role:"tab",tabIndex:t===m?0:-1,style:{zIndex:t===m?2:1},children:[e.icon&&(0,r.jsx)(e.icon,{className:d.tablist.tabitem.icon}),e.title]},t)))}),(0,r.jsx)("div",{className:NA(d.tabitemcontainer.base,x),children:h.map(((e,t)=>(0,r.jsx)("div",{"aria-labelledby":"".concat(u,"-tab-").concat(t),className:d.tabpanel,hidden:t!==p,id:"".concat(u,"-tabpanel-").concat(t),role:"tabpanel",tabIndex:0,children:e.children},t)))})]})}));rF.displayName="Tabs";Object.assign(rF,{Item:nF});const iF=(0,e.forwardRef)(((e,t)=>{let{className:n,color:i="gray",helperText:a,shadow:s,theme:o={},...l}=e;const c=FA(OA().textarea,o);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("textarea",{ref:t,className:NA(c.base,c.colors[i],c.withShadow[s?"on":"off"],n),...l}),a&&(0,r.jsx)(EP,{color:i,children:a})]})}));iF.displayName="Textarea";const aF=(0,e.createContext)(void 0);function sF(){const t=(0,e.useContext)(aF);if(!t)throw new Error("useTimelineContentContext should be used within the TimelineContentContext provider!");return t}const oF=e=>{let{children:t,className:n,theme:i={},...a}=e;const{theme:s}=sF(),o=FA(s.body,i);return(0,r.jsx)("div",{className:NA(o.base,n),...a,children:t})},lF=(0,e.createContext)(void 0);function cF(){const t=(0,e.useContext)(lF);if(!t)throw new Error("useTimelineContext should be used within the TimelineContext provider!");return t}const dF=(0,e.createContext)(void 0);function uF(){const t=(0,e.useContext)(dF);if(!t)throw new Error("useTimelineItemContext should be used within the TimelineItemContext provider!");return t}const hF=e=>{let{children:t,className:n,theme:i={},...a}=e;const{horizontal:s}=cF(),{theme:o}=uF(),l=FA(o.content,i);return(0,r.jsx)(aF.Provider,{value:{theme:l},children:(0,r.jsx)("div",{"data-testid":"timeline-content",className:NA(s&&l.root.base,n),...a,children:t})})},fF=e=>{let{children:t,className:n,theme:i={},...a}=e;const{theme:s,horizontal:o}=cF(),l=FA(s.item,i);return(0,r.jsx)(dF.Provider,{value:{theme:l},children:(0,r.jsx)("li",{"data-testid":"timeline-item",className:NA(o&&l.root.horizontal,!o&&l.root.vertical,n),...a,children:t})})},pF=e=>{let{children:t,className:n,icon:i,theme:a={},...s}=e;const{horizontal:o}=cF(),{theme:l}=uF(),c=FA(l.point,a);return(0,r.jsxs)("div",{"data-testid":"timeline-point",className:NA(o&&c.horizontal,!o&&c.vertical,n),...s,children:[t,i?(0,r.jsx)("span",{className:NA(c.marker.icon.wrapper),children:(0,r.jsx)(i,{"aria-hidden":!0,className:NA(c.marker.icon.base)})}):(0,r.jsx)("div",{className:NA(o&&c.marker.base.horizontal,!o&&c.marker.base.vertical)}),o&&(0,r.jsx)("div",{className:NA(c.line)})]})},gF=e=>{let{children:t,className:n,theme:i={},...a}=e;const{theme:s}=sF(),o=FA(s.time,i);return(0,r.jsx)("time",{className:NA(o.base,n),...a,children:t})},mF=e=>{let{as:t="h3",children:n,className:i,theme:a={},...s}=e;const{theme:o}=sF(),l=FA(o.title,a);return(0,r.jsx)(t,{className:NA(l.base,i),...s,children:n})},vF=e=>{let{children:t,className:n,horizontal:i,theme:a={},...s}=e;const o=FA(OA().timeline,a);return(0,r.jsx)(lF.Provider,{value:{theme:o,horizontal:i},children:(0,r.jsx)("ol",{"data-testid":"timeline-component",className:NA(i&&o.root.direction.horizontal,!i&&o.root.direction.vertical,n),...s,children:t})})};vF.displayName="Timeline",fF.displayName="Timeline.Item",pF.displayName="Timeline.Point",hF.displayName="Timeline.Content",gF.displayName="Timeline.Time",mF.displayName="Timeline.Title",oF.displayName="Timeline.Body";Object.assign(vF,{Item:fF,Point:pF,Content:hF,Time:gF,Title:mF,Body:oF});const bF=(0,e.createContext)(void 0);const yF=t=>{let{className:n,onClick:i,theme:a={},xIcon:s=GC.U_s,onDismiss:o,...l}=t;const{theme:c,duration:d,isClosed:u,isRemoved:h,setIsClosed:f,setIsRemoved:p}=function(){const t=(0,e.useContext)(bF);if(!t)throw new Error("useToastContext should be used within the ToastContext provider!");return t}(),g=FA(c.toggle,a);return(0,r.jsx)("button",{"aria-label":"Close",onClick:e=>{i&&i(e),o?o():(f(!u),setTimeout((()=>p(!h)),d))},type:"button",className:NA(g.base,n),...l,children:(0,r.jsx)(s,{"aria-hidden":!0,className:g.icon})})},xF={75:"duration-75",100:"duration-100",150:"duration-150",200:"duration-200",300:"duration-300",500:"duration-500",700:"duration-700",1e3:"duration-1000"},wF=t=>{let{children:n,className:i,duration:a=300,theme:s={},...o}=t;const[l,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)(!1),h=FA(OA().toast,s);return d?null:(0,r.jsx)(bF.Provider,{value:{theme:h,duration:a,isClosed:l,isRemoved:d,setIsClosed:c,setIsRemoved:u},children:(0,r.jsx)("div",{"data-testid":"flowbite-toast",role:"alert",className:NA(h.root.base,xF[a],l&&h.root.closed,i),...o,children:n})})};wF.displayName="Toast",yF.displayName="Toast.Toggle";Object.assign(wF,{Toggle:yF});function kF(){const[t,n]=(0,e.useState)([]),[i,a]=(0,e.useState)(""),s=((0,e.useRef)(null),ie()),{users:o,deleteUser:l}=LC(),{showPopUp:c}=(0,PC.G)(),d=xC();(0,e.useEffect)((()=>{const e=i?o.filter((e=>e.firstName.toLowerCase().includes(i)||e.lastName.toLowerCase().includes(i))):o;n(e)}),[o,i]);const u=e=>{const t=o.find((t=>t.id===e));c((0,r.jsx)(zC,{user:t,onClose:()=>c(null),currentUserRole:d.roleName}))};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),s("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"All Users"})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:"Users"})]}),(0,r.jsx)("div",{className:"block items-center sm:flex mt-8 mb-4",children:(0,r.jsx)("div",{className:"flex w-full items-center"})})]})}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-md sm:rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 mx-4 pb-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4 pt-3",children:[(0,r.jsx)("div",{className:"flex-1 flex items-center space-x-3",children:(0,r.jsx)("h5",{className:"dark:text-white font-semibold",children:"Users"})}),(0,r.jsxs)("div",{className:"w-full lg:w-1/3 flex flex-col space-y-3 md:space-y-0 md:flex-row md:items-center",children:[(0,r.jsx)("form",{className:"w-full md:max-w-sm flex-1 md:mr-4",onSubmit:e=>e.preventDefault(),children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3"}),(0,r.jsx)("input",{type:"search",id:"default-search",className:"block w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Search Users...",onChange:e=>{a(e.target.value.toLowerCase())}})]})}),d&&"Student"!==d.roleName&&(0,r.jsxs)("button",{onClick:()=>{c((0,r.jsx)(OC,{onClose:()=>c(null),currentUser:d}))},type:"button",className:"inline-flex items-center justify-center text-white bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",children:[(0,r.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add User"]})]})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"p-4 text-left",children:"User"}),(0,r.jsx)("th",{scope:"col",className:"px-4 py-3",children:"School"}),(0,r.jsx)("th",{scope:"col",className:"px-4 py-3",children:"Role"}),(0,r.jsx)("th",{scope:"col",className:"px-4 py-3 text-right",children:(0,r.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,r.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((e=>(0,r.jsxs)("tr",{className:"border-b dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap align-middle",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("img",{src:e.photo_url||CC,alt:"".concat(e.firstName," ").concat(e.lastName),className:"h-10 w-10 rounded-full object-cover mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"".concat(e.firstName," ").concat(e.lastName)}),(0,r.jsx)("div",{className:"text-gray-500",children:e.email})]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 truncate align-middle",children:e.isPending?(0,r.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-yellow-900 dark:text-yellow-300",children:"Pending"}):(0,r.jsx)("span",{className:"bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-gray-700 dark:text-gray-300",children:e.schoolName||"N/A"})}),(0,r.jsx)("td",{className:"px-6 py-4 truncate align-middle",children:e.isPending?(0,r.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-yellow-900 dark:text-yellow-300",children:"Invitation Sent"}):(0,r.jsx)("span",{className:"text-xs font-medium mr-2 px-2.5 py-0.5 rounded ".concat("Teacher"===e.roleName.trim()?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"Student"===e.roleName.trim()?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"Admin"===e.roleName.trim()?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":"SchoolAdmin"===e.roleName.trim()?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"),children:e.roleName.trim()||"N/A"})}),(0,r.jsx)("td",{className:"px-4 py-3 text-right",children:(0,r.jsxs)(zI,{label:"Actions",inline:!0,children:[(0,r.jsx)(jI,{onClick:t=>{u(e.id)},children:"Show user"}),(0,r.jsx)(jI,{onClick:()=>{window.confirm("Are you sure you want to delete ".concat(e.firstName," ").concat(e.lastName," ?"))&&l(e)},children:e.isPending?"Cancel invite":"Delete"})]})})]},e.id)))})]})})]})]})}(t=>{let{checked:n,className:i,color:a="blue",sizing:s="md",disabled:o,label:l,name:c,onChange:d,theme:u={},...h}=t;const f=(0,e.useId)(),p=FA(OA().toggleSwitch,u);return(0,r.jsxs)(r.Fragment,{children:[c&&n?(0,r.jsx)("input",{checked:n,hidden:!0,name:c,readOnly:!0,type:"checkbox",className:"sr-only"}):null,(0,r.jsxs)("button",{"aria-checked":n,"aria-labelledby":"".concat(f,"-flowbite-toggleswitch-label"),disabled:o,id:"".concat(f,"-flowbite-toggleswitch"),onClick:()=>{d(!n)},onKeyDown:e=>{"Enter"==e.code&&e.preventDefault()},role:"switch",tabIndex:0,type:"button",className:NA(p.root.base,p.root.active[o?"off":"on"],i),...h,children:[(0,r.jsx)("div",{"data-testid":"flowbite-toggleswitch-toggle",className:NA(p.toggle.base,p.toggle.checked[n?"on":"off"],n&&p.toggle.checked.color[a],p.toggle.sizes[s])}),null!==l&&void 0!==l&&l.length?(0,r.jsx)("span",{"data-testid":"flowbite-toggleswitch-label",id:"".concat(f,"-flowbite-toggleswitch-label"),className:p.root.label,children:l}):null]})]})}).displayName="ToggleSwitch";__webpack_require__(3606),__webpack_require__(2019);function _F(){const t=xC(),n=ie();return(0,e.useEffect)((()=>{}),[t]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)(oP,{className:"mb-4",children:(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),n("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})})}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:"Dashboard"})]}),(0,r.jsx)("div",{className:"block items-center sm:flex mt-8 mb-4",children:(0,r.jsx)("div",{className:"flex w-full items-center"})})]})}),(0,r.jsx)("br",{}),t&&"Admin"===t.roleName&&(0,r.jsx)("div",{className:"px-4 pt-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 mt-4 md:grid-cols-2 xl:grid-cols-3",children:[(0,r.jsx)(AF,{}),(0,r.jsx)(EF,{}),(0,r.jsx)(PF,{}),(0,r.jsx)(IF,{}),(0,r.jsx)(MF,{}),(0,r.jsx)(TF,{}),(0,r.jsx)(NF,{}),(0,r.jsx)(FF,{})]})}),t&&"Teacher"==t.roleName&&(0,r.jsx)(CF,{}),t&&"Student"==t.roleName&&(0,r.jsx)(CF,{})]})})}const SF=t=>{let{collectionPath:n,title:i}=t;const[a,s]=(0,e.useState)(0);return(0,e.useEffect)((()=>{(async()=>{const e=ub(Sv(rC,n)),t=await Ab(e);s(t.size)})().catch(console.error)}),[n]),(0,r.jsx)("div",{className:"p-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("h3",{className:"text-base font-normal text-gray-500 dark:text-gray-400",children:i}),(0,r.jsx)("span",{className:"text-2xl font-bold leading-none text-gray-900 sm:text-3xl dark:text-white",children:a})]})})},CF=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("section",{class:"bg-white dark:bg-gray-900",children:[(0,r.jsxs)("div",{class:"flex flex-col items-center justify-center",children:[(0,r.jsx)("div",{class:"flex justify-center items-center",children:(0,r.jsx)("img",{class:"w-64 h-64",src:"https://res.cloudinary.com/daqsjyrgg/image/upload/v1690257804/jjqw2hfv0t6karxdeq1s.svg",alt:"image empty states"})}),(0,r.jsx)("p",{class:"text-gray-500 dark:text-gray-300 text-center mb-6",children:"There is curently nothing to see here, check the other pages or click on the links below to learn more about us!"})]}),(0,r.jsxs)("div",{class:"py-8 px-4 mx-auto max-w-screen-xl text-center lg:py-16 lg:px-12",children:[(0,r.jsx)("h1",{class:"mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-6xl dark:text-white",children:"We invest in the future of Nursing "}),(0,r.jsx)("p",{class:"mb-8 text-lg font-normal text-gray-500 lg:text-xl sm:px-16 xl:px-48 dark:text-gray-400",children:"Here at TactileVR we want to help you grow as a professional. This platform is here to help you achieve that!"}),(0,r.jsxs)("div",{class:"flex flex-col mb-8 lg:mb-16 space-y-4 sm:flex-row sm:justify-center sm:space-y-0 sm:space-x-4",children:[(0,r.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tactilevr.com/",class:"inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-900",children:["Learn more",(0,r.jsx)("svg",{class:"ml-2 -mr-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z","clip-rule":"evenodd"})})]}),(0,r.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.youtube.com/watch?v=QfE21-tg4Hk&ab_channel=TactileVR",class:"inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-gray-900 rounded-lg border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 dark:text-white dark:border-gray-700 dark:hover:bg-gray-700 dark:focus:ring-gray-800",children:[(0,r.jsx)("svg",{class:"mr-2 -ml-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})}),"Watch video"]})]})]})]})}),AF=()=>(0,r.jsx)(SF,{collectionPath:"users",title:"Total Users"}),PF=()=>(0,r.jsx)(SF,{collectionPath:"schools",title:"Total Schools"}),EF=()=>(0,r.jsx)(SF,{collectionPath:"grades",title:"Total Grades Obtained"}),TF=()=>(0,r.jsx)(SF,{collectionPath:"assessments",title:"Total Assessments Assigned"}),NF=()=>(0,r.jsx)(SF,{collectionPath:"modules",title:"Total Modules In Use"}),IF=()=>(0,r.jsx)(SF,{collectionPath:"anonymous_users",title:"Total anonymous Users"}),MF=()=>(0,r.jsx)(SF,{collectionPath:"classRooms",title:"Total Classrooms"}),FF=()=>{const[t,n]=(0,e.useState)({admin:0,student:0,teacher:0});(0,e.useEffect)((()=>{(async()=>{const e=ub(Sv(rC,"users")),t=await Ab(e),r={admin:0,student:0,teacher:0};t.forEach((e=>{const t=e.data();t.roleName&&r.hasOwnProperty(t.roleName.toLowerCase())&&r[t.roleName.toLowerCase()]++})),console.log(r),n(r)})().catch(console.error)}),[]);const i=t.admin+t.student+t.teacher,a=e=>i?(t[e]/i*100).toFixed(2):0;return(0,r.jsx)("div",{className:"p-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("h3",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:"Users by role"}),Object.keys(t).map((e=>(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"w-16 text-sm font-medium dark:text-white",children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:(0,r.jsx)("div",{className:"bg-primary-600 h-2.5 rounded-full dark:bg-primary-500",style:{width:"".concat(a(e),"%")}})})]}),(0,r.jsxs)("span",{className:"ml-2 text-sm font-medium dark:text-white",children:[a(e),"%"]})]},e)))]})})};function RF(t){let{onClose:n}=t;const{showNotification:i}=a(),[s,o]=(0,e.useState)(""),[l,c]=(0,e.useState)(""),[d,u]=(0,e.useState)(""),[h,f]=(0,e.useState)(""),[p,g]=(0,e.useState)([]),[m,v]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{const e=await Ab(Sv(rC,"scenarios"));v(e.docs.map((e=>({id:e.id,...e.data()}))))})()}),[]);return(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-500 dark:bg-gray-700 opacity-75"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,r.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full dark:bg-gray-800",children:[(0,r.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 dark:bg-gray-800",children:(0,r.jsx)("div",{className:"sm:flex sm:items-start",children:(0,r.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:"Create New School"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t={name:s,capacity:parseInt(l,10),licenseExpirationDate:new Date(d),availableScenarios:p,numOfMembers:0};try{await Pb(Cv(rC,"schools",h),t),i("success","School created successfully!"),n()}catch(Zb){console.error("Error creating school: ",Zb),i("danger","Failed to create school.")}},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"schoolName",className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"School Name"}),(0,r.jsx)("input",{type:"text",id:"schoolName",value:s,onChange:e=>o(e.target.value),required:!0,className:"mt-1 px-3 py-2 bg-white border shadow-sm border-gray-300 placeholder-gray-400 focus:outline-none focus:border-blue-500 block w-full rounded-md sm:text-sm focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-300"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"capacity",className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Capacity"}),(0,r.jsx)("input",{type:"number",id:"capacity",value:l,onChange:e=>c(e.target.value),required:!0,className:"mt-1 px-3 py-2 bg-white border shadow-sm border-gray-300 placeholder-gray-400 focus:outline-none focus:border-blue-500 block w-full rounded-md sm:text-sm focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-300"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"licenseExpirationDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"License Expiration Date"}),(0,r.jsx)("input",{type:"date",id:"licenseExpirationDate",value:d,onChange:e=>u(e.target.value),required:!0,className:"mt-1 px-3 py-2 bg-white border shadow-sm border-gray-300 placeholder-gray-400 focus:outline-none focus:border-blue-500 block w-full rounded-md sm:text-sm focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-300"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"schoolID",className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"School ID"}),(0,r.jsx)("input",{type:"text",id:"schoolID",value:h,onChange:e=>f(e.target.value),required:!0,className:"mt-1 px-3 py-2 bg-white border shadow-sm border-gray-300 placeholder-gray-400 focus:outline-none focus:border-blue-500 block w-full rounded-md sm:text-sm focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-300"})]}),(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{className:"text-base font-medium text-gray-900 dark:text-gray-200",children:"Available Scenarios"}),(0,r.jsx)("div",{className:"mt-4 grid grid-cols-1 gap-y-4",children:m.map((e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"scenario-".concat(e.id),name:"availableScenarios",type:"checkbox",checked:p.includes(e.id),onChange:()=>{return t=e.id,void g((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded dark:bg-gray-600 dark:border-gray-500"}),(0,r.jsx)("label",{htmlFor:"scenario-".concat(e.id),className:"ml-3 text-sm text-gray-600 dark:text-gray-200",children:e.name})]},e.id)))})]}),(0,r.jsx)("button",{type:"submit",className:"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-blue-800",children:"Create School"})]})})]})})}),(0,r.jsx)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse dark:bg-gray-700",children:(0,r.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",onClick:n,children:"Cancel"})})]})]})})}function jF(){const[t,n]=(0,e.useState)([]),i=ie(),{showPopUp:s}=(0,PC.G)(),{showNotification:o}=a();(0,e.useEffect)((()=>{(async()=>{const e=Sv(rC,"schools"),t=(await Ab(e)).docs.map((e=>({id:e.id,...e.data()})));n(t)})()}),[]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:[(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),i("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"Schools"})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:"COURSETA Schools"})]}),(0,r.jsx)("div",{className:"flex items-center justify-between gap-6 sm:flex mt-8 mb-4",children:(0,r.jsx)("div",{className:"flex w-full items-center",children:(0,r.jsxs)("button",{type:"button",onClick:()=>{s((0,r.jsx)(RF,{onClose:()=>s(null)}))},className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800 mr-20",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"})}),"Add new School"]})})})]}),(0,r.jsx)("div",{className:"flex flex-col items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",children:(0,r.jsxs)("button",{type:"button",onClick:async()=>{const e=Sv(rC,"users"),t=await Ab(e),r={};t.forEach((e=>{const t=e.data();t.schoolID&&!r[t.schoolID]&&(r[t.schoolID]=[]),t.schoolID&&r[t.schoolID].push(e.id)}));for(const[n,s]of Object.entries(r)){const e=Cv(rC,"schools",n);await Eb(e,{attendees:s,numOfMembers:s.length})}const i=Sv(rC,"schools"),a=(await Ab(i)).docs.map((e=>({id:e.id,...e.data()})));n(a),o("succes","All schools and data are updated")},className:"flex items-center justify-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"})}),"Refresh School Data"]})})]}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map((e=>(0,r.jsxs)("div",{className:"p-5 space-y-4 bg-white border border-gray-200 rounded-lg shadow-md lg:p-8 dark:bg-gray-800 dark:border-gray-700",children:[(0,r.jsx)("h3",{className:"text-lg font-bold leading-tight text-gray-900 dark:text-white",children:e.name}),(0,r.jsxs)("p",{className:"text-base font-normal text-gray-500 dark:text-gray-400",children:["Members: ",e.numOfMembers]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 mt-1",children:(0,r.jsx)("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:"".concat(e.numOfMembers/e.capacity*100,"%")}})}),(0,r.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,r.jsxs)("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:[e.numOfMembers," of ",e.capacity," capacity"]}),(0,r.jsxs)("span",{className:"text-xs font-normal text-right text-gray-500 dark:text-gray-400",children:[e.availableScenarios.length," scenarios"]})]}),(0,r.jsxs)("button",{onClick:()=>i("/main/schoolDetails/".concat(e.id)),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:["See more",(0,r.jsx)("svg",{className:"w-3.5 h-3.5 ml-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m3 4L9 9"})})]})]},e.id)))})]})}function LF(t){let{onClose:n}=t;(0,e.useState)("");return(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-500 dark:bg-gray-700 opacity-75"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,r.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full dark:bg-gray-800",children:[(0,r.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 dark:bg-gray-800",children:(0,r.jsx)("div",{className:"sm:flex sm:items-start",children:(0,r.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:"Create New Scenario"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("form",{className:"space-y-6",children:(0,r.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-blue-800",children:"Generate Token"})})})]})})}),(0,r.jsx)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse dark:bg-gray-700",children:(0,r.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",onClick:n,children:"Cancel"})})]})]})})}function DF(){const[t,n]=(0,e.useState)([]),{showPopUp:i}=(0,PC.G)(),a=ie();(0,e.useEffect)((()=>{(async()=>{const e=Sv(rC,"tokens"),t=(await Ab(e)).docs.map((e=>({id:e.id,...e.data()})));n(t)})()}),[]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),a("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"Tokens"})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:"COURSETA Tokens"})]}),(0,r.jsx)("div",{className:"block items-center sm:flex mt-8 mb-4",children:(0,r.jsx)("div",{className:"flex w-full items-center",children:(0,r.jsxs)("button",{type:"button",onClick:()=>{i((0,r.jsx)(LF,{onClose:()=>i(null)}))},className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"})}),"Add new Token"]})})})]})}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map((e=>(0,r.jsx)("div",{className:"col-span-1 sm:col-span-1 md:col-span-1 xl:col-span-1 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow overflow-hidden",children:(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsx)("a",{children:(0,r.jsx)("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:e.token})}),(0,r.jsxs)("p",{className:"mb-3 font-normal text-gray-700 dark:text-gray-400",children:["Users: ",e.userCount]}),(0,r.jsxs)("button",{onClick:()=>{return t=e.id,void a("/main/tokendetails/".concat(t));var t},className:"inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:["See more",(0,r.jsx)("svg",{className:"rtl:rotate-180 w-3.5 h-3.5 ml-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})]})},e.id)))})]})}function OF(t){let{onClose:n}=t;const[i,s]=(0,e.useState)(""),{showNotification:o}=a(),{setScenarios:l,school:c,setSchool:d}=LC();return(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-500 dark:bg-gray-700 opacity-75"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,r.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full dark:bg-gray-800",children:[(0,r.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 dark:bg-gray-800",children:(0,r.jsx)("div",{className:"sm:flex sm:items-start",children:(0,r.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:"Create New Scenario"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t={name:i,chosenQuestionnaireId:"",creationDate:new Date,debriefing:[],prebriefing:"",debriefing_2:[],reflection:[]};const r=await mC(t,KS);t.id=r,l((e=>[...e,t])),await vC(c.id,QS,{availableScenarios:Fb(t.id)}),d((e=>({...e,availableScenarios:[...e.availableScenarios,t.id]}))),n()},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"scenarioName",className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Scenario Name"}),(0,r.jsx)("input",{type:"text",id:"scenarioName",value:i,onChange:e=>s(e.target.value),required:!0,className:"mt-1 px-3 py-2 bg-white border shadow-sm border-gray-300 placeholder-gray-400 focus:outline-none focus:border-blue-500 block w-full rounded-md sm:text-sm focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-300"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-blue-800",children:"Create Scenario"})]})})]})})}),(0,r.jsx)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse dark:bg-gray-700",children:(0,r.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",onClick:n,children:"Cancel"})})]})]})})}function zF(){const{scenarios:t}=LC(),{showPopUp:n}=(0,PC.G)(),i=ie();(0,e.useEffect)((()=>{console.log(t)}),[t]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),i("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"Scenarios"})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:"COURSETA Scenarios"})]}),(0,r.jsx)("div",{className:"block items-center sm:flex mt-8 mb-4",children:(0,r.jsx)("div",{className:"flex w-full items-center",children:(0,r.jsxs)("button",{type:"button",onClick:()=>{n((0,r.jsx)(OF,{onClose:()=>n(null)}))},className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"})}),"Add new Scenario"]})})})]})}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:null===t||void 0===t?void 0:t.map((e=>(0,r.jsx)("div",{className:"col-span-1 sm:col-span-1 md:col-span-1 xl:col-span-1 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow overflow-hidden",children:(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsx)("a",{href:"#",children:(0,r.jsx)("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:e.name})}),(0,r.jsxs)("p",{className:"mb-3 font-normal text-gray-700 dark:text-gray-400",children:["QuestionnaireId: ",e.chosenQuestionnaireId]}),(0,r.jsxs)("a",{onClick:()=>{return t=e.id,void i("/main/scenarioDetails/".concat(t));var t},className:"inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:["See more",(0,r.jsx)("svg",{class:"rtl:rotate-180 w-3.5 h-3.5 ml-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:(0,r.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})]})},e.id)))})]})}function GF(t){let{onClose:n}=t;const[i,s]=(0,e.useState)(""),{showNotification:o}=a(),[l,c]=(0,e.useState)("");(0,e.useEffect)((()=>{(async()=>{const e=Sv(rC,"questionaires"),t=await Ab(e);if(t.empty)c(1e3);else{const e=t.docs.map((e=>e.data().DocumentID)).filter((e=>!isNaN(e))).map(Number),n=e.length>0?Math.max(...e):0;c(n+1)}})()}),[]);return(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-500 dark:bg-gray-700 opacity-75"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,r.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full dark:bg-gray-800",children:[(0,r.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 dark:bg-gray-800",children:(0,r.jsx)("div",{className:"sm:flex sm:items-start",children:(0,r.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:"Create New Questionnaire"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=l.toString();try{await Pb(Cv(rC,"questionaires",t),{DocumentID:t,Title:i,creatingSchoolId:"112233",questions:[]}),o("success","Questionnaire created successfully!"),n()}catch(Zb){o("danger","Failed to create questionnaire."),console.error("Error writing document: ",Zb)}},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"questionnaireTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Questionnaire Title"}),(0,r.jsx)("input",{type:"text",id:"title",value:i,onChange:e=>s(e.target.value),required:!0,className:"mt-1 px-3 py-2 bg-white border shadow-sm border-gray-300 placeholder-gray-400 focus:outline-none focus:border-blue-500 block w-full rounded-md sm:text-sm focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-300"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-blue-800",children:"Create Questionnaire"})]})})]})})}),(0,r.jsx)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse dark:bg-gray-700",children:(0,r.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",onClick:n,children:"Cancel"})})]})]})})}function BF(){const[t,n]=(0,e.useState)([]),i=ie(),{showPopUp:a}=(0,PC.G)();(0,e.useEffect)((()=>{(async()=>{const e=Sv(rC,"questionaires"),t=(await Ab(e)).docs.map((e=>({id:e.id,...e.data()})));n(t)})()}),[]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),i("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"Questionaires"})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:"COURSETA Questionaires"})]}),(0,r.jsx)("div",{className:"block items-center sm:flex mt-8 mb-4",children:(0,r.jsx)("div",{className:"flex w-full items-center",children:(0,r.jsxs)("button",{type:"button",onClick:()=>{a((0,r.jsx)(GF,{onClose:()=>a(null)}))},className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-2 -ml-1",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"})}),"Add new Questionaire"]})})})]})}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map((e=>(0,r.jsx)("div",{className:"col-span-1 sm:col-span-1 md:col-span-1 xl:col-span-1 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow overflow-hidden",children:(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsx)("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:e.Title}),(0,r.jsxs)("p",{className:"mb-3 font-normal text-gray-700 dark:text-gray-400",children:["DocumentID: ",e.DocumentID]}),(0,r.jsx)("button",{onClick:()=>(e=>{i("/main/questionaires-creator/".concat(e))})(e.id),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"See more"})]})},e.id)))})]})}function UF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UF(Object(n),!0).forEach((function(t){YF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HF(e){return HF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HF(e)}function VF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||KF(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qF(e){return function(e){if(Array.isArray(e))return QF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||KF(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KF(e,t){if(e){if("string"===typeof e)return QF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QF(e,t):void 0}}function QF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var JF=function(){},$F={},ZF={},eR=null,tR={mark:JF,measure:JF};try{"undefined"!==typeof window&&($F=window),"undefined"!==typeof document&&(ZF=document),"undefined"!==typeof MutationObserver&&(eR=MutationObserver),"undefined"!==typeof performance&&(tR=performance)}catch(OG){}var nR,rR,iR,aR,sR,oR=($F.navigator||{}).userAgent,lR=void 0===oR?"":oR,cR=$F,dR=ZF,uR=eR,hR=tR,fR=(cR.document,!!dR.documentElement&&!!dR.head&&"function"===typeof dR.addEventListener&&"function"===typeof dR.createElement),pR=~lR.indexOf("MSIE")||~lR.indexOf("Trident/"),gR="___FONT_AWESOME___",mR=16,vR="fa",bR="svg-inline--fa",yR="data-fa-i2svg",xR="data-fa-pseudo-element",wR="data-fa-pseudo-element-pending",kR="data-prefix",_R="data-icon",SR="fontawesome-i2svg",CR="async",AR=["HTML","HEAD","STYLE","SCRIPT"],PR=function(){try{return!0}catch(OG){return!1}}(),ER="classic",TR="sharp",NR=[ER,TR];function IR(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[ER]}})}var MR=IR((YF(nR={},ER,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),YF(nR,TR,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),nR)),FR=IR((YF(rR={},ER,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),YF(rR,TR,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),rR)),RR=IR((YF(iR={},ER,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),YF(iR,TR,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),iR)),jR=IR((YF(aR={},ER,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),YF(aR,TR,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),aR)),LR=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,DR="fa-layers-text",OR=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,zR=IR((YF(sR={},ER,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),YF(sR,TR,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),sR)),GR=[1,2,3,4,5,6,7,8,9,10],BR=GR.concat([11,12,13,14,15,16,17,18,19,20]),UR=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],WR={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},HR=new Set;Object.keys(FR[ER]).map(HR.add.bind(HR)),Object.keys(FR[TR]).map(HR.add.bind(HR));var VR=[].concat(NR,qF(HR),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",WR.GROUP,WR.SWAP_OPACITY,WR.PRIMARY,WR.SECONDARY]).concat(GR.map((function(e){return"".concat(e,"x")}))).concat(BR.map((function(e){return"w-".concat(e)}))),YR=cR.FontAwesomeConfig||{};if(dR&&"function"===typeof dR.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=XF(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=dR.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(YR[r]=i)}))}var XR={styleDefault:"solid",familyDefault:"classic",cssPrefix:vR,replacementClass:bR,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};YR.familyPrefix&&(YR.cssPrefix=YR.familyPrefix);var qR=WF(WF({},XR),YR);qR.autoReplaceSvg||(qR.observeMutations=!1);var KR={};Object.keys(XR).forEach((function(e){Object.defineProperty(KR,e,{enumerable:!0,set:function(t){qR[e]=t,QR.forEach((function(e){return e(KR)}))},get:function(){return qR[e]}})})),Object.defineProperty(KR,"familyPrefix",{enumerable:!0,set:function(e){qR.cssPrefix=e,QR.forEach((function(e){return e(KR)}))},get:function(){return qR.cssPrefix}}),cR.FontAwesomeConfig=KR;var QR=[];var JR=mR,$R={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var ZR="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ej(){for(var e=12,t="";e-- >0;)t+=ZR[62*Math.random()|0];return t}function tj(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function nj(e){return e.classList?tj(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function rj(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ij(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function aj(e){return e.size!==$R.size||e.x!==$R.x||e.y!==$R.y||e.rotate!==$R.rotate||e.flipX||e.flipY}var sj=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function oj(){var e=vR,t=bR,n=KR.cssPrefix,r=KR.replacementClass,i=sj;if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(o,".".concat(r))}return i}var lj=!1;function cj(){KR.autoAddCss&&!lj&&(!function(e){if(e&&fR){var t=dR.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=dR.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],s=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=a)}dR.head.insertBefore(t,r)}}(oj()),lj=!0)}var dj={mixout:function(){return{dom:{css:oj,insertCss:cj}}},hooks:function(){return{beforeDOMElementCreation:function(){cj()},beforeI2svg:function(){cj()}}}},uj=cR||{};uj[gR]||(uj[gR]={}),uj[gR].styles||(uj[gR].styles={}),uj[gR].hooks||(uj[gR].hooks={}),uj[gR].shims||(uj[gR].shims=[]);var hj=uj[gR],fj=[],pj=!1;function gj(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?rj(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(rj(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(gj).join(""),"</").concat(t,">")}function mj(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}fR&&((pj=(dR.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(dR.readyState))||dR.addEventListener("DOMContentLoaded",(function e(){dR.removeEventListener("DOMContentLoaded",e),pj=1,fj.map((function(e){return e()}))})));var vj=function(e,t,n,r){var i,a,s,o=Object.keys(e),l=o.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,s=e[o[0]]):(i=0,s=n);i<l;i++)s=c(s,e[a=o[i]],a,e);return s};function bj(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function yj(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function xj(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=yj(t);"function"!==typeof hj.hooks.addPack||r?hj.styles[e]=WF(WF({},hj.styles[e]||{}),i):hj.hooks.addPack(e,yj(t)),"fas"===e&&xj("fa",t)}var wj,kj,_j,Sj=hj.styles,Cj=hj.shims,Aj=(YF(wj={},ER,Object.values(RR[ER])),YF(wj,TR,Object.values(RR[TR])),wj),Pj=null,Ej={},Tj={},Nj={},Ij={},Mj={},Fj=(YF(kj={},ER,Object.keys(MR[ER])),YF(kj,TR,Object.keys(MR[TR])),kj);function Rj(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~VR.indexOf(n))?null:a}var jj=function(){var e=function(e){return vj(Sj,(function(t,n,r){return t[r]=vj(n,e,{}),t}),{})};Ej=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),Tj=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),Mj=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Sj||KR.autoFetchSvg,n=vj(Cj,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Nj=n.names,Ij=n.unicodes,Pj=Bj(KR.styleDefault,{family:KR.familyDefault})};function Lj(e,t){return(Ej[e]||{})[t]}function Dj(e,t){return(Mj[e]||{})[t]}function Oj(e){return Nj[e]||{prefix:null,iconName:null}}function zj(){return Pj}!function(e){QR.push(e)}((function(e){Pj=Bj(e.styleDefault,{family:KR.familyDefault})})),jj();var Gj=function(){return{prefix:null,iconName:null,rest:[]}};function Bj(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?ER:t,r=MR[n][e],i=FR[n][e]||FR[n][r],a=e in hj.styles?e:null;return i||a||null}var Uj=(YF(_j={},ER,Object.keys(RR[ER])),YF(_j,TR,Object.keys(RR[TR])),_j);function Wj(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(YF(t={},ER,"".concat(KR.cssPrefix,"-").concat(ER)),YF(t,TR,"".concat(KR.cssPrefix,"-").concat(TR)),t),a=null,s=ER;(e.includes(i[ER])||e.some((function(e){return Uj[ER].includes(e)})))&&(s=ER),(e.includes(i[TR])||e.some((function(e){return Uj[TR].includes(e)})))&&(s=TR);var o=e.reduce((function(e,t){var n=Rj(KR.cssPrefix,t);if(Sj[t]?(t=Aj[s].includes(t)?jR[s][t]:t,a=t,e.prefix=t):Fj[s].indexOf(t)>-1?(a=t,e.prefix=Bj(t,{family:s})):n?e.iconName=n:t!==KR.replacementClass&&t!==i[ER]&&t!==i[TR]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var o="fa"===a?Oj(e.iconName):{},l=Dj(e.prefix,e.iconName);o.prefix&&(a=null),e.iconName=o.iconName||l||e.iconName,e.prefix=o.prefix||e.prefix,"far"!==e.prefix||Sj.far||!Sj.fas||KR.autoFetchSvg||(e.prefix="fas")}return e}),Gj());return(e.includes("fa-brands")||e.includes("fab"))&&(o.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(o.prefix="fad"),o.prefix||s!==TR||!Sj.fass&&!KR.autoFetchSvg||(o.prefix="fass",o.iconName=Dj(o.prefix,o.iconName)||o.iconName),"fa"!==o.prefix&&"fa"!==a||(o.prefix=zj()||"fas"),o}var Hj=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=WF(WF({},e.definitions[t]||{}),i[t]),xj(t,i[t]);var n=RR[ER][t];n&&xj(n,i[t]),jj()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,s=r.icon,o=s[2];e[i]||(e[i]={}),o.length>0&&o.forEach((function(t){"string"===typeof t&&(e[i][t]=s)})),e[i][a]=s})),e}}],n&&VF(t.prototype,n),r&&VF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Vj=[],Yj={},Xj={},qj=Object.keys(Xj);function Kj(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Yj[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function Qj(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Yj[e]||[]).forEach((function(e){e.apply(null,n)}))}function Jj(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Xj[e]?Xj[e].apply(null,t):void 0}function $j(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||zj();if(t)return t=Dj(n,t)||t,mj(Zj.definitions,n,t)||mj(hj.styles,n,t)}var Zj=new Hj,eL={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fR?(Qj("beforeI2svg",e),Jj("pseudoElements2svg",e),Jj("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===KR.autoReplaceSvg&&(KR.autoReplaceSvg=!0),KR.observeMutations=!0,e=function(){rL({autoReplaceSvgRoot:n}),Qj("watch",t)},fR&&(pj?setTimeout(e,0):fj.push(e))}},tL={icon:function(e){if(null===e)return null;if("object"===HF(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Dj(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Bj(e[0]);return{prefix:n,iconName:Dj(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(KR.cssPrefix,"-"))>-1||e.match(LR))){var r=Wj(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||zj(),iconName:Dj(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=zj();return{prefix:i,iconName:Dj(i,e)||e}}}},nL={noAuto:function(){KR.autoReplaceSvg=!1,KR.observeMutations=!1,Qj("noAuto")},config:KR,dom:eL,parse:tL,library:Zj,findIconDefinition:$j,toHtml:gj},rL=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?dR:e;(Object.keys(hj.styles).length>0||KR.autoFetchSvg)&&fR&&KR.autoReplaceSvg&&nL.dom.i2svg({node:t})};function iL(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return gj(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(fR){var t=dR.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function aL(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,s=e.transform,o=e.symbol,l=e.title,c=e.maskId,d=e.titleId,u=e.extra,h=e.watchable,f=void 0!==h&&h,p=r.found?r:n,g=p.width,m=p.height,v="fak"===i,b=[KR.replacementClass,a?"".concat(KR.cssPrefix,"-").concat(a):""].filter((function(e){return-1===u.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(u.classes).join(" "),y={children:[],attributes:WF(WF({},u.attributes),{},{"data-prefix":i,"data-icon":a,class:b,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},x=v&&!~u.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};f&&(y.attributes[yR]=""),l&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(d||ej())},children:[l]}),delete y.attributes.title);var w=WF(WF({},y),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:s,symbol:o,styles:WF(WF({},x),u.styles)}),k=r.found&&n.found?Jj("generateAbstractMask",w)||{children:[],attributes:{}}:Jj("generateAbstractIcon",w)||{children:[],attributes:{}},_=k.children,S=k.attributes;return w.children=_,w.attributes=S,o?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,s=!0===a?"".concat(t,"-").concat(KR.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:WF(WF({},i),{},{id:s}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,s=e.transform;if(aj(s)&&n.found&&!r.found){var o={x:n.width/n.height/2,y:.5};i.style=ij(WF(WF({},a),{},{"transform-origin":"".concat(o.x+s.x/16,"em ").concat(o.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function sL(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,s=e.extra,o=e.watchable,l=void 0!==o&&o,c=WF(WF(WF({},s.attributes),a?{title:a}:{}),{},{class:s.classes.join(" ")});l&&(c[yR]="");var d=WF({},s.styles);aj(i)&&(d.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?mR:n,i=e.height,a=void 0===i?mR:i,s=e.startCentered,o=void 0!==s&&s,l="";return l+=o&&pR?"translate(".concat(t.x/JR-r/2,"em, ").concat(t.y/JR-a/2,"em) "):o?"translate(calc(-50% + ".concat(t.x/JR,"em), calc(-50% + ").concat(t.y/JR,"em)) "):"translate(".concat(t.x/JR,"em, ").concat(t.y/JR,"em) "),l+="scale(".concat(t.size/JR*(t.flipX?-1:1),", ").concat(t.size/JR*(t.flipY?-1:1),") "),l+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);var u=ij(d);u.length>0&&(c.style=u);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}var oL=hj.styles;function lL(e){var t=e[0],n=e[1],r=XF(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(KR.cssPrefix,"-").concat(WR.GROUP)},children:[{tag:"path",attributes:{class:"".concat(KR.cssPrefix,"-").concat(WR.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(KR.cssPrefix,"-").concat(WR.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var cL={found:!1,width:512,height:512};function dL(e,t){var n=t;return"fa"===t&&null!==KR.styleDefault&&(t=zj()),new Promise((function(r,i){Jj("missingIconAbstract");if("fa"===n){var a=Oj(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&oL[t]&&oL[t][e])return r(lL(oL[t][e]));!function(e,t){PR||KR.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(WF(WF({},cL),{},{icon:KR.showMissingIcons&&e&&Jj("missingIconAbstract")||{}}))}))}var uL=function(){},hL=KR.measurePerformance&&hR&&hR.mark&&hR.measure?hR:{mark:uL,measure:uL},fL='FA "6.5.1"',pL=function(e){hL.mark("".concat(fL," ").concat(e," ends")),hL.measure("".concat(fL," ").concat(e),"".concat(fL," ").concat(e," begins"),"".concat(fL," ").concat(e," ends"))},gL={begin:function(e){return hL.mark("".concat(fL," ").concat(e," begins")),function(){return pL(e)}},end:pL},mL=function(){};function vL(e){return"string"===typeof(e.getAttribute?e.getAttribute(yR):null)}function bL(e){return dR.createElementNS("http://www.w3.org/2000/svg",e)}function yL(e){return dR.createElement(e)}function xL(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?bL:yL:t;if("string"===typeof e)return dR.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(xL(e,{ceFn:n}))})),r}var wL={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(xL(e),t)})),null===t.getAttribute(yR)&&KR.keepOriginalSource){var n=dR.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~nj(t).indexOf(KR.replacementClass))return wL.replace(e);var r=new RegExp("".concat(KR.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===KR.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return gj(e)})).join("\n");t.setAttribute(yR,""),t.innerHTML=a}};function kL(e){e()}function _L(e,t){var n="function"===typeof t?t:mL;if(0===e.length)n();else{var r=kL;KR.mutateApproach===CR&&(r=cR.requestAnimationFrame||kL),r((function(){var t=!0===KR.autoReplaceSvg?wL.replace:wL[KR.autoReplaceSvg]||wL.replace,r=gL.begin("mutate");e.map(t),r(),n()}))}}var SL=!1;function CL(){SL=!0}function AL(){SL=!1}var PL=null;function EL(e){if(uR&&KR.observeMutations){var t=e.treeCallback,n=void 0===t?mL:t,r=e.nodeCallback,i=void 0===r?mL:r,a=e.pseudoElementsCallback,s=void 0===a?mL:a,o=e.observeMutationsRoot,l=void 0===o?dR:o;PL=new uR((function(e){if(!SL){var t=zj();tj(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!vL(e.addedNodes[0])&&(KR.searchPseudoElements&&s(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&KR.searchPseudoElements&&s(e.target.parentNode),"attributes"===e.type&&vL(e.target)&&~UR.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(kR):null,n=e.getAttribute?e.getAttribute(_R):null;return t&&n}(e.target)){var r=Wj(nj(e.target)),a=r.prefix,o=r.iconName;e.target.setAttribute(kR,a||t),o&&e.target.setAttribute(_R,o)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(KR.replacementClass)&&i(e.target);var l}))}})),fR&&PL.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function TL(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Wj(nj(e));return i.prefix||(i.prefix=zj()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(Tj[e]||{})[t]}(i.prefix,e.innerText)||Lj(i.prefix,bj(e.innerText))),!i.iconName&&KR.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function NL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=TL(e),r=n.iconName,i=n.prefix,a=n.rest,s=function(e){var t=tj(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return KR.autoA11y&&(n?t["aria-labelledby"]="".concat(KR.replacementClass,"-title-").concat(r||ej()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),o=Kj("parseNodeAttributes",{},e),l=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return WF({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:$R,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:l,attributes:s}},o)}var IL=hj.styles;function ML(e){var t="nest"===KR.autoReplaceSvg?NL(e,{styleParser:!1}):NL(e);return~t.extra.classes.indexOf(DR)?Jj("generateLayersText",e,t):Jj("generateSvgReplacementMutation",e,t)}var FL=new Set;function RL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!fR)return Promise.resolve();var n=dR.documentElement.classList,r=function(e){return n.add("".concat(SR,"-").concat(e))},i=function(e){return n.remove("".concat(SR,"-").concat(e))},a=KR.autoFetchSvg?FL:NR.map((function(e){return"fa-".concat(e)})).concat(Object.keys(IL));a.includes("fa")||a.push("fa");var s=[".".concat(DR,":not([").concat(yR,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(yR,"])")}))).join(", ");if(0===s.length)return Promise.resolve();var o=[];try{o=tj(e.querySelectorAll(s))}catch(OG){}if(!(o.length>0))return Promise.resolve();r("pending"),i("complete");var l=gL.begin("onTree"),c=o.reduce((function(e,t){try{var n=ML(t);n&&e.push(n)}catch(OG){PR||"MissingIcon"===OG.name&&console.error(OG)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){_L(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((function(e){l(),n(e)}))}))}function jL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ML(e).then((function(e){e&&_L([e],t)}))}NR.map((function(e){FL.add("fa-".concat(e))})),Object.keys(MR[ER]).map(FL.add.bind(FL)),Object.keys(MR[TR]).map(FL.add.bind(FL)),FL=qF(FL);var LL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?$R:n,i=t.symbol,a=void 0!==i&&i,s=t.mask,o=void 0===s?null:s,l=t.maskId,c=void 0===l?null:l,d=t.title,u=void 0===d?null:d,h=t.titleId,f=void 0===h?null:h,p=t.classes,g=void 0===p?[]:p,m=t.attributes,v=void 0===m?{}:m,b=t.styles,y=void 0===b?{}:b;if(e){var x=e.prefix,w=e.iconName,k=e.icon;return iL(WF({type:"icon"},e),(function(){return Qj("beforeDOMElementCreation",{iconDefinition:e,params:t}),KR.autoA11y&&(u?v["aria-labelledby"]="".concat(KR.replacementClass,"-title-").concat(f||ej()):(v["aria-hidden"]="true",v.focusable="false")),aL({icons:{main:lL(k),mask:o?lL(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:x,iconName:w,transform:WF(WF({},$R),r),symbol:a,title:u,maskId:c,titleId:f,extra:{attributes:v,styles:y,classes:g}})}))}},DL={mixout:function(){return{icon:(e=LL,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:$j(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:$j(i||{})),e(r,WF(WF({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=RL,e.nodeCallback=jL,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?dR:t,r=e.callback;return RL(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,s=t.transform,o=t.symbol,l=t.mask,c=t.maskId,d=t.extra;return new Promise((function(t,u){Promise.all([dL(n,a),l.iconName?dL(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var u=XF(l,2),h=u[0],f=u[1];t([e,aL({icons:{main:h,mask:f},prefix:a,iconName:n,transform:s,symbol:o,maskId:c,title:r,titleId:i,extra:d,watchable:!0})])})).catch(u)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,s=ij(e.styles);return s.length>0&&(r.style=s),aj(a)&&(t=Jj("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},OL={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return iL({type:"layer"},(function(){Qj("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(KR.cssPrefix,"-layers")].concat(qF(r)).join(" ")},children:n}]}))}}}},zL={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,s=t.attributes,o=void 0===s?{}:s,l=t.styles,c=void 0===l?{}:l;return iL({type:"counter",content:e},(function(){return Qj("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=WF(WF(WF({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=ij(r.styles);a.length>0&&(i.style=a);var s=[];return s.push({tag:"span",attributes:i,children:[t]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}({content:e.toString(),title:r,extra:{attributes:o,styles:c,classes:["".concat(KR.cssPrefix,"-layers-counter")].concat(qF(a))}})}))}}}},GL={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?$R:n,i=t.title,a=void 0===i?null:i,s=t.classes,o=void 0===s?[]:s,l=t.attributes,c=void 0===l?{}:l,d=t.styles,u=void 0===d?{}:d;return iL({type:"text",content:e},(function(){return Qj("beforeDOMElementCreation",{content:e,params:t}),sL({content:e,transform:WF(WF({},$R),r),title:a,extra:{attributes:c,styles:u,classes:["".concat(KR.cssPrefix,"-layers-text")].concat(qF(o))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,s=null;if(pR){var o=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();a=l.width/o,s=l.height/o}return KR.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,sL({content:e.innerHTML,width:a,height:s,transform:r,title:n,extra:i,watchable:!0})])}}},BL=new RegExp('"',"ug"),UL=[1105920,1112319];function WL(e,t){var n="".concat(wR).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=tj(e.children).filter((function(e){return e.getAttribute(xR)===t}))[0],s=cR.getComputedStyle(e,t),o=s.getPropertyValue("font-family").match(OR),l=s.getPropertyValue("font-weight"),c=s.getPropertyValue("content");if(a&&!o)return e.removeChild(a),r();if(o&&"none"!==c&&""!==c){var d=s.getPropertyValue("content"),u=~["Sharp"].indexOf(o[2])?TR:ER,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(o[2])?FR[u][o[2].toLowerCase()]:zR[u][l],f=function(e){var t=e.replace(BL,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=UL[0]&&n<=UL[1],i=2===t.length&&t[0]===t[1];return{value:bj(i?t[0]:t),isSecondary:r||i}}(d),p=f.value,g=f.isSecondary,m=o[0].startsWith("FontAwesome"),v=Lj(h,p),b=v;if(m){var y=function(e){var t=Ij[e],n=Lj("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);y.iconName&&y.prefix&&(v=y.iconName,h=y.prefix)}if(!v||g||a&&a.getAttribute(kR)===h&&a.getAttribute(_R)===b)r();else{e.setAttribute(n,b),a&&e.removeChild(a);var x={iconName:null,title:null,titleId:null,prefix:null,transform:$R,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},w=x.extra;w.attributes[xR]=t,dL(v,h).then((function(i){var a=aL(WF(WF({},x),{},{icons:{main:i,mask:Gj()},prefix:h,iconName:b,extra:w,watchable:!0})),s=dR.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(s,e.firstChild):e.appendChild(s),s.outerHTML=a.map((function(e){return gj(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function HL(e){return Promise.all([WL(e,"::before"),WL(e,"::after")])}function VL(e){return e.parentNode!==document.head&&!~AR.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(xR)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function YL(e){if(fR)return new Promise((function(t,n){var r=tj(e.querySelectorAll("*")).filter(VL).map(HL),i=gL.begin("searchPseudoElements");CL(),Promise.all(r).then((function(){i(),AL(),t()})).catch((function(){i(),AL(),n()}))}))}var XL=!1,qL=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},KL={mixout:function(){return{parse:{transform:function(e){return qL(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=qL(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(32*n.x,", ").concat(32*n.y,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(s," ").concat(o," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:WF({},c.outer),children:[{tag:"g",attributes:WF({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:WF(WF({},t.icon.attributes),c.path)}]}]}}}},QL={x:0,y:0,width:"100%",height:"100%"};function JL(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var $L={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Wj(n.split(" ").map((function(e){return e.trim()}))):Gj();return r.prefix||(r.prefix=zj()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,s=e.maskId,o=e.transform,l=i.width,c=i.icon,d=a.width,u=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(s," ").concat(o)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:o,containerWidth:d,iconWidth:l}),f={tag:"rect",attributes:WF(WF({},QL),{},{fill:"white"})},p=c.children?{children:c.children.map(JL)}:{},g={tag:"g",attributes:WF({},h.inner),children:[JL(WF({tag:c.tag,attributes:WF(WF({},c.attributes),h.path)},p))]},m={tag:"g",attributes:WF({},h.outer),children:[g]},v="mask-".concat(s||ej()),b="clip-".concat(s||ej()),y={tag:"mask",attributes:WF(WF({},QL),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,m]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(t=u,"g"===t.tag?t.children:[t])},y]};return n.push(x,{tag:"rect",attributes:WF({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(v,")")},QL)}),{children:n,attributes:r}}}},ZL={provides:function(e){var t=!1;cR.matchMedia&&(t=cR.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:WF(WF({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=WF(WF({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:WF(WF({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:WF(WF({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:WF(WF({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:WF(WF({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:WF(WF({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:WF(WF({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:WF(WF({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;Vj=e,Yj={},Object.keys(Xj).forEach((function(e){-1===qj.indexOf(e)&&delete Xj[e]})),Vj.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===HF(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){Yj[e]||(Yj[e]=[]),Yj[e].push(r[e])}))}e.provides&&e.provides(Xj)}))}([dj,DL,OL,zL,GL,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=YL,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?dR:t;KR.searchPseudoElements&&YL(n)}}},{mixout:function(){return{dom:{unwatch:function(){CL(),XL=!0}}}},hooks:function(){return{bootstrap:function(){EL(Kj("mutationObserverCallbacks",{}))},noAuto:function(){PL&&PL.disconnect()},watch:function(e){var t=e.observeMutationsRoot;XL?AL():EL(Kj("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},KL,$L,ZL,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:nL});var eD=nL.parse,tD=nL.icon,nD=__webpack_require__(5173),rD=__webpack_require__.n(nD);function iD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iD(Object(n),!0).forEach((function(t){oD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sD(e){return sD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sD(e)}function oD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cD(e){return function(e){if(Array.isArray(e))return dD(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return dD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uD(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var hD=["style"];var fD=!1;try{fD=!0}catch(OG){}function pD(e){return e&&"object"===sD(e)&&e.prefix&&e.iconName&&e.icon?e:eD.icon?eD.icon(e):null===e?null:e&&"object"===sD(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function gD(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?oD({},e,t):{}}var mD=e.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,s=e.title,o=e.titleId,l=e.maskId,c=pD(n),d=gD("classes",[].concat(cD(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,s=e.shake,o=e.flash,l=e.spin,c=e.spinPulse,d=e.spinReverse,u=e.pulse,h=e.fixedWidth,f=e.inverse,p=e.border,g=e.listItem,m=e.flip,v=e.size,b=e.rotation,y=e.pull,x=(oD(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":s,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":d,"fa-spin-pulse":c,"fa-pulse":u,"fa-fw":h,"fa-inverse":f,"fa-border":p,"fa-li":g,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(v),"undefined"!==typeof v&&null!==v),oD(t,"fa-rotate-".concat(b),"undefined"!==typeof b&&null!==b&&0!==b),oD(t,"fa-pull-".concat(y),"undefined"!==typeof y&&null!==y),oD(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(x).map((function(e){return x[e]?e:null})).filter((function(e){return e}))}(e)),cD(a.split(" ")))),u=gD("transform","string"===typeof e.transform?eD.transform(e.transform):e.transform),h=gD("mask",pD(r)),f=tD(c,aD(aD(aD(aD({},d),u),h),{},{symbol:i,title:s,titleId:o,maskId:l}));if(!f)return function(){var e;!fD&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=f.abstract,g={ref:t};return Object.keys(e).forEach((function(t){mD.defaultProps.hasOwnProperty(t)||(g[t]=e[t])})),vD(p[0],g)}));mD.displayName="FontAwesomeIcon",mD.propTypes={beat:rD().bool,border:rD().bool,beatFade:rD().bool,bounce:rD().bool,className:rD().string,fade:rD().bool,flash:rD().bool,mask:rD().oneOfType([rD().object,rD().array,rD().string]),maskId:rD().string,fixedWidth:rD().bool,inverse:rD().bool,flip:rD().oneOf([!0,!1,"horizontal","vertical","both"]),icon:rD().oneOfType([rD().object,rD().array,rD().string]),listItem:rD().bool,pull:rD().oneOf(["right","left"]),pulse:rD().bool,rotation:rD().oneOf([0,90,180,270]),shake:rD().bool,size:rD().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:rD().bool,spinPulse:rD().bool,spinReverse:rD().bool,symbol:rD().oneOfType([rD().bool,rD().string]),title:rD().string,titleId:rD().string,transform:rD().oneOfType([rD().string,rD().object]),swapOpacity:rD().bool},mD.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var vD=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n=t.indexOf(":"),r=uD(t.slice(0,n)),i=t.slice(n+1).trim();return r.startsWith("webkit")?e[function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(r)]=i:e[r]=i,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[uD(t)]=r}return e}),{attrs:{}}),s=r.style,o=void 0===s?{}:s,l=lD(r,hD);return a.attrs.style=aD(aD({},a.attrs.style),o),t.apply(void 0,[n.tag,aD(aD({},a.attrs),l)].concat(cD(i)))}.bind(null,e.createElement),bD={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},yD=bD,xD={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},wD={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]};function kD(e){let{onClose:t,navigate:n,assessment:i}=e;const a=xC();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{id:"deleteAlertModal",tabindex:"-1","aria-hidden":"true",class:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center items-center w-full md:inset-0 h-modal md:h-full",children:(0,r.jsx)("div",{class:"relative p-4 w-full max-w-md h-full md:h-auto",children:(0,r.jsxs)("div",{class:"relative p-4 text-center bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5",children:[(0,r.jsxs)("button",{type:"button",class:"text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"deleteAlertModal",children:[(0,r.jsx)("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})}),(0,r.jsx)("span",{class:"sr-only",children:"Close modal"})]}),(0,r.jsx)("h3",{class:"mb-2 text-lg font-semibold text-gray-900 dark:text-white",children:"You are about to start an assessment"}),(0,r.jsx)("p",{class:"mb-4 font-light text-gray-500 dark:text-gray-400",children:"Are you sure you want to start? Your grade will be registered once you continue"}),(0,r.jsxs)("div",{class:"p-4 mb-4 text-sm text-left text-orange-700 bg-orange-100 rounded-lg sm:mb-5 dark:bg-gray-700 dark:text-orange-300",role:"alert",children:[(0,r.jsxs)("div",{class:"items-center mb-1",children:[(0,r.jsx)("svg",{class:"inline flex-shrink-0 mr-1 w-4 h-4","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})}),(0,r.jsx)("span",{class:"sr-only",children:"Danger"}),(0,r.jsx)("span",{class:"font-semibold leading-none",children:"Warning"})]}),(0,r.jsx)("p",{children:"By continuing you accept that your grade will be registered and that you cant try again"})]}),(0,r.jsxs)("div",{class:"flex justify-center items-center space-x-4",children:[(0,r.jsx)("button",{onClick:()=>{t()},"data-modal-toggle":"deleteAlertModal",type:"button",class:"py-2 px-3 text-sm font-medium text-gray-500 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",children:"No, cancel"}),(0,r.jsxs)("button",{onClick:()=>{n("/main/simulationDetails/".concat(i.id)),(async(e,t)=>{const n=Cv(rC,VS,e);await Eb(n,{startedAssignment:t})})(a.id,i.id),t()},type:"submit",class:"inline-flex items-center py-2 px-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:["Yes, continue",(0,r.jsx)("svg",{class:"rtl:rotate-180 w-3.5 h-3.5 ml-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:(0,r.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})]})]})})})})}const _D=e=>{var t;let{assessment:n,canManage:i,onDelete:a}=e;const s=ie(),{showPopUp:o}=(0,PC.G)(),l=()=>o(null),c=null===(t=n.dueDate)||void 0===t?void 0:t.toDate(),d=(null===c||void 0===c?void 0:c.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))+" "+(null===c||void 0===c?void 0:c.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}));return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 border border-gray-200 hover:shadow-xl transition-shadow duration-300 text-sm md:text-base",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h4",{className:"text-xl md:text-2xl font-semibold text-gray-800 dark:text-white",children:n.assignmentName}),i&&(0,r.jsx)(mD,{icon:yD,className:"text-red-500 cursor-pointer hover:text-red-600 text-lg md:text-xl",title:"Delete Assessment",onClick:()=>{window.confirm('Are you sure you want to delete "'.concat(n.assignmentName,'" ?'))&&a(n.id)}})]}),(0,r.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Due: ",d]}),(0,r.jsxs)("button",{onClick:()=>{o((0,r.jsx)(kD,{onClose:l,navigate:s,assessment:n}))},className:"text-blue-500 hover:text-blue-600 transition-colors duration-300 flex items-center font-medium",children:[(0,r.jsx)("span",{children:"Start Simulation"}),(0,r.jsx)(mD,{icon:xD,className:"ml-2 text-lg md:text-xl"})]})]})};function SD(){const{assignments:t,grades:n}=LC(),i=xC(),a=ie(),[s,o]=(0,e.useState)([]);return(0,e.useEffect)((()=>{if(n){const e=n[i.id];if(e&&e.length>0){const n=t.filter((t=>(console.log(t.assignmentName),!e.find((e=>e.assessmentID==t.id)))));o(n)}else o(t)}else o(t)}),[t,n]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),a("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"Assignments"})]}),(0,r.jsx)("header",{className:"text-start mb-12",children:(0,r.jsx)("h2",{className:"text-4xl font-extrabold text-gray-800 dark:text-white",children:"Upcoming Assignments"})})]}),(0,r.jsx)("div",{className:"block items-center sm:flex mt-8 mb-4",children:(0,r.jsx)("div",{className:"flex w-full items-center"})})]})}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"container mx-auto py-10",children:s.length>0?(0,r.jsx)("div",{className:"px-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map((e=>(0,r.jsx)(_D,{assessment:e},e.id)))}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center pt-20",children:[(0,r.jsx)("img",{className:"w-64 h-64 mb-8",src:"https://res.cloudinary.com/daqsjyrgg/image/upload/v1690257804/jjqw2hfv0t6karxdeq1s.svg",alt:"No assignments"}),(0,r.jsx)("h1",{className:"text-2xl text-gray-700 dark:text-white font-semibold mb-4",children:"You currently have no assignments!"}),(0,r.jsx)("p",{className:"text-md text-gray-500 dark:text-gray-300",children:"When assignments are created by your teachers, you will be able to find them here."})]})})]})}function CD(){const{register:t}=sC(),n=(0,e.useRef)(),i=(0,e.useRef)(),[s,o]=(0,e.useState)(""),[l,c]=(0,e.useState)(!1),{showNotification:d}=a(),u=ie(),h=ne(),[f,p]=(0,e.useState)({token:null});(0,e.useEffect)((()=>{const e=new URLSearchParams(h.search).get("token");e&&(p({...f,token:e}),g(e))}),[h.search]);const g=async e=>{try{const t=Cv(rC,"pendingRegistrations",e),r=await Sb(t);r.exists()?(p({...r.data(),token:e}),n.current.value=r.data().email):o("Invalid or expired invitation link.")}catch(s){console.error("Error fetching user data:",s),o("An error occurred while fetching user data.")}};return(0,r.jsx)("section",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen flex flex-col items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:[(0,r.jsx)("img",{className:"w-60 h-70 mb-8",src:Te,alt:"Courseta Logo"}),(0,r.jsx)("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[(0,r.jsx)("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Finish Registration"}),s&&(0,r.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,r.jsx)("strong",{className:"font-bold",children:"Error! "}),(0,r.jsx)("span",{className:"block sm:inline",children:s})]}),(0,r.jsxs)("form",{className:"space-y-4 md:space-y-6",onSubmit:async e=>{var r,a;e.preventDefault(),c(!0);const l=null===(r=n.current)||void 0===r?void 0:r.value,h=null===(a=i.current)||void 0===a?void 0:a.value;if(!l||!h)return o("Email or password is missing."),void c(!1);const{token:p}=f;if(!p)return o("No registration token provided."),void c(!1);try{const e=Cv(rC,"pendingRegistrations",p),n=await Sb(e);if(!n.exists())throw new Error("No pending registration found for this token.");const r=n.data(),i=await t(l,h);await Pb(Cv(rC,"users",i.user.uid),{...r,id:i.user.uid}),await Eb(Cv(rC,"schools",r.schoolID),{attendees:Fb(i.user.uid)}),await Tb(e),window.localStorage.removeItem("emailForSignIn"),d("success","Registration completed successfully!"),u("/#/dashboard")}catch(s){console.error("Error during registration:",s),o("Registration failed. Please try again."),d("danger","Error during registration.")}finally{c(!1)}},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Email"}),(0,r.jsx)("input",{ref:n,type:"email",id:"email",autoComplete:"current-email",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),(0,r.jsx)("input",{ref:i,type:"password",id:"password",autoComplete:"current-password",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,r.jsx)("button",{type:"submit",disabled:l,className:"w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center disabled:bg-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:l?"Processing...":"Finish Registration"})]})]})})]})})}const AD=__webpack_require__.p+"static/media/2.607c102fb0329b68bf47.png";function PD(){var t,n;const[i,s]=(0,e.useState)(null),[o,l]=(0,e.useState)([]),{schoolId:c}=se(),{showNotification:d}=a(),u=xC(),[h,f]=(0,e.useState)([]),p=ie();(0,e.useEffect)((()=>{(async()=>{const e=Cv(rC,"schools",c),t=await Sb(e);if(t.exists()){const e=t.data();if(s({...e,id:t.id}),e.attendees&&e.attendees.length>0){const t=ub(Sv(rC,"users"),function(e,t,n){const r=t,i=ob("where",e);return hb._create(i,r,n)}("id","in",e.attendees)),n=(await Ab(t)).docs.map((e=>({id:e.id,...e.data()})));f(n),console.log(n)}}else d("danger","School not found.")})(),(async()=>{const e=(await Ab(Sv(rC,"scenarios"))).docs.map((e=>({id:e.id,...e.data()})));l(e)})()}),[c,d]);return i?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),p("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"Scenarios"}),(0,r.jsx)(oP.Item,{children:null!==(t=null===i||void 0===i?void 0:i.name)&&void 0!==t?t:"Unnamed School"})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:null!==(n=null===i||void 0===i?void 0:i.name)&&void 0!==n?n:"Unnamed School"})]}),(0,r.jsx)("div",{className:"block items-center sm:flex mt-8 mb-4",children:(0,r.jsx)("div",{className:"flex w-full items-center",children:(0,r.jsx)("button",{onClick:async()=>{try{const e=Cv(rC,"schools",c);await Eb(e,{...i,capacity:Number(i.capacity),availableScenarios:i.availableScenarios}),d("success","School updated successfully.")}catch(Zb){d("danger","Failed to update school.")}},className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Update School"})})})]})}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{className:"container mx-auto my-8 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.name}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"capacity",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Capacity:"}),(0,r.jsx)("input",{type:"number",id:"capacity",value:i.capacity,onChange:e=>{s({...i,capacity:e.target.value})},className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"})]}),(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:["Members: ",i.numOfMembers]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Available Scenarios:"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 my-4",children:o.map((e=>(0,r.jsxs)("label",{className:"inline-flex items-center mt-3",children:[(0,r.jsx)("input",{type:"checkbox",checked:i.availableScenarios.includes(e.id),onChange:()=>(e=>{const t=i.availableScenarios.includes(e)?i.availableScenarios.filter((t=>t!==e)):[...i.availableScenarios,e];s({...i,availableScenarios:t})})(e.id),className:"w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,r.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:e.name})]},e.id)))})]}),"Student"!==(null===u||void 0===u?void 0:u.roleName)&&(0,r.jsxs)("div",{className:"p-4 mt-5 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold dark:text-white",children:"Attendees"}),(0,r.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:h.length>0?h.map(((e,t)=>(0,r.jsx)("li",{className:"py-3 sm:py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("img",{className:"w-8 h-8 rounded-full",src:e.photo_url||AD,alt:"".concat(e.firstName," ").concat(e.lastName," profile image")})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-900 truncate dark:text-white",children:[e.firstName," ",e.lastName]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 truncate dark:text-gray-400",children:e.email})]})]})},t))):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("img",{className:"w-32 h-32 mx-auto",src:"https://res.cloudinary.com/daqsjyrgg/image/upload/v1690261234/di7tvpnzsesyo7vvsrq4.svg",alt:"No attendees"}),(0,r.jsx)("p",{className:"text-gray-700 dark:text-white font-medium text-lg",children:"No Attendees to display."}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Fill this school by sending invites!"})]})})]})]})]}):(0,r.jsx)("div",{children:"Loading..."})}function ED(){const{grades:t,getUserData:n,assignments:i,courses:a}=LC(),s=ie(),[o,l]=(0,e.useState)(""),[c,d]=(0,e.useState)([]),u=["bg-red-200 dark:bg-red-900","bg-orange-200 dark:bg-orange-900","bg-amber-200 dark:bg-amber-900","bg-yellow-200 dark:bg-yellow-900","bg-lime-200 dark:bg-lime-900","bg-green-200 dark:bg-green-900","bg-emerald-200 dark:bg-emerald-900","bg-teal-200 dark:bg-teal-900","bg-cyan-200 dark:bg-cyan-900","bg-sky-200 dark:bg-sky-900","bg-blue-200 dark:bg-blue-900","bg-indigo-200 dark:bg-indigo-900","bg-violet-200 dark:bg-violet-900","bg-purple-200 dark:bg-purple-900","bg-fuchsia-200 dark:bg-fuchsia-900","bg-pink-200 dark:bg-pink-900","bg-rose-200 dark:bg-rose-900"];(0,e.useEffect)((()=>{const e=o?Object.keys(t).reduce(((e,r)=>{const a=n(r),s=a.firstName.toLowerCase()+" "+a.lastName.toLowerCase(),l=t[r].filter((e=>{var t;const n=(null===(t=i.find((t=>t.id===e.assessmentID)))||void 0===t?void 0:t.assignmentName)||"Unknown assignment";return s.includes(o)||n.toLowerCase().includes(o)}));return l.length&&(e[r]=l),e}),{}):t;d(e)}),[t,i,n,o]);const h=e=>{if("Unknown assignment"===e)return"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300";const t=Math.floor(Math.random()*u.length);return"".concat(u[t]," text-white")},f=e=>{if("N/A"===e)return"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300";const t=parseFloat(e);return t>=0&&t<50?"bg-red-500 dark:bg-red-700 text-white":t>=50&&t<70?"bg-yellow-500 dark:bg-yellow-700 text-white":t>=70&&t<=100?"bg-green-500 dark:bg-green-700 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300"};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),s("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"Grades"})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:"Grades"})]}),(0,r.jsx)("div",{className:"block items-center sm:flex mt-8 mb-4",children:(0,r.jsx)("div",{className:"flex w-full items-center"})})]})}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"container mx-auto px-2",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h5",{className:"text-xl dark:text-white font-semibold mb-4 md:mb-0",children:"All Grades"}),(0,r.jsx)("form",{className:"w-full md:w-1/3",onSubmit:e=>e.preventDefault(),children:(0,r.jsx)("input",{type:"search",className:"block w-full p-2 text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Search Grades...",onChange:e=>{l(e.target.value.toLowerCase())}})})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Name"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Date"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Assessment"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Average Result"})]})}),(0,r.jsx)("tbody",{children:Object.entries(c).length>0?Object.entries(c).map((e=>{let[t,a]=e;const o=n(t);return null===a||void 0===a?void 0:a.map((e=>{var t;const n=(null===(t=i.find((t=>t.id===e.assessmentID)))||void 0===t?void 0:t.assignmentName)||"Unknown assignment",a=e.averageResult||"N/A";return(0,r.jsxs)("tr",{className:"border-b dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{return t=e.id,void s("/main/gradingdetails/".concat(t));var t},children:[(0,r.jsxs)("td",{className:"font-medium px-6 py-4 whitespace-nowrap",children:[o.firstName," ",o.lastName]}),(0,r.jsx)("td",{className:"font-medium px-6 py-4 whitespace-nowrap",children:e.creationDate}),(0,r.jsx)("td",{className:"font-medium px-6 py-4",children:(0,r.jsx)("span",{className:"inline-block text-xs font-medium px-2.5 py-0.5 rounded ".concat(h(n)),children:n})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"inline-block text-xs font-medium px-2.5 py-0.5 rounded ".concat(f(a)),children:a})})]},e.id)}))})):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"4",className:"text-center py-4",children:"No grades available"})})})]})})]})})]})}const TD=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))}));const ND=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))}));function ID(e){let{title:t,description:n,score:i,maxScore:a,success:s}=e;const o=s?TD:ND;return(0,r.jsxs)("div",{className:"p-4 p-6 bg-gray-50 shadow-lg rounded-md flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(o,{className:"h-16 w-16 ".concat(s?"text-green-500":"text-red-500"," mr-4 flex-shrink-0"),"aria-hidden":"true"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:t}),(0,r.jsx)("p",{className:"text-gray-800",children:n})]})]}),(0,r.jsxs)("div",{className:"text-l font-bold text-gray-800 flex-shrink-0 w-1/4",children:[i," / ",a," Points Earned"]})]})}const MD=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),e.createElement("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"}))})),FD=(0,e.createContext)(),RD=t=>{let{children:n,optionalGrade:i}=t;const[a,s]=(0,e.useState)(null),[o,l]=(0,e.useState)(null),[c,d]=(0,e.useState)(null),[u,h]=(0,e.useState)(null),{gradeId:f}=se(),[p,g]=(0,e.useState)(null);return(0,e.useEffect)((()=>{i?s(i):(async()=>{const e=Cv(rC,"grades",f);try{const t=await Sb(e);s({id:f,...t.data()}),console.log("Loaded grade: "+f)}catch(Zb){s(null),console.error("Error fetching grade data:",Zb)}})()}),[]),(0,e.useEffect)((()=>{if(a){const e=async()=>{const e=Cv(rC,"assessments",a.assessmentID),t=await Sb(e);if(t.exists()){h(t.data());const e=t.data().scenarioID,n=Cv(rC,"scenarios",e),r=await Sb(n);if(r.exists()){d(r.data());const e=r.data().chosenQuestionnaireId,t=Cv(rC,"questionaires",e),n=await Sb(t);n.exists()&&l(n.data())}const i=await fC(t.data().classroomId,XS);g(i)}};e()}}),[a]),(0,r.jsx)(FD.Provider,{value:{grade:a,questionnaire:o,scenario:c,assessment:u,course:p},children:n})},jD=()=>(0,e.useContext)(FD);function LD(){const[t,n]=(0,e.useState)([]),{grade:i}=jD();(0,e.useEffect)((()=>{i&&n(i.transcript||[])}),[i]);return(0,r.jsxs)("div",{className:"relative mx-auto mb-28",style:{maxWidth:"640px"},children:[(0,r.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 border-l-2 border-gray-300",style:{height:"100%"}}),t.map(((e,t)=>{const{speaker:n,time:i,message:a}=(e=>{const[t,n,r]=e.split("/");return{speaker:t,time:n,message:r}})(e),s="Player"===n,o=s?"bg-blue-500 text-white rounded-br-lg rounded-tl-lg":"bg-gray-100 text-gray-900 rounded-bl-lg rounded-tr-lg",l=s?"text-blue-500":"text-gray-600",c=s?"right-3/4":"left-3/4",d=0===t?"mt-0":"mt-40";return(0,r.jsxs)("div",{className:"flex justify-center items-start relative ".concat(d),children:[(0,r.jsxs)("div",{className:"absolute ".concat(c," transform ").concat(s?"translate-x-1/4":"-translate-x-1/4"," max-w-xs w-full px-4 py-2 shadow-lg rounded-lg ").concat(o),children:[(0,r.jsx)("div",{className:"font-bold",children:s?"Player":"Patient"}),(0,r.jsx)("p",{className:"whitespace-pre-line text-sm",children:a}),(0,r.jsx)("div",{className:"text-xs mt-2 ".concat(s?"text-right":"text-left"),children:i})]}),(0,r.jsx)("div",{className:"absolute mt-8 w-6 h-6 bg-white rounded-full shadow flex items-center justify-center",children:(0,r.jsx)(MD,{className:"h-4 w-4 ".concat(l)})})]},t)}))]})}const DD=e=>{var t,n;let{size:i=12,userToShow:a}=e;const s=xC();return(0,r.jsx)("img",{src:null!==(t=null===(n=a||s)||void 0===n?void 0:n.photo_url)&&void 0!==t?t:"https://ui-avatars.com/api/?name=John+Doe&color=7F9CF5&background=EBF4FF",className:"h-".concat(i," w-").concat(i," rounded-full object-cover"),alt:"user profile"})},OD=e=>{let{question:t,answer:n,date:i,firstName:a,lastName:s,photourl:o}=e;xC();return(0,r.jsxs)("div",{className:"mb-8 mt-8 p-6 bg-white shadow-lg rounded-md items-center",children:[(0,r.jsx)("h2",{className:"mt-4 text-xl font-bold text-gray-800 mb-4",children:t}),(0,r.jsxs)("article",{className:"text-base pt-6 border-t border-gray-200",children:[(0,r.jsx)("footer",{className:"flex justify-between items-center mb-2",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("p",{className:"inline-flex items-center mr-3 text-sm text-gray-900 font-semibold",children:[(0,r.jsx)("div",{className:"mr-2",children:(0,r.jsx)(DD,{userToShow:o,size:8})}),a," ",s]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:(0,r.jsx)("time",{dateTime:i,children:i})})]})}),(0,r.jsx)("p",{className:"text-gray-500",children:n})]})]})},zD=t=>{let{displayOpenQuestions:n=!0}=t;const[i,s]=(0,e.useState)({}),[o,l]=(0,e.useState)(null),[c,d]=(0,e.useState)(0),{showNotification:u}=a(),{grade:h,questionnaire:f,scenario:p,assessment:g,course:m}=jD(),{getUserData:v,assignments:b}=LC();(0,e.useEffect)((()=>{if(!h||!v)return;if(!g||!b)return;(async()=>{try{const e=await v(h.userID);l(e)}catch(Zb){u("danger","Failed to fetch user data")}})()}),[h,v,u,g,b]);const y=e=>{const t=["Communication","Accuracy","Safety"].reduce(((t,n)=>{const r=e[n];if(r){let e=0,i=0;Object.entries(r).forEach((t=>{let[n,r]=t;const[a,s]=r.split("/").map(Number);e+=s,i+=a})),t[n]=Number((i/e*100).toFixed(1))}else t[n]=0;return t}),{});s(t)};(0,e.useEffect)((()=>{h&&y(h)}),[h]),(0,e.useEffect)((()=>{f&&h&&((e,t)=>{if(null===e||void 0===e||!e.Answers)return;const n={...i},r=t.questions.length,a=Object.values(null===e||void 0===e?void 0:e.Answers).reduce(((e,n,r)=>{var i;return e+(null!==(i=t.questions[r])&&void 0!==i&&i.answers[n].isCorrect?1:0)}),0);n.Answers=Number((a/r*100).toFixed(1)),s(n)})(h,f)}),[f,h]);const x=e=>{if(e)return Object.entries(e).map((e=>{let[t,n]=e;const[i,a]=t.split("/").map((e=>e.trim())),[s,o]=n.split("/").map(Number);let l;return l=s===o||0!==s&&"orange",(0,r.jsx)("div",{className:"pt-4 px-4",children:(0,r.jsx)(ID,{title:i,description:a,score:s,maxScore:o,success:l},i)})})).filter(Boolean)},w=(e,t)=>!(null!==t&&void 0!==t&&t.length)>0?(0,r.jsx)("div",{}):null===e||void 0===e?void 0:e.map(((e,n)=>(0,r.jsx)(OD,{question:e,answer:"unanswered"==t[n]?"You did not answer this question.":t[n],date:null===h||void 0===h?void 0:h.creationDate,firstName:null===o||void 0===o?void 0:o.firstName,lastName:null===o||void 0===o?void 0:o.lastName}))),k=async e=>{if(null!==h&&void 0!==h&&h.id)try{const t=Cv(rC,"grades",h.id);await Eb(t,{averageResult:e}),console.log("grade updated succesfully")}catch(Zb){console.error(Zb),u("danger","Failed to update grade")}};(0,e.useEffect)((()=>{h&&y(h)}),[h]),(0,e.useEffect)((()=>{(e=>{const t=Object.values(e).reduce(((e,t)=>e+t),0),n=Object.values(e).length,r=parseFloat((n>0?t/n:0).toFixed(2));d(r),k(r)})(i)}),[i]);const _={pageBreakBefore:"always",pageBreakInside:"avoid",pageBreakAfter:"always",display:"block",padding:"16mm",margin:"0 auto",width:"210mm",minHeight:"297mm",backgroundColor:"white",boxShadow:"0 0 5px rgba(0, 0, 0, 0.1)",overflow:"hidden"},S={position:"relative",paddingBottom:"20mm"};return(0,r.jsx)("div",{className:"px-4",children:(0,r.jsxs)("div",{id:"gradingPage",className:"bg-white px-4 p-8 rounded-md w-full shadow-lg max-w-4xl mx-auto ",children:[(0,r.jsx)("div",{style:_,children:(0,r.jsxs)("section",{style:S,children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)("span",{className:"text-xl font-bold text-blue-900 mt-6",children:"PERFROMANCE OVERVIEW"}),(0,r.jsx)("img",{src:Te,alt:"CourseTA",className:"h-28 w-36"})]}),(0,r.jsx)("div",{className:"bg-blue-400",style:{height:"22px",width:"100%"}}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{className:"bg-gray-100 p-4 rounded-md mb-8",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-blue-600",children:["COMPLETION CERTIFICATE: ",null===g||void 0===g?void 0:g.assignmentName]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-between",children:[(0,r.jsxs)("div",{className:"w-full lg:w-1/2",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Student:"}),(0,r.jsx)("span",{className:"block text-gray-600",children:(null===o||void 0===o?void 0:o.firstName)+" "+(null===o||void 0===o?void 0:o.lastName)})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Assignment:"}),(0,r.jsx)("span",{className:"block text-gray-600",children:null===g||void 0===g?void 0:g.assignmentName})]})]}),(0,r.jsxs)("div",{className:"w-full lg:w-1/2",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Course:"}),(0,r.jsx)("span",{className:"block text-gray-600",children:null===m||void 0===m?void 0:m.className})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Submission Date:"}),(0,r.jsx)("span",{className:"block text-gray-600",children:null===h||void 0===h?void 0:h.creationDate})]})]})]})]}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-200",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"p-2 text-left text-lg font-semibold text-gray-600",children:"Metric"}),(0,r.jsx)("th",{className:"p-2 text-left text-lg font-semibold text-gray-600",children:"Score"})]})}),(0,r.jsx)("tbody",{className:"text-sm divide-y divide-gray-300",children:Object.keys(i).map((e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"p-2 text-lg text-gray-700 font-medium",children:e}),(0,r.jsxs)("td",{className:"p-2 text-lg text-gray-700",children:[i[e],"%"]})]},e)))})]})}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-8 p-4 bg-gray-100 rounded-md",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Total Score:"}),(0,r.jsxs)("span",{className:"text-lg font-semibold text-gray-700 ml-2",children:[c,"%"]})]}),(0,r.jsx)("span",{className:"font-bold text-lg ".concat(c>=70?"text-green-500":c>=50?"text-yellow-500":"text-red-500"),children:c>=70?"Awesome Job!":c>=50?"Good Job!":c>=30?"Almost there!":"You can do better!"})]})]})]})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{style:_,children:(0,r.jsxs)("section",{className:"mb-8 relative",style:S,children:[(0,r.jsx)("div",{className:"absolute top-0 left-0",children:(0,r.jsx)("span",{className:"text-xl font-bold text-blue-900 mt-6",children:"ACCURACY PERFORMANCE"})}),(0,r.jsx)("img",{src:Te,alt:"CourseTA",className:"ml-auto h-24 w-32",style:{transform:"translateY(-10%)"}}),(0,r.jsx)("div",{className:"bg-blue-400",style:{height:"22px",width:"100%"}}),x(null===h||void 0===h?void 0:h.Accuracy)]})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{style:_,children:(0,r.jsxs)("section",{className:"mb-8 relative",style:S,children:[(0,r.jsx)("div",{className:"absolute top-0 left-0",children:(0,r.jsx)("span",{className:"text-xl font-bold text-blue-900 mt-6",children:"COMMUNICATION PERFORMANCE"})}),(0,r.jsx)("img",{src:Te,alt:"CourseTA",className:"ml-auto h-24 w-32",style:{transform:"translateY(-10%)"}}),(0,r.jsx)("div",{className:"bg-blue-400",style:{height:"22px",width:"100%"}}),x(null===h||void 0===h?void 0:h.Communication)]})}),(0,r.jsx)("div",{style:_,children:(0,r.jsxs)("section",{className:"mb-8 relative",style:S,children:[(0,r.jsx)("div",{className:"absolute top-0 left-0",children:(0,r.jsx)("span",{className:"text-xl font-bold text-blue-900 mt-6",children:"SAFETY PERFORMANCE"})}),(0,r.jsx)("img",{src:Te,alt:"CourseTA",className:"ml-auto h-24 w-32",style:{transform:"translateY(-10%)"}}),(0,r.jsx)("div",{className:"bg-blue-400",style:{height:"22px",width:"100%"}}),x(null===h||void 0===h?void 0:h.Safety)]})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{style:_,children:(0,r.jsxs)("section",{className:"mb-8 relative",style:S,children:[(0,r.jsx)("div",{className:"absolute top-0 left-0",children:(0,r.jsx)("span",{className:"text-xl font-bold text-blue-900 mt-6",children:"ANSWERS ACCURACY"})}),(0,r.jsx)("img",{src:Te,alt:"CourseTA",className:"ml-auto h-24 w-32",style:{transform:"translateY(-10%)"}}),(0,r.jsx)("div",{className:"bg-blue-400",style:{height:"22px",width:"100%"}}),f?((e,t)=>(0,r.jsx)("div",{className:"mb-8 mt-8 p-6 bg-white shadow-lg rounded-md",children:(0,r.jsxs)("table",{className:"w-full border-collapse border border-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"py-3 px-6 text-left border border-gray-200",children:"Category"}),(0,r.jsx)("th",{scope:"col",className:"py-3 px-6 text-right border border-gray-200",children:"Selected Answer"}),(0,r.jsx)("th",{scope:"col",className:"py-3 px-6 text-right border border-gray-200",children:"Points Earned"})]})}),(0,r.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map(((e,n)=>{const i=null!==t&&void 0!==t&&t.Answers?t.Answers[String(n)]:null,a=null!==i&&void 0!==i,s=a?null===e||void 0===e?void 0:e.answers[i].answer:"No answer given",o=!!a&&(null===e||void 0===e?void 0:e.answers[i].isCorrect),l=a&&o?"1/1 Points Earned":"0/1 Points Earned";return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-3 px-6 border border-gray-200",children:null===e||void 0===e?void 0:e.questionTitle}),(0,r.jsxs)("td",{className:"py-3 px-6 text-right border border-gray-200 ".concat(o?"text-green-500":"text-red-500"),children:[s,(0,r.jsx)("i",{className:"icon ".concat(o?"correct-icon":"incorrect-icon")})]}),(0,r.jsx)("td",{className:"py-3 px-6 text-right border border-gray-200 ".concat(o?"text-green-500":"text-red-500"),children:l})]},n)}))})]})}))(f.questions,h):"Loading..."]})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{style:_,children:(0,r.jsxs)("section",{className:"mb-8 relative",style:S,children:[(0,r.jsx)("div",{className:"absolute top-0 left-0",children:(0,r.jsx)("span",{className:"text-xl font-bold text-blue-900 mt-6",children:"DEBRIEFING"})}),(0,r.jsx)("img",{src:Te,alt:"CourseTA",className:"ml-auto h-24 w-32",style:{transform:"translateY(-10%)"}}),(0,r.jsx)("div",{className:"bg-blue-400",style:{height:"22px",width:"100%"}}),w(null===p||void 0===p?void 0:p.debriefing,null===h||void 0===h?void 0:h.debriefing)]})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{style:_,children:(0,r.jsxs)("section",{className:"mb-8 relative",style:S,children:[(0,r.jsx)("div",{className:"absolute top-0 left-0",children:(0,r.jsx)("span",{className:"text-xl font-bold text-blue-900 mt-6",children:"REFLECTION DATA"})}),(0,r.jsx)("img",{src:Te,alt:"CourseTA",className:"ml-auto h-24 w-32",style:{transform:"translateY(-10%)"}}),(0,r.jsx)("div",{className:"bg-blue-400",style:{height:"22px",width:"100%"}}),w(null===p||void 0===p?void 0:p.reflection,null===h||void 0===h?void 0:h.reflection)]})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{style:_,children:(0,r.jsxs)("section",{className:"mb-8 relative",style:S,children:[(0,r.jsx)("div",{className:"absolute top-0 left-0",children:(0,r.jsx)("span",{className:"text-xl font-bold text-blue-900 mt-6",children:"SIMULATION TRANSCRIPT"})}),(0,r.jsx)("img",{src:Te,alt:"CourseTA",className:"ml-auto h-24 w-32",style:{transform:"translateY(-10%)"}}),(0,r.jsx)("div",{className:"bg-blue-400",style:{height:"22px",width:"100%"}}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"pl-12 pr-12",children:(0,r.jsx)(LD,{})})]})})]})})};var GD=__webpack_require__(6749);const BD=GD;var UD=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},WD=UD(UD(UD(UD(UD(UD(UD(UD(UD(UD(UD(UD(UD(UD(UD(UD(UD(UD([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function HD(e,t){var n={};return WD.forEach((function(r){var i=e[r];i&&(n[r]=t?function(e){return i(e,t(r))}:i)})),n}function VD(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return!t&&n(e)})).catch((function(e){return!t&&r(e)}))}));return{promise:n,cancel:function(){t=!0}}}function YD(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=YD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const XD=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=YD(e))&&(r&&(r+=" "),r+=t);return r};var qD=!0,KD="Invariant failed";function QD(e,t){if(!e){if(qD)throw new Error(KD);var n="function"===typeof t?t():t,r=n?"".concat(KD,": ").concat(n):KD;throw new Error(r)}}var JD=__webpack_require__(6440),$D=Object.prototype.hasOwnProperty;function ZD(e,t,n){for(n of e.keys())if(eO(n,t))return n}function eO(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&eO(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&"object"===typeof i&&!(i=ZD(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&"object"===typeof i&&!(i=ZD(t,i)))return!1;if(!eO(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if($D.call(e,n)&&++r&&!$D.call(t,n))return!1;if(!(n in t)||!eO(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const tO=(0,e.createContext)(null);function nO(t){let{children:n,type:r}=t;return e.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(r)},n)}class rO{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return QD(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){QD(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise((t=>{QD(this.pdfDocument,"PDF document not loaded."),QD(e,"Destination is not specified."),"string"===typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)})).then((e=>{QD(Array.isArray(e),'"'.concat(e,'" is not a valid destination array.'));const t=e[0];new Promise((e=>{QD(this.pdfDocument,"PDF document not loaded."),t instanceof Object?this.pdfDocument.getPageIndex(t).then((t=>{e(t)})).catch((()=>{QD(!1,'"'.concat(t,'" is not a valid page reference.'))})):"number"===typeof t?e(t):QD(!1,'"'.concat(t,'" is not a valid destination reference.'))})).then((t=>{const n=t+1;QD(this.pdfViewer,"PDF viewer is not initialized."),QD(n>=1&&n<=this.pagesCount,'"'.concat(n,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})}))}))}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;QD(this.pdfViewer,"PDF viewer is not initialized."),QD(e>=1&&e<=this.pagesCount,'"'.concat(e,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const iO={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},aO="undefined"!==typeof document,sO=aO&&"file:"===window.location.protocol;function oO(e){return"undefined"!==typeof e}function lO(e){return oO(e)&&null!==e}function cO(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function dO(e){QD(cO(e),"Invalid data URI.");const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function uO(){return aO&&window.devicePixelRatio||1}const hO="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function fO(){JD(!sO,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(hO))}function pO(e){e&&e.cancel&&e.cancel()}function gO(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function mO(e){return"RenderingCancelledException"===e.name}function vO(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function bO(){return(0,e.useReducer)(vO,{value:void 0,error:void 0})}const{PDFDataRangeTransport:yO}=BD,xO=(()=>{const e={};return WD.forEach((t=>{e[t]=nD.func})),e})(),wO=nD.oneOfType([nD.instanceOf(Int8Array),nD.instanceOf(Uint8Array),nD.instanceOf(Uint8ClampedArray),nD.instanceOf(Int16Array),nD.instanceOf(Uint16Array),nD.instanceOf(Int32Array),nD.instanceOf(Uint32Array),nD.instanceOf(Float32Array),nD.instanceOf(Float64Array)]),kO=[nD.string,nD.instanceOf(ArrayBuffer),nD.shape({data:nD.oneOfType([nD.string,nD.instanceOf(ArrayBuffer),nD.arrayOf(nD.number.isRequired),wO]).isRequired}),nD.shape({range:nD.instanceOf(yO).isRequired}),nD.shape({url:nD.string.isRequired})];"undefined"!==typeof Blob&&kO.push(nD.instanceOf(Blob));const _O=nD.oneOfType([nD.string,nD.arrayOf(nD.string)]),SO=nD.oneOfType(kO),CO=(nD.instanceOf(rO),nD.oneOf(["_self","_blank","_parent","_top"]),nD.shape({commonObjs:nD.shape({}).isRequired,getAnnotations:nD.func.isRequired,getTextContent:nD.func.isRequired,getViewport:nD.func.isRequired,render:nD.func.isRequired}),nD.oneOfType([nD.any,nD.oneOf([!1])])),AO=nD.oneOfType([nD.func,nD.exact({current:nD.any})]),PO=nD.oneOf(["canvas","custom","none","svg"]),EO=nD.oneOf([0,90,180,270]);var TO=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(OG){a(OG)}}function o(e){try{l(r.throw(e))}catch(OG){a(OG)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},NO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const{PDFDataRangeTransport:IO}=BD,MO=(e,t)=>{switch(t){case iO.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case iO.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function FO(e){return"object"===typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const RO=(0,e.forwardRef)((function(t,n){var{children:r,className:i,error:a="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:u="Loading PDF\u2026",noData:h="No PDF file specified.",onItemClick:f,onLoadError:p,onLoadProgress:g,onLoadSuccess:m,onPassword:v=MO,onSourceError:b,onSourceSuccess:y,options:x,renderMode:w,rotate:k}=t,_=NO(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[S,C]=bO(),{value:A,error:P}=S,[E,T]=bO(),{value:N,error:I}=E,M=(0,e.useRef)(new rO),F=(0,e.useRef)([]),R=(0,e.useRef)(),j=(0,e.useRef)();(0,e.useEffect)((()=>{l&&l!==R.current&&FO(l)&&(JD(!eO(l,R.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),R.current=l)}),[l]),(0,e.useEffect)((()=>{x&&x!==j.current&&(JD(!eO(x,j.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),j.current=x)}),[x]);const L=(0,e.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:r=n-1}=e;if(f)return void f({dest:t,pageIndex:r,pageNumber:n});const i=F.current[r];i?i.scrollIntoView():JD(!1,"An internal link leading to page ".concat(n," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}});(0,e.useImperativeHandle)(n,(()=>({linkService:M,pages:F,viewer:L})),[]),(0,e.useEffect)((function(){C({type:"RESET"})}),[l,C]);const D=(0,e.useCallback)((()=>TO(this,void 0,void 0,(function*(){if(!l)return null;if("string"===typeof l){if(cO(l)){return{data:dO(l)}}return fO(),{url:l}}if(l instanceof IO)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(aO&&function(e){return QD(aO,"isBlob can only be used in a browser environment"),e instanceof Blob}(l)){const e=yield function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));t(r.result)},r.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(e)}))}(l);return{data:e}}if(QD("object"===typeof l,"Invalid parameter in file, need either Uint8Array, string or a parameter object"),QD(FO(l),"Invalid parameter object: need either .data, .range or .url"),"url"in l&&"string"===typeof l.url){if(cO(l.url)){const{url:e}=l,t=NO(l,["url"]),n=dO(e);return Object.assign({data:n},t)}fO()}return l}))),[l]);function O(e,t){F.current[e]=t}function z(e){delete F.current[e]}(0,e.useEffect)((()=>{const e=VD(D());return e.promise.then((e=>{C({type:"RESOLVE",value:e})})).catch((e=>{C({type:"REJECT",error:e})})),()=>{pO(e)}}),[D,C]),(0,e.useEffect)((()=>{"undefined"!==typeof A&&(!1!==A?y&&y():P&&(JD(!1,P.toString()),b&&b(P)))}),[A]),(0,e.useEffect)((function(){T({type:"RESET"})}),[T,A]),(0,e.useEffect)((function(){if(!A)return;const e=x?Object.assign(Object.assign({},A),x):A,t=BD.getDocument(e);g&&(t.onProgress=g),v&&(t.onPassword=v);const n=t;return n.promise.then((e=>{T({type:"RESOLVE",value:e})})).catch((e=>{n.destroyed||T({type:"REJECT",error:e})})),()=>{n.destroy()}}),[x,T,A]),(0,e.useEffect)((()=>{"undefined"!==typeof N&&(!1!==N?N&&(m&&m(N),F.current=new Array(N.numPages),M.current.setDocument(N)):I&&(JD(!1,I.toString()),p&&p(I)))}),[N]),(0,e.useEffect)((function(){M.current.setViewer(L.current),M.current.setExternalLinkRel(s),M.current.setExternalLinkTarget(o)}),[s,o]);const G=(0,e.useMemo)((()=>({imageResourcesPath:d,linkService:M.current,onItemClick:f,pdf:N,registerPage:O,renderMode:w,rotate:k,unregisterPage:z})),[d,f,N,w,k]),B=(0,e.useMemo)((()=>HD(_,(()=>N))),[_,N]);return e.createElement("div",Object.assign({className:XD("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},B),l?void 0===N||null===N?e.createElement(nO,{type:"loading"},"function"===typeof u?u():u):!1===N?e.createElement(nO,{type:"error"},"function"===typeof a?a():a):e.createElement(tO.Provider,{value:G},r):e.createElement(nO,{type:"no-data"},"function"===typeof h?h():h))})),jO=nD.oneOfType([nD.func,nD.node]);RO.propTypes=Object.assign(Object.assign({},xO),{children:nD.node,className:_O,error:jO,externalLinkRel:nD.string,externalLinkTarget:nD.oneOf(["_self","_blank","_parent","_top"]),file:SO,imageResourcesPath:nD.string,inputRef:AO,loading:jO,noData:jO,onItemClick:nD.func,onLoadError:nD.func,onLoadProgress:nD.func,onLoadSuccess:nD.func,onPassword:nD.func,onSourceError:nD.func,onSourceSuccess:nD.func,options:nD.shape({canvasFactory:nD.any,canvasMaxAreaInBytes:nD.number,cMapPacked:nD.bool,CMapReaderFactory:nD.any,cMapUrl:nD.string,disableAutoFetch:nD.bool,disableFontFace:nD.bool,disableRange:nD.bool,disableStream:nD.bool,docBaseUrl:nD.string,enableXfa:nD.bool,filterFactory:nD.any,fontExtraProperties:nD.bool,httpHeaders:nD.object,isEvalSupported:nD.bool,isOffscreenCanvasSupported:nD.bool,length:nD.number,maxImageSize:nD.number,ownerDocument:nD.any,password:nD.string,pdfBug:nD.bool,rangeChunkSize:nD.number,StandardFontDataFactory:nD.any,standardFontDataUrl:nD.string,stopAtErrors:nD.bool,useSystemFonts:nD.bool,useWorkerFetch:nD.bool,verbosity:nD.number,withCredentials:nD.bool,worker:nD.any}),rotate:nD.number});const LO=RO;function DO(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach((function(t){"function"===typeof t?t(e):t&&(t.current=e)}))}}const OO=(0,e.createContext)(null),zO={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},GO=/^H(\d+)$/;function BO(e){return"children"in e}function UO(e){return!!BO(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function WO(e){const t={};if(BO(e)){const{role:n}=e,r=n.match(GO);if(r)t.role="heading",t["aria-level"]=Number(r[1]);else if(function(e){return e in zO}(n)){const e=zO[n];e&&(t.role=e)}}return t}function HO(e){const t={};if(BO(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),UO(e)){const[n]=e.children;if(n){const e=HO(n);return Object.assign(Object.assign({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function VO(e){return e?Object.assign(Object.assign({},WO(e)),HO(e)):null}function YO(t){let{className:n,node:r}=t;const i=(0,e.useMemo)((()=>VO(r)),[r]),a=(0,e.useMemo)((()=>BO(r)?UO(r)?null:r.children.map(((t,n)=>e.createElement(YO,{key:n,node:t}))):null),[r]);return e.createElement("span",Object.assign({className:n},i),a)}function XO(){return(0,e.useContext)(OO)}function qO(){const t=XO();QD(t,"Unable to find Page context.");const{onGetStructTreeError:n,onGetStructTreeSuccess:r}=t,[i,a]=bO(),{value:s,error:o}=i,{customTextRenderer:l,page:c}=t;return(0,e.useEffect)((function(){a({type:"RESET"})}),[a,c]),(0,e.useEffect)((function(){if(l)return;if(!c)return;const e=VD(c.getStructTree()),t=e;return e.promise.then((e=>{a({type:"RESOLVE",value:e})})).catch((e=>{a({type:"REJECT",error:e})})),()=>pO(t)}),[l,c,a]),(0,e.useEffect)((()=>{void 0!==s&&(!1!==s?s&&r&&r(s):o&&(JD(!1,o.toString()),n&&n(o)))}),[s]),s?e.createElement(YO,{className:"react-pdf__Page__structTree structTree",node:s}):null}const KO=BD.AnnotationMode;function QO(t){const n=XO();QD(n,"Unable to find Page context.");const r=Object.assign(Object.assign({},n),t),{_className:i,canvasBackground:a,devicePixelRatio:s=uO(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:d,renderTextLayer:u,rotate:h,scale:f}=r,{canvasRef:p}=t;QD(c,"Attempted to render page canvas, but no page was specified.");const g=(0,e.useRef)(null);function m(e){mO(e)||(JD(!1,e.toString()),o&&o(e))}const v=(0,e.useMemo)((()=>c.getViewport({scale:f*s,rotation:h})),[s,c,h,f]),b=(0,e.useMemo)((()=>c.getViewport({scale:f,rotation:h})),[c,h,f]);(0,e.useEffect)((function(){if(!c)return;c.cleanup();const{current:e}=g;if(!e)return;e.width=v.width,e.height=v.height,e.style.width="".concat(Math.floor(b.width),"px"),e.style.height="".concat(Math.floor(b.height),"px"),e.style.visibility="hidden";const t={annotationMode:d?KO.ENABLE_FORMS:KO.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:v};a&&(t.background=a);const n=c.render(t),r=n;return n.promise.then((()=>{e.style.visibility="",c&&l&&l(gO(c,f))})).catch(m),()=>pO(r)}),[a,g,s,c,d,v,b]);const y=(0,e.useCallback)((()=>{const{current:e}=g;e&&(e.width=0,e.height=0)}),[g]);return(0,e.useEffect)((()=>y),[y]),e.createElement("canvas",{className:"".concat(i,"__canvas"),dir:"ltr",ref:DO(p,g),style:{display:"block",userSelect:"none"}},u?e.createElement(qO,null):null)}function JO(){const t=XO();QD(t,"Unable to find Page context.");const{_className:n,onRenderSuccess:r,onRenderError:i,page:a,rotate:s,scale:o}=t;QD(a,"Attempted to render page SVG, but no page was specified.");const[l,c]=bO(),{value:d,error:u}=l;const h=(0,e.useMemo)((()=>a.getViewport({scale:o,rotation:s})),[a,s,o]);(0,e.useEffect)((function(){c({type:"RESET"})}),[a,c,h]),(0,e.useEffect)((function(){if(!a)return;const e=VD(a.getOperatorList());return e.promise.then((e=>{new BD.SVGGraphics(a.commonObjs,a.objs).getSVG(e,h).then((e=>{if(!(e instanceof SVGElement))throw new Error("getSVG returned unexpected result.");c({type:"RESOLVE",value:e})})).catch((e=>{c({type:"REJECT",error:e})}))})).catch((e=>{c({type:"REJECT",error:e})})),()=>pO(e)}),[a,c,h]),(0,e.useEffect)((()=>{void 0!==d&&(!1!==d?a&&r&&r(gO(a,o)):u&&(mO(u)||(JD(!1,u.toString()),i&&i(u))))}),[d]);const{width:f,height:p}=h;return e.createElement("div",{className:"".concat(n,"__svg"),ref:e=>function(e){if(!e||!d)return;e.firstElementChild||e.appendChild(d);const{width:t,height:n}=h;d.setAttribute("width","".concat(t)),d.setAttribute("height","".concat(n))}(e),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:f,height:p,userSelect:"none"}})}function $O(){const t=XO();QD(t,"Unable to find Page context.");const{customTextRenderer:n,onGetTextError:r,onGetTextSuccess:i,onRenderTextLayerError:a,onRenderTextLayerSuccess:s,page:o,pageIndex:l,pageNumber:c,rotate:d,scale:u}=t;QD(o,"Attempted to load page text content, but no page was specified.");const[h,f]=bO(),{value:p,error:g}=h,m=(0,e.useRef)(null),v=(0,e.useRef)();JD(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,e.useEffect)((function(){f({type:"RESET"})}),[o,f]),(0,e.useEffect)((function(){if(!o)return;const e=VD(o.getTextContent()),t=e;return e.promise.then((e=>{f({type:"RESOLVE",value:e})})).catch((e=>{f({type:"REJECT",error:e})})),()=>pO(t)}),[o,f]),(0,e.useEffect)((()=>{void 0!==p&&(!1!==p?p&&i&&i(p):g&&(JD(!1,g.toString()),r&&r(g)))}),[p]);const b=(0,e.useCallback)((()=>{s&&s()}),[s]),y=(0,e.useCallback)((e=>{JD(!1,e.toString()),a&&a(e)}),[a]);const x=(0,e.useMemo)((()=>o.getViewport({scale:u,rotation:d})),[o,d,u]);return(0,e.useLayoutEffect)((function(){if(!o||!p)return;const{current:e}=m;if(!e)return;e.innerHTML="";const t=o.streamTextContent({includeMarkedContent:!0}),r={container:e,textContentSource:t,viewport:x},i=BD.renderTextLayer(r),a=i;return i.promise.then((()=>{const t=document.createElement("div");t.className="endOfContent",e.append(t),v.current=t;const r=e.querySelectorAll('[role="presentation"]');if(n){let e=0;p.items.forEach(((t,i)=>{if(!function(e){return"str"in e}(t))return;const a=r[e];if(!a)return;const s=n(Object.assign({pageIndex:l,pageNumber:c,itemIndex:i},t));a.innerHTML=s,e+=t.str&&t.hasEOL?2:1}))}b()})).catch(y),()=>pO(a)}),[n,y,b,o,l,c,p,x]),e.createElement("div",{className:XD("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=v.current;e&&e.classList.remove("active")},onMouseDown:function(){const e=v.current;e&&e.classList.add("active")},ref:m})}function ZO(){return(0,e.useContext)(tO)}function ez(){const t=ZO(),n=XO();QD(n,"Unable to find Page context.");const r=Object.assign(Object.assign({},t),n),{imageResourcesPath:i,linkService:a,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:d,pdf:u,renderForms:h,rotate:f,scale:p=1}=r;QD(u,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),QD(d,"Attempted to load page annotations, but no page was specified."),QD(a,"Attempted to load page annotations, but no linkService was specified.");const[g,m]=bO(),{value:v,error:b}=g,y=(0,e.useRef)(null);JD(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,e.useEffect)((function(){m({type:"RESET"})}),[m,d]),(0,e.useEffect)((function(){if(!d)return;const e=VD(d.getAnnotations()),t=e;return e.promise.then((e=>{m({type:"RESOLVE",value:e})})).catch((e=>{m({type:"REJECT",error:e})})),()=>{pO(t)}}),[m,d,h]),(0,e.useEffect)((()=>{void 0!==v&&(!1!==v?v&&o&&o(v):b&&(JD(!1,b.toString()),s&&s(b)))}),[v]);const x=(0,e.useMemo)((()=>d.getViewport({scale:p,rotation:f})),[d,f,p]);return(0,e.useEffect)((function(){if(!u||!d||!a||!v)return;const{current:e}=y;if(!e)return;const t=x.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,div:e,l10n:null,page:d,viewport:t},r={annotations:v,annotationStorage:u.annotationStorage,div:e,downloadManager:null,imageResourcesPath:i,linkService:a,page:d,renderForms:h,viewport:t};e.innerHTML="";try{new BD.AnnotationLayer(n).render(r),c&&c()}catch(Zb){!function(e){JD(!1,"".concat(e)),l&&l(e)}(Zb)}return()=>{}}),[v,i,a,d,h,x]),e.createElement("div",{className:XD("react-pdf__Page__annotations","annotationLayer"),ref:y})}var tz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const nz=1,rz=function(t){const n=ZO(),r=Object.assign(Object.assign({},n),t),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:s,canvasRef:o,children:l,className:c,customRenderer:d,customTextRenderer:u,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:g,loading:m="Loading page\u2026",noData:v="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:y,onGetStructTreeError:x,onGetStructTreeSuccess:w,onGetTextError:k,onGetTextSuccess:_,onLoadError:S,onLoadSuccess:C,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:P,onRenderError:E,onRenderSuccess:T,onRenderTextLayerError:N,onRenderTextLayerSuccess:I,pageIndex:M,pageNumber:F,pdf:R,registerPage:j,renderAnnotationLayer:L=!0,renderForms:D=!1,renderMode:O="canvas",renderTextLayer:z=!0,rotate:G,scale:B=nz,unregisterPage:U,width:W}=r,H=tz(r,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[V,Y]=bO(),{value:X,error:q}=V,K=(0,e.useRef)(null);QD(R,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Q=lO(F)?F-1:null!==M&&void 0!==M?M:null,J=null!==F&&void 0!==F?F:lO(M)?M+1:null,$=null!==G&&void 0!==G?G:X?X.rotate:null,Z=(0,e.useMemo)((()=>{if(!X)return null;let e=1;const t=null!==B&&void 0!==B?B:nz;if(W||p){const t=X.getViewport({scale:1,rotation:$});W?e=W/t.width:p&&(e=p/t.height)}return t*e}),[p,X,$,B,W]);(0,e.useEffect)((function(){return()=>{lO(Q)&&a&&U&&U(Q)}}),[a,R,Q,U]),(0,e.useEffect)((function(){Y({type:"RESET"})}),[Y,R,Q]),(0,e.useEffect)((function(){if(!R||!J)return;const e=VD(R.getPage(J)),t=e;return e.promise.then((e=>{Y({type:"RESOLVE",value:e})})).catch((e=>{Y({type:"REJECT",error:e})})),()=>pO(t)}),[Y,R,Q,J,j]),(0,e.useEffect)((()=>{void 0!==X&&(!1!==X?function(){if(C){if(!X||!Z)return;C(gO(X,Z))}if(a&&j){if(!lO(Q)||!K.current)return;j(Q,K.current)}}():q&&(JD(!1,q.toString()),S&&S(q)))}),[X,Z]);const ee=(0,e.useMemo)((()=>X&&lO(Q)&&J&&lO($)&&lO(Z)?{_className:i,canvasBackground:s,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:b,onGetAnnotationsSuccess:y,onGetStructTreeError:x,onGetStructTreeSuccess:w,onGetTextError:k,onGetTextSuccess:_,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:P,onRenderError:E,onRenderSuccess:T,onRenderTextLayerError:N,onRenderTextLayerSuccess:I,page:X,pageIndex:Q,pageNumber:J,renderForms:D,renderTextLayer:z,rotate:$,scale:Z}:null),[i,s,u,h,b,y,x,w,k,_,A,P,E,T,N,I,X,Q,J,D,z,$,Z]),te=(0,e.useMemo)((()=>HD(H,(()=>X?Z?gO(X,Z):void 0:X))),[H,X,Z]),ne="".concat(Q,"@").concat(Z,"/").concat($),re="".concat(Q,"/").concat($);function ie(){return e.createElement(OO.Provider,{value:ee},function(){switch(O){case"custom":return QD(d,'renderMode was set to "custom", but no customRenderer was passed.'),e.createElement(d,{key:"".concat(ne,"_custom")});case"none":return null;case"svg":return e.createElement(JO,{key:"".concat(re,"_svg")});default:return e.createElement(QO,{key:"".concat(ne,"_canvas"),canvasRef:o})}}(),z?e.createElement($O,{key:"".concat(ne,"_text")}):null,L?e.createElement(ez,{key:"".concat(ne,"_annotations")}):null,l)}return e.createElement("div",Object.assign({className:XD(i,c),"data-page-number":J,ref:DO(g,K),style:{"--scale-factor":"".concat(Z),backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},te),J?null===R||void 0===X||null===X?e.createElement(nO,{type:"loading"},"function"===typeof m?m():m):!1===R||!1===X?e.createElement(nO,{type:"error"},"function"===typeof f?f():f):ie():e.createElement(nO,{type:"no-data"},"function"===typeof v?v():v))},iz=nD.oneOfType([nD.func,nD.node]);rz.propTypes=Object.assign(Object.assign({},xO),{canvasBackground:nD.string,canvasRef:AO,children:nD.node,className:_O,customRenderer:nD.func,customTextRenderer:nD.func,devicePixelRatio:nD.number,error:iz,height:nD.number,imageResourcesPath:nD.string,inputRef:AO,loading:iz,noData:iz,onGetTextError:nD.func,onGetTextSuccess:nD.func,onLoadError:nD.func,onLoadSuccess:nD.func,onRenderError:nD.func,onRenderSuccess:nD.func,onRenderTextLayerError:nD.func,onRenderTextLayerSuccess:nD.func,pageIndex:function(e,t,n){const{[t]:r,pageNumber:i,pdf:a}=e;if(!oO(a))return null;if(oO(r)){if("number"!==typeof r)return new Error("`".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, expected `number`."));if(r<0)return new Error("Expected `".concat(t,"` to be greater or equal to 0."));const{numPages:e}=a;if(r+1>e)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(e-1,"."))}else if(!oO(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pageNumber:function(e,t,n){const{[t]:r,pageIndex:i,pdf:a}=e;if(!oO(a))return null;if(oO(r)){if("number"!==typeof r)return new Error("`".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, expected `number`."));if(r<1)return new Error("Expected `".concat(t,"` to be greater or equal to 1."));const{numPages:e}=a;if(r>e)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(e,"."))}else if(!oO(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pdf:CO,renderAnnotationLayer:nD.bool,renderForms:nD.bool,renderMode:PO,renderTextLayer:nD.bool,rotate:EO,scale:nD.number,width:nD.number});const az=rz;BD.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(BD.version,"/pdf.worker.js");const sz=function(t){let{pdfUrl:n}=t;const[i,a]=(0,e.useState)(null);return(0,r.jsx)("div",{className:"bg-gray-100 p-4 mt-12",children:(0,r.jsx)(LO,{file:n,className:"border rounded-md",onLoadError:e=>{console.error("Error loading PDF: "+e)},onLoadSuccess:e=>{let{numPages:t}=e;return a(t)},children:Array.from(new Array(i),((e,t)=>(0,r.jsx)(az,{pageNumber:t+1,className:"p-4",scale:1.8},"page_".concat(t+1))))})})},oz=(0,e.createContext)(),lz=t=>{let{children:n}=t;const[i,a]=(0,e.useState)(null),[s,o]=(0,e.useState)(null),{assessmentId:l}=se();return(0,e.useEffect)((()=>{(async()=>{const e=Cv(rC,"assessments",l);try{const t=await Sb(e);a({id:l,...t.data()})}catch(Zb){a(null)}})()}),[]),(0,e.useEffect)((()=>{(async()=>{try{if(i){const e=Cv(rC,"scenarios",i.scenarioID),t=await Sb(e);o({id:i.scenarioID,...t.data()})}}catch(Zb){o(null)}})()}),[i]),i?(0,r.jsx)(oz.Provider,{value:{assessment:i,scenario:s},children:n}):(0,r.jsx)("div",{children:"Loading..."})},cz=()=>(0,e.useContext)(oz),dz=t=>{let{onContinue:n}=t;const[i,a]=(0,e.useState)(null),{assessment:s,scenario:o}=cz();return(0,e.useEffect)((()=>{var e;const t=s&&null!==(e=s.prebriefing)&&void 0!==e?e:"invalid.pdf";if("invalid.pdf"!=t){BS(US(WS(),t)).then((e=>{console.log("PDF URL: "+e),a(e)})).catch((e=>{console.error("Error fetching PDF from Firebase Storage:",e)}))}}),[o]),(0,r.jsx)("section",{className:"bg-white dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"gap-8 items-center py-8 px-4 mx-auto max-w-screen-xl xl:gap-16 sm:py-16 lg:px-6",children:[(0,r.jsxs)("div",{className:"mt-4 md:mt-0",children:[(0,r.jsx)("h2",{className:"mb-4 text-3xl tracking-tight font-extrabold text-gray-900 dark:text-white",children:"Prebriefing"}),(0,r.jsxs)("p",{className:"mb-6 font-light text-gray-500 md:text-lg dark:text-gray-400",children:["You can either read the prebriefing directly from the Portal here, or download the PDF using the button below.",(0,r.jsx)("br",{}),'Once you are ready to continue, you may press the "Continue" button.']}),(0,r.jsxs)("div",{class:"flex flex-col mb-8 lg:mb-16 space-y-4 sm:flex-row sm:space-y-0 sm:space-x-4",children:[(0,r.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",class:"inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-900",children:"Download PDF"}),(0,r.jsxs)("button",{onClick:n,class:"inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-gray-900 rounded-lg border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 dark:text-white dark:border-gray-700 dark:hover:bg-gray-700 dark:focus:ring-gray-800",children:["Continue",(0,r.jsx)("svg",{class:"ml-2 -mr-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule":"evenodd"})})]})]})]}),(0,r.jsx)(sz,{pdfUrl:i}),(0,r.jsx)("br",{}),(0,r.jsx)("h2",{className:"mb-4 text-3xl tracking-tight font-extrabold text-gray-900 dark:text-white",children:"Need more info?"}),(0,r.jsx)("p",{className:"mb-6 font-light text-gray-500 md:text-lg dark:text-gray-400",children:"Need extra explanation for this assessment? Watch the video below for a more in-depth explanation."}),(0,r.jsx)("iframe",{class:"mx-auto w-full max-w-2xl h-64 rounded-lg sm:h-96",src:null===o||void 0===o?void 0:o.prebriefingVideo,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})]})})},uz=t=>{var n;let{onContinue:i}=t;const[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)([]),{scenario:d}=cz(),u=ie(),{showNotification:h}=a(),{grade:f}=jD(),{grades:p,setGrades:g}=LC(),m=xC();(0,e.useEffect)((()=>{if(d&&s.length<=0){var e,t;const n=Array(null===(e=d.reflection)||void 0===e?void 0:e.length).fill("unanswered");o(n),console.log("Initialized answers array with length: "+(null===(t=d.reflection)||void 0===t?void 0:t.length))}}),[d]);return(0,r.jsx)("section",{className:"bg-white dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"gap-8 items-center py-8 px-4 mx-auto max-w-screen-xl xl:gap-16 sm:py-16 lg:px-6",children:[(0,r.jsxs)("div",{className:"mt-4 md:mt-0",children:[(0,r.jsx)("h2",{className:"mb-4 text-3xl tracking-tight font-extrabold text-gray-900 dark:text-white",children:"Reflection"}),(0,r.jsx)("p",{className:"mb-6 font-light text-gray-500 md:text-lg dark:text-gray-400",children:"Time to reflect on the simulation and your experience."})]}),null===d||void 0===d||null===(n=d.reflection)||void 0===n?void 0:n.map(((e,t)=>(0,r.jsxs)("div",{class:"max-w-2xl mx-auto px-4",children:[(0,r.jsx)("div",{class:"flex justify-between items-center mb-6",children:(0,r.jsx)("h2",{class:"text-lg lg:text-2xl font-bold text-gray-900 dark:text-white",children:e})}),(0,r.jsx)("form",{class:"mb-6",children:(0,r.jsxs)("div",{class:"py-2 px-4 mb-4 bg-white rounded-lg rounded-t-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[(0,r.jsx)("label",{for:"comment",class:"sr-only",children:"Your comment"}),(0,r.jsx)("textarea",{id:"comment",rows:"6",onChange:e=>((e,t)=>{const n=[...s];n[e]=t,o(n)})(t,e.target.value),class:"px-0 w-full text-sm text-gray-900 border-0 focus:ring-0 focus:outline-none dark:text-white dark:placeholder-gray-400 dark:bg-gray-800",placeholder:"Your answer...",required:!0})]})})]}))),(0,r.jsx)("div",{class:"flex flex-col mb-8 lg:mb-16 space-y-4 sm:flex-row sm:space-y-0 sm:space-x-4",children:(0,r.jsx)("button",{onClick:async()=>{var e;const t=Cv(rC,"users",m.id),n=(null===(e=(await Sb(t)).data())||void 0===e?void 0:e.grades)||[];if(n.length>0){var r;const e=n[n.length-1],i=Cv(rC,"grades",e);await Eb(i,{reflection:s}),await Eb(t,{startedAssignment:""}),console.log("Updated reflection answers to grade doc: "+e);let a={...p};a[m.id]=[...null!==(r=a[m.id])&&void 0!==r?r:[],{...f,id:e}],g(a)}u("/main/assesmentsoverview"),h("success","Assignment completed!")},class:"inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-900",children:"Finish"})})]})})},hz=t=>{var n,i;let{onContinue:a}=t;const[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)([]),{assessment:d}=cz(),u=xC();(0,e.useEffect)((()=>{if(d&&s.length<=0){var e,t;const n=Array(null===(e=d.debriefing)||void 0===e?void 0:e.length).fill("unanswered");o(n),console.log("Initialized answers array with length: "+(null===(t=d.debriefing)||void 0===t?void 0:t.length))}}),[d]);return(0,r.jsx)("section",{className:"bg-white dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"gap-8 items-center py-8 px-4 mx-auto max-w-screen-xl xl:gap-16 sm:py-16 lg:px-6",children:[(0,r.jsxs)("div",{className:"mt-4 md:mt-0",children:[(0,r.jsx)("h2",{className:"mb-4 text-3xl tracking-tight font-extrabold text-gray-900 dark:text-white",children:"Debriefing"}),(0,r.jsx)("p",{className:"mb-6 font-light text-gray-500 md:text-lg dark:text-gray-400",children:"Try to answer the following questions as extensive as possible."})]}),null===d||void 0===d||null===(n=d.debriefing)||void 0===n?void 0:n.map(((e,t)=>(0,r.jsxs)("div",{class:"max-w-2xl mx-auto px-4",children:[(0,r.jsx)("div",{class:"flex justify-between items-center mb-6",children:(0,r.jsx)("h2",{class:"text-lg lg:text-2xl font-bold text-gray-900 dark:text-white",children:e})}),(0,r.jsx)("form",{class:"mb-6",children:(0,r.jsxs)("div",{class:"py-2 px-4 mb-4 bg-white rounded-lg rounded-t-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[(0,r.jsx)("label",{for:"comment",class:"sr-only",children:"Your comment"}),(0,r.jsx)("textarea",{id:"comment",rows:"6",onChange:e=>((e,t)=>{const n=[...s];n[e]=t,o(n)})(t,e.target.value),class:"px-0 w-full text-sm text-gray-900 border-0 focus:ring-0 focus:outline-none dark:text-white dark:placeholder-gray-400 dark:bg-gray-800",placeholder:"Your answer...",required:!0})]})})]}))),null===d||void 0===d||null===(i=d.debriefing_2)||void 0===i?void 0:i.map(((e,t)=>(0,r.jsx)(fz,{data:e}))),(0,r.jsx)("div",{class:"flex flex-col mb-8 lg:mb-16 space-y-4 sm:flex-row sm:space-y-0 sm:space-x-4",children:(0,r.jsxs)("button",{onClick:async()=>{var e;const t=Cv(rC,"users",u.id),n=(null===(e=(await Sb(t)).data())||void 0===e?void 0:e.grades)||[];if(n.length>0){const e=n[n.length-1];Eb(Cv(rC,"grades",e),{debriefing:s}),console.log("Updated debriefing answers to grade doc: "+e)}a()},class:"inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-gray-900 rounded-lg border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 dark:text-white dark:border-gray-700 dark:hover:bg-gray-700 dark:focus:ring-gray-800",children:["Continue",(0,r.jsx)("svg",{class:"ml-2 -mr-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule":"evenodd"})})]})})]})})},fz=t=>{var n;let{data:i}=t;const[a,s]=(0,e.useState)(null),o=e=>a&&i.correctAnswer==e?"dark:bg-green-700 dark:text-white bg-green-500 text-white":a==e?"dark:bg-red-700 dark:text-white bg-red-500 text-white":"dark:bg-gray-700 text-white dark:hover:bg-gray-600 bg-gray-100 hover:bg-gray-200",l=i.correctAnswer==a?TD:ND;return(0,r.jsxs)("div",{className:"mb-8 mt-8 p-6 bg-white dark:bg-gray-800 shadow-lg rounded-md flex items-center",children:[a&&(0,r.jsx)(l,{className:"h-16 w-16 ".concat(a==i.correctAnswer?"text-green-500":"text-red-500"," mr-4 flex-shrink-0"),"aria-hidden":"false"}),(0,r.jsxs)("div",{className:"flex-1 mr-8 grid gap-4p-6 bg-white dark:bg-gray-800",children:[(0,r.jsx)("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-white mb-4",children:i.question}),(0,r.jsx)("div",{className:"grid gap-4",children:null===(n=i.answers)||void 0===n?void 0:n.map(((e,t)=>(0,r.jsx)("label",{id:t,onClick:e=>{a||s(e.target.id)},htmlFor:"choice".concat(t),className:"cursor-pointer block p-4 rounded-md transition duration-300 ".concat(o(t)),children:(0,r.jsx)("span",{className:"text-gray-800 dark:text-white",children:e})})))})]})]})},pz=e=>{let{onReturn:t,onContinue:n}=e;const{assessment:i}=cz();return(0,r.jsx)("section",{class:"bg-white dark:bg-gray-900",children:(0,r.jsxs)("div",{class:"px-4 py-8 mx-auto max-w-screen-xl text-center lg:py-16 lg:px-12",children:[(0,r.jsx)("h1",{class:"mb-4 text-2xl font-extrabold tracking-tight leading-none text-gray-900 md:text-3xl lg:text-4xl dark:text-white tracking-tight",children:"Time to enter the simulation."}),(0,r.jsxs)("p",{class:"mb-8 font-light text-gray-500 md:text-lg lg:text-xl sm:px-16 xl:px-48 dark:text-gray-400",children:["You are now ready to enter the simulation.",(0,r.jsx)("br",{}),"Once entered, you will find your assignment in the simulation under the name: ",i?i.assignmentName:"Loading...",".",(0,r.jsx)("br",{}),"When you are finished you can press the Continue button to finalize the assignment and view your performance."]}),(0,r.jsxs)("div",{class:"flex flex-col mb-8 lg:mb-16 space-y-4 sm:flex-row sm:justify-center sm:space-y-0 sm:space-x-4",children:[(0,r.jsxs)("button",{onClick:t,class:"inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-gray-900 rounded-lg border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 dark:text-white dark:border-gray-700 dark:hover:bg-gray-700 dark:focus:ring-gray-800",children:[(0,r.jsx)("svg",{class:"mr-2 -mr-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L6.414 9H17a1 1 0 110 2H6.414l2.293 2.293a1 1 0 010 1.414z","clip-rule":"evenodd"})}),"Prebriefing"]}),(0,r.jsx)("button",{onClick:n,class:"inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-900",children:"View Performance"})]}),(0,r.jsx)("div",{class:"flex justify-center items-center lg:my-16 divide-x divide-gray-200 dark:divide-gray-700",children:(0,r.jsx)("img",{class:"w-50 h-48 rounded-full border-2 border-white dark:border-gray-800",src:AD,alt:"VR"})}),(0,r.jsx)("h1",{class:"mb-4 text-2xl font-extrabold tracking-tight leading-none text-gray-900 md:text-3xl lg:text-4xl dark:text-white tracking-tight",children:"Need help?"}),(0,r.jsx)("p",{class:"mb-8 font-light text-gray-500 md:text-lg lg:text-xl sm:px-16 xl:px-48 dark:text-gray-400",children:"If you need help on setting up, you can watch the demonstration video below to help guide you in the simulation."}),(0,r.jsx)("iframe",{class:"mx-auto w-full max-w-2xl h-64 rounded-lg sm:h-96",src:"https://www.youtube.com/embed/mIq5ld6Nusg",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})]})})},gz=e=>{let{onContinue:t}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 pt-10",children:[(0,r.jsx)("h1",{class:" text-2xl font-extrabold tracking-tight leading-none text-gray-900 md:text-3xl lg:text-4xl dark:text-white tracking-tight",children:"Great job!"}),(0,r.jsxs)("p",{class:"mb-8 font-light text-gray-500 md:text-lg lg:text-xl sm:px-16 xl:px-48 dark:text-gray-400 text-center",children:["You can now view your performance.",(0,r.jsx)("br",{}),"You also have the ability to read back your interaction with the patient in the Transcript section."]}),(0,r.jsx)(zD,{displayOpenQuestions:!1}),(0,r.jsx)("div",{class:"flex flex-col mb-8 lg:mb-16 space-y-4 sm:flex-row sm:justify-center sm:space-y-0 sm:space-x-4",children:(0,r.jsxs)("button",{onClick:t,className:"inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-900",children:["Debriefing",(0,r.jsx)("svg",{class:"ml-2 -mr-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule":"evenodd"})})]})})]})};function mz(){const{assessment:t}=cz(),n=xC(),{showNotification:i}=a(),[s,o]=(0,e.useState)(1),[l,c]=(0,e.useState)(null),d=()=>{o((e=>e<5?e+1:e)),console.log(s)},u=()=>{o((e=>e>1?e-1:e))},h=e=>{let t="flex md:w-full items-center ".concat(e===s?"text-blue-600 dark:text-blue-500":"text-gray-500 dark:text-gray-400"," sm:after:content-[''] after:w-full after:h-1 ").concat(e<s?"after:border-b after:border-blue-600 dark:after:border-blue-500":"after:border-b after:border-gray-200 dark:after:border-gray-700"," after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10");return 5===e&&(t+=" sm:after:content-none"),t},f=async()=>{var e;const r=Cv(rC,"users",n.id),a=(null===(e=(await Sb(r)).data())||void 0===e?void 0:e.grades)||[];if(a.length>0){const e=a[a.length-1],n=Cv(rC,"grades",e),r=await Sb(n);if(r.exists()){const e=r.data().assessmentID;console.log(e),e===t.id?(console.log("Last grade was correct assessment"),c(r.data()),d()):(console.log("Last grade was NOT correct assessment"),i("danger","You have not completed the assignment yet"))}else console.log("No such grade document!"),i("danger","You have not completed the assignment yet")}else i("danger","You have not completed the assignment yet")};return(0,r.jsxs)("section",{className:"bg-white dark:bg-gray-900 py-4 lg:py-8 antialiased",children:[(0,r.jsx)("h2",{class:"mb-4 text-6xl tracking-tight font-extrabold text-gray-900 dark:text-white text-center",children:t?t.assignmentName:"Loading..."}),(0,r.jsx)("div",{className:"pt-10 max-w-none mx-auto px-8",children:(0,r.jsx)("ol",{className:"flex items-center w-full text-sm font-medium text-center text-gray-500 dark:text-gray-400 sm:text-base",children:["Prebriefing","Start","Grades","Debriefing","Reflection"].map(((e,t)=>{return(0,r.jsx)("li",{className:h(t+1),children:(0,r.jsxs)("span",{className:"flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:text-gray-200 dark:after:text-gray-500",children:[(n=t+1,n<s?(0,r.jsx)("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 me-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})}):(0,r.jsx)("span",{className:"me-2",children:n})),e]})},e);var n}))})}),(0,r.jsx)("div",{className:"step-content",children:(e=>{switch(e){case 1:return(0,r.jsx)(dz,{onContinue:d});case 2:return(0,r.jsx)(pz,{onReturn:u,onContinue:f});case 3:return(0,r.jsxs)(RD,{optionalGrade:l,children:[" ",(0,r.jsx)(gz,{onContinue:d})," "]});case 4:return(0,r.jsx)(hz,{onContinue:d});case 5:return(0,r.jsx)(RD,{optionalGrade:l,children:(0,r.jsx)(uz,{})});default:return(0,r.jsx)("div",{children:"Unknown Step"})}})(s)})]})}const vz=(0,e.createContext)(),bz=t=>{let{children:n}=t;const[i,a]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{"dark"===localStorage.getItem("color-theme")&&a(!0)}),[]),(0,e.useEffect)((()=>{i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme",i?"dark":"light")}),[i]),(0,r.jsx)(vz.Provider,{value:{isDarkMode:i,toggleDarkMode:()=>a(!i)},children:n})};function yz(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}function xz(){let e=[],t={addEventListener:(e,n,r,i)=>(e.addEventListener(n,r,i),t.add((()=>e.removeEventListener(n,r,i)))),requestAnimationFrame(){let e=requestAnimationFrame(...arguments);return t.add((()=>cancelAnimationFrame(e)))},nextFrame(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.requestAnimationFrame((()=>t.requestAnimationFrame(...n)))},setTimeout(){let e=setTimeout(...arguments);return t.add((()=>clearTimeout(e)))},microTask(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i={current:!0};return yz((()=>{i.current&&n[0]()})),t.add((()=>{i.current=!1}))},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add((()=>{Object.assign(e.style,{[t]:r})}))},group(e){let t=xz();return e(t),this.add((()=>t.dispose()))},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function wz(){let[t]=(0,e.useState)(xz);return(0,e.useEffect)((()=>()=>t.dispose()),[t]),t}var kz=Object.defineProperty,_z=(e,t,n)=>(((e,t,n)=>{t in e?kz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let Sz=new class{constructor(){_z(this,"current",this.detect()),_z(this,"handoffState","pending"),_z(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},Cz=(t,n)=>{Sz.isServer?(0,e.useEffect)(t,n):(0,e.useLayoutEffect)(t,n)};function Az(t){let n=(0,e.useRef)(t);return Cz((()=>{n.current=t}),[t]),n}let Pz=function(t){let n=Az(t);return e.useCallback((function(){return n.current(...arguments)}),[n])};function Ez(){let t=(0,e.useRef)(!1);return Cz((()=>(t.current=!0,()=>{t.current=!1})),[]),t}function Tz(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,[n,r]=(0,e.useState)(t),i=Ez(),a=(0,e.useCallback)((e=>{i.current&&r((t=>t|e))}),[n,i]),s=(0,e.useCallback)((e=>Boolean(n&e)),[n]),o=(0,e.useCallback)((e=>{i.current&&r((t=>t&~e))}),[r,i]),l=(0,e.useCallback)((e=>{i.current&&r((t=>t^e))}),[r]);return{flags:n,addFlag:a,hasFlag:s,removeFlag:o,toggleFlag:l}}function Nz(){let n=function(){let e="undefined"==typeof document;return(e=>e.useSyncExternalStore)(t)((()=>()=>{}),(()=>!1),(()=>!e))}(),[r,i]=e.useState(Sz.isHandoffComplete);return r&&!1===Sz.isHandoffComplete&&i(!1),e.useEffect((()=>{!0!==r&&i(!0)}),[r]),e.useEffect((()=>Sz.handoff()),[]),!n&&r}let Iz=Symbol();function Mz(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=(0,e.useRef)(n);(0,e.useEffect)((()=>{i.current=n}),[n]);let a=Pz((e=>{for(let t of i.current)null!=t&&("function"==typeof t?t(e):t.current=e)}));return n.every((e=>null==e||(null==e?void 0:e[Iz])))?void 0:a}function Fz(e,t){if(e in t){let a=t[e];for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return"function"==typeof a?a(...r):a}let a=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map((e=>'"'.concat(e,'"'))).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(a,Fz),a}function Rz(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e&&n.length>0&&e.classList.add(...n)}function jz(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e&&n.length>0&&e.classList.remove(...n)}function Lz(e,t,n,r){let i=n?"enter":"leave",a=xz(),s=void 0!==r?function(e){let t={called:!1};return function(){if(!t.called)return t.called=!0,e(...arguments)}}(r):()=>{};"enter"===i&&(e.removeAttribute("hidden"),e.style.display="");let o=Fz(i,{enter:()=>t.enter,leave:()=>t.leave}),l=Fz(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),c=Fz(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return jz(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Rz(e,...t.base,...o,...c),a.nextFrame((()=>{jz(e,...t.base,...o,...c),Rz(e,...t.base,...o,...l),function(e,t){let n=xz();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[a,s]=[r,i].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t})),o=a+s;if(0!==o){n.group((n=>{n.setTimeout((()=>{t(),n.dispose()}),o),n.addEventListener(e,"transitionrun",(e=>{e.target===e.currentTarget&&n.dispose()}))}));let r=n.addEventListener(e,"transitionend",(e=>{e.target===e.currentTarget&&(t(),r())}))}else t();n.add((()=>t())),n.dispose}(e,(()=>(jz(e,...t.base,...o),Rz(e,...t.base,...t.entered),s())))})),a.dispose}function Dz(e){let{immediate:t,container:n,direction:r,classes:i,onStart:a,onStop:s}=e,o=Ez(),l=wz(),c=Az(r);Cz((()=>{t&&(c.current="enter")}),[t]),Cz((()=>{let e=xz();l.add(e.dispose);let t=n.current;if(t&&"idle"!==c.current&&o.current)return e.dispose(),a.current(c.current),e.add(Lz(t,i.current,"enter"===c.current,(()=>{e.dispose(),s.current(c.current)}))),e.dispose}),[r])}let Oz=(0,e.createContext)(null);Oz.displayName="OpenClosedContext";var zz=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(zz||{});function Gz(){return(0,e.useContext)(Oz)}function Bz(t){let{value:n,children:r}=t;return e.createElement(Oz.Provider,{value:n},r)}function Uz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.from(new Set(t.flatMap((e=>"string"==typeof e?e.split(" "):[])))).filter(Boolean).join(" ")}var Wz=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Wz||{}),Hz=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Hz||{});function Vz(e){let{ourProps:t,theirProps:n,slot:r,defaultTag:i,features:a,visible:s=!0,name:o,mergeRefs:l}=e;l=null!=l?l:Xz;let c=qz(n,t);if(s)return Yz(c,r,i,o,l);let d=null!=a?a:0;if(2&d){let{static:e=!1,...t}=c;if(e)return Yz(t,r,i,o,l)}if(1&d){let{unmount:e=!0,...t}=c;return Fz(e?0:1,{0:()=>null,1:()=>Yz({...t,hidden:!0,style:{display:"none"}},r,i,o,l)})}return Yz(c,r,i,o,l)}function Yz(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,{as:s=r,children:o,refName:l="ref",...c}=Jz(t,["unmount","static"]),d=void 0!==t.ref?{[l]:t.ref}:{},u="function"==typeof o?o(n):o;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(n));let h={};if(n){let e=!1,t=[];for(let[r,i]of Object.entries(n))"boolean"==typeof i&&(e=!0),!0===i&&t.push(r);e&&(h["data-headlessui-state"]=t.join(" "))}if(s===e.Fragment&&Object.keys(Qz(c)).length>0){if(!(0,e.isValidElement)(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(i,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(c).map((e=>"  - ".concat(e))).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>"  - ".concat(e))).join("\n")].join("\n"));let t=u.props,n="function"==typeof(null==t?void 0:t.className)?function(){return Uz(null==t?void 0:t.className(...arguments),c.className)}:Uz(null==t?void 0:t.className,c.className),r=n?{className:n}:{};return(0,e.cloneElement)(u,Object.assign({},qz(u.props,Qz(Jz(c,["ref"]))),h,d,{ref:a(u.ref,d.ref)},r))}return(0,e.createElement)(s,Object.assign({},Jz(c,["ref"]),s!==e.Fragment&&d,s!==e.Fragment&&h),u)}function Xz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((e=>null==e))?void 0:e=>{for(let n of t)null!=n&&("function"==typeof n?n(e):n.current=e)}}function qz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];let r={},i={};for(let a of t)for(let e in a)e.startsWith("on")&&"function"==typeof a[e]?(null!=i[e]||(i[e]=[]),i[e].push(a[e])):r[e]=a[e];if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(i).map((e=>[e,void 0]))));for(let a in i)Object.assign(r,{[a](e){let t=i[a];for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];for(let i of t){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;i(e,...r)}}});return r}function Kz(t){var n;return Object.assign((0,e.forwardRef)(t),{displayName:null!=(n=t.displayName)?n:t.name})}function Qz(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function Jz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function $z(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(/\s+/).filter((e=>e.length>1))}let Zz=(0,e.createContext)(null);Zz.displayName="TransitionContext";var eG=(e=>(e.Visible="visible",e.Hidden="hidden",e))(eG||{});let tG=(0,e.createContext)(null);function nG(e){return"children"in e?nG(e.children):e.current.filter((e=>{let{el:t}=e;return null!==t.current})).filter((e=>{let{state:t}=e;return"visible"===t})).length>0}function rG(t,n){let r=Az(t),i=(0,e.useRef)([]),a=Ez(),s=wz(),o=Pz((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hz.Hidden,n=i.current.findIndex((t=>{let{el:n}=t;return n===e}));-1!==n&&(Fz(t,{[Hz.Unmount](){i.current.splice(n,1)},[Hz.Hidden](){i.current[n].state="hidden"}}),s.microTask((()=>{var e;!nG(i)&&a.current&&(null==(e=r.current)||e.call(r))})))})),l=Pz((e=>{let t=i.current.find((t=>{let{el:n}=t;return n===e}));return t?"visible"!==t.state&&(t.state="visible"):i.current.push({el:e,state:"visible"}),()=>o(e,Hz.Unmount)})),c=(0,e.useRef)([]),d=(0,e.useRef)(Promise.resolve()),u=(0,e.useRef)({enter:[],leave:[],idle:[]}),h=Pz(((e,t,r)=>{c.current.splice(0),n&&(n.chains.current[t]=n.chains.current[t].filter((t=>{let[n]=t;return n!==e}))),null==n||n.chains.current[t].push([e,new Promise((e=>{c.current.push(e)}))]),null==n||n.chains.current[t].push([e,new Promise((e=>{Promise.all(u.current[t].map((e=>{let[t,n]=e;return n}))).then((()=>e()))}))]),"enter"===t?d.current=d.current.then((()=>null==n?void 0:n.wait.current)).then((()=>r(t))):r(t)})),f=Pz(((e,t,n)=>{Promise.all(u.current[t].splice(0).map((e=>{let[t,n]=e;return n}))).then((()=>{var e;null==(e=c.current.shift())||e()})).then((()=>n(t)))}));return(0,e.useMemo)((()=>({children:i,register:l,unregister:o,onStart:h,onStop:f,wait:d,chains:u})),[l,o,i,h,f,u,d])}function iG(){}tG.displayName="NestingContext";let aG=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function sG(e){var t;let n={};for(let r of aG)n[r]=null!=(t=e[r])?t:iG;return n}let oG=Wz.RenderStrategy;let lG=Kz((function(t,n){let{show:r,appear:i=!1,unmount:a=!0,...s}=t,o=(0,e.useRef)(null),l=Mz(o,n);Nz();let c=Gz();if(void 0===r&&null!==c&&(r=(c&zz.Open)===zz.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,u]=(0,e.useState)(r?"visible":"hidden"),h=rG((()=>{u("hidden")})),[f,p]=(0,e.useState)(!0),g=(0,e.useRef)([r]);Cz((()=>{!1!==f&&g.current[g.current.length-1]!==r&&(g.current.push(r),p(!1))}),[g,r]);let m=(0,e.useMemo)((()=>({show:r,appear:i,initial:f})),[r,i,f]);(0,e.useEffect)((()=>{if(r)u("visible");else if(nG(h)){let e=o.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&u("hidden")}else u("hidden")}),[r,h]);let v={unmount:a},b=Pz((()=>{var e;f&&p(!1),null==(e=t.beforeEnter)||e.call(t)})),y=Pz((()=>{var e;f&&p(!1),null==(e=t.beforeLeave)||e.call(t)}));return e.createElement(tG.Provider,{value:h},e.createElement(Zz.Provider,{value:m},Vz({ourProps:{...v,as:e.Fragment,children:e.createElement(cG,{ref:l,...v,...s,beforeEnter:b,beforeLeave:y})},theirProps:{},defaultTag:e.Fragment,features:oG,visible:"visible"===d,name:"Transition"})))})),cG=Kz((function(t,n){var r,i;let{beforeEnter:a,afterEnter:s,beforeLeave:o,afterLeave:l,enter:c,enterFrom:d,enterTo:u,entered:h,leave:f,leaveFrom:p,leaveTo:g,...m}=t,v=(0,e.useRef)(null),b=Mz(v,n),y=null==(r=m.unmount)||r?Hz.Unmount:Hz.Hidden,{show:x,appear:w,initial:k}=function(){let t=(0,e.useContext)(Zz);if(null===t)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),[_,S]=(0,e.useState)(x?"visible":"hidden"),C=function(){let t=(0,e.useContext)(tG);if(null===t)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),{register:A,unregister:P}=C;(0,e.useEffect)((()=>A(v)),[A,v]),(0,e.useEffect)((()=>{if(y===Hz.Hidden&&v.current)return x&&"visible"!==_?void S("visible"):Fz(_,{hidden:()=>P(v),visible:()=>A(v)})}),[_,v,A,P,x,y]);let E=Az({base:$z(m.className),enter:$z(c),enterFrom:$z(d),enterTo:$z(u),entered:$z(h),leave:$z(f),leaveFrom:$z(p),leaveTo:$z(g)}),T=function(t){let n=(0,e.useRef)(sG(t));return(0,e.useEffect)((()=>{n.current=sG(t)}),[t]),n}({beforeEnter:a,afterEnter:s,beforeLeave:o,afterLeave:l}),N=Nz();(0,e.useEffect)((()=>{if(N&&"visible"===_&&null===v.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[v,_,N]);let I=w&&x&&k,M=!N||k&&!w?"idle":x?"enter":"leave",F=Tz(0),R=Pz((e=>Fz(e,{enter:()=>{F.addFlag(zz.Opening),T.current.beforeEnter()},leave:()=>{F.addFlag(zz.Closing),T.current.beforeLeave()},idle:()=>{}}))),j=Pz((e=>Fz(e,{enter:()=>{F.removeFlag(zz.Opening),T.current.afterEnter()},leave:()=>{F.removeFlag(zz.Closing),T.current.afterLeave()},idle:()=>{}}))),L=rG((()=>{S("hidden"),P(v)}),C),D=(0,e.useRef)(!1);Dz({immediate:I,container:v,classes:E,direction:M,onStart:Az((e=>{D.current=!0,L.onStart(v,e,R)})),onStop:Az((e=>{D.current=!1,L.onStop(v,e,j),"leave"===e&&!nG(L)&&(S("hidden"),P(v))}))});let O=m,z={ref:b};return I?O={...O,className:Uz(m.className,...E.current.enter,...E.current.enterFrom)}:D.current&&(O.className=Uz(m.className,null==(i=v.current)?void 0:i.className),""===O.className&&delete O.className),e.createElement(tG.Provider,{value:L},e.createElement(Bz,{value:Fz(_,{visible:zz.Open,hidden:zz.Closed})|F.flags},Vz({ourProps:z,theirProps:O,defaultTag:"div",features:oG,visible:"visible"===_,name:"Transition.Child"})))})),dG=Kz((function(t,n){let r=null!==(0,e.useContext)(Zz),i=null!==Gz();return e.createElement(e.Fragment,null,!r&&i?e.createElement(lG,{ref:n,...t}):e.createElement(cG,{ref:n,...t}))})),uG=Object.assign(lG,{Child:dG,Root:lG});function hG(t,n,r,i){let a=Az(r);(0,e.useEffect)((()=>{function e(e){a.current(e)}return(t=null!=t?t:window).addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}),[t,n,i])}function fG(t){let n=Pz(t),r=(0,e.useRef)(!1);(0,e.useEffect)((()=>(r.current=!1,()=>{r.current=!0,yz((()=>{r.current&&n()}))})),[n])}function pG(e){return Sz.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function gG(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,e.useMemo)((()=>pG(...n)),[...n])}function mG(t,n,r){let i=Az(n);(0,e.useEffect)((()=>{function e(e){i.current(e)}return window.addEventListener(t,e,r),()=>window.removeEventListener(t,e,r)}),[t,r])}var vG=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(vG||{});function bG(t,n){let r=(0,e.useRef)([]),i=Pz(t);(0,e.useEffect)((()=>{let e=[...r.current];for(let[t,a]of n.entries())if(r.current[t]!==a){let t=i(n,e);return r.current=n,t}}),[i,...n])}var yG=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(yG||{});let xG=Kz((function(e,t){var n;let{features:r=1,...i}=e;return Vz({ourProps:{ref:t,"aria-hidden":2===(2&r)||(null!=(n=i["aria-hidden"])?n:void 0),style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4===(4&r)&&2!==(2&r)&&{display:"none"}}},theirProps:i,slot:{},defaultTag:"div",name:"Hidden"})}));let wG=[];!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}((()=>{function e(e){e.target instanceof HTMLElement&&e.target!==document.body&&wG[0]!==e.target&&(wG.unshift(e.target),wG=wG.filter((e=>null!=e&&e.isConnected)),wG.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})}));let kG=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>"".concat(e,":not([tabindex='-1'])"))).join(",");var _G=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(_G||{}),SG=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(SG||{}),CG=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(CG||{});function AG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(kG)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var PG=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(PG||{});function EG(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n;return e!==(null==(n=pG(e))?void 0:n.body)&&Fz(t,{0:()=>e.matches(kG),1(){let t=e;for(;null!==t;){if(t.matches(kG))return!0;t=t.parentElement}return!1}})}var TG=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(TG||{});function NG(e){null==e||e.focus({preventScroll:!0})}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",(e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));let IG=["textarea","input"].join(",");function MG(e,t){let{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return e.slice().sort(((e,n)=>{let r=t(e),i=t(n);if(null===r||null===i)return 0;let a=r.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}(e):e:AG(e);i.length>0&&s.length>1&&(s=s.filter((e=>!i.includes(e)))),r=null!=r?r:a.activeElement;let o,l=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,s.indexOf(r))-1;if(4&t)return Math.max(0,s.indexOf(r))+1;if(8&t)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=32&t?{preventScroll:!0}:{},u=0,h=s.length;do{if(u>=h||u+h<=0)return 0;let e=c+u;if(16&t)e=(e+h)%h;else{if(e<0)return 3;if(e>=h)return 1}o=s[e],null==o||o.focus(d),u+=l}while(o!==a.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,IG))&&n}(o)&&o.select(),2}function FG(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}var RG=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(RG||{});let jG=Kz((function(t,n){let r=(0,e.useRef)(null),i=Mz(r,n),{initialFocus:a,containers:s,features:o=30,...l}=t;Nz()||(o=1);let c=gG(r);!function(t,n){let{ownerDocument:r}=t,i=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=(0,e.useRef)(wG.slice());return bG(((e,t)=>{let[r]=e,[i]=t;!0===i&&!1===r&&yz((()=>{n.current.splice(0)})),!1===i&&!0===r&&(n.current=wG.slice())}),[t,wG,n]),Pz((()=>{var e;return null!=(e=n.current.find((e=>null!=e&&e.isConnected)))?e:null}))}(n);bG((()=>{n||(null==r?void 0:r.activeElement)===(null==r?void 0:r.body)&&NG(i())}),[n]),fG((()=>{n&&NG(i())}))}({ownerDocument:c},Boolean(16&o));let d=function(t,n){let{ownerDocument:r,container:i,initialFocus:a}=t,s=(0,e.useRef)(null),o=Ez();return bG((()=>{if(!n)return;let e=i.current;e&&yz((()=>{if(!o.current)return;let t=null==r?void 0:r.activeElement;if(null!=a&&a.current){if((null==a?void 0:a.current)===t)return void(s.current=t)}else if(e.contains(t))return void(s.current=t);null!=a&&a.current?NG(a.current):MG(e,_G.First)===SG.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=null==r?void 0:r.activeElement}))}),[n]),s}({ownerDocument:c,container:r,initialFocus:a},Boolean(2&o));!function(e,t){let{ownerDocument:n,container:r,containers:i,previousActiveElement:a}=e,s=Ez();hG(null==n?void 0:n.defaultView,"focus",(e=>{if(!t||!s.current)return;let n=FG(i);r.current instanceof HTMLElement&&n.add(r.current);let o=a.current;if(!o)return;let l=e.target;l&&l instanceof HTMLElement?DG(n,l)?(a.current=l,NG(l)):(e.preventDefault(),e.stopPropagation(),NG(o)):NG(a.current)}),!0)}({ownerDocument:c,container:r,containers:s,previousActiveElement:d},Boolean(8&o));let u=function(){let t=(0,e.useRef)(0);return mG("keydown",(e=>{"Tab"===e.key&&(t.current=e.shiftKey?1:0)}),!0),t}(),h=Pz((e=>{let t=r.current;t&&Fz(u.current,{[vG.Forwards]:()=>{MG(t,_G.First,{skipElements:[e.relatedTarget]})},[vG.Backwards]:()=>{MG(t,_G.Last,{skipElements:[e.relatedTarget]})}})})),f=wz(),p=(0,e.useRef)(!1),g={ref:i,onKeyDown(e){"Tab"==e.key&&(p.current=!0,f.requestAnimationFrame((()=>{p.current=!1})))},onBlur(e){let t=FG(s);r.current instanceof HTMLElement&&t.add(r.current);let n=e.relatedTarget;n instanceof HTMLElement&&"true"!==n.dataset.headlessuiFocusGuard&&(DG(t,n)||(p.current?MG(r.current,Fz(u.current,{[vG.Forwards]:()=>_G.Next,[vG.Backwards]:()=>_G.Previous})|_G.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&NG(e.target)))}};return e.createElement(e.Fragment,null,Boolean(4&o)&&e.createElement(xG,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:yG.Focusable}),Vz({ourProps:g,theirProps:l,defaultTag:"div",name:"FocusTrap"}),Boolean(4&o)&&e.createElement(xG,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:yG.Focusable}))})),LG=Object.assign(jG,{features:RG});function DG(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let OG=(0,e.createContext)(!1);function zG(){return(0,e.useContext)(OG)}function GG(t){return e.createElement(OG.Provider,{value:t.force},t.children)}let BG=e.Fragment;let UG=e.Fragment,WG=(0,e.createContext)(null);let HG=(0,e.createContext)(null);let VG=Kz((function(t,n){let r=t,i=(0,e.useRef)(null),a=Mz(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.assign(e,{[Iz]:t})}((e=>{i.current=e})),n),s=gG(i),o=function(t){let n=zG(),r=(0,e.useContext)(WG),i=gG(t),[a,s]=(0,e.useState)((()=>{if(!n&&null!==r||Sz.isServer)return null;let e=null==i?void 0:i.getElementById("headlessui-portal-root");if(e)return e;if(null===i)return null;let t=i.createElement("div");return t.setAttribute("id","headlessui-portal-root"),i.body.appendChild(t)}));return(0,e.useEffect)((()=>{null!==a&&(null!=i&&i.body.contains(a)||null==i||i.body.appendChild(a))}),[a,i]),(0,e.useEffect)((()=>{n||null!==r&&s(r.current)}),[r,s,n]),a}(i),[l]=(0,e.useState)((()=>{var e;return Sz.isServer?null:null!=(e=null==s?void 0:s.createElement("div"))?e:null})),c=(0,e.useContext)(HG),u=Nz();return Cz((()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))}),[o,l]),Cz((()=>{if(l&&c)return c.register(l)}),[c,l]),fG((()=>{var e;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&(null==(e=o.parentElement)||e.removeChild(o)))})),u&&o&&l?(0,d.createPortal)(Vz({ourProps:{ref:a},theirProps:r,defaultTag:BG,name:"Portal"}),l):null})),YG=Kz((function(t,n){let{target:r,...i}=t,a={ref:Mz(n)};return e.createElement(WG.Provider,{value:r},Vz({ourProps:a,theirProps:i,defaultTag:UG,name:"Popover.Group"}))})),XG=Object.assign(VG,{Group:YG});const qG="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},{useState:KG,useEffect:QG,useLayoutEffect:JG,useDebugValue:$G}=t;function ZG(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!qG(n,e)}catch{return!0}}"undefined"!=typeof window&&"undefined"!=typeof window.document&&window.document.createElement;const eB=(e=>e.useSyncExternalStore)(t);function tB(){let e;return{before(t){let{doc:n}=t;var r;let i=n.documentElement;e=(null!=(r=n.defaultView)?r:window).innerWidth-i.clientWidth},after(t){let{doc:n,d:r}=t,i=n.documentElement,a=i.clientWidth-i.offsetWidth,s=e-a;r.style(i,"paddingRight","".concat(s,"px"))}}}function nB(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function rB(){return nB()||/Android/gi.test(window.navigator.userAgent)}function iB(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let aB=function(e,t){let n=e(),r=new Set;return{getSnapshot:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e)),dispatch(e){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];let o=t[e].call(n,...a);o&&(n=o,r.forEach((e=>e())))}}}((()=>new Map),{PUSH(e,t){var n;let r=null!=(n=this.get(e))?n:{doc:e,count:0,d:xz(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT(e){let{doc:t,d:n,meta:r}=e,i={doc:t,d:n,meta:iB(r)},a=[nB()?{before(e){let{doc:t,d:n,meta:r}=e;function i(e){return r.containers.flatMap((e=>e())).some((t=>t.contains(e)))}n.microTask((()=>{var e;if("auto"!==window.getComputedStyle(t.documentElement).scrollBehavior){let e=xz();e.style(t.documentElement,"scrollBehavior","auto"),n.add((()=>n.microTask((()=>e.dispose()))))}let r=null!=(e=window.scrollY)?e:window.pageYOffset,a=null;n.addEventListener(t,"click",(e=>{if(e.target instanceof HTMLElement)try{let n=e.target.closest("a");if(!n)return;let{hash:r}=new URL(n.href),s=t.querySelector(r);s&&!i(s)&&(a=s)}catch{}}),!0),n.addEventListener(t,"touchstart",(e=>{if(e.target instanceof HTMLElement)if(i(e.target)){let t=e.target;for(;t.parentElement&&i(t.parentElement);)t=t.parentElement;n.style(t,"overscrollBehavior","contain")}else n.style(e.target,"touchAction","none")})),n.addEventListener(t,"touchmove",(e=>{if(e.target instanceof HTMLElement)if(i(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}),{passive:!1}),n.add((()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;r!==t&&window.scrollTo(0,r),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)}))}))}}:{},tB(),{before(e){let{doc:t,d:n}=e;n.style(t.documentElement,"overflow","hidden")}}];a.forEach((e=>{let{before:t}=e;return null==t?void 0:t(i)})),a.forEach((e=>{let{after:t}=e;return null==t?void 0:t(i)}))},SCROLL_ALLOW(e){let{d:t}=e;t.dispose()},TEARDOWN(e){let{doc:t}=e;this.delete(t)}});function sB(e,t,n){let r=function(e){return eB(e.subscribe,e.getSnapshot,e.getSnapshot)}(aB),i=e?r.get(e):void 0,a=!!i&&i.count>0;return Cz((()=>{if(e&&t)return aB.dispatch("PUSH",e,n),()=>aB.dispatch("POP",e,n)}),[t,e]),a}var oB;aB.subscribe((()=>{let e=aB.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let e="hidden"===t.get(n.doc),r=0!==n.count;(r&&!e||!r&&e)&&aB.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),0===n.count&&aB.dispatch("TEARDOWN",n)}}));let lB=null!=(oB=e.useId)?oB:function(){let t=Nz(),[n,r]=e.useState(t?()=>Sz.nextId():null);return Cz((()=>{null===n&&r(Sz.nextId())}),[n]),null!=n?""+n:void 0},cB=new Map,dB=new Map;function uB(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Cz((()=>{var n;if(!t)return;let r="function"==typeof e?e():e.current;if(!r)return;let i=null!=(n=dB.get(r))?n:0;return dB.set(r,i+1),0!==i||(cB.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),function(){var e;if(!r)return;let t=null!=(e=dB.get(r))?e:1;if(1===t?dB.delete(r):dB.set(r,t-1),1!==t)return;let n=cB.get(r);n&&(null===n["aria-hidden"]?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",n["aria-hidden"]),r.inert=n.inert,cB.delete(r))}}),[e,t])}function hB(t,n,r){let i=Az(n);(0,e.useEffect)((()=>{function e(e){i.current(e)}return document.addEventListener(t,e,r),()=>document.removeEventListener(t,e,r)}),[t,r])}function fB(t,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=(0,e.useRef)(!1);function a(e,r){if(!i.current||e.defaultPrevented)return;let a=r(e);if(null===a||!a.getRootNode().contains(a)||!a.isConnected)return;let s=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t);for(let t of s){if(null===t)continue;let n=t instanceof HTMLElement?t:t.current;if(null!=n&&n.contains(a)||e.composed&&e.composedPath().includes(n))return}return!EG(a,PG.Loose)&&-1!==a.tabIndex&&e.preventDefault(),n(e,a)}(0,e.useEffect)((()=>{requestAnimationFrame((()=>{i.current=r}))}),[r]);let s=(0,e.useRef)(null);hB("pointerdown",(e=>{var t,n;i.current&&(s.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),hB("mousedown",(e=>{var t,n;i.current&&(s.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),hB("click",(e=>{rB()||s.current&&(a(e,(()=>s.current)),s.current=null)}),!0),hB("touchend",(e=>a(e,(()=>e.target instanceof HTMLElement?e.target:null))),!0),mG("blur",(e=>a(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}let pB=(0,e.createContext)((()=>{}));pB.displayName="StackContext";var gB=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(gB||{});function mB(t){let{children:n,onUpdate:r,type:i,element:a,enabled:s}=t,o=(0,e.useContext)(pB),l=Pz((function(){null==r||r(...arguments),o(...arguments)}));return Cz((()=>{let e=void 0===s||!0===s;return e&&l(0,i,a),()=>{e&&l(1,i,a)}}),[l,i,a,s]),e.createElement(pB.Provider,{value:l},n)}function vB(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}let bB=(0,e.createContext)(null);function yB(){let t=(0,e.useContext)(bB);if(null===t){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,yB),e}return t}let xB=Kz((function(e,t){let n=lB(),{id:r="headlessui-description-".concat(n),...i}=e,a=yB(),s=Mz(t);return Cz((()=>a.register(r)),[r,a.register]),Vz({ourProps:{ref:s,...a.props,id:r},theirProps:i,slot:a.slot||{},defaultTag:"p",name:a.name||"Description"})})),wB=Object.assign(xB,{});var kB=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(kB||{}),_B=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(_B||{}),SB=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(SB||{});let CB={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},AB=(0,e.createContext)(null);function PB(t){let n=(0,e.useContext)(AB);if(null===n){let e=new Error("<".concat(t," /> is missing a parent <Dialog /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(e,PB),e}return n}function EB(e,t){return Fz(t.type,CB,e,t)}AB.displayName="DialogContext";let TB=Wz.RenderStrategy|Wz.Static;let NB=Kz((function(t,n){let r=lB(),{id:i="headlessui-dialog-".concat(r),open:a,onClose:s,initialFocus:o,role:l="dialog",__demoMode:c=!1,...d}=t,[u,h]=(0,e.useState)(0),f=(0,e.useRef)(!1);l="dialog"===l||"alertdialog"===l?l:(f.current||(f.current=!0,console.warn("Invalid role [".concat(l,"] passed to <Dialog />. Only `dialog` and and `alertdialog` are supported. Using `dialog` instead."))),"dialog");let p=Gz();void 0===a&&null!==p&&(a=(p&zz.Open)===zz.Open);let g=(0,e.useRef)(null),m=Mz(g,n),v=gG(g),b=t.hasOwnProperty("open")||null!==p,y=t.hasOwnProperty("onClose");if(!b&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof a)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: ".concat(a));if("function"!=typeof s)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: ".concat(s));let x=a?0:1,[w,k]=(0,e.useReducer)(EB,{titleId:null,descriptionId:null,panelRef:(0,e.createRef)()}),_=Pz((()=>s(!1))),S=Pz((e=>k({type:0,id:e}))),C=!!Nz()&&(!c&&0===x),A=u>1,P=null!==(0,e.useContext)(AB),[E,T]=function(){let t=(0,e.useContext)(HG),n=(0,e.useRef)([]),r=Pz((e=>(n.current.push(e),t&&t.register(e),()=>i(e)))),i=Pz((e=>{let r=n.current.indexOf(e);-1!==r&&n.current.splice(r,1),t&&t.unregister(e)})),a=(0,e.useMemo)((()=>({register:r,unregister:i,portals:n})),[r,i,n]);return[n,(0,e.useMemo)((()=>function(t){let{children:n}=t;return e.createElement(HG.Provider,{value:a},n)}),[a])]}(),N={get current(){var e;return null!=(e=w.panelRef.current)?e:g.current}},{resolveContainers:I,mainTreeNodeRef:M,MainTreeNode:F}=function(){let{defaultContainers:t=[],portals:n,mainTreeNodeRef:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;let a=(0,e.useRef)(null!=(i=null==r?void 0:r.current)?i:null),s=gG(a),o=Pz((()=>{var e,r,i;let o=[];for(let n of t)null!==n&&(n instanceof HTMLElement?o.push(n):"current"in n&&n.current instanceof HTMLElement&&o.push(n.current));if(null!=n&&n.current)for(let t of n.current)o.push(t);for(let t of null!=(e=null==s?void 0:s.querySelectorAll("html > *, body > *"))?e:[])t!==document.body&&t!==document.head&&t instanceof HTMLElement&&"headlessui-portal-root"!==t.id&&(t.contains(a.current)||t.contains(null==(i=null==(r=a.current)?void 0:r.getRootNode())?void 0:i.host)||o.some((e=>t.contains(e)))||o.push(t));return o}));return{resolveContainers:o,contains:Pz((e=>o().some((t=>t.contains(e))))),mainTreeNodeRef:a,MainTreeNode:(0,e.useMemo)((()=>function(){return null!=r?null:e.createElement(xG,{features:yG.Hidden,ref:a})}),[a,r])}}({portals:E,defaultContainers:[N]}),R=A?"parent":"leaf",j=null!==p&&(p&zz.Closing)===zz.Closing,L=!P&&!j&&C,D=(0,e.useCallback)((()=>{var e,t;return null!=(t=Array.from(null!=(e=null==v?void 0:v.querySelectorAll("body > *"))?e:[]).find((e=>"headlessui-portal-root"!==e.id&&(e.contains(M.current)&&e instanceof HTMLElement))))?t:null}),[M]);uB(D,L);let O=!!A||C,z=(0,e.useCallback)((()=>{var e,t;return null!=(t=Array.from(null!=(e=null==v?void 0:v.querySelectorAll("[data-headlessui-portal]"))?e:[]).find((e=>e.contains(M.current)&&e instanceof HTMLElement)))?t:null}),[M]);uB(z,O),fB(I,_,!(!C||A));let G=!(A||0!==x);hG(null==v?void 0:v.defaultView,"keydown",(e=>{G&&(e.defaultPrevented||e.key===kB.Escape&&(e.preventDefault(),e.stopPropagation(),_()))})),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>[document.body];sB(e,t,(e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],n]}}))}(v,!(j||0!==x||P),I),(0,e.useEffect)((()=>{if(0!==x||!g.current)return;let e=new ResizeObserver((e=>{for(let t of e){let e=t.target.getBoundingClientRect();0===e.x&&0===e.y&&0===e.width&&0===e.height&&_()}}));return e.observe(g.current),()=>e.disconnect()}),[x,g,_]);let[B,U]=function(){let[t,n]=(0,e.useState)([]);return[t.length>0?t.join(" "):void 0,(0,e.useMemo)((()=>function(t){let r=Pz((e=>(n((t=>[...t,e])),()=>n((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),i=(0,e.useMemo)((()=>({register:r,slot:t.slot,name:t.name,props:t.props})),[r,t.slot,t.name,t.props]);return e.createElement(bB.Provider,{value:i},t.children)}),[n])]}(),W=(0,e.useMemo)((()=>[{dialogState:x,close:_,setTitleId:S},w]),[x,w,_,S]),H=(0,e.useMemo)((()=>({open:0===x})),[x]),V={ref:m,id:i,role:l,"aria-modal":0===x||void 0,"aria-labelledby":w.titleId,"aria-describedby":B};return e.createElement(mB,{type:"Dialog",enabled:0===x,element:g,onUpdate:Pz(((e,t)=>{"Dialog"===t&&Fz(e,{[gB.Add]:()=>h((e=>e+1)),[gB.Remove]:()=>h((e=>e-1))})}))},e.createElement(GG,{force:!0},e.createElement(XG,null,e.createElement(AB.Provider,{value:W},e.createElement(XG.Group,{target:g},e.createElement(GG,{force:!1},e.createElement(U,{slot:H,name:"Dialog.Description"},e.createElement(LG,{initialFocus:o,containers:I,features:C?Fz(R,{parent:LG.features.RestoreFocus,leaf:LG.features.All&~LG.features.FocusLock}):LG.features.None},e.createElement(T,null,Vz({ourProps:V,theirProps:d,slot:H,defaultTag:"div",features:TB,visible:0===x,name:"Dialog"}))))))))),e.createElement(F,null))})),IB=Kz((function(t,n){let r=lB(),{id:i="headlessui-dialog-backdrop-".concat(r),...a}=t,[{dialogState:s},o]=PB("Dialog.Backdrop"),l=Mz(n);(0,e.useEffect)((()=>{if(null===o.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[o.panelRef]);let c=(0,e.useMemo)((()=>({open:0===s})),[s]);return e.createElement(GG,{force:!0},e.createElement(XG,null,Vz({ourProps:{ref:l,id:i,"aria-hidden":!0},theirProps:a,slot:c,defaultTag:"div",name:"Dialog.Backdrop"})))})),MB=Kz((function(t,n){let r=lB(),{id:i="headlessui-dialog-panel-".concat(r),...a}=t,[{dialogState:s},o]=PB("Dialog.Panel"),l=Mz(n,o.panelRef),c=(0,e.useMemo)((()=>({open:0===s})),[s]),d=Pz((e=>{e.stopPropagation()}));return Vz({ourProps:{ref:l,id:i,onClick:d},theirProps:a,slot:c,defaultTag:"div",name:"Dialog.Panel"})})),FB=Kz((function(t,n){let r=lB(),{id:i="headlessui-dialog-overlay-".concat(r),...a}=t,[{dialogState:s,close:o}]=PB("Dialog.Overlay"),l=Mz(n),c=Pz((e=>{if(e.target===e.currentTarget){if(vB(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),o()}}));return Vz({ourProps:{ref:l,id:i,"aria-hidden":!0,onClick:c},theirProps:a,slot:(0,e.useMemo)((()=>({open:0===s})),[s]),defaultTag:"div",name:"Dialog.Overlay"})})),RB=Kz((function(t,n){let r=lB(),{id:i="headlessui-dialog-title-".concat(r),...a}=t,[{dialogState:s,setTitleId:o}]=PB("Dialog.Title"),l=Mz(n);(0,e.useEffect)((()=>(o(i),()=>o(null))),[i,o]);let c=(0,e.useMemo)((()=>({open:0===s})),[s]);return Vz({ourProps:{ref:l,id:i},theirProps:a,slot:c,defaultTag:"h2",name:"Dialog.Title"})})),jB=Object.assign(NB,{Backdrop:IB,Panel:MB,Overlay:FB,Title:RB,Description:wB});function LB(t){let{onClose:n}=t;const{showNotification:i}=a(),{isPopUpVisible:s}=(0,PC.G)(),[o,l]=(0,e.useState)(null);return(0,r.jsx)(uG,{appear:!0,show:s,as:e.Fragment,children:(0,r.jsx)(jB,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:n,children:(0,r.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,r.jsx)(uG.Child,{as:e.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(jB.Overlay,{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,r.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),(0,r.jsx)(uG.Child,{as:e.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsx)(jB.Panel,{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl dark:bg-gray-800",children:o?(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:()=>{l(null)},className:"text-blue-600 hover:text-blue-800 dark:hover:text-blue-400",children:"\u2190 Back"}),(0,r.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white",children:o}),(0,r.jsxs)("form",{className:"space-y-6 mt-4",submit:()=>{},children:[(0,r.jsx)("textarea",{className:"block w-full p-2.5 text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",rows:"4",placeholder:"Type your question here..."}),(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Send"})})]})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)(jB.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 dark:text-white",children:"How can we help you?"}),(0,r.jsx)("div",{className:"mt-2",children:["General questions","Technical support","Billing and payments","Feedback and suggestions"].map(((e,t)=>(0,r.jsx)("div",{role:"button",tabIndex:0,className:"first:mt-0 mt-2 p-2 border rounded-md cursor-pointer text-sm text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:()=>{l(e)},children:e},t)))})]})})})]})})})}const DB=t=>{let{items:n,darkMode:i}=t;const a=ie(),{toggleDarkMode:s}=(0,e.useContext)(vz),[o,l]=(0,e.useState)([]),{showPopUp:c}=(0,PC.G)(),d=xC();(0,e.useEffect)((()=>{if(d){const e=n.filter((e=>!e.roles||e.roles.includes(d.roleName)));l(e)}}),[d]);return(0,r.jsxs)("aside",{class:"fixed top-0 left-0  w-64 h-screen pt-14 transition-transform -translate-x-full bg-white border-r border-gray-200 md:translate-x-0 dark:bg-gray-800 dark:border-gray-700","aria-label":"Sidenav",id:"drawer-navigation",children:[(0,r.jsxs)("div",{class:"overflow-y-auto py-5 px-3 h-full bg-white dark:bg-gray-800",children:[(0,r.jsx)("ul",{class:"space-y-2",children:o?o.map(((e,t)=>(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:"#",onClick:t=>{t.preventDefault(),e.path?a(e.path):e.onClick&&e.onClick()},class:"flex items-center p-2 text-base font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[(0,r.jsx)(e.icon,{}),(0,r.jsx)("span",{class:"ml-3",children:e.label})]})},t))):null}),(0,r.jsxs)("ul",{class:"pt-5 mt-5 space-y-2 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:"#",onClick:e=>{c((0,r.jsx)(LB,{onClose:()=>c(null)})),e.preventDefault()},class:"flex items-center p-2 text-base font-medium text-gray-900 rounded-lg transition duration-75 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white group",children:[(0,r.jsx)("svg",{"aria-hidden":"true",class:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-2 0c0 .993-.241 1.929-.668 2.754l-1.524-1.525a3.997 3.997 0 00.078-2.183l1.562-1.562C15.802 8.249 16 9.1 16 10zm-5.165 3.913l1.58 1.58A5.98 5.98 0 0110 16a5.976 5.976 0 01-2.516-.552l1.562-1.562a4.006 4.006 0 001.789.027zm-4.677-2.796a4.002 4.002 0 01-.041-2.08l-.08.08-1.53-1.533A5.98 5.98 0 004 10c0 .954.223 1.856.619 2.657l1.54-1.54zm1.088-6.45A5.974 5.974 0 0110 4c.954 0 1.856.223 2.657.619l-1.54 1.54a4.002 4.002 0 00-2.346.033L7.246 4.668zM12 10a2 2 0 11-4 0 2 2 0 014 0z","clip-rule":"evenodd"})}),(0,r.jsx)("span",{class:"ml-3",children:"Help"})]})})]})]}),(0,r.jsxs)("div",{class:"hidden absolute bottom-0 left-0 justify-center p-4 space-x-4 w-full lg:flex bg-white dark:bg-gray-800 z-20",children:[(0,r.jsxs)("button",{onClick:s,id:"theme-toggle",type:"button",className:"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5",children:[(0,r.jsx)("svg",{id:"theme-toggle-dark-icon",className:i?"w-5 h-5":"hidden w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}),(0,r.jsx)("svg",{id:"theme-toggle-light-icon",className:i?"hidden w-5 h-5":"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","fill-rule":"evenodd","clip-rule":"evenodd"})})]}),(0,r.jsxs)("div",{id:"tooltip-settings",role:"tooltip",class:"inline-block absolute invisible z-10 py-2 px-3 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 transition-opacity duration-300 tooltip",children:["Settings page",(0,r.jsx)("div",{class:"tooltip-arrow","data-popper-arrow":!0})]}),(0,r.jsx)("div",{class:"hidden z-50 my-4 text-base list-none bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700",id:"language-dropdown"})]})]})};function OB(){var t;const n=xC(),{logout:i}=sC(),[a,s]=(0,e.useState)(!1),o=(0,e.useRef)(null),l=(0,e.useRef)(null),c=ie();return(0,e.useEffect)((()=>{function e(e){!o.current||o.current.contains(e.target)||l.current.contains(e.target)||s(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),(0,e.useEffect)((()=>{}),[n]),(0,r.jsx)("nav",{className:"bg-white border-b border-gray-200 px-4 py-2.5 dark:bg-gray-800 dark:border-gray-700 fixed left-0 right-0 top-0 z-20 sticky",children:(0,r.jsxs)("div",{className:"flex flex-wrap justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex justify-start items-center",children:[(0,r.jsxs)("button",{"data-drawer-target":"drawer-navigation","data-drawer-toggle":"drawer-navigation","aria-controls":"drawer-navigation",className:"p-2 mr-2 text-gray-600 rounded-lg cursor-pointer md:hidden hover:text-gray-900 hover:bg-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700 focus:ring-2 focus:ring-gray-100 dark:focus:ring-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[(0,r.jsx)("svg",{"aria-hidden":"true",className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})}),(0,r.jsx)("svg",{"aria-hidden":"true",className:"hidden w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})}),(0,r.jsx)("span",{class:"sr-only",children:"Toggle sidebar"})]}),(0,r.jsx)("img",{src:Te,className:"mr-3 h-12 pr-14",alt:"Courseta Logo"}),(0,r.jsxs)("div",{className:"flex flex-col mr-20",children:[(0,r.jsxs)("span",{className:"self-center text-xl font-semibold whitespace-nowrap dark:text-white",children:[null===n||void 0===n?void 0:n.firstName," ",null===n||void 0===n?void 0:n.lastName]}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:null===n||void 0===n?void 0:n.roleName})]})]}),(0,r.jsxs)("div",{class:"relative inline-block text-left flex items-center lg:order-2",children:[(0,r.jsxs)("button",{ref:l,type:"button",className:"flex mx-3 text-sm bg-gray-800 rounded-full md:mr-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600",id:"user-menu-button","aria-expanded":a?"true":"false",onClick:()=>{s(!a)},children:[(0,r.jsx)("span",{class:"sr-only",children:"Open user menu"}),(0,r.jsx)("img",{src:null!==(t=null===n||void 0===n?void 0:n.photo_url)&&void 0!==t?t:"https://ui-avatars.com/api/?name=John+Doe&color=7F9CF5&background=EBF4FF",className:"h-12 w-12 rounded-full object-cover",alt:"user profile"})]}),(0,r.jsxs)("div",{ref:o,className:"".concat(a?"block":"hidden"," absolute z-50 my-4 w-56 text-base list-none bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600"),style:{top:"100%",right:0},children:[(0,r.jsx)("ul",{class:"py-1 text-gray-700 dark:text-gray-300","aria-labelledby":"dropdown",children:(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),c("/main/profile")},className:"block py-2 px-4 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-400 dark:hover:text-white",children:"My profile"})})}),(0,r.jsx)("ul",{class:"py-1 text-gray-700 dark:text-gray-300","aria-labelledby":"dropdown",children:(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#",class:"block py-2 px-4 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",onClick:async()=>{await i(),c("/signin")},children:"Sign out"})})})]})]})]})})}function zB(){const e=[{label:"Dashboard",path:"/main/dashboard",icon:GC.ABC},{label:"Assignments",path:"/main/assesmentsoverview",roles:["Student"],icon:GC.eVK},{label:"Library",path:"/main/libraryoverview",roles:["Teacher","Admin"],icon:GC.eVK},{label:"Courses",path:"/main/classroomoverview",roles:["Teacher","Admin","Student"],icon:GC.nSL},{label:"Schools",path:"/main/schoolsoverview",roles:["Admin"],icon:GC.w7X},{label:"Grades",path:"/main/gradesoverview",icon:GC.jth},{label:"Scenarios",path:"/main/scenariosoverview",roles:["Admin"],icon:GC.eVK},{label:"Tokens",path:"/main/tokensoverview",roles:["Admin"],icon:GC.q$j},{label:"Questionaires",path:"/main/questionnairesoverview",roles:["Admin"],icon:GC.iQO},{label:"Users",path:"/main/users",roles:["Admin","Teacher"],icon:GC.Sy$}];return(0,r.jsx)("div",{className:"antialiased bg-gray-50 dark:bg-gray-900",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(OB,{}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(DB,{items:e}),(0,r.jsx)("main",{class:"min-h-screen p-0 md:ml-64 h-auto pt-0 bg-cover bg-no-repeat",children:(0,r.jsx)(xe,{})})]})]})})}const GB=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}))}));function BB(){const[t,n]=(0,e.useState)(null),{showNotification:i}=a(),{id:s}=se(),o=ie();(0,e.useEffect)((()=>{(async()=>{const e=Cv(rC,"questionaires",s),t=await Sb(e);t.exists()&&n(t.data())})()}),[s]);const l=(e,r,i)=>{const a=[...t.questions],s={...a[e],[r]:i};a[e]=s,n({...t,questions:a})},c=(e,r,i,a)=>{const s=[...t.questions],o=[...s[e].answers],l={...o[r],[i]:a};o[r]=l,s[e]={...s[e],answers:o},n({...t,questions:s})};return t?(0,r.jsxs)("div",{className:"dark:bg-gray-800 dark:text-white",children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),o("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"Questionaires"}),(0,r.jsx)(oP.Item,{children:null===t||void 0===t?void 0:t.Title})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:null===t||void 0===t?void 0:t.Title})]}),(0,r.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:async()=>{try{const e=Cv(rC,"questionaires",s);await Eb(e,t),i("succes","Questionnaire saved!")}catch(e){i("danger","Questionnaire not saved!")}},children:"Save"})]})}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{className:"container mx-auto p-4 space-y-4",children:[null===t||void 0===t?void 0:t.questions.map(((e,i)=>(0,r.jsxs)("div",{className:"relative p-4 border rounded shadow dark:border-gray-600",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Question ".concat(i+1)}),(0,r.jsx)("button",{className:"p-1 rounded bg-red-500 text-white hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700",onClick:()=>(e=>{n((t=>{const n=t.questions.filter(((t,n)=>n!==e));return{...t,questions:n}}))})(i),children:(0,r.jsx)(GB,{className:"h-5 w-5"})})]}),(0,r.jsx)("input",{className:"w-full p-2 mb-2 border rounded dark:bg-gray-700 dark:border-gray-600",type:"text",value:e.questionTitle,placeholder:"Enter question title",onChange:e=>l(i,"questionTitle",e.target.value)}),(0,r.jsx)("textarea",{className:"w-full p-2 mb-2 border rounded dark:bg-gray-700 dark:border-gray-600",value:e.description,placeholder:"Enter question description",onChange:e=>l(i,"description",e.target.value)}),(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[e.answers.map(((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600",type:"text",value:e.answer,placeholder:"Enter answer option",onChange:e=>c(i,t,"answer",e.target.value)}),(0,r.jsx)("input",{type:"checkbox",checked:e.isCorrect,className:"form-checkbox h-5 w-5 text-blue-600 rounded focus:ring-blue-500 dark:focus:ring-blue-600",onChange:e=>c(i,t,"isCorrect",e.target.checked)}),(0,r.jsx)("button",{className:"p-2 rounded bg-red-500 text-white hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700",onClick:()=>((e,t)=>{n((n=>{const r=[...n.questions];return r[e].answers=r[e].answers.filter(((e,n)=>n!==t)),{...n,questions:r}}))})(i,t),children:(0,r.jsx)(GB,{className:"h-5 w-5"})})]},t))),(0,r.jsxs)("button",{onClick:()=>(e=>{const r=[...t.questions];r[e].answers.push({answer:"",isCorrect:!1}),n({...t,questions:r})})(i),class:"flex items-center px-6 py-1.5 border border-gray-400 mt-4 hover:text-white text-gray-600 dark:text-gray-300 rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-700 mx-auto",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6  mr-2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Add Answer"]})]})]},i))),(0,r.jsx)("div",{className:"flex justify-center mt-8 p-4",children:(0,r.jsxs)("button",{onClick:()=>{const e={questionTitle:"",description:"",imageUrl:"",answers:[{answer:"",isCorrect:!1}]};n((t=>({...t,questions:[...t.questions,e]})))},class:"flex items-center px-6 py-1.5 border border-gray-400 mt-4 hover:text-white text-gray-600 dark:text-gray-300 rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-700 mx-auto",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6  mr-2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Add New Question"]})})]})]}):(0,r.jsx)("div",{children:"Loading..."})}const UB=(0,e.createContext)();function WB(){return(0,e.useContext)(UB)}function HB(t){let{children:n}=t;const{courses:i,setCourses:s}=LC(),[o,l]=(0,e.useState)(null),[c,d]=(0,e.useState)([]),[u,h]=(0,e.useState)([]),[f,p]=(0,e.useState)(!0),{classroomId:g}=se(),{showNotification:m}=a();(0,e.useEffect)((()=>{l(i.find((e=>e.id==g)))}),[i]),(0,e.useEffect)((()=>{(async()=>{if(o){var e;p(!0);const t=null!==(e=o.modules)&&void 0!==e?e:[],n=await pC(t,eC);h(n),p(!1)}})()}),[o]);return(0,r.jsx)(UB.Provider,{value:{course:o,addAssignment:async e=>{const t=await(async(e,t)=>{const n=Sv(rC,qS),r=await Nb(n,t),i=Cv(rC,XS,e);return await Eb(i,{assessments:Fb(r)}),r})(o.id,e),n=i.map((e=>e.id!=o.id?e:{...o,assessments:[...o.assessments,t]}));s(n),console.log(n)},deleteAssignment:async e=>{const t=i.map((t=>t.id!=o.id?t:{...o,assessments:o.assessments.filter((t=>t!==e))}));s(t),console.log(t),await(async(e,t)=>{const n=Cv(rC,XS,e);await Eb(n,{assessments:Rb(t)});const r=Cv(rC,qS,t);await Tb(r)})(o.id,e),m("success","Assignment deleted")},uploadCourseFiles:async e=>{for(const r of e)await dC(r,"learningMaterials/".concat(o.id)),await vC(o.id,XS,{learningMaterials:Fb(r.name)});const t=e.map((e=>e.name)),n=i.map((e=>{var n;return e.id!=o.id?e:{...o,learningMaterials:[...null!==(n=o.learningMaterials)&&void 0!==n?n:[],...t]}}));s(n)},deleteCourseFile:e=>{const t=i.map((t=>{var n;return t.id!=o.id?t:{...o,learningMaterials:null===(n=o.learningMaterials)||void 0===n?void 0:n.filter((t=>t!==e))}}));s(t),uC(e,"learningMaterials/".concat(o.id)),vC(o.id,XS,{learningMaterials:Rb(e)})},addUsers:async e=>{const t=i.map((t=>t.id!=o.id?t:{...o,attendees:[...e,...o.attendees]}));console.log(t),s(t),await(async(e,t)=>{const n=Cv(rC,XS,t);await Eb(n,{attendees:Fb(...e)});for(const r of e){const e=Cv(rC,VS,r);await Eb(e,{attendingClasses:Fb(t)})}})(e,o.id)},removeUsers:async e=>{const t=i.map((t=>t.id!=o.id?t:{...o,attendees:o.attendees.filter((t=>!e.includes(t)))}));s(t),await(async(e,t)=>{const n=Cv(rC,XS,t);await Eb(n,{attendees:Rb(...e)});for(const r of e){const e=Cv(rC,VS,r);await Eb(e,{attendingClasses:Rb(t)})}})(e,o.id)},addScenarios:async e=>{const t=i.map((t=>{var n;return t.id!=o.id?t:{...o,availableScenarios:[...e,...null!==(n=o.availableScenarios)&&void 0!==n?n:[]]}}));console.log(t),s(t),await(async(e,t)=>{const n=Cv(rC,XS,t);return await Eb(n,{availableScenarios:Fb(...e)})})(e,o.id)},removeScenarios:async e=>{const t=i.map((t=>{var n;return t.id!=o.id?t:{...o,availableScenarios:null===(n=o.availableScenarios)||void 0===n?void 0:n.filter((t=>!e.includes(t)))}}));s(t),await(async(e,t)=>{const n=Cv(rC,XS,t);return await Eb(n,{availableScenarios:Rb(...e)})})(e,o.id)},addModule:async(e,t)=>{const n=await mC({title:e,subtitle:t,course:o.id},eC);await vC(o.id,XS,{modules:Fb(n)}),s(i.map((e=>{var t;return e.id!==o.id?e:{...e,modules:[...null!==(t=e.modules)&&void 0!==t?t:[],n]}})))},deleteModule:async e=>{await bC(e,eC),await vC(o.id,XS,{modules:Rb(e)}),s(i.map((t=>{var n;return t.id!==o.id?t:{...t,modules:null===(n=t.modules)||void 0===n?void 0:n.filter((t=>t.id!==e))}})))},modules:u,modulesLoading:f,addModuleItem:async(e,t)=>{var n,r;if(null!==(n=u.find((e=>e.id===t)))&&void 0!==n&&null!==(r=n.content)&&void 0!==r&&r.find((t=>t.item===e.item)))return console.warn("Module already contains: "+e.type+" : "+e.item),!1;await vC(t,eC,{content:Fb(e)});const i=u.map((n=>{var r;return n.id!==t?n:{...n,content:[...null!==(r=n.content)&&void 0!==r?r:[],e]}}));return h(i),!0},removeModuleItem:async(e,t)=>{await vC(t,eC,{content:Rb(e)});const n=u.map((n=>{var r;return n.id!==t?n:{...n,content:null===(r=n.content)||void 0===r?void 0:r.filter((t=>t.item!==e.item))}}));h(n)}},children:n})}const VB=(0,e.createContext)();function YB(){return(0,e.useContext)(VB)}function XB(t){let{children:n}=t;const[i,a]=(0,e.useState)(null),{scenarios:s,courses:o,setCourses:l,templates:c,setScenarios:d}=LC(),{scenarioId:u}=se(),h=ne(),{classroomId:f,assignmentName:p}=h.state||{},[g,m]=(0,e.useState)({});xC();(0,e.useEffect)((()=>{if(s&&u){const e=s.find((e=>e.id===u));if(e){let t={...e};p&&(t.assignmentName=p,t.classroomId=f,t.scenarioID=u,t.dueDate=new Date),a(t)}else if(c){const e=c.find((e=>e.id===u));if(e){let t={...e};t.assignmentName=p,t.classroomId=f,t.scenarioID=u,a(t)}}}}),[s,u]);return(0,r.jsx)(VB.Provider,{value:{scenario:i,addField:(e,t)=>{let n={...i};const r=n[t];n[t]=[...r,e],a(n),console.log("Updated scenario"),console.log(n)},setField:(e,t)=>{let n={...i};n[t]=e,a(n),console.log("Updated scenario"),console.log(n)},removeField:(e,t)=>{},setFile:(e,t)=>{var n;let r,s={...g};s[t]=e,m(s),r="".concat(i.assignmentName?"teacherAssignments":"scenarios","/").concat(null!==(n=null===i||void 0===i?void 0:i.id)&&void 0!==n?n:"undefined_scenario","/").concat(e.name);let o={...i};o[t]=r,a(o),console.log("Updated scenario with file path:",r)},getFile:e=>g[e],save:async()=>{if(i){let e=0;if(i.assignmentName?(console.log(i.assignmentName),e=await mC(i,qS)):(delete i.assignmentName,delete i.dueDate,delete i.classroomId,delete i.scenarioID,e=i.id,await vC(e,KS,i),d(s.map((t=>t.id===e?i:t))),console.log(s.map((t=>t.id===e?i:t)))),f){await vC(f,XS,{assessments:Fb(e)});const t=o.map((t=>{var n;return t.id!==f?t:{...t,assessments:[...null!==(n=t.assessments)&&void 0!==n?n:[],e]}}));l(t)}console.log("Saved to: "+(i.assignmentName?"assignments":"scenarios")+", with ID: "+e);for(const t of Object.keys(g)){const e=i[t].split("/").slice(0,-1).join("/");await dC(g[t],e),console.log("Uploaded file: "+t+" to: "+e)}}}},children:n})}function qB(){var t,n;const{showNotification:i}=a(),{scenario:s,addField:o,save:l}=YB(),c=xC(),d=ie();return(0,e.useEffect)((()=>{}),[c]),(0,e.useEffect)((()=>{}),[s]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),d("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"Scenarios"}),(0,r.jsx)(oP.Item,{children:null!==s&&void 0!==s&&s.assignmentName?null===s||void 0===s?void 0:s.assignmentName:null!==(t=null===s||void 0===s?void 0:s.name)&&void 0!==t?t:"Undefined scenario"})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:null!==s&&void 0!==s&&s.assignmentName?null===s||void 0===s?void 0:s.assignmentName:null!==(n=null===s||void 0===s?void 0:s.name)&&void 0!==n?n:"Undefined scenario"})]}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)("button",{onClick:async()=>{await l(),d(-1)},className:"px-4 py-2 bg-blue-600 text-white text-lg font-large rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})})]})}),(0,r.jsxs)("div",{className:"container mx-auto p-4 space-y-4",children:[!(null!==s&&void 0!==s&&s.assignmentName)&&(0,r.jsx)(KB,{}),!(null!==s&&void 0!==s&&s.assignmentName)&&(0,r.jsx)(JB,{}),!(null!==s&&void 0!==s&&s.assignmentName)&&(0,r.jsx)($B,{}),(null===s||void 0===s?void 0:s.assignmentName)&&(0,r.jsx)(QB,{}),(0,r.jsx)(ZB,{}),(0,r.jsx)(eU,{}),(0,r.jsx)(tU,{}),(0,r.jsx)(nU,{})]})]})}const KB=()=>{const{scenario:t,setField:n}=YB(),{questionnaires:i}=LC(),a=(ie(),{chosenQuestionnaireId:null});return(0,e.useEffect)((()=>{}),[t]),(0,r.jsx)("div",{className:"container mx-auto my-8 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800",children:(0,r.jsxs)("div",{className:"my-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Questionnaire:"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:null===i||void 0===i?void 0:i.map((e=>(0,r.jsxs)("label",{className:"inline-flex items-center mt-3",children:[(0,r.jsx)("input",{type:"radio",name:"questionnaire",checked:(null!==t&&void 0!==t?t:a).chosenQuestionnaireId===e.id,onChange:()=>n(e.id,"chosenQuestionnaireId"),className:"w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,r.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:e.Title})]},e.id)))})]})})},QB=()=>{const{scenario:t,setField:n}=YB();xC();return(0,e.useEffect)((()=>{}),[t]),(0,r.jsxs)("div",{className:"container mx-auto my-8 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Due date"}),(0,r.jsx)("div",{className:"flex flex-col gap-4 p-4",children:(0,r.jsx)(HP,{id:"dueDate",onSelectedDateChanged:e=>{console.log(e),n(e,"dueDate")},className:"mb-2",dateFormat:"yyyy-MM-dd"})})]})},JB=()=>{const{scenario:t,setFile:n,getFile:i}=YB(),[a,s]=(0,e.useState)("");return(0,e.useEffect)((()=>{(async()=>{if(t&&t.scenarioPicture){const e=await cC(t.scenarioPicture);if(e)s(e);else{const e=i("scenarioPicture");if(e){const t=URL.createObjectURL(e);s(t)}}}})()}),[null===t||void 0===t?void 0:t.scenarioPicture]),(0,r.jsxs)("div",{className:"container mx-auto my-8 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Scenario Picture"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("label",{className:"block",children:[(0,r.jsx)("span",{className:"sr-only",children:"Choose scenario picture file"}),(0,r.jsx)("input",{id:"pictureInput",type:"file",accept:"image/*",onChange:e=>{n(e.target.files[0],"scenarioPicture")},className:"block w-full text-sm text-gray-500\r file:mr-4 file:py-2 file:px-4\r file:rounded-full file:border-0\r file:text-sm file:font-semibold\r file:bg-blue-50 file:text-blue-700\r hover:file:bg-blue-100\r dark:file:bg-gray-600 dark:file:text-gray-200\r cursor-pointer",style:{display:"none"}})]}),(0,r.jsx)("button",{onClick:()=>document.getElementById("pictureInput").click(),className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:null!==t&&void 0!==t&&t.scenarioPicture?"Edit Picture":"Choose Picture"}),a&&(0,r.jsx)("img",{src:a,alt:"Scenario",className:"ml-3 h-20 w-20 object-cover rounded-lg"})]})]})},$B=()=>{const{scenario:e,setField:t}=YB();return(0,r.jsxs)("div",{className:"container mx-auto my-8 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Prebriefing Video Link"}),(0,r.jsx)("div",{className:"flex items-center mb-2",children:(0,r.jsx)("input",{type:"text",value:(null===e||void 0===e?void 0:e.prebriefingVideo)||"",onChange:e=>{const n=(e=>{const t=/(?:https?:\/\/)?(?:www\.)?youtu\.be\/(.+)/g.exec(e),n=t&&t[1];return n?"https://www.youtube.com/embed/".concat(n):e})(e.target.value);t(n,"prebriefingVideo")},placeholder:"Paste the YouTube video link here",className:"p-2 border rounded-l flex-grow"})})]})},ZB=()=>{const{scenario:t,setFile:n,getFile:i}=YB(),[a,s]=(0,e.useState)("");return(0,e.useEffect)((()=>{(async()=>{if(t&&t.prebriefing){const e=await cC(t.prebriefing);if(e)s(e);else{const e=i("prebriefing");if(e){const t=URL.createObjectURL(e);s(t)}}}})()}),[null===t||void 0===t?void 0:t.prebriefing]),(0,r.jsxs)("div",{className:"container mx-auto my-8 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Prebriefing"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("label",{className:"block",children:[(0,r.jsx)("span",{className:"sr-only",children:"Choose prebriefing file"}),(0,r.jsx)("input",{id:"fileInput",type:"file",accept:".pdf",onChange:e=>{n(e.target.files[0],"prebriefing")},className:"block w-full text-sm text-gray-500\r file:mr-4 file:py-2 file:px-4\r file:rounded-full file:border-0\r file:text-sm file:font-semibold\r file:bg-blue-50 file:text-blue-700\r hover:file:bg-blue-100\r dark:file:bg-gray-600 dark:file:text-gray-200\r cursor-pointer",style:{display:"none"}})]}),(0,r.jsx)("button",{onClick:()=>document.getElementById("fileInput").click(),className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:null!==t&&void 0!==t&&t.prebriefing?"Edit Prebriefing":"Choose File"}),(0,r.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"ml-3 text-sm font-medium text-blue-500 hover:underline",children:null!==t&&void 0!==t&&t.prebriefing?t.prebriefing.split("/").pop():"No file chosen"})]})]})},eU=()=>{var t;const{scenario:n,setField:i}=YB(),[a,s]=(0,e.useState)("");return(0,e.useEffect)((()=>{}),[null===n||void 0===n?void 0:n.debriefing]),(0,r.jsxs)("div",{className:"container mx-auto my-8 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Debriefing"}),null===n||void 0===n||null===(t=n.debriefing)||void 0===t?void 0:t.map(((e,t)=>(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("input",{type:"text",id:t,value:e,onChange:e=>(e=>{let t=[...null===n||void 0===n?void 0:n.debriefing];t[e.target.id]=e.target.value,i(t,"debriefing")})(e),className:"p-2 border rounded flex-grow"}),(0,r.jsx)("button",{onClick:()=>(e=>{var t;const r=null===n||void 0===n||null===(t=n.debriefing)||void 0===t?void 0:t.filter(((t,n)=>n!==e));i(r,"debriefing")})(t),className:"ml-2 p-2 bg-red-500 text-white rounded",children:(0,r.jsx)(GB,{className:"h-5 w-5"})})]},t))),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,r.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"Enter new question",className:"p-2 border border-gray-300 rounded flex-grow focus:border-blue-600 focus:ring focus:ring-blue-500 focus:ring-opacity-50"}),(0,r.jsxs)("button",{onClick:()=>{if(""!==a){const e=[...(null===n||void 0===n?void 0:n.debriefing)||[],a];i(e,"debriefing"),s("")}},class:"flex items-center px-6 py-1.5 border border-gray-400 mt-4 hover:text-white text-gray-600 dark:text-gray-300 rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-700 mx-auto",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6  mr-2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Add Field"]})]})]})},tU=()=>{var t;const{scenario:n,setField:i}=YB(),a=(e,t,r,a)=>{let s=[...n.debriefing_2];"question"===t?s[r].question=e.target.value:"answer"===t?s[r].answers[a]=e.target.value:"correctAnswer"===t&&(s[r].correctAnswer=Number(e.target.value)),i(s,"debriefing_2")};return(0,e.useEffect)((()=>{}),[null===n||void 0===n?void 0:n.debriefing_2]),(0,r.jsxs)("div",{className:"container mx-auto my-8 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Clinical Judgment Debriefing"}),null===n||void 0===n||null===(t=n.debriefing_2)||void 0===t?void 0:t.map(((e,t)=>(0,r.jsxs)("div",{className:"mb-6 bg-white dark:bg-gray-700 p-4 rounded-md shadow-sm",children:[(0,r.jsx)("input",{type:"text",id:"question_".concat(t),placeholder:"Enter question",value:e.question,onChange:e=>a(e,"question",t),className:"p-2 border rounded w-full"}),e.answers.map(((n,i)=>(0,r.jsxs)("div",{className:"flex items-center mt-2",children:[(0,r.jsx)("input",{type:"radio",id:"correctAnswer_".concat(t,"_").concat(i),value:Number(i),name:"correctAnswer_".concat(t),checked:e.correctAnswer===i,onChange:e=>a(e,"correctAnswer",t),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 rounded mr-4"}),(0,r.jsx)("input",{type:"text",id:"answer_".concat(t,"_").concat(i),placeholder:"Answer ".concat(i+1),value:n,onChange:e=>a(e,"answer",t,i),className:"p-2 border rounded flex-grow"})]},i))),(0,r.jsx)("button",{onClick:()=>(e=>{var t;const r=null===n||void 0===n||null===(t=n.debriefing_2)||void 0===t?void 0:t.filter(((t,n)=>n!==e));i(r,"debriefing_2")})(t),className:"w-full py-2 bg-red-500 text-white rounded mt-4 hover:bg-red-600",children:"Delete Question"})]},t))),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("button",{onClick:()=>{var e;i([...null!==(e=null===n||void 0===n?void 0:n.debriefing_2)&&void 0!==e?e:[],{question:"",answers:["","","",""],correctAnswer:0}],"debriefing_2")},className:"flex items-center px-6 py-1.5 border border-gray-400 mt-4 hover:text-white text-gray-600 dark:text-gray-300 rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-700 mx-auto",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-6 h-6 mr-2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Add Question"]})})]})},nU=()=>{var t;const{scenario:n,setField:i}=YB(),[a,s]=(0,e.useState)(""),o=e=>{let t=[...null===n||void 0===n?void 0:n.reflection];t[e.target.id]=e.target.value,i(t,"reflection")};return(0,e.useEffect)((()=>{}),[null===n||void 0===n?void 0:n.reflection]),(0,r.jsxs)("div",{className:"container mx-auto my-8 p-4 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Reflection"}),null===n||void 0===n||null===(t=n.reflection)||void 0===t?void 0:t.map(((e,t)=>(0,r.jsxs)("div",{className:"flex items-center mb-4 space-x-2",children:[(0,r.jsx)("input",{type:"text",id:t,value:e,onChange:o,className:"p-2 border rounded flex-grow shadow-sm"}),(0,r.jsx)("button",{onClick:()=>(e=>{var t;const r=null===n||void 0===n||null===(t=n.reflection)||void 0===t?void 0:t.filter(((t,n)=>n!==e));i(r,"reflection")})(t),className:"p-2 bg-red-500 text-white rounded hover:bg-red-700 transition-colors",children:(0,r.jsx)(GB,{className:"h-5 w-5"})})]},t))),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"Enter new question",className:"p-2 border rounded flex-grow shadow-sm"}),(0,r.jsxs)("button",{onClick:()=>{if(""!==a){const e=[...(null===n||void 0===n?void 0:n.reflection)||[],a];i(e,"reflection"),s("")}},class:"flex items-center px-6 py-1.5 border border-gray-400 mt-4 hover:text-white text-gray-600 dark:text-gray-300 rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-700 mx-auto",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6  mr-2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})," Add Field"]})]})]})};function rU(t){let{onClose:n,addCourse:i}=t;const{showNotification:s}=a(),[o,l]=(0,e.useState)("");return(0,r.jsx)("div",{id:"createClassroomModal",tabIndex:"-1","aria-hidden":"true",className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center ".concat(n?"":"hidden"),children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen relative p-4 w-full max-w-2xl h-full md:h-auto",children:(0,r.jsxs)("div",{className:"relative p-4 w-full max-w-2xl h-full md:h-auto bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center pb-4 mb-4 rounded-t border-b sm:mb-5 dark:border-gray-600",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Add course"}),(0,r.jsxs)("button",{onClick:n,type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"createClassroomModal",children:[(0,r.jsx)("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),(0,r.jsx)("span",{className:"sr-only",children:"Close modal"})]})]}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o?(i(o),s("success","Course added"),l(""),n()):s("danger","Please enter a course name.")},children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"className",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Classroom Name"}),(0,r.jsx)("input",{type:"text",name:"className",id:"className",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Enter course name",required:!0,value:o,onChange:e=>l(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{type:"submit",className:"w-full text-white bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Add course"}),(0,r.jsx)("button",{onClick:n,type:"button",className:"w-full text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",children:"Discard"})]})]})]})})})}function iU(){const e=xC(),{showPopUp:t}=(0,PC.G)(),n=ie();return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),n("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"Courses"})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:"Courses"})]}),(0,r.jsx)("div",{className:"block items-center sm:flex mt-8 mb-4",children:(0,r.jsx)("div",{className:"flex w-full items-center",children:"Student"!==(null===e||void 0===e?void 0:e.roleName)&&(0,r.jsx)(aU,{})})})]})}),"Admin"===e.roleName?(0,r.jsx)(sU,{}):(0,r.jsx)(oU,{user:e})]})}function aU(){const{showPopUp:e}=(0,PC.G)(),{addCourse:t}=LC();return(0,r.jsxs)("button",{onClick:()=>{e((0,r.jsx)(rU,{onClose:()=>e(null),addCourse:t}))},type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:["Add course",(0,r.jsx)("svg",{class:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})}const sU=()=>{const[t,n]=(0,e.useState)([]),[i,a]=(0,e.useState)([]),[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{const e=await Ab(Sv(rC,"schools"));n(e.docs.map((e=>({id:e.id,...e.data()}))))})()}),[]),(0,e.useEffect)((()=>{(async()=>{const e=await Ab(Sv(rC,"classRooms"));a(e.docs.map((e=>({id:e.id,...e.data()}))))})()}),[]),(0,e.useEffect)((()=>{if(l){const e=i.filter((e=>e.schoolID===l));o(e)}}),[l,i]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex flex-row flex-wrap gap-2 p-4",children:t.map((e=>(0,r.jsx)(nP,{onClick:()=>{return t=e.id,void c(t);var t},color:"light",children:e.name},e.id)))}),(0,r.jsx)("div",{children:s.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:s.map((e=>(0,r.jsx)(lU,{course:e},e.id)))}):l&&(0,r.jsx)("div",{className:"p-4",children:"No courses found for this school."})})]})};function oU(e){var t;let{user:n}=e;const{courses:i}=LC(),{showPopUp:a}=(0,PC.G)(),{addCourse:s}=LC();if(i)return i&&Object.values(i).forEach((e=>{console.log("Course name:",e.className)})),(0,r.jsx)("div",{children:(null===(t=Object.values(i))||void 0===t?void 0:t.length)>0?(0,r.jsx)("div",{className:"px-4 pt-6 grid w-full grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:Object.values(i).map((e=>(0,r.jsx)(lU,{course:e,user:n},e.id)))}):(0,r.jsxs)("div",{class:"pt-20 flex flex-col items-center justify-center",children:[(0,r.jsx)("div",{class:"flex justify-center items-center",children:(0,r.jsx)("img",{class:"w-64 h-64",src:"https://res.cloudinary.com/daqsjyrgg/image/upload/v1690257804/jjqw2hfv0t6karxdeq1s.svg",alt:"image empty states"})}),(0,r.jsx)("h1",{class:"text-gray-700 dark:text-white font-medium text-2xl text-center mb-3",children:"You have not made any courses yet."}),(0,r.jsx)("p",{class:"text-gray-500 dark:text-gray-300 text-center mb-6",children:"Start by creating a course using the button below"}),(0,r.jsx)("div",{class:"flex flex-col justify-center",children:"Student"!==(null===n||void 0===n?void 0:n.roleName)&&(0,r.jsxs)("button",{onClick:()=>{a((0,r.jsx)(rU,{onClose:()=>a(null),addCourse:s}))},class:"flex items-center px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6  mr-2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Create New Course"]})})]})})}function lU(e){var t;let{course:n,user:i}=e;const a=ie(),{deleteCourse:s}=LC();return(0,r.jsxs)("div",{className:"rounded-lg bg-white p-4 shadow dark:bg-gray-800 sm:p-6 xl:p-8",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("div",{className:"shrink-0",children:[(0,r.jsx)("span",{className:"text-2xl font-bold leading-none text-gray-900 dark:text-white sm:text-3xl",children:n.className}),(0,r.jsxs)("h3",{className:"text-base font-normal text-gray-600 dark:text-gray-400",children:[(null===(t=n.attendees)||void 0===t?void 0:t.length)-1," students"]})]})}),(0,r.jsx)("div",{class:"rounded-lg w-full h-96 mt-4 bg-orange-300 dark:bg-orange-400",alt:""}),(0,r.jsxs)("div",{className:"flex justify-between pt-3 sm:pt-6",children:[(0,r.jsxs)("button",{onClick:e=>{e.preventDefault(),a("/main/classroomdetails/".concat(n.id))},className:"inline-flex items-center rounded-lg p-2 text-xs font-medium uppercase text-primary-700 hover:bg-gray-100 dark:text-primary-500 dark:hover:bg-gray-700 sm:text-sm",children:["View Course",(0,r.jsx)("svg",{className:"ml-1 h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),"Student"!==(null===i||void 0===i?void 0:i.roleName)&&(0,r.jsx)("button",{onClick:e=>{e.preventDefault(),window.confirm('Are you sure you want to delete "'.concat(n.className,'" ?'))&&s(n)},className:"inline-flex items-center rounded-lg p-2 text-xs font-medium uppercase text-red-700 hover:bg-gray-100 dark:text-red-500 dark:hover:bg-gray-700 sm:text-sm",children:"Delete course"})]})]},n.id)}function cU(t){var n;let{course:i,onClose:s,addUsers:o,removeUsers:l}=t;const{showNotification:c}=a(),{showPopUp:d}=(0,PC.G)(),{school:u}=LC(),[h,f]=(0,e.useState)([]),[p,g]=(0,e.useState)([]),{getUserData:m}=LC(),v=xC();(0,e.useEffect)((()=>{var e,t;i&&(f(null===(e=i.attendees)||void 0===e?void 0:e.filter((e=>e!==v))),g(null===(t=i.attendees)||void 0===t?void 0:t.filter((e=>e!==v))))}),[i]);return(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto ".concat(s?"flex":"hidden"," items-center justify-center"),children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen relative p-4 w-full max-w-2xl h-full md:h-auto",children:(0,r.jsxs)("div",{className:"relative p-4 w-full max-w-2xl h-full md:h-auto bg-white rounded-lg shadow dark:bg-gray-800",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center pb-4 mb-4 border-b dark:border-gray-600",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Course Attendees"}),(0,r.jsxs)("button",{onClick:()=>{d(null)},type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto justify content-end dark:hover:bg-gray-600 dark:hover:text-white",children:[(0,r.jsx)("span",{className:"sr-only",children:"Close modal"}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),(0,r.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[null===(n=u.attendees)||void 0===n?void 0:n.map((e=>{const t=m(e);return console.log(t.firstName),t.id!==v.id?(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("input",{id:"checkbox-".concat(t.id),type:"checkbox",checked:p.find((e=>t.id===e)),onChange:()=>(e=>{g((t=>p.find((t=>t===e.id))?t.filter((t=>t!==e.id)):[...t,e.id]))})(t),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,r.jsxs)("label",{htmlFor:"checkbox-".concat(t.id),className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:[t.firstName," ",t.lastName," - ",t.email]})]},t.id):(0,r.jsx)("div",{})})),(0,r.jsx)("button",{onClick:async()=>{c("success","Attendees updated successfully!"),s();const e=p.filter((e=>!h.some((t=>t===e))));console.log(e.length+" new attendees."),e.length>0&&(await o(e),console.log("added: "+e));const t=h.filter((e=>!p.some((t=>t===e))));console.log(t.length+" removed attendees."),t.length>0&&(await l(t),console.log("removed: "+t))},className:"mt-4 p-2 text-white bg-blue-500 rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})})})}function dU(t){let{classroomId:n,onClose:i,onNavigateAfterCreate:s}=t;const[o,l]=(0,e.useState)(""),[c,d]=(0,e.useState)(""),{scenarios:u,templates:h}=LC(),{showNotification:f}=a(),{showPopUp:p}=(0,PC.G)();return(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto ".concat(i?"flex":"hidden"," items-center justify-center"),children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen relative p-4 w-full max-w-2xl h-full md:h-auto",children:(0,r.jsxs)("div",{className:"relative p-4 w-full max-w-2xl h-full md:h-auto bg-white rounded-lg shadow dark:bg-gray-800",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center pb-4 mb-4 border-b dark:border-gray-600",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-300 mb-2",children:"Create Assignment"}),(0,r.jsxs)("button",{onClick:i,type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto justify content-end dark:hover:bg-gray-600 dark:hover:text-white",children:[(0,r.jsx)("span",{className:"sr-only",children:"Close modal"}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c?(f("success","Assignment Initialized!"),s(c,n,o),p(null)):f("danger","Please select a scenario!")},children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("input",{type:"text",id:"assignmentName",value:o,onChange:e=>l(e.target.value),className:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"Enter assignment name",required:!0})}),(0,r.jsxs)("fieldset",{className:"mb-4",children:[(0,r.jsx)("legend",{className:"text-sm font-medium text-gray-900 dark:text-gray-300 mb-2",children:"Select Scenario"}),u.map(((e,t)=>(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("input",{id:"scenario-".concat(t),type:"radio",name:"scenario",value:e.id,checked:c===e.id,onChange:e=>d(e.target.value),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,r.jsx)("label",{htmlFor:"scenario-".concat(t),className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:e.name})]},t)))]}),h&&h.length>0&&(0,r.jsxs)("fieldset",{className:"mb-4",children:[(0,r.jsx)("legend",{className:"text-sm font-medium text-gray-900 dark:text-gray-300 mb-2",children:"or select one of your templates"}),h.map(((e,t)=>(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("input",{id:"scenario-".concat(t),type:"radio",name:"scenario",value:e.id,checked:c===e.id,onChange:e=>d(e.target.value),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,r.jsx)("label",{htmlFor:"scenario-".concat(t),className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:e.assignmentName})]},t)))]}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Start"})]})]})})})}function uU(e){let{onCreate:t}=e;const{showPopUp:n}=(0,PC.G)();return(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center",children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen relative p-4 w-full max-w-2xl h-full md:h-auto",children:(0,r.jsxs)("div",{className:"relative p-4 w-full max-w-2xl h-full md:h-auto bg-white rounded-lg shadow dark:bg-gray-800",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center pb-4 mb-4 border-b dark:border-gray-600",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{class:"mb-1 text-xl font-medium text-gray-900 dark:text-white",children:"Create a new module"}),(0,r.jsx)("p",{class:"mb-4 text-base leading-relaxed text-gray-500 dark:text-gray-400",children:"Use modules to organize your learning materials into separate learning blocks."})]}),(0,r.jsx)("button",{onClick:()=>n(null),"data-collapse-toggle":"newsletter-pop-up",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",id:"close-modal",children:(0,r.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await t(e.target[0].value,e.target[1].value),n(null)},children:[(0,r.jsxs)("div",{class:"relative z-0 mb-7",children:[(0,r.jsx)("input",{type:"text",id:"floating_name",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-primary-500 focus:outline-none focus:ring-0 focus:border-primary-600 peer",placeholder:" ",required:!0}),(0,r.jsx)("label",{for:"floating_name",class:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-primary-600 peer-focus:dark:text-primary-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Title (e.g. Week 1)"})]}),(0,r.jsxs)("div",{class:"relative z-0 mb-7",children:[(0,r.jsx)("input",{type:"text",id:"floating_name",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-primary-500 focus:outline-none focus:ring-0 focus:border-primary-600 peer",placeholder:" ",required:!0}),(0,r.jsx)("label",{for:"floating_name",class:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-primary-600 peer-focus:dark:text-primary-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Subtitle (e.g. Cardiac)"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",class:"py-3 px-5 w-full text-sm font-medium text-center text-white rounded-lg cursor-pointer bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Create"})})]})]})})})}function hU(t){var n;let{module:i,course:a,addItem:s,handleCreateAssignment:o}=t;const{showPopUp:l}=(0,PC.G)(),[c,d]=(0,e.useState)(null);return i||l(null),(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center",children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen relative p-4 w-full max-w-2xl h-full md:h-auto",children:(0,r.jsxs)("div",{className:"relative p-4 w-full max-w-2xl h-full md:h-auto bg-white rounded-lg shadow dark:bg-gray-800",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center pb-4 mb-4 border-b dark:border-gray-600",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{class:"mb-1 text-xl font-medium text-gray-900 dark:text-white",children:[i.title,": ",i.subtitle]}),(0,r.jsx)("p",{class:"mb-4 text-base leading-relaxed text-gray-500 dark:text-gray-400",children:"Add existing assignments or create a new one."})]}),(0,r.jsx)("button",{onClick:()=>l(null),"data-collapse-toggle":"newsletter-pop-up",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",id:"close-modal",children:(0,r.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),(0,r.jsxs)("form",{onSubmit:()=>{s({item:null===c||void 0===c?void 0:c.id,type:"assignment"}),l(null)},children:[(0,r.jsxs)("fieldset",{className:"mb-4",children:[(0,r.jsx)("legend",{className:"text-sm font-medium text-gray-900 dark:text-gray-300 mb-2",children:"Existing Assignments"}),null===(n=a.assessments)||void 0===n?void 0:n.map(((e,t)=>(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("input",{id:"assignment-".concat(t),type:"radio",name:"assignment",value:e.id,checked:(null===c||void 0===c?void 0:c.id)===e.id,onChange:()=>{d(e)},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,r.jsx)("label",{htmlFor:"assignment-".concat(t),className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:e.assignmentName})]},t))),(0,r.jsxs)("button",{onClick:o,class:"flex items-center px-4 py-1.5 border border-gray-400 mt-4 hover:text-white text-gray-600 dark:text-gray-300 rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-700 mx-auto",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6  mr-2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Create New Assignment"]})]}),(0,r.jsx)("button",{type:"submit",className:"p-3 mt-5 w-full justify-center text-white bg-blue-500 rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})})})}function fU(t){var n;let{module:i,course:a,addItem:s,handleUploadDocument:o}=t;const{showPopUp:l}=(0,PC.G)(),[c,d]=(0,e.useState)(null);return i||l(null),(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center",children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen relative p-4 w-full max-w-2xl h-full md:h-auto",children:(0,r.jsxs)("div",{className:"relative p-4 w-full max-w-2xl h-full md:h-auto bg-white rounded-lg shadow dark:bg-gray-800",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center pb-4 mb-4 border-b dark:border-gray-600",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{class:"mb-1 text-xl font-medium text-gray-900 dark:text-white",children:[i.title,": ",i.subtitle]}),(0,r.jsx)("p",{class:"mb-4 text-base leading-relaxed text-gray-500 dark:text-gray-400",children:"Add existing assignments or create a new one."})]}),(0,r.jsx)("button",{onClick:()=>l(null),"data-collapse-toggle":"newsletter-pop-up",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",id:"close-modal",children:(0,r.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),(0,r.jsxs)("form",{onSubmit:()=>{s({item:c,type:"document"}),l(null)},children:[(0,r.jsxs)("fieldset",{className:"mb-4",children:[(0,r.jsx)("legend",{className:"text-sm font-medium text-gray-900 dark:text-gray-300 mb-2",children:"Existing Learning Materials"}),null===(n=a.learningMaterials)||void 0===n?void 0:n.map(((e,t)=>(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("input",{id:"doc-".concat(t),type:"radio",name:"document",value:e,checked:c===e,onChange:()=>{d(e)},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,r.jsx)("label",{htmlFor:"document-".concat(t),className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:e})]},t))),(0,r.jsxs)("button",{onClick:o,class:"flex items-center px-4 py-1.5 border border-gray-400 mt-4 hover:text-white text-gray-600 dark:text-gray-300 rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-700 mx-auto",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6  mr-2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Upload New Document"]})]}),(0,r.jsx)("button",{type:"submit",className:"p-3 mt-5 w-full justify-center text-white bg-blue-500 rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})})})}var pU=__webpack_require__(7032);function gU(){var t,n;const{showNotification:i}=a(),{showPopUp:s}=(0,PC.G)(),o=ie(),[l,c]=(0,e.useState)([]),d=xC(),{course:u,uploadCourseFiles:h,deleteCourseFile:f,addUsers:p,removeUsers:g,addScenarios:m,removeScenarios:v}=WB(),{users:b,getUserListData:y,getUserData:x}=LC();(0,e.useEffect)((()=>{u&&(c(y(null===u||void 0===u?void 0:u.attendees)),console.log(u.id))}),[u,b]);const w=(e,t,n)=>{o("/main/scenarioDetails/".concat(e),{state:{classroomId:t,assignmentName:n}})},k=async e=>{await h(e),i("success","Files uploaded")},_=()=>{s((0,r.jsx)(cU,{course:u,addUsers:p,removeUsers:g,onClose:()=>s(null)}))},S=()=>{const e=null===u||void 0===u?void 0:u.schoolID;s((0,r.jsx)(dU,{classroomId:null===u||void 0===u?void 0:u.id,schoolID:e,onNavigateAfterCreate:w,onClose:()=>s(null)}))},C=()=>{s((0,r.jsx)(pU.A,{handleUploadFiles:k}))};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),o("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"Courses"}),(0,r.jsx)(oP.Item,{children:(null===u||void 0===u?void 0:u.className)||"Classroom Name"})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:(null===u||void 0===u?void 0:u.className)||"Classroom Name"})]}),(0,r.jsx)("div",{className:"block items-center sm:flex mt-8 mb-4",children:(0,r.jsx)("div",{className:"flex w-full items-center"})})]})}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"container mx-auto p-4 bg-gray-50 dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"mb-10",children:[(0,r.jsxs)("div",{className:"flex grid grid-cols-3 items-start justify-between",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)(xU,{handleCreateAssignment:S,handleUploadDocument:C}),"Student"!==(null===d||void 0===d?void 0:d.roleName)&&(0,r.jsxs)("div",{className:"p-4 mt-5 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold whitespace-nowrap dark:text-white",children:"Students"}),"Student"!==(null===d||void 0===d?void 0:d.roleName)&&(0,r.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:_,children:"Edit"})]}),(0,r.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:(null===l||void 0===l?void 0:l.length)>1?null===l||void 0===l?void 0:l.map(((e,t)=>e.id!=(null===d||void 0===d?void 0:d.id)?(0,r.jsx)("li",{className:"py-3 sm:py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4 cursor-pointer",onClick:()=>(e=>{const t=x(e);s((0,r.jsx)(zC,{user:t,onClose:()=>s(null),userRole:null===d||void 0===d?void 0:d.roleName}))})(e.id),children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("img",{className:"w-8 h-8 rounded-full",src:e.photo_url||AD,alt:"".concat(e.firstName," ").concat(e.lastName," profile")})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-900 truncate dark:text-white",children:[e.firstName," ",e.lastName]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 truncate dark:text-gray-400",children:e.email})]})]})},t):(0,r.jsx)("div",{}))):(0,r.jsx)("tbody",{class:"divide-y items-center flex justify-center divide-gray-200 dark:divide-gray-700",children:(0,r.jsx)("tr",{children:(0,r.jsxs)("td",{class:"w-full text-center mx-auto py-12",colspan:"5",children:[(0,r.jsx)("img",{class:"w-32 h-32 mx-auto",src:"https://res.cloudinary.com/daqsjyrgg/image/upload/v1690261234/di7tvpnzsesyo7vvsrq4.svg",alt:"image empty states"}),(0,r.jsx)("p",{class:"text-gray-700 dark:text-white font-medium text-lg text-center",children:"No students to display."}),(0,r.jsx)("p",{class:"text-gray-500 dark:text-gray-400 text-center",children:"You can add new students to the course."}),(0,r.jsxs)("button",{onClick:_,class:"flex items-center px-4 py-1.5 border border-gray-400 mt-4 hover:text-white text-gray-600 dark:text-gray-300 rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-700 mx-auto",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6  mr-2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Add New Student"]})]})})})})]})]}),"Student"!==(null===d||void 0===d?void 0:d.roleName)&&(0,r.jsxs)("div",{className:"flex grid md:col-span-1",children:[(0,r.jsxs)("button",{onClick:S,type:"button",class:"m-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:["New Assignment",(0,r.jsx)("svg",{class:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:(0,r.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{s((0,r.jsx)(yU,{course:u,addScenarios:m,removeScenarios:v}))},class:"m-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:["Open Lab",(0,r.jsx)("svg",{class:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:(0,r.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})]})]}),(0,r.jsx)(vU,{handleCreateAssignment:S}),(0,r.jsx)("div",{className:"md:col-span-1",children:(0,r.jsxs)("div",{className:"p-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold dark:text-white",children:"Learning Materials"}),"Student"!==(null===d||void 0===d?void 0:d.roleName)&&(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("button",{onClick:C,className:"p-2 text-white bg-blue-500 rounded-md hover:bg-blue-700",children:"Upload"})})]}),(0,r.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700 mt-4",children:(null===u||void 0===u||null===(t=u.learningMaterials)||void 0===t?void 0:t.length)>0?null===u||void 0===u||null===(n=u.learningMaterials)||void 0===n?void 0:n.map(((e,t)=>(0,r.jsxs)("li",{className:"py-3 sm:py-4 flex justify-between items-center",children:[(0,r.jsx)("button",{onClick:async()=>{const t=await cC("learningMaterials/".concat(u.id,"/").concat(e));t?window.open(t,"_blank"):i("danger","Error: Unable to open file")},target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-blue-600 hover:underline",children:e}),"Student"!==(null===d||void 0===d?void 0:d.roleName)&&(0,r.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to delete ".concat(e,"?"))&&(async e=>{f(e),i("success","Material deleted")})(e)},className:"text-red-500 hover:text-red-700",children:(0,r.jsx)(mD,{icon:wD})})]},t))):(0,r.jsx)("tbody",{class:"divide-y items-center flex justify-center divide-gray-200 dark:divide-gray-700",children:(0,r.jsx)("tr",{children:(0,r.jsxs)("td",{class:"w-full text-center mx-auto py-12",colspan:"5",children:[(0,r.jsx)("img",{class:"w-32 h-32 mx-auto",src:"https://res.cloudinary.com/daqsjyrgg/image/upload/v1690261234/di7tvpnzsesyo7vvsrq4.svg",alt:"image empty states"}),(0,r.jsx)("p",{class:"text-gray-700 dark:text-white font-medium text-lg text-center",children:"No learning materials."}),(0,r.jsx)("p",{class:"text-gray-500 dark:text-gray-400 text-center",children:"You can upload new learning materials for students to see."})]})})})})]})})]})})]})}const mU={dropdown:{arrowIcon:"ml-2 h-4 w-4",content:"py-1 focus:outline-none",floating:{animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-800 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"z-10 w-fit rounded divide-y divide-gray-100 shadow focus:outline-none",content:"py-1 text-sm text-gray-900 dark:text-white",divider:"my-1 h-px bg-gray-100 dark:bg-gray-700",header:"block py-2 px-4 text-sm text-gray-900 dark:text-white",hidden:"invisible opacity-0",item:{container:"",base:"flex items-center justify-start py-2 px-4 text-sm text-gray-900 cursor-pointer w-full hover:bg-gray-50 focus:bg-gray-50 dark:text-white dark:hover:bg-gray-600 focus:outline-none dark:hover:text-white dark:focus:bg-gray-600 dark:focus:text-white",icon:"mr-2 h-4 w-4"},style:{dark:"bg-gray-800 text-white dark:bg-gray-700",light:"bg-white text-gray-900",auto:"bg-white text-gray-900 dark:bg-gray-700 dark:text-white"},target:"w-fit"},inlineWrapper:"flex items-center"}},vU=t=>{let{handleCreateAssignment:n}=t;const i=xC(),[a,s]=(0,e.useState)([]),{course:o}=WB(),{assignments:l}=LC();return(0,e.useEffect)((()=>{o&&s(null===l||void 0===l?void 0:l.filter((e=>{var t;return null===o||void 0===o||null===(t=o.assessments)||void 0===t?void 0:t.includes(e.id)})))}),[o,l]),(0,r.jsx)("section",{class:"bg-gray-50 w-full dark:bg-gray-900 my-10",children:(0,r.jsx)("div",{class:"w-full",children:(0,r.jsxs)("div",{class:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden",children:[(0,r.jsx)("h3",{className:"p-4 text-xl font-semibold whitespace-nowrap dark:text-white",children:"Assignments"}),(0,r.jsxs)("div",{class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4",children:[(0,r.jsx)("div",{class:"w-full md:w-1/2",children:(0,r.jsxs)("form",{class:"flex items-center",children:[(0,r.jsx)("label",{for:"simple-search",class:"sr-only",children:"Search"}),(0,r.jsxs)("div",{class:"relative w-full",children:[(0,r.jsx)("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,r.jsx)("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})})}),(0,r.jsx)("input",{type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search",required:""})]})]})}),(0,r.jsxs)("div",{class:"w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0",children:["Student"!==(null===i||void 0===i?void 0:i.roleName)?(0,r.jsxs)("button",{onClick:()=>{n()},type:"button",class:"flex items-center justify-center text-white bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",children:[(0,r.jsx)("svg",{class:"h-3.5 w-3.5 mr-2",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,r.jsx)("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})}),"Add assignment"]}):(0,r.jsx)("div",{}),(0,r.jsxs)("div",{class:"flex items-center space-x-3 w-full md:w-auto",children:[(0,r.jsxs)("div",{id:"actionsDropdown",class:"hidden z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600",children:[(0,r.jsx)("ul",{class:"py-1 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"actionsDropdownButton",children:(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#",class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:"Mass Edit"})})}),(0,r.jsx)("div",{class:"py-1",children:(0,r.jsx)("a",{href:"#",class:"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white",children:"Delete all"})})]}),(0,r.jsxs)("button",{id:"filterDropdownButton","data-dropdown-toggle":"filterDropdown",class:"w-full md:w-auto flex items-center justify-center py-2 px-4 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",type:"button",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",class:"h-4 w-4 mr-2 text-gray-400",viewbox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})}),"Filter",(0,r.jsx)("svg",{class:"-mr-1 ml-1.5 w-5 h-5",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,r.jsx)("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]})]})]})]}),(0,r.jsx)("div",{class:"overflow-x-auto",children:(0,r.jsxs)("table",{class:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",class:"px-4 py-3",children:"Assignment name"}),(0,r.jsx)("th",{scope:"col",class:"px-4 py-3",children:"Due"}),(0,r.jsx)("th",{scope:"col",class:"px-4 py-3",children:"Teacher"===(null===i||void 0===i?void 0:i.roleName)?"Submissions":"Status"}),(0,r.jsx)("th",{scope:"col",class:"px-4 py-3",children:(0,r.jsx)("span",{class:"sr-only",children:"Actions"})})]})}),a.length>0?(0,r.jsx)("tbody",{children:a.map((e=>(0,r.jsx)(bU,{assignment:e})))}):(0,r.jsx)("tbody",{class:"divide-y items-center justify-center divide-gray-200 dark:divide-gray-700",children:(0,r.jsx)("tr",{children:(0,r.jsxs)("td",{class:"w-full text-center mx-auto py-12",colspan:"5",children:[(0,r.jsx)("img",{class:"w-32 h-32 mx-auto",src:"https://res.cloudinary.com/daqsjyrgg/image/upload/v1690261234/di7tvpnzsesyo7vvsrq4.svg",alt:"image empty states"}),(0,r.jsx)("p",{class:"text-gray-700 dark:text-white font-medium text-lg text-center",children:"No assignments to display."}),(0,r.jsx)("p",{class:"text-gray-500 dark:text-gray-400 text-center",children:"You can create new assignments for this course?."}),"Student"!==(null===i||void 0===i?void 0:i.roleName)&&(0,r.jsxs)("button",{onClick:n,class:"flex items-center px-4 py-1.5 border border-gray-400 mt-4 hover:text-white text-gray-600 dark:text-gray-300 rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-700 mx-auto",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6  mr-2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Create New Assignment"]})]})})})]})}),(0,r.jsx)("nav",{class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation",children:(0,r.jsxs)("span",{class:"text-sm font-normal text-gray-500 dark:text-gray-400",children:["Showing",(0,r.jsxs)("span",{class:"font-semibold text-gray-900 dark:text-white",children:[" ",a.length," "]}),"of",(0,r.jsxs)("span",{class:"font-semibold text-gray-900 dark:text-white",children:[" ",a.length]})]})})]})})})},bU=t=>{var n;let{assignment:i}=t;const s=ie(),{showNotification:o}=a(),{deleteAssignment:l}=WB(),{setTemplates:c,grades:d}=LC(),u=xC(),h=async()=>{const e=await(async(e,t)=>{const n=Sv(rC,$S),r={...e,userId:t,assignmentId:e.id};delete r.id;const i=await Nb(n,r),a=Cv(rC,VS,t);return await Eb(a,{templates:Fb(i.id)}),i.id})(i,null===u||void 0===u?void 0:u.id);c((t=>[...t,{...i,id:e}])),o("success","Assignment saved as template")},[f,p]=(0,e.useState)(0),{showPopUp:g}=(0,PC.G)(),m=()=>g(null);(0,e.useEffect)((()=>{if(d){const e=Object.values(d).reduce(((e,t)=>{if((null===t||void 0===t?void 0:t.length)>0){const n=t.reduce(((e,t)=>e+=t.assessmentID===i.id?1:0),0);return e+n}return e}),0);p(e)}}),[d]);const v=()=>{g((0,r.jsx)(kD,{onClose:m,navigate:s,assessment:i}))},b=null===(n=i.dueDate)||void 0===n?void 0:n.toDate(),y=(null===b||void 0===b?void 0:b.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))+" "+(null===b||void 0===b?void 0:b.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}));return(0,r.jsxs)("tr",{class:"border-b dark:border-gray-700",children:[(0,r.jsx)("th",{scope:"row",class:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:i.assignmentName}),(0,r.jsx)("td",{class:"px-4 py-3",children:null!==y&&void 0!==y?y:"Due unkown"}),(0,r.jsx)("td",{class:"px-4 py-3",children:"Student"!==(null===u||void 0===u?void 0:u.roleName)?f:f>0?(0,r.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300",children:"Submitted"}):(0,r.jsx)("span",{className:"bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300",children:"Not submitted"})}),(0,r.jsx)("td",{class:"px-4 py-3 flex items-center justify-end",children:(0,r.jsx)(YI,{theme:mU,children:(0,r.jsx)(zI,{label:"Actions",inline:!0,children:"Student"!==(null===u||void 0===u?void 0:u.roleName)?(0,r.jsxs)("div",{children:[(0,r.jsx)(jI,{onClick:()=>{s("/main/assessmentDetails/".concat(i.id))},children:"View submissions"}),(0,r.jsx)(jI,{onClick:()=>h(),children:"Save as template"}),(0,r.jsx)(jI,{onClick:()=>v(),children:"Start assignment"}),(0,r.jsx)(jI,{onClick:()=>{window.confirm('Are you sure you want to delete "'.concat(i.assignmentName,'" ?'))&&l(i.id)},children:"Delete"})]}):(0,r.jsx)("div",{children:0===f?(0,r.jsx)(jI,{onClick:v,children:"Start assignment"}):(0,r.jsx)(jI,{onClick:()=>{console.log(d[null===u||void 0===u?void 0:u.id].find((e=>e.assessmentID===i.id))),s("/main/gradingdetails/"+d[null===u||void 0===u?void 0:u.id].find((e=>e.assessmentID===i.id)).id)},children:"View submission"})})})})})]})},yU=t=>{var n;let{course:i,addScenarios:s,removeScenarios:o}=t;const{school:l}=LC(),[c,d]=(0,e.useState)([]),[u,h]=(0,e.useState)([]),{showNotification:f}=a(),{showPopUp:p}=(0,PC.G)();(0,e.useEffect)((()=>{}),[l]),(0,e.useEffect)((()=>{var e,t;i&&(d(null!==(e=null===i||void 0===i?void 0:i.availableScenarios)&&void 0!==e?e:[]),h(null!==(t=null===i||void 0===i?void 0:i.availableScenarios)&&void 0!==t?t:[]))}),[i]);return(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center",children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen relative p-4 w-full max-w-2xl h-full md:h-auto",children:(0,r.jsxs)("div",{className:"relative p-4 w-full max-w-2xl h-full md:h-auto bg-white rounded-lg shadow dark:bg-gray-800",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center pb-4 mb-4 border-b dark:border-gray-600",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Available Open Lab"}),(0,r.jsxs)("button",{onClick:()=>{p(null)},type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto justify content-end dark:hover:bg-gray-600 dark:hover:text-white",children:[(0,r.jsx)("span",{className:"sr-only",children:"Close modal"}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),(0,r.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[null===l||void 0===l||null===(n=l.availableScenarios)||void 0===n?void 0:n.map((e=>(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("input",{id:"checkbox-".concat(e),type:"checkbox",checked:u.find((t=>e===t)),onChange:()=>(e=>{h((t=>u.find((t=>t===e))?t.filter((t=>t!==e)):[...t,e]))})(e),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,r.jsx)("label",{htmlFor:"checkbox-".concat(e),className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:e})]},e))),(0,r.jsx)("button",{onClick:async()=>{f("success","Open lab updated successfully!"),p(null);const e=u.filter((e=>!c.some((t=>t===e))));console.log(e.length+" new scenarios."),e.length>0&&(await s(e),console.log("added: "+e));const t=c.filter((e=>!u.some((t=>t===e))));console.log(t.length+" removed scenarios."),t.length>0&&(await o(t),console.log("removed: "+t))},className:"mt-4 p-2 text-white bg-blue-500 rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})})})},xU=t=>{let{handleCreateAssignment:n,handleUploadDocument:i}=t;const{showPopUp:s}=(0,PC.G)(),{showNotification:o}=a(),{course:l,addModule:c,deleteModule:d,modules:u,addModuleItem:h,removeModuleItem:f,modulesLoading:p}=WB(),[g,m]=(0,e.useState)([]),{assignments:v}=LC(),b=xC();(0,e.useEffect)((()=>{l&&m(null===v||void 0===v?void 0:v.filter((e=>{var t;return null===l||void 0===l||null===(t=l.assessments)||void 0===t?void 0:t.includes(e.id)})))}),[l,v]);const y=e=>{var t;return"assignment"===e.type?null===(t=v.find((t=>t.id===e.item)))||void 0===t?void 0:t.assignmentName:"document"===e.type?e.item:void 0},x=e=>{switch(e.type){case"assignment":return(0,r.jsx)(GC.c$c,{});case"document":return(0,r.jsx)(GC.gpD,{})}},w=async(e,t)=>{await h(e,t)?o("success","Added ".concat(e.type," to module")):o("danger","".concat(e.type.charAt(0).toUpperCase()+e.type.slice(1)," is already in module!"))};return(0,r.jsxs)("div",{className:"p-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,r.jsx)("h3",{className:"text-xl font-semibold whitespace-nowrap dark:text-white",children:"Modules"})}),p&&(0,r.jsx)("div",{class:"text-center m-10",children:(0,r.jsxs)("div",{role:"status",children:[(0,r.jsxs)("svg",{"aria-hidden":"true",class:"inline w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),(0,r.jsx)("span",{class:"sr-only",children:"Loading..."})]})}),!p&&(0,r.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:(null===u||void 0===u?void 0:u.length)>0?(0,r.jsxs)("div",{children:[" ",null===u||void 0===u?void 0:u.map(((e,t)=>{var a;return(0,r.jsx)(VA,{className:"my-5",collapseAll:!0,children:(0,r.jsxs)(VA.Panel,{children:[(0,r.jsxs)(VA.Title,{children:[e.title,": ",e.subtitle]}),(0,r.jsxs)(VA.Content,{children:[(0,r.jsx)(tF,{children:(0,r.jsx)(tF.Body,{className:"divide-y",children:null===(a=e.content)||void 0===a?void 0:a.map((t=>(0,r.jsx)(tF.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:(0,r.jsxs)(tF.Cell,{className:"whitespace-nowrap flex items-center justify-between font-medium text-gray-900 dark:text-white",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"mx-3",children:x(t)}),(0,r.jsxs)("p",{children:[e.title,": ",y(t)]})]}),(0,r.jsx)(zI,{label:"Actions",inline:!0,children:"Student"!==(null===b||void 0===b?void 0:b.roleName)&&(0,r.jsx)(jI,{onClick:async()=>{window.confirm("Are you sure you want to remove ".concat(t.type," ").concat(y(t)," from ").concat(e.title,": ").concat(e.subtitle,"?"))&&(await f(t,e.id),o("success","Removed ".concat(t.type," from module")))},children:"Remove from module"})})]})})))})}),"Student"!==(null===b||void 0===b?void 0:b.roleName)&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("button",{onClick:()=>s((0,r.jsx)(hU,{course:{...l,assessments:g},module:e,addItem:t=>w(t,e.id),handleCreateAssignment:n})),type:"submit",class:"m-3 inline-flex items-center py-2 px-3 text-sm font-medium text-center text-white bg-blue-500 rounded-lg hover:bg-blue-600 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-900",children:[(0,r.jsx)(GC.c$c,{className:"mr-1"}),"Add Assignment"]}),(0,r.jsxs)("button",{onClick:()=>s((0,r.jsx)(fU,{course:l,module:e,addItem:t=>w(t,e.id),handleUploadDocument:i})),type:"submit",class:"m-3 inline-flex items-center py-2 px-3 text-sm font-medium text-center text-white bg-blue-500 rounded-lg hover:bg-blue-600 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-900",children:[(0,r.jsx)(GC.gpD,{className:"mr-1"}),"Add Document"]}),(0,r.jsxs)("button",{onClick:()=>{window.confirm("Are you sure you want to delete ".concat(e.title,": ").concat(e.subtitle,"?"))&&d(e.id)},type:"submit",class:"m-3 inline-flex items-center py-2 px-3 text-sm font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-500 dark:hover:bg-red-600 dark:focus:ring-red-900",children:[(0,r.jsx)("svg",{"aria-hidden":"true",class:"w-4 h-4 mr-1.5 -ml-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})}),"Delete Module"]})]})]})]})})})),"Student"!==(null===b||void 0===b?void 0:b.roleName)&&(0,r.jsxs)("button",{onClick:()=>{s((0,r.jsx)(uU,{onCreate:(e,t)=>c(e,t,null===l||void 0===l?void 0:l.id)}))},class:"flex items-center px-4 py-1.5 border border-gray-400 mt-4 hover:text-white text-gray-600 dark:text-gray-300 rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-700 mx-auto",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6  mr-2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Add New Module"]})]}):(0,r.jsx)("tbody",{class:"divide-y items-center flex justify-center divide-gray-200 dark:divide-gray-700",children:(0,r.jsx)("tr",{children:(0,r.jsxs)("td",{class:"w-full text-center mx-auto py-12",colspan:"5",children:[(0,r.jsx)("img",{class:"w-32 h-32 mx-auto",src:"https://res.cloudinary.com/daqsjyrgg/image/upload/v1690261234/di7tvpnzsesyo7vvsrq4.svg",alt:"image empty states"}),(0,r.jsx)("p",{class:"text-gray-700 dark:text-white font-medium text-lg text-center",children:"No modules to display."}),(0,r.jsx)("p",{class:"text-gray-500 dark:text-gray-400 text-center",children:"You can add new modules to the course."}),(0,r.jsxs)("button",{onClick:()=>{s((0,r.jsx)(uU,{onCreate:(e,t)=>c(e,t,null===l||void 0===l?void 0:l.id)}))},class:"flex items-center px-4 py-1.5 border border-gray-400 mt-4 hover:text-white text-gray-600 dark:text-gray-300 rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-700 mx-auto",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6  mr-2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Add New Module"]})]})})})})]})};function wU(){const{tokenId:e}=se();return(0,r.jsxs)("div",{children:["TokenDetails",e]})}function kU(){const{assessment:t}=cz(),{courses:n,getUserListData:i,grades:a}=LC(),[s,o]=(0,e.useState)([]),l=ie();(0,e.useEffect)((()=>{if(t){const e=n.find((e=>e.id===t.classroomId));if(e&&e.attendees){const t=i(e.attendees);o(t)}}}),[t]);const c=e=>null!=u(e),d=e=>{const t=u(e);if(t)return(e=>{const t=["Communication","Accuracy","Safety"],n=t.reduce(((t,n)=>{const r=e[n];if(r){let e=0,n=0;Object.entries(r).forEach((t=>{let[r,i]=t;const[a,s]=i.split("/").map(Number);e+=s,n+=a})),t+=n/e*100}else t+=0;return t}),0);return(n/t.length).toFixed(2)})(t)},u=e=>{const n=a[e];if(n.length>0){const e=n.find((e=>e.assessmentID===t.id));return e||null}};return(0,r.jsx)("section",{className:"bg-gray-50 dark:bg-gray-900 py-3 sm:py-5",children:(0,r.jsxs)("div",{className:"px-8 pt-6",children:[(0,r.jsx)("h3",{className:"mb-4 self-center text-2xl font-bold whitespace-nowrap dark:text-white",children:(null===t||void 0===t?void 0:t.assignmentName)||"Assignment Name"}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-md sm:rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 mx-4 pb-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4 pt-3",children:[(0,r.jsx)("div",{className:"flex-1 flex items-center space-x-3",children:(0,r.jsx)("h5",{className:"dark:text-white font-semibold",children:"Submissions"})}),(0,r.jsx)("div",{className:"w-full lg:w-1/3 flex flex-col space-y-3 md:space-y-0 md:flex-row md:items-center",children:(0,r.jsx)("form",{className:"w-full md:max-w-sm flex-1 md:mr-4",onSubmit:e=>e.preventDefault(),children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3"}),(0,r.jsx)("input",{type:"search",id:"default-search",className:"block w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Search Users...",onChange:()=>{}})]})})})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"p-4 text-left",children:"Student"}),(0,r.jsx)("th",{scope:"col",className:"p-4 text-left",children:"Submitted"}),(0,r.jsx)("th",{scope:"col",className:"p-4 text-left",children:"Result"}),(0,r.jsx)("th",{scope:"col",className:"px-4 py-3 text-right",children:(0,r.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,r.jsx)("tbody",{children:s.map((e=>(0,r.jsxs)("tr",{className:"border-b dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap align-middle",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)(DD,{userToShow:e})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"".concat(e.firstName," ").concat(e.lastName)}),(0,r.jsx)("div",{className:"text-gray-500",children:e.email})]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap align-middle",children:(0,r.jsx)("div",{className:"flex items-center",children:c(e.id)?(0,r.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300",children:"Submitted"}):(0,r.jsx)("span",{className:"bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300",children:"Not submitted"})})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap align-middle",children:(0,r.jsx)("div",{className:"flex items-center",children:c(e.id)?"".concat(d(e.id),"%"):"N/A"})}),(0,r.jsx)("td",{className:"px-4 py-3 text-right",children:(0,r.jsx)(zI,{label:"Actions",inline:!0,children:c(e.id)?(0,r.jsx)(jI,{onClick:()=>{l("/main/gradingDetails/".concat(u(e.id).id))},children:"View report"}):(0,r.jsx)("div",{})})})]},e.id)))})]})})]})]})})}function _U(){const[t,n]=(0,e.useState)(""),{showNotification:i}=a(),s=ie();return(0,r.jsx)("section",{className:"bg-gray-50 dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:[(0,r.jsx)("a",{href:"#",className:"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white",children:(0,r.jsx)("img",{className:"w-46 h-36",src:Te,alt:"logo"})}),(0,r.jsxs)("div",{className:"w-full p-6 bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md dark:bg-gray-800 dark:border-gray-700 sm:p-8",children:[(0,r.jsx)("h1",{className:"mb-1 text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Forgot your password?"}),(0,r.jsx)("p",{className:"font-light text-gray-500 dark:text-gray-400",children:"Don't fret! Just type in your email and we will send you a code to reset your password!"}),(0,r.jsxs)("form",{className:"mt-4 space-y-4 lg:mt-5 md:space-y-5",onSubmit:async e=>{e.preventDefault();try{await async function(e,t,n){const r=Or(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Si(r,i,n),await Vr(r,i,"getOobCode",Zr)}(nC,t),i("success","Email was sent!")}catch(Zb){i("danger",Zb.message)}},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),(0,r.jsx)("input",{type:"email",name:"email",id:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:"",value:t,onChange:e=>n(e.target.value)})]}),(0,r.jsx)("button",{type:"submit",className:"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Reset password"})]}),(0,r.jsxs)("div",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Remember the Password again?",(0,r.jsx)("a",{href:"#",onClick:()=>s("/signin"),className:"font-medium text-blue-600 hover:underline dark:text-blue-500",children:"Click here!"})]})]})]})})}const SU=t=>{var n;let{scenario:i}=t;const[a,s]=(0,e.useState)("");return(0,e.useEffect)((()=>{(async()=>{if(i&&i.scenarioPicture){const e=await cC(i.scenarioPicture);if(e)s(e);else{const e=i.scenarioPicture;if(e){const t=URL.createObjectURL(e);s(t)}}}})()}),[i,null===i||void 0===i?void 0:i.scenarioPicture]),(0,r.jsxs)("article",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700",children:[(0,r.jsx)("a",{children:(0,r.jsx)("img",{class:"mb-5 rounded-lg",src:a,alt:"Courseta HQ"})}),(0,r.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-900",children:"Library"}),(0,r.jsx)("h2",{className:"my-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:null!==(n=null===i||void 0===i?void 0:i.name)&&void 0!==n?n:"Untitled Scenario"}),(0,r.jsxs)("div",{class:"flex justify-between items-center space-x-4",children:[(0,r.jsx)("div",{className:"flex justify-between items-center space-x-4",children:(0,r.jsx)("div",{class:"flex",children:(0,r.jsx)("div",{class:"px-4 font-medium dark:text-white",children:(0,r.jsx)("div",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:"Made By Courseta"})})})}),(0,r.jsx)("p",{className:"mb-4 font-light text-gray-500 dark:text-gray-400",children:null===i||void 0===i?void 0:i.description})]})]})},CU=t=>{var n;let{template:i}=t;const a=xC(),s=ie(),{showPopUp:o}=(0,PC.G)(),{deleteTemplate:l}=LC(),c=(e,t,n)=>{s("/main/scenarioDetails/".concat(e),{state:{classroomId:t,assignmentName:n}})},d=i.creationDate.toDate(),[u,h]=(d.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),d.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),(0,e.useState)(""));return(0,e.useEffect)((()=>{(async()=>{if(i&&i.scenarioPicture){const e=await cC(i.scenarioPicture);if(e)h(e);else{const e=i.scenarioPicture;if(e){const t=URL.createObjectURL(e);h(t)}}}})()}),[i,null===i||void 0===i?void 0:i.scenarioPicture]),(0,r.jsxs)("article",{class:"p-4 bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700",children:[(0,r.jsx)("a",{children:(0,r.jsx)("img",{class:"mb-5 rounded-lg",src:u,alt:"Courseta HQ"})}),(0,r.jsx)("span",{class:"bg-purple-100 text-purple-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-purple-200 dark:text-purple-900",children:"Template"}),(0,r.jsx)("h2",{class:"my-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:(0,r.jsx)("a",{children:null!==(n=i.assignmentName)&&void 0!==n?n:"Untitled template"})}),(0,r.jsx)("p",{class:"mb-4 font-light text-gray-500 dark:text-gray-400",children:i.assessmentId}),(0,r.jsxs)("div",{class:"flex justify-between items-center space-x-4",children:[(0,r.jsxs)("div",{class:"flex",children:[(0,r.jsx)(DD,{}),(0,r.jsx)("div",{class:"px-4 font-medium dark:text-white",children:(0,r.jsxs)("div",{children:[a.firstName," ",a.lastName]})})]}),(0,r.jsxs)(zI,{label:"Actions",inline:!0,children:[(0,r.jsx)(jI,{onClick:()=>{o((0,r.jsx)(dU,{classroomId:i.classroomId,onNavigateAfterCreate:c,onClose:()=>o(null)}))},children:"Create assignment"}),(0,r.jsx)(jI,{onClick:()=>{window.confirm('Are you sure you want to delete "'.concat(i.assignmentName,'" ?'))&&l(i.id)},children:"Delete"})]})]})]})},AU=()=>{const{templates:t,school:n,scenarios:i}=LC(),[a,s]=(0,e.useState)("library");(0,e.useEffect)((()=>{}),[t]),(0,e.useEffect)((()=>{}),[i]);const o=ie();return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"block items-center justify-between border-b border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800 sm:flex",children:(0,r.jsxs)("div",{className:"mb-1 w-full",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(oP,{className:"mb-4",children:[(0,r.jsx)(oP.Item,{href:"#",onClick:e=>{e.preventDefault(),o("/main/dashboard")},children:(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,r.jsx)(GC.rTq,{className:"text-xl"}),(0,r.jsx)("span",{className:"dark:text-white",children:"Home"})]})}),(0,r.jsx)(oP.Item,{children:"Library"})]}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white sm:text-2xl",children:"Library"})]}),(0,r.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,r.jsx)(nP,{color:"light",onClick:()=>s("library"),children:"Available Scenarios"}),(0,r.jsx)(nP,{color:"light",onClick:()=>s("templates"),children:"Templates"})]})]})}),(0,r.jsx)("br",{}),"library"===a&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden mb-10",children:[(0,r.jsxs)("header",{className:"px-5 py-4 bg-gradient-to-r from-blue-500 to-blue-600",children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-white",children:"Available Scenarios"}),(0,r.jsx)("p",{className:"text-md text-indigo-300",children:"Here are the scenarios available for your school"})]}),(0,r.jsx)("div",{className:"p-5",children:i.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((e=>(0,r.jsx)(SU,{scenario:e},e.id)))}):(0,r.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,r.jsx)("p",{className:"text-gray-700 dark:text-white text-lg font-medium text-center",children:"The Library is Empty, contact us to get more Scenarios."})})})]}),"templates"===a&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[(0,r.jsxs)("header",{className:"px-5 py-4 bg-gradient-to-r from-indigo-600 to-indigo-800",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white",children:"Templates"}),(0,r.jsx)("p",{className:"text-md text-indigo-300",children:"Here are the templates made by you"})]}),(0,r.jsx)("div",{className:"p-5",children:t.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((e=>(0,r.jsx)(CU,{template:e},e.id)))}):(0,r.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,r.jsx)("p",{className:"text-gray-700 dark:text-white text-lg font-medium text-center",children:"Your library is currently empty."})})})]})]})},PU=()=>(0,r.jsx)(Ae,{children:(0,r.jsxs)(_e,{children:[(0,r.jsx)(we,{path:"/",element:(0,r.jsx)(ye,{replace:!0,to:"/signin"})}),(0,r.jsx)(we,{path:"/signin",element:(0,r.jsx)(kC,{})}),(0,r.jsx)(we,{path:"/forgotpassword",element:(0,r.jsx)(_U,{})}),(0,r.jsx)(we,{path:"/register",element:(0,r.jsx)(CD,{})}),(0,r.jsxs)(we,{path:"/main",element:(0,r.jsx)(zB,{}),children:[(0,r.jsx)(we,{index:!0,element:(0,r.jsx)(ye,{replace:!0,to:"dashboard"})}),(0,r.jsx)(we,{path:"dashboard",element:(0,r.jsx)(_F,{})}),(0,r.jsx)(we,{path:"profile",element:(0,r.jsx)(AC,{})}),(0,r.jsx)(we,{path:"simulationDetails/:assessmentId",element:(0,r.jsx)(lz,{children:(0,r.jsx)(mz,{})})}),(0,r.jsx)(we,{path:"assessmentDetails/:assessmentId",element:(0,r.jsx)(lz,{children:(0,r.jsx)(kU,{})})}),(0,r.jsx)(we,{path:"assesmentsoverview",element:(0,r.jsx)(SD,{})}),(0,r.jsx)(we,{path:"libraryoverview",element:(0,r.jsx)(AU,{})}),(0,r.jsx)(we,{path:"gradesoverview",element:(0,r.jsx)(ED,{})}),(0,r.jsx)(we,{path:"gradingdetails/:gradeId",element:(0,r.jsx)(RD,{children:(0,r.jsx)(zD,{})})}),(0,r.jsx)(we,{path:"classroomoverview",element:(0,r.jsx)(iU,{})}),(0,r.jsx)(we,{path:"classroomDetails/:classroomId",element:(0,r.jsx)(HB,{children:(0,r.jsx)(gU,{})})}),(0,r.jsxs)(we,{element:(0,r.jsx)(SC,{roles:["Admin"]}),children:[(0,r.jsx)(we,{path:"tokensoverview",element:(0,r.jsx)(DF,{})}),(0,r.jsx)(we,{path:"tokendetails/:tokenId",element:(0,r.jsx)(wU,{})})]}),(0,r.jsx)(we,{element:(0,r.jsx)(SC,{roles:["Admin","Teacher"]}),children:(0,r.jsx)(we,{path:"users",element:(0,r.jsx)(kF,{})})}),(0,r.jsxs)(we,{element:(0,r.jsx)(SC,{roles:["Admin","Teacher"]}),children:[(0,r.jsx)(we,{path:"scenariosoverview",element:(0,r.jsx)(zF,{})}),(0,r.jsx)(we,{path:"scenarioDetails/:scenarioId",element:(0,r.jsx)(XB,{children:(0,r.jsx)(qB,{})})})]}),(0,r.jsxs)(we,{element:(0,r.jsx)(SC,{roles:["Admin"]}),children:[(0,r.jsx)(we,{path:"questionnairesoverview",element:(0,r.jsx)(BF,{})}),(0,r.jsx)(we,{path:"questionaires-creator/:id",element:(0,r.jsx)(BB,{})})]}),(0,r.jsx)(we,{element:(0,r.jsx)(SC,{roles:["Admin"]}),children:(0,r.jsx)(we,{path:"createassignment",element:(0,r.jsx)(dU,{})})}),(0,r.jsx)(we,{element:(0,r.jsx)(SC,{roles:["Admin"]}),children:(0,r.jsx)(we,{path:"schoolsoverview",element:(0,r.jsx)(jF,{})})}),(0,r.jsx)(we,{element:(0,r.jsx)(SC,{roles:["Admin"]}),children:(0,r.jsx)(we,{path:"schoolDetails/:schoolId",element:(0,r.jsx)(PD,{})})})]}),(0,r.jsx)(we,{path:"*",element:(0,r.jsx)(_C,{})})]})}),EU=()=>{const{isPopUpVisible:e,hidePopUp:t,popUpContent:n}=(0,PC.G)();return e&&n?(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-20",id:"my-modal",onClick:t,children:(0,r.jsxs)("div",{className:"relative mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",onClick:e=>e.stopPropagation(),children:[n,(0,r.jsx)("button",{className:"mt-3 z-20 bg-red-500 text-white active:bg-red-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1",type:"button",style:{transition:"all .9s ease"},onClick:t,children:"Close"})]})}):null};const TU=function(){return(0,r.jsx)(s,{children:(0,r.jsx)(bz,{children:(0,r.jsx)(wC,{children:(0,r.jsxs)(DC,{children:[(0,r.jsx)(l,{}),(0,r.jsxs)(PC._,{children:[(0,r.jsx)(PU,{}),(0,r.jsx)(EU,{})]})]})})})})},NU=e=>{e&&e instanceof Function&&__webpack_require__.e(453).then(__webpack_require__.bind(__webpack_require__,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)}))};n.createRoot(document.getElementById("root")).render((0,r.jsx)(e.StrictMode,{children:(0,r.jsx)(oC,{children:(0,r.jsx)(TU,{})})})),NU()})()})();
//# sourceMappingURL=main.250ae6f9.js.map